import{E as uh,_ as dh}from"./pagination-JlVISjBV.js";import{af as n,bt as fh,bu as Ul,b as ph,c as gh,_ as qp,Y as mh}from"./index-pAeQZ1-G.js";import{a5 as o,a4 as ln,p as j,n as jt,J as An,X as zn,d as tu,a6 as hh,r as st,C as Dt,y as Ln,e as jn,z as ke,O as rs,i as Uo,Z as ol,a1 as Up,aL as md,aF as Ja,g as vh,W as Jl,o as rl,M as Kp,aU as Ru,l as bh,aB as xh,R as ff,c as Tr,a as Mr,L as ua,a0 as yh,w as Fl,k as Ls,T as Ch,ar as wh,t as Eh,as as Sh,Q as Dh}from"./core-DgTHnQpx.js";import{r as Th}from"./index-DCjaOx1S.js";import{a0 as Mh}from"./mock-h91I9qF-.js";import{E as Oh}from"./index-Fxq-ji8x.js";import{E as Ih}from"./index-DjgP1kfQ.js";import{E as Rh}from"./index-C673HT9H.js";import{E as kh,a as Ph}from"./index-yTwIwyY4.js";import{E as Fh}from"./index-BqQg0EVn.js";const Vh="4.2.12",Da={coreVersion:Vh,uiVersion:"",tableVersion:"",designVersion:"",ganttVersion:""};var or=null,ku=null,Bs=null,pf="z-index-manage",da=null,gf="z-index-style",Xp="m",Zp="s",li={m:1e3,s:1e3};function hd(){return or||typeof document<"u"&&(or=document),or}function Jp(){return or&&!ku&&(ku=or.body||or.getElementsByTagName("body")[0]),ku}function Ah(){var e=0,t=hd();if(t){var l=Jp();if(l)for(var a=l.getElementsByTagName("*"),u=0;u<a.length;u++){var r=a[u];if(r&&r.style&&r.nodeType===1){var d=r.style.zIndex;d&&/^\d+$/.test(d)&&(e=Math.max(e,Number(d)))}}}return e}function $h(){if(!da){var e=hd();e&&(da=e.getElementById(gf),da||(da=e.createElement("style"),da.id=gf,e.getElementsByTagName("head")[0].appendChild(da)))}return da}function Qp(){var e=$h();if(e){var t="--dom-",l="-z-index";e.innerHTML=":root{"+t+"main"+l+":"+nu()+";"+t+"sub"+l+":"+xd()+"}"}}function eg(){if(!Bs){var e=hd();if(e&&(Bs=e.getElementById(pf),!Bs)){var t=Jp();t&&(Bs=e.createElement("div"),Bs.id=pf,Bs.style.display="none",t.appendChild(Bs),vd(li.m),bd(li.s))}}return Bs}function tg(e){return function(t){if(t){t=Number(t),li[e]=t;var l=eg();l&&(l.dataset?l.dataset[e]=t+"":l.setAttribute("data-"+e,t+""))}return Qp(),li[e]}}var vd=tg(Xp);function ng(e,t){return function(a){var u,r=eg();if(r){var d=r.dataset?r.dataset[e]:r.getAttribute("data-"+e);d&&(u=Number(d))}return u||(u=li[e]),a?Number(a)<u?t():a:u}}var nu=ng(Xp,og);function og(){return vd(nu()+1)}var bd=tg(Zp),lg=ng(Zp,sg);function xd(){return nu()+lg()}function sg(){return bd(lg()+1),xd()}var Ta={setCurrent:vd,getCurrent:nu,getNext:og,setSubCurrent:bd,getSubCurrent:xd,getSubNext:sg,getMax:Ah};Qp();const dr={size:"",version:1,zIndex:999,resizeInterval:500},ag={theme:""};function yd(e){const t=!e||e==="default"?"light":e;if(ag.theme=t,typeof document<"u"){const l=document.documentElement;l&&l.setAttribute("data-vxe-ui-theme",t)}return Da}function Nh(){return ag.theme}function ou(e){return e&&(e.zIndex&&Ta.setCurrent(e.zIndex),e.theme&&yd(e.theme),n.merge(dr,e)),Da}function U(e,t){return arguments.length?n.get(dr,e,t):dr}const Lh={},rd={};function rg(e){return n.isArray(e)?e:e?[e]:[]}function ig(e){return e&&Object.assign(rd,e),Da}function Yt(e){return arguments.length?n.get(rd,e):rd}function Bh(e){const t=Yt(e);return cg(t,e)}function cg(e,t){return n.isFunction(e)?o("span",{},rg(e({name:t}))):o("i",{class:e})}const Sn={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",Control:"Control",R:"R",P:"P",Z:"Z",X:"X",C:"C",V:"V",M:"M"},id=n.browse(),mf={" ":"Spacebar",Apps:Sn.CONTEXT_MENU,Del:Sn.DELETE,Up:Sn.ARROW_UP,Down:Sn.ARROW_DOWN,Left:Sn.ARROW_LEFT,Right:Sn.ARROW_RIGHT},ug=id.firefox?"DOMMouseScroll":"mousewheel",cd=[];function hs(e){const t=e.type===ug;cd.forEach(({type:l,cb:a})=>{e.cancelBubble||(l===e.type||t&&l==="mousewheel")&&a(e)})}class hf{constructor(t,l,a){Object.defineProperty(this,"$event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:""}),this.$event=t,t&&(t.type&&(this.type=t.type),t.key&&(this.key=t.key),t.code&&(this.code=t.code)),Object.assign(this,l),n.objectEach(a,(u,r)=>{if(n.isFunction(u)){let d=null,m=!1;Object.defineProperty(this,r,{get(){return m||(m=!0,d=u()),d}})}else this[r]=u})}stopPropagation(){const t=this.$event;t&&t.stopPropagation()}preventDefault(){const t=this.$event;t&&t.preventDefault()}}const bn=(e,t,l)=>(e instanceof hf&&(e=e.$event),new hf(e,t,l)),At={on(e,t,l){cd.push({comp:e,type:t,cb:l})},off(e,t){n.remove(cd,l=>l.comp===e&&l.type===t)},hasKey(e,t){const{key:l}=e;return t=t.toLowerCase(),l?t===l.toLowerCase()||!!(mf[l]&&mf[l].toLowerCase()===t):!1}};id.isDoc&&(id.msie||(window.addEventListener("copy",hs,!1),window.addEventListener("cut",hs,!1),window.addEventListener("paste",hs,!1)),document.addEventListener("keydown",hs,!1),document.addEventListener("contextmenu",hs,!1),window.addEventListener("mousedown",hs,!1),window.addEventListener("blur",hs,!1),window.addEventListener("resize",hs,!1),window.addEventListener(ug,n.throttle(hs,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));let vf;const ha=[],zh=500;function Hh(){ha.length&&(ha.forEach(e=>{e.tarList.forEach(t=>{const{target:l,width:a,heighe:u}=t,r=l.clientWidth,d=l.clientHeight;(r&&a!==r||d&&u!==d)&&(t.width=r,t.heighe=d,setTimeout(e.callback))})}),dg())}function dg(){clearTimeout(vf),vf=setTimeout(Hh,dr.resizeInterval||zh)}class _h{constructor(t){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=t}observe(t){if(t){const{tarList:l}=this;l.some(a=>a.target===t)||l.push({target:t,width:t.clientWidth,heighe:t.clientHeight}),ha.length||dg(),ha.some(a=>a===this)||ha.push(this)}}unobserve(t){n.remove(ha,l=>l.tarList.some(a=>a.target===t))}disconnect(){n.remove(ha,t=>t===this)}}const lu={create(e){return window.ResizeObserver?new window.ResizeObserver(e):new _h(e)}},fr=ln({language:"",langMaps:{}});let bf=!1,Vi={};function Wt(e,t){const{langMaps:l,language:a}=fr,{i18n:u}=dr;if(u)return`${u(e,t)||""}`;if(bf||(l[a]||console.error(`[vxe core] 语言包未安装。Language not installed. https://${Da.uiVersion?"vxeui.com":"vxetable.cn"}/#/start/i18n`),bf=!0),!t&&Vi[e])return Vi[e];const r=n.toFormatString(n.get(l[a],e,e),t);return t||(Vi[e]=r),r}function jh(e){const{language:t}=fr,l=e||"zh-CN";return t!==l&&(fr.language=l,Vi={}),Da}function Wh(e,t){return fr.langMaps[e]=Object.assign({},t),Da}function Gh(e){const{langMaps:t}=fr;return!!t[e]}function Yh(){const{language:e}=fr;return e}function Pu(e,t){return function(l,a){const u=`[vxe ${t||""}] ${Wt(l,a)}`;return console[e](u),u}}const xf="4.2.12",$l={create:Pu,warn:Pu("warn",`v${xf}`),err:Pu("error",`v${xf}`)},Or={},zo={mixin(e){return n.each(e,(t,l)=>zo.add(l,t)),zo},get(e){return Or[e]||null},add(e,t){if(e&&t){const l=Or[e];l?(n.each(t,(a,u)=>{!n.eqNull(l[u])&&l[u]!==a&&$l.warn("vxe.error.coverProp",[`Renderer.${e}`,u])}),Object.assign(l,t)):Or[e]=t}return zo},forEach(e){return n.objectEach(Or,e),zo},delete(e){return delete Or[e],zo}};class fg{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return n.each(t,(l,a)=>{this.add(a,l)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,l){const a=this.store[t],u=n.keys(a);return n.each(l,(r,d)=>{u.includes(d)&&$l.warn("vxe.error.coverProp",[t,d])}),this.store[t]=a?n.merge(a,l):l,this}delete(t){delete this.store[t]}forEach(t){n.objectEach(this.store,t)}}const Cd=new fg;Object.assign(Cd,{_name:"Validators"});class qh{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return n.each(t,(l,a)=>{this.add(a,l)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,l){const a=this.store[t];n.isFunction(l)&&($l.warn("vxe.error.delProp",["menus -> callback","menuMethod"]),l={menuMethod:l});const u=n.keys(a);return n.each(l,(r,d)=>{u.includes(d)&&$l.warn("vxe.error.coverProp",[t,d])}),this.store[t]=a?n.merge(a,l):l,this}delete(t){delete this.store[t]}forEach(t){n.objectEach(this.store,t)}}const pg=new qh;Object.assign(pg,{_name:"Menus"});class Uh{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return n.each(t,(l,a)=>{this.add(a,l)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,l){const a=this.store[t];n.isFunction(l)&&($l.warn("vxe.error.delProp",["formats -> callback","cellFormatMethod"]),l={cellFormatMethod:l});const u=n.keys(a);return n.each(l,(r,d)=>{u.includes(d)&&$l.warn("vxe.error.coverProp",[t,d])}),this.store[t]=a?n.merge(a,l):l,this}delete(t){delete this.store[t]}forEach(t){n.objectEach(this.store,t)}}const pr=new Uh;Object.assign(pr,{_name:"Formats"});class Kh{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return n.each(t,(l,a)=>{this.add(a,l)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,l){const a=this.store[t];n.isFunction(l)&&($l.warn("vxe.error.delProp",["commands -> callback","commandMethod"]),l={commandMethod:l});const u=n.keys(a);return n.each(l,(r,d)=>{u.includes(d)&&$l.warn("vxe.error.coverProp",[t,d])}),this.store[t]=a?n.merge(a,l):l,this}delete(t){delete this.store[t]}forEach(t){n.objectEach(this.store,t)}}const su=new Kh;Object.assign(su,{_name:"Commands"});const Ir={},Ai={mixin(e){return n.each(e,(t,l)=>{Ai.add(l,t)}),Ai},get(e){return Ir[e]||[]},add(e,t){n.isFunction(t)&&(t={tableInterceptorMethod:t});const l=t.tableInterceptorMethod;if(l){let a=Ir[e];a||(a=Ir[e]=[]),a.indexOf(l)>-1&&$l.warn("vxe.error.coverProp",["Interceptor",e]),a.push(l)}return Ai},delete(e,t){const l=Ir[e];if(l){n.isFunction(t)&&(t={tableInterceptorMethod:t});const a=t?t.tableInterceptorMethod:null;a?n.remove(l,u=>u===a):delete Ir[e]}}};let Ql;const Rr={text:"",html:""};function Xh(e){if(!Ql){Ql=document.createElement("textarea"),Ql.id="$VxeCopy";const t=Ql.style;t.width="48px",t.height="24px",t.position="fixed",t.zIndex="0",t.left="-500px",t.top="-500px",document.body.appendChild(Ql)}Ql.value=e}const Zh={getStore(){return Rr},setStore(e){Object.assign(Rr,e||{})},copy(e){let t=!1;try{const l=n.toValueString(e);Xh(l),Ql.select(),Ql.setSelectionRange(0,Ql.value.length),t=document.execCommand("copy"),Ql.blur(),Rr.text=l,Rr.html=""}catch{}return t},getText(){return Rr.text||""}};function $i(e,t){let l=!0,a=!1;const u=t||dr.permissionMethod;if(e&&u){l=!1,a=!0;let d=!1,m=!1;const p=String(e).split("|");for(let D=0;D<p.length;D++){const C=p[D];let h=!0,S=!1;const w=u({code:C});if(n.isBoolean(w)?h=w:w&&(h=!!w.visible,S=!!w.disabled),!S&&!m&&(m=!0,a=S),h&&!d&&(d=!0,l=h),d&&m)break}}return{code:e,visible:l,disabled:a}}const gr={getCheckInfo(e){return $i(e)},checkVisible(e){return $i(e).visible},checkDisable(e){return $i(e).disabled}},Jh=new fg;function kn(e){const t=jt("xeSizeInfo",null),l=j(()=>e.size||(t?t.value:null));return An("xeSizeInfo",l),{computeSize:l}}function vr(e){return{computePermissionInfo:j(()=>$i(e.permissionCode,e.permissionMethod))}}const Qh={useSize:kn,usePermission:vr},yf=[];function ev(e,t){return e&&e.install&&yf.indexOf(e)===-1&&(e.install(We,t),yf.push(e)),We}const Yc={};function gg(e){return Yc[e]||null}function tv(e){return!!Yc[e]}function nv(e){e&&e.name&&(Yc[e.name]=e,Yc[n.kebabCase(e.name)]=e)}function Mt(){return zn()}function ov(e,t,l){if(e){const a=`${e}`.match(/(\d+).(\d+).(\d+)/);if(a){const u=n.toNumber(a[1]);if(l){const r=n.toNumber(a[2]);return u>=t&&r>=l}return u>=t}}return!1}const We=Object.assign(Da,{renderEmptyElement:Mt,setTheme:yd,getTheme:Nh,setConfig:ou,getConfig:U,setIcon:ig,getIcon:Yt,renderGlobalIcon:Bh,renderCustomIcon:cg,setLanguage:jh,hasLanguage:Gh,getLanguage:Yh,setI18n:Wh,getI18n:Wt,globalEvents:At,GLOBAL_EVENT_KEYS:Sn,createEvent:bn,globalResize:lu,renderer:zo,validators:Cd,menus:pg,formats:pr,commands:su,interceptor:Ai,clipboard:Zh,log:$l,permission:gr,globalStore:Lh,hooks:Jh,component:nv,getComponent:gg,hasComponent:tv,useFns:Qh,getSlotVNs:rg,checkVersion:ov,use:ev});yd();const pn=tu;let kr;const Wl=ln({modals:[],drawers:[],globalLoading:null,globalWatermark:null}),lv=pn({setup(){const e=We.getComponent("vxe-modal"),t=We.getComponent("vxe-drawer"),l=We.getComponent("vxe-loading"),a=We.getComponent("vxe-watermark");return()=>{const{modals:u,drawers:r,globalWatermark:d,globalLoading:m}=Wl;return[u.length?o("div",{key:1,class:"vxe-dynamics--modal"},u.map(p=>o(e,p))):zn(),r.length?o("div",{key:2,class:"vxe-dynamics--drawer"},r.map(p=>o(t,p))):zn(),d?o(a,d):zn(),m?o(l,m):zn()]}}}),dn=hh(lv);function au(){kr||(kr=document.createElement("div"),kr.className="vxe-dynamics",document.body.appendChild(kr),dn.mount(kr))}const mg="ui v4.10.13",ml=$l.create("warn",mg),To=$l.create("error",mg),sv="4.10.13";We.uiVersion=sv;We.dynamicApp=dn;function av(e){return ml("vxe.error.delFunc",["config","setConfig"]),ou(e)}function rv(e){return ml("vxe.error.delFunc",["setup","setConfig"]),ou(e)}We.config=av;We.setup=rv;ou({alert:{},anchor:{},anchorLink:{},avatar:{},badge:{},breadcrumb:{separator:"/"},breadcrumbItem:{},button:{trigger:"hover",prefixTooltip:{enterable:!0},suffixTooltip:{enterable:!0}},buttonGroup:{},calendar:{minDate:new Date(1900,0,1),maxDate:new Date(2100,0,1),startDay:1,selectDay:1},card:{border:!0,padding:!0},carousel:{height:200,loop:!0,interval:5e3},carouselItem:{},checkbox:{},checkboxButton:{},checkboxGroup:{},col:{},collapse:{padding:!0,expandConfig:{showIcon:!0}},collapsePane:{},countdown:{},colorPicker:{type:"rgb",clearable:!0,showAlpha:!0,clickToCopy:!0,showColorExtractor:!0,showQuick:!0},datePanel:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1},datePicker:{shortcutConfig:{align:"left",mode:"text",autoClose:!0},startDay:1,selectDay:1,autoClose:!0,showClearButton:null,showConfirmButton:null},dateRangePicker:{shortcutConfig:{align:"left",mode:"text",autoClose:!0},startDay:1,selectDay:1,separator:" ~ ",autoClose:!0,showClearButton:null,showConfirmButton:null},drawer:{position:"right",showHeader:!0,lockView:!0,mask:!0,showTitleOverflow:!0,showClose:!0,padding:!0,cancelClosable:!0,confirmClosable:!0},empty:{},form:{validConfig:{showErrorMessage:!0,autoPos:!0,theme:"beautify"},tooltipConfig:{enterable:!0},titleAsterisk:!0,titleOverflow:!1,padding:!0},formDesign:{height:400,showHeader:!0,showPc:!0},formGather:{},formGroup:{},formItem:{},formView:{},icon:{},iconPicker:{icons:["home","company","comment","setting","send","envelope","envelope-open","bell","search","print","pc","goods","chart-line","edit","delete","save","folder","microphone","flag","link","location","sunny","rmb","usd","user","add-user","add-users","star","unlock","time","text","feedback","calendar","association-form","cloud-download","cloud-upload","file","subtable","chart-bar-x","chart-bar-y","chart-line","chart-pie","chart-radar"]},image:{showPreview:!0,showPrintButton:!0,maskClosable:!0},imageGroup:{showPreview:!0,showPrintButton:!0},imagePreview:{showPrintButton:!0},input:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1,digits:2,controls:!0},layoutAside:{},layoutBody:{},layoutContainer:{},layoutFooter:{},layoutHeader:{},link:{underline:!0},listDesign:{height:400,showPc:!0},listView:{},list:{virtualYConfig:{enabled:!0,gt:100}},loading:{showIcon:!0,showText:!0},menu:{},modal:{top:16,showHeader:!0,minWidth:340,minHeight:140,lockView:!0,mask:!0,duration:3e3,marginSize:0,dblclickZoom:!0,showTitleOverflow:!0,animat:!0,showClose:!0,padding:!0,draggable:!0,showConfirmButton:null,cancelClosable:!0,confirmClosable:!0,zoomConfig:{minimizeMaxSize:10,minimizeVerticalOffset:{top:-24,left:0},minimizeHorizontalOffset:{top:0,left:32}},storageKey:"VXE_MODAL_POSITION"},noticeBar:{},numberInput:{digits:2,autoFill:!0,controlConfig:{enabled:!0,layout:"right",showButton:!0,isWheel:!0,isArrow:!0}},optgroup:{},option:{},pager:{pageSizePlacement:"top"},print:{pageStyle:{}},passwordInput:{controls:!0},printPageBreak:{},pulldown:{},radio:{strict:!0},radioButton:{strict:!0},radioGroup:{strict:!0},rate:{},result:{},row:{},select:{multiCharOverflow:8,remoteConfig:{enabled:!0,autoLoad:!0},virtualYConfig:{enabled:!0,gt:50,oSize:2}},splitter:{resize:!0,itemConfig:{minWidth:40,minHeight:40},resizeConfig:{showTip:!0}},splitterPanel:{},slider:{max:100,min:0},steps:{},switch:{},tabPane:{},tableSelect:{gridConfig:{showOverflow:!0,showHeaderOverflow:!0,showFooterOverflow:!0,rowConfig:{isHover:!0},virtualXConfig:{enabled:!0,gt:0},virtualYConfig:{enabled:!0,gt:0}}},tabs:{},tag:{},textEllipsis:{underline:!0},text:{copyConfig:{showMessage:!0}},textarea:{resize:"none"},tip:{},tooltip:{trigger:"hover",theme:"dark",enterDelay:500,leaveDelay:300,isArrow:!0},tree:{indent:20,minHeight:60,radioConfig:{strict:!0},virtualYConfig:{enabled:!0,gt:50,oSize:2}},treeSelect:{autoClose:!0,virtualYConfig:{enabled:!0,gt:0,oSize:2},treeConfig:{maxHeight:300,radioConfig:{},checkboxConfig:{},filterConfig:{autoExpandAll:!0}}},upload:{mode:"all",imageTypes:["jpg","jpeg","png","gif"],showList:!0,showUploadButton:!0,showButtonText:!0,showRemoveButton:!0,showButtonIcon:!0,showPreview:!0,dragToUpload:!0,showLimitSize:!0,showLimitCount:!0,autoSubmit:!0,maxSimultaneousUploads:5},watermark:{rotate:-30,gap:[100,100]},table:{},colgroup:{},column:{},toolbar:{},grid:{},gantt:{}});const Lt="vxe-icon-";ig({LOADING:Lt+"spinner roll vxe-loading--default-icon",BUTTON_DROPDOWN:Lt+"arrow-down",BUTTON_LOADING:Lt+"spinner roll",BUTTON_TOOLTIP_ICON:Lt+"question-circle-fill",MENU_ITEM_EXPAND_OPEN:Lt+"arrow-down rotate180",MENU_ITEM_EXPAND_CLOSE:Lt+"arrow-down",SELECT_LOADED:Lt+"spinner roll",SELECT_OPEN:Lt+"caret-down rotate180",SELECT_CLOSE:Lt+"caret-down",SELECT_ADD_OPTION:Lt+"add",ICON_PICKER_OPEN:Lt+"caret-down rotate180",ICON_PICKER_CLOSE:Lt+"caret-down",PAGER_HOME:Lt+"home-page",PAGER_END:Lt+"end-page",PAGER_JUMP_PREV:Lt+"arrow-double-left",PAGER_JUMP_NEXT:Lt+"arrow-double-right",PAGER_PREV_PAGE:Lt+"arrow-left",PAGER_NEXT_PAGE:Lt+"arrow-right",PAGER_JUMP_MORE:Lt+"ellipsis-h",RADIO_CHECKED:Lt+"radio-checked-fill",RADIO_UNCHECKED:Lt+"radio-unchecked",RADIO_DISABLED_UNCHECKED:Lt+"radio-unchecked-fill",CHECKBOX_INDETERMINATE:Lt+"checkbox-indeterminate-fill",CHECKBOX_CHECKED:Lt+"checkbox-checked-fill",CHECKBOX_UNCHECKED:Lt+"checkbox-unchecked",CHECKBOX_DISABLED_UNCHECKED:Lt+"checkbox-unchecked-fill",INPUT_CLEAR:Lt+"error-circle-fill",INPUT_SEARCH:Lt+"search",INPUT_PLUS_NUM:Lt+"caret-up",INPUT_MINUS_NUM:Lt+"caret-down",NUMBER_INPUT_MINUS_NUM:Lt+"minus",NUMBER_INPUT_PLUS_NUM:Lt+"add",DATE_PICKER_DATE:Lt+"calendar",PASSWORD_INPUT_SHOW_PWD:Lt+"eye-fill-close",PASSWORD_INPUT_HIDE_PWD:Lt+"eye-fill",MODAL_ZOOM_MIN:Lt+"minus",MODAL_ZOOM_REVERT:Lt+"recover",MODAL_ZOOM_IN:Lt+"square",MODAL_ZOOM_OUT:Lt+"maximize",MODAL_CLOSE:Lt+"close",MODAL_INFO:Lt+"info-circle-fill",MODAL_SUCCESS:Lt+"success-circle-fill",MODAL_WARNING:Lt+"warning-circle-fill",MODAL_ERROR:Lt+"error-circle-fill",MODAL_QUESTION:Lt+"question-circle-fill",MODAL_LOADING:Lt+"spinner roll",DRAWER_CLOSE:Lt+"close",FORM_PREFIX:Lt+"question-circle-fill",FORM_SUFFIX:Lt+"question-circle-fill",FORM_FOLDING:Lt+"arrow-up rotate180",FORM_UNFOLDING:Lt+"arrow-up",FORM_VALID_ERROR_ICON:Lt+"warning-circle-fill",FORM_DESIGN_STYLE_SETTING:Lt+"layout",FORM_DESIGN_PROPS_PC:Lt+"pc",FORM_DESIGN_PROPS_MOBILE:Lt+"mobile",FORM_DESIGN_PROPS_ADD:Lt+"add",FORM_DESIGN_PROPS_EDIT:Lt+"edit",FORM_DESIGN_WIDGET_ADD:Lt+"square-plus-fill",FORM_DESIGN_WIDGET_COPY:Lt+"copy",FORM_DESIGN_WIDGET_DELETE:Lt+"delete",FORM_DESIGN_WIDGET_SWAP_LR:Lt+"swap",FORM_DESIGN_WIDGET_OPTION_DELETE:Lt+"delete",FORM_DESIGN_WIDGET_OPTION_EXPAND_OPEN:Lt+"square-plus",FORM_DESIGN_WIDGET_OPTION_EXPAND_CLOSE:Lt+"square-minus",LIST_DESIGN_FIELD_SETTING:Lt+"custom-column",LIST_DESIGN_LIST_SETTING:Lt+"menu",LIST_DESIGN_LIST_SETTING_SEARCH_DELETE:Lt+"delete",LIST_DESIGN_LIST_SETTING_ACTIVE_DELETE:Lt+"delete",UPLOAD_FILE_ERROR:Lt+"warning-circle-fill",UPLOAD_FILE_ADD:Lt+"upload",UPLOAD_FILE_REMOVE:Lt+"delete",UPLOAD_FILE_DOWNLOAD:Lt+"download",UPLOAD_IMAGE_UPLOAD:Lt+"upload",UPLOAD_IMAGE_RE_UPLOAD:Lt+"repeat",UPLOAD_IMAGE_ADD:Lt+"add",UPLOAD_IMAGE_REMOVE:Lt+"close",UPLOAD_LOADING:Lt+"spinner roll vxe-loading--default-icon",UPLOAD_FILE_TYPE_DEFAULT:Lt+"file",UPLOAD_FILE_TYPE_XLSX:Lt+"file-excel",UPLOAD_FILE_TYPE_XLS:Lt+"file-excel",UPLOAD_FILE_TYPE_PDF:Lt+"file-pdf",UPLOAD_FILE_TYPE_PNG:Lt+"file-image",UPLOAD_FILE_TYPE_GIF:Lt+"file-image",UPLOAD_FILE_TYPE_JPG:Lt+"file-image",UPLOAD_FILE_TYPE_JPEG:Lt+"file-image",UPLOAD_FILE_TYPE_MD:Lt+"file-markdown",UPLOAD_FILE_TYPE_PPD:Lt+"file-ppt",UPLOAD_FILE_TYPE_DOCX:Lt+"file-word",UPLOAD_FILE_TYPE_DOC:Lt+"file-word",UPLOAD_FILE_TYPE_ZIP:Lt+"file-zip",UPLOAD_FILE_TYPE_TXT:Lt+"file-txt",IMAGE_PREVIEW_CLOSE:Lt+"close",IMAGE_PREVIEW_PREVIOUS:Lt+"arrow-left",IMAGE_PREVIEW_NEXT:Lt+"arrow-right",IMAGE_PREVIEW_PCT_FULL:Lt+"pct-full",IMAGE_PREVIEW_PCT_1_1:Lt+"pct-1-1",IMAGE_PREVIEW_ZOOM_OUT:Lt+"search-zoom-out",IMAGE_PREVIEW_ZOOM_IN:Lt+"search-zoom-in",IMAGE_PREVIEW_ROTATE_LEFT:Lt+"rotate-left",IMAGE_PREVIEW_ROTATE_RIGHT:Lt+"rotate-right",IMAGE_PREVIEW_PRINT:Lt+"print",IMAGE_PREVIEW_DOWNLOAD:Lt+"download",ALERT_CLOSE:Lt+"close",ALERT_INFO:Lt+"info-circle-fill",ALERT_SUCCESS:Lt+"success-circle-fill",ALERT_WARNING:Lt+"warning-circle-fill",ALERT_ERROR:Lt+"error-circle-fill",TREE_NODE_OPEN:Lt+"caret-right rotate90",TREE_NODE_CLOSE:Lt+"caret-right",TREE_NODE_LOADED:Lt+"spinner roll",TREE_SELECT_LOADED:Lt+"spinner roll",TREE_SELECT_OPEN:Lt+"caret-down rotate180",TREE_SELECT_CLOSE:Lt+"caret-down",TABLE_SELECT_LOADED:Lt+"spinner roll",TABLE_SELECT_OPEN:Lt+"caret-down rotate180",TABLE_SELECT_CLOSE:Lt+"caret-down",TABS_TAB_BUTTON_TOP:Lt+"arrow-up",TABS_TAB_BUTTON_BOTTOM:Lt+"arrow-down",TABS_TAB_BUTTON_LEFT:Lt+"arrow-left",TABS_TAB_BUTTON_RIGHT:Lt+"arrow-right",TABS_TAB_CLOSE:Lt+"close",TABS_TAB_REFRESH:Lt+"refresh",TABS_TAB_REFRESH_LOADING:Lt+"refresh roll",TEXT_COPY:Lt+"copy",TEXT_LOADING:Lt+"spinner roll",TAG_CLOSE:Lt+"close",TAG_LOADING:Lt+"spinner roll",CAROUSEL_HORIZONTAL_PREVIOUS:Lt+"arrow-left",CAROUSEL_HORIZONTAL_NEXT:Lt+"arrow-right",CAROUSEL_VERTICAL_PREVIOUS:Lt+"arrow-up",CAROUSEL_VERTICAL_NEXT:Lt+"arrow-down",COLLAPSE_OPEN:Lt+"arrow-right rotate90",COLLAPSE_CLOSE:Lt+"arrow-right",EMPTY_DEFAULT:Lt+"empty",RESULT_INFO:Lt+"info-circle-fill",RESULT_SUCCESS:Lt+"success-circle-fill",RESULT_WARNING:Lt+"warning-circle-fill",RESULT_ERROR:Lt+"error-circle-fill",RESULT_QUESTION:Lt+"question-circle-fill",RESULT_LOADING:Lt+"spinner roll",RATE_CHECKED:Lt+"star-fill",RATE_UNCHECKED:Lt+"star",COLOR_PICKER_COLOR_COPY:Lt+"copy",COLOR_PICKER_EYE_DROPPER:Lt+"dropper",COLOR_PICKER_TPTY_OPEN:Lt+"arrow-down rotate180",COLOR_PICKER_TPTY_CLOSE:Lt+"arrow-down",SPLIT_TOP_ACTION:Lt+"arrow-up",SPLIT_BOTTOM_ACTION:Lt+"arrow-down",SPLIT_LEFT_ACTION:Lt+"arrow-left",SPLIT_RIGHT_ACTION:Lt+"arrow-right"});const iv={vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择",comma:"，",fullStop:"。"},loading:{text:"加载中..."},error:{downErr:"下载失败",errLargeData:"当绑定的数据量过大时，应该请使用 {0}，否则可能会出现卡顿",groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',modelConflicts:'绑定的字段值 "{0}" 与 "{1}" 存在冲突，将会出现错误',notSupportProp:'当启用参数 "{0}" 时不支持 "{1}"，应该为 "{2}"，否则将会出现错误',reqSupportProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会出现错误',notConflictProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会存在功能冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqComp:'缺少 "{0}" 组件，请检查是否正确安装。 https://vxeui.com/#/start/useGlobal',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',noGroup:'数据分组后不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',uniField:'字段名 "{0}" 重复定义，这可能会出现错误',repeatKey:'主键重复 {0}="{1}"，这可能会出现错误',repeatProp:'参数重复 {0}="{1}"，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入",treeCrossDrag:"只能拖拽第一层级",treeDragChild:"父级不能拖拽到自己的子级中",reqPlugin:'扩展插件未安装 "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:"超过支持的最大数据量 {0} 行，这可能会导致出现错误",useNew:"不建议使用 {0}，请使用 {1}",errorVersion:"版本不匹配，当前版本 {0}，最低支持版本为 {1}"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"序号",actionTitle:"操作",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expError:"导出失败",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customClose:"关闭",customCancel:"取消",customRestore:"恢复默认",maxFixedCol:"最大冻结列的数量不能超过 {0} 个",maxGroupCol:"最大分组字段的数量不能超过 {0} 个",dragTip:"移动：{0}",resizeColTip:"宽：{0} 像素",resizeRowTip:"高：{0} 像素",rowGroupContentTotal:"{0}（{1}）"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{clear:"清除",allChecked:"全选",total:"{0} / {1}",search:"搜索",loadingText:"加载中",emptyText:"暂无数据",maxSize:"最大可选择的数量不能超过 {0} 个",overSizeErr:"已超出最大可选数量 {0} 个，超出部分将被忽略！",searchEmpty:"未匹配到数据！"},tree:{searchEmpty:"未匹配到数据！"},treeSelect:{clearChecked:"清除",allChecked:"全选",allExpand:"全部展开",clearExpand:"全部收起",total:"已选 {0}",search:"搜索",emptyText:"暂无数据"},pager:{goto:"前往",gotoTitle:"页数",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消",clear:"清除"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整顺序",colTitle:"列标题",colResizable:"列宽（像素）",colVisible:"是否显示",colFixed:"冻结列",colFixedMax:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖方式（直接覆盖表格数据）",insert:"底部追加（在表格的底部追加新数据）",insertTop:"顶部追加（在表格的顶部追加新数据）",insertBottom:"底部追加（在表格的底部追加新数据）"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impMode:"导入模式",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"空数据",current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expOptTitle:"列标题",expTitleTitle:"是否为列标题，否则显示为列的字段名",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开树",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{errTitle:"错误提示",zoomMin:"最小化",zoomIn:"最大化",zoomOut:"还原",close:"关闭",miniMaxSize:"最小化窗口的数量不能超过 {0} 个",footPropErr:"show-footer 仅用于启用表尾，需配合 show-confirm-button | show-cancel-button | 插槽使用"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},datePicker:{yearTitle:"{0} 年"},dateRangePicker:{pleaseRange:"请选择开始日期与结束日期"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},numberInput:{currencySymbol:"¥"},imagePreview:{popupTitle:"预览",operBtn:{zoomOut:"缩小",zoomIn:"放大",pctFull:"等比例缩放",pct11:"显示原始尺寸",rotateLeft:"向左旋转",rotateRight:"向右旋转",print:"点击打印图片",download:"点击下载图片"}},upload:{fileBtnText:"点击或拖拽上传",imgBtnText:"点击或拖拽上传",dragPlaceholder:"请把文件拖放到这个区域即可上传",imgSizeHint:"单张{0}",imgCountHint:"最多{0}张",fileTypeHint:"支持 {0} 文件类型",fileSizeHint:"单个文件大小不超过{0}",fileCountHint:"最多可上传{0}个文件",uploadTypeErr:"文件类型不匹配！",overCountErr:"最多只能选择{0}个文件！",overCountExtraErr:"已超出最大数量{0}个，超出的{1}个文件将被忽略！",overSizeErr:"文件大小最大不能超过{0}！",manualUpload:"点击上传",reUpload:"重新上传",uploadProgress:"上传中 {0}%",uploadErr:"上传失败",uploadSuccess:"上传成功",moreBtnText:"更多（{0}）",viewItemTitle:"点击查看",morePopup:{readTitle:"查看列表",imageTitle:"上传图片",fileTitle:"上传文件"}},empty:{defText:"暂无数据"},colorPicker:{clear:"清除",confirm:"确认",copySuccess:"已复制到剪贴板：{0}",hex:"十六进制"},formDesign:{formName:"表单名称",defFormTitle:"未命名的表单",widgetPropTab:"控件属性",widgetFormTab:"表单属性",error:{wdFormUni:"该类型的控件在表单中只允许添加一个",wdSubUni:"该类型的控件在子表中只允许添加一个"},styleSetting:{btn:"样式设置",title:"表单的样式设置",layoutTitle:"控件布局",verticalLayout:"上下布局",horizontalLayout:"横向布局",styleTitle:"标题样式",boldTitle:"标题加粗",fontBold:"加粗",fontNormal:"常规",colonTitle:"显示冒号",colonVisible:"显示",colonHidden:"隐藏",alignTitle:"对齐方式",widthTitle:"标题宽度",alignLeft:"居左",alignRight:"居右",unitPx:"像素",unitPct:"百分比"},widget:{group:{base:"基础控件",layout:"布局控件",system:"系统控件",module:"模块控件",chart:"图表控件",advanced:"高级控件"},copyTitle:"副本_{0}",component:{input:"输入框",textarea:"文本域",select:"下拉选择",row:"一行多列",title:"标题",text:"文本",subtable:"子表",VxeSwitch:"是/否",VxeInput:"输入框",VxeNumberInput:"数字",VxeDatePicker:"日期",VxeTextarea:"文本域",VxeSelect:"下拉选择",VxeTreeSelect:"树形选择",VxeRadioGroup:"单选框",VxeCheckboxGroup:"复选框",VxeUploadFile:"文件",VxeUploadImage:"图片",VxeRate:"评分",VxeSlider:"滑块"}},widgetProp:{name:"控件名称",placeholder:"提示语",required:"必填校验",multiple:"允许多选",displaySetting:{name:"显示设置",pc:"电脑端",mobile:"手机端",visible:"显示",hidden:"隐藏"},dataSource:{name:"数据源",defValue:"选项{0}",addOption:"添加选项",batchEditOption:"批量编辑",batchEditTip:"每行对应一个选项，支持从表格、Excel、WPS 中直接复制粘贴。",batchEditSubTip:"每行对应一个选项，如果是分组，子项可以是空格或制表键开头，支持从表格、Excel、WPS 中直接复制粘贴。",buildOption:"生成选项"},rowProp:{colSize:"列数",col2:"两列",col3:"三列",col4:"四列",col6:"六列",layout:"布局"},textProp:{name:"内容",alignTitle:"对齐方式",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",colorTitle:"字体颜色",sizeTitle:"字体大小",boldTitle:"字体加粗",fontNormal:"常规",fontBold:"加粗"},subtableProp:{seqTitle:"序号",showSeq:"显示序号",showCheckbox:"允许多选",errSubDrag:"子表不支持该控件，请使用其他控件",colPlace:"将控件拖拽进来"},uploadProp:{limitFileCount:"文件数量限制",limitFileSize:"文件大小限制",multiFile:"允许上传多个文件",limitImgCount:"图片数量限制",limitImgSize:"图片大小限制",multiImg:"允许上传多张图片"}}},listDesign:{fieldSettingTab:"字段设置",listSettingTab:"参数设置",searchTitle:"查询条件",listTitle:"列表字段",searchField:"查询字段",listField:"列表字段",activeBtn:{ActionButtonUpdate:"编辑",ActionButtonDelete:"删除"},search:{addBtn:"编辑",emptyText:"未配置查询条件",editPopupTitle:"编辑查询字段"},searchPopup:{colTitle:"标题",saveBtn:"保存"}},text:{copySuccess:"已复制到剪贴板",copyError:"当前环境不支持该操作"},countdown:{formats:{yyyy:"年",MM:"月",dd:"天",HH:"时",mm:"分",ss:"秒"}},gantt:{tFullFormat:{year:"{yy}年",quarter:"{yy}年第{q}季度",month:"{yy}年{M}月",week:"{yy}年第{W}周",day:"{yy}年{M}月{E}日",date:"{yy}年{M}月{d}日",hour:"{yy}年 {M}月{d}日{H}时",minute:"{yy}年{M}月{d}日{H}时{m}分"},tSimpleFormat:{year:"{yy}年",quarter:"{q}季度",month:"{M}月",week:"{W}周",day:"{d}",date:"{d}",hour:"{H}时",minute:"{m}分"},dayss:{w0:"日",w1:"一",w2:"二",w3:"三",w4:"四",w5:"五",w6:"六"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",selectErr:"无法操作指定区域的单元格",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},body:{row:"行：{0}",col:"列：{0}"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},extendPivotTable:{aggregation:{grouping:"分组",values:"值",groupPlaceholder:"拖至此处进行分组",valuesPlaceholder:"拖至此处进行聚合",dragExistCol:"该列已存在",sortHelpTip:"点击并拖动图标可以调整顺序"},aggFuncs:{sum:"求和",count:"计数",avg:"平均值",min:"最小值",max:"最大值",first:"首个值",last:"末尾值"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结到左侧",fixedRight:"冻结到右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}};function ba(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function hg(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function vg(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function mn(e){return n.isArray(e)?e:e?[e]:[]}const Ni=pn({name:"VxeAlert",props:{title:{type:[String,Number],default:()=>U().alert.title},content:[String,Number],status:String,showIcon:Boolean,showClose:Boolean,icon:{type:String,default:()=>U().alert.icon}},emits:["close"],setup(e,t){const{emit:l,slots:a}=t,u=n.uniqueId(),r=st(),d=ln({}),m={refElem:r},p={},D={xID:u,props:e,context:t,reactData:d,getRefMaps:()=>m,getComputeMaps:()=>p},C={dispatchEvent(V,g,i){l(V,bn(i,{$alert:D},g))}},h=V=>{C.dispatchEvent("close",{},V)};Object.assign(D,C,{});const w=()=>{const{status:V,content:g,icon:i,title:x,showIcon:k,showClose:R}=e,O=a.default,$=a.title,A=a.icon;return o("div",{ref:r,class:["vxe-alert",{[`theme--${V}`]:V}]},[A||k&&V||i?o("div",{class:"vxe-alert--icon"},A?mn(A({})):[o("i",{class:i||Yt()[`ALERT_${V==null?void 0:V.toUpperCase()}`]})]):Mt(),o("div",{class:"vxe-alert--body"},[$||x?o("div",{class:"vxe-alert--title"},$?mn($({})):n.toValueString(x)):Mt(),o("div",{class:"vxe-alert--content"},O?mn(O({})):n.toValueString(g))]),R?o("div",{class:"vxe-alert--close-btn",onClick:h},[o("i",{class:Yt().ALERT_CLOSE})]):Mt()])};return D.renderVN=w,D},render(){return this.renderVN()}}),cv=Object.assign({},Ni,{install(e){e.component(Ni.name,Ni)}});dn.use(cv);We.component(Ni);let Qa;function bg(){return Qa||(Qa=new Image,Qa.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),Qa}function uv(){return Qa||bg()}const Fu={};function xg(e){return Fu[e]||(Fu[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),Fu[e]}function yg(e,t,l){if(e){const a=e.parentNode;if(l.top+=e.offsetTop,l.left+=e.offsetLeft,a&&a!==document.documentElement&&a!==document.body&&(l.top-=a.scrollTop,l.left-=a.scrollLeft),!(t&&(e===t||e.offsetParent===t))&&e.offsetParent)return yg(e.offsetParent,t,l)}return l}function qc(e){return e&&/^\d+%$/.test(e)}function mr(e,t){return!!(e&&e.className&&e.className.match&&e.className.match(xg(t)))}function xa(e,t){e&&mr(e,t)&&(e.className=e.className.replace(xg(t),""))}function Uc(e,t){e&&!mr(e,t)&&(xa(e,t),e.className=`${e.className} ${t}`)}function wd(e){return e.ctrlKey||e.metaKey}function rn(e,t="px"){return n.isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function ya(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function Qn(e,t,l,a){let u,r=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;r&&r.nodeType&&r!==document;){if(l&&mr(r,l))u=r;else if(r===t)return{flag:l?!!u:!0,container:t,targetElem:u};r=r.parentNode}return{flag:!1}}function dv(e,t){return yg(e,t,{left:0,top:0})}function Ed(e){const t=e.getBoundingClientRect(),l=t.top,a=t.left,{scrollTop:u,scrollLeft:r,visibleHeight:d,visibleWidth:m}=ya();return{boundingTop:l,top:u+l,boundingLeft:a,left:r+a,visibleHeight:d,visibleWidth:m}}function fv(e){if(e){const t=getComputedStyle(e),l=n.toNumber(t.paddingTop),a=n.toNumber(t.paddingBottom);return l+a}return 0}const Cf="scrollIntoViewIfNeeded",wf="scrollIntoView";function pv(e){e&&(e[Cf]?e[Cf]():e[wf]&&e[wf]())}function Qs(e,t,l){const{placement:a,teleportTo:u,marginSize:r}=Object.assign({teleportTo:!1,marginSize:18},l);let d="bottom",m="",p="",D="";const C="";let h="";const S={};if(t&&e){const w=document.documentElement,V=document.body,g=e.offsetHeight,i=t.offsetHeight,x=t.offsetWidth,k=t.getBoundingClientRect(),R=e.getBoundingClientRect(),O=w.clientHeight||V.clientHeight,$=w.clientWidth||V.clientWidth;h=e.offsetWidth,u?(D=R.left,m=R.top+g,a==="top"?(d="top",m=R.top-i):a||(m+i+r>O&&(d="top",m=R.top-i),m<r&&(d="bottom",m=R.top+g)),D+x+r>$&&(D-=D+x+r-$),D<r&&(D=r)):(a==="top"?(d="top",p=g):a||(m=g,R.top+R.height+r>O&&R.top-g-i>r&&(d="top",m="",p=g)),k.left+k.width+r>$&&(D=-(k.left+k.width+r-$))),n.isNumber(m)&&(S.top=rn(m)),n.isNumber(p)&&(S.bottom=rn(p)),n.isNumber(D)&&(S.left=rn(D)),n.isNumber(C)&&(S.right=rn(C)),n.isNumber(h)&&(S.minWidth=rn(h))}return{top:m||0,bottom:p||0,left:D||0,right:0,style:S,placement:d}}function gv(e,t,l,a){const u=e.reactData.staticLinks,r=t.parentNode,d=a?a.linkConfig:null,m=d?d.children:u;r&&m&&(m.splice(n.arrayIndexOf(r.children,t),0,l),e.reactData.staticLinks=u.slice(0))}function mv(e,t){const l=e.reactData.staticLinks,a=n.findTree(l,u=>u.id===t.id,{children:"children"});a&&a.items.splice(a.index,1),e.reactData.staticLinks=l.slice(0)}const lr=pn({name:"VxeAnchorLink",props:{content:[String,Number],title:[String,Number],href:String},emits:[],setup(e,t){const{slots:l}=t,a=jt("$xeAnchor",null),u=jt("$xeAnchorLink",null),r=n.uniqueId(),d=st(),m=ln({}),p=ln({id:r,href:e.href,children:[]}),D={refElem:d},C=j(()=>{const{href:g}=e;return a?a.reactData.activeHref===g:null}),h={},S={xID:r,props:e,context:t,reactData:m,linkConfig:p,getRefMaps:()=>D,getComputeMaps:()=>h},w=g=>{const{href:i}=e;a&&a.handleClickLink(g,i)};Dt(()=>e.href,g=>{p.href=g}),Ln(()=>{const g=d.value;a&&g&&gv(a,g,p,u)}),jn(()=>{a&&mv(a,p)});const V=()=>{const{href:g,content:i,title:x}=e,k=l.default,R=l.sub,O=C.value;return o("div",{ref:d,class:["vxe-anchor-link",{"is--active":O}]},[o("a",{class:"vxe-anchor-link--item",href:g,title:x,onClick:w},k?k({}):n.toValueString(i)),R?o("div",{class:"vxe-anchor-link--sub-items"},R({})):Mt()])};return An("$xeAnchorLink",S),S.renderVN=V,S},render(){return this.renderVN()}}),Li=pn({name:"VxeAnchor",props:{modelValue:String,options:Array,container:[String,Object,Function],showMarker:{type:Boolean,default:!0}},emits:["update:modelValue","change","click"],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),r=st(),d=st(),m=ln({activeHref:null,staticLinks:[],containerElem:null}),p={refElem:r},D=j(()=>{const A=[];return n.eachTree(m.staticLinks,M=>{A.push(M.href||"")},{children:"children"}),A}),C={},h={xID:u,props:e,context:t,reactData:m,getRefMaps:()=>p,getComputeMaps:()=>C},S={dispatchEvent(A,M,T){a(A,bn(T,{$anchor:h},M))}},w=()=>{const{container:A}=e;if(A){if(n.isElement(A))return A;if(n.isString(A))return document.querySelector(A);if(n.isFunction(A))return A({$anchor:h})}return null},V=A=>{m.activeHref=A,a("update:modelValue",A)},g=()=>{const A=D.value,{containerElem:M}=m;if(M){const T=M.querySelectorAll(A.map(_=>`${_}`).join(","));for(let _=0;_<T.length;_++){const z=T[_];if(z.getBoundingClientRect().top>0){const J=z.id;m.activeHref=`#${J}`;break}}}},i=()=>{const{containerElem:A}=m;A&&A.removeEventListener("scroll",g)},x=()=>{const A=w();m.containerElem=A,A&&A.addEventListener("scroll",g,{passive:!1})},k=()=>{ke(()=>{const{activeHref:A}=m,M=r.value,T=d.value;if(M&&T&&A){const _=M.querySelector(`[href="${A}"]`);if(_){const{top:z}=dv(_,M);T.style.top=`${z}px`}}})};Object.assign(h,S,{handleClickLink(A,M){A.preventDefault();const T=document.getElementById(`${M}`.replace("#",""));T&&T.scrollIntoView({behavior:"smooth"}),V(M),S.dispatchEvent("click",{href:M},A)}});const O=A=>{const M=[];return A&&A.forEach(T=>{const _=T.children;_&&_.length?M.push(o(lr,{content:T.content,title:T.title,href:T.href},{sub:()=>O(_)})):M.push(o(lr,{content:T.content,title:T.title,href:T.href}))}),M},$=()=>{const{options:A,showMarker:M}=e,T=l.default;return o("div",{ref:r,class:["vxe-anchor",{"is--marker":M}]},[o("div",{class:"vxe-anchor--list"},T?T({}):O(A)),M?o("div",{ref:d,class:"vxe-anchor--marker"}):Mt()])};return Dt(()=>e.modelValue,A=>{m.activeHref=A}),Dt(()=>m.activeHref,()=>{k()}),Dt(()=>e.container,()=>{i(),x()}),Ln(()=>{ke(()=>{x()})}),rs(()=>{i()}),An("$xeAnchor",h),h.renderVN=$,h},render(){return this.renderVN()}}),hv=Object.assign({},Li,{install(e){e.component(Li.name,Li)}});dn.use(hv);We.component(Li);const vv=Object.assign({},lr,{install(e){e.component(lr.name,lr)}});dn.use(vv);We.component(lr);const Bi=pn({name:"VxeAvatar",props:{count:[String,Number],dot:Boolean,content:[String,Number],icon:String,src:String,width:[String,Number],height:[String,Number],circle:{type:Boolean,default:()=>U().avatar.circle},status:{type:String,default:()=>U().avatar.status},size:{type:String,default:()=>U().avatar.size||U().size}},emits:[],setup(e,t){const{emit:l}=t,a=n.uniqueId(),{computeSize:u}=kn(e),r=st(),d=ln({}),m={refElem:r},p=j(()=>{const{width:x,height:k}=e,R={};return x&&(R.width=rn(x)),k&&(R.height=rn(k)),R}),D=j(()=>{const{count:x}=e;return x?n.toNumber(x):0}),C={},h={xID:a,props:e,context:t,reactData:d,getRefMaps:()=>m,getComputeMaps:()=>C};Object.assign(h,{dispatchEvent:(x,k,R)=>{l(x,bn(R,{$avatar:h},k))}},{});const g=()=>{const{icon:x,content:k,src:R}=e;return x?o("span",{class:"vxe-avatar--icon"},[o("i",{class:x})]):k?o("span",{class:"vxe-avatar--content"},`${k}`):R?o("img",{class:"vxe-avatar--img",src:R}):Mt()},i=()=>{const{circle:x,dot:k,status:R}=e,O=u.value,$=D.value,A=p.value;return o("div",{ref:r,class:["vxe-avatar",{[`size--${O}`]:O,[`theme--${R}`]:R,"is--circle":x,"is--dot":k}],style:A},[g(),$?o("span",{class:"vxe-avatar--count"},$>99?"99+":`${$}`):Mt()])};return h.renderVN=i,h},render(){return this.renderVN()}}),bv=Object.assign({},Bi,{install(e){e.component(Bi.name,Bi)}});dn.use(bv);We.component(Bi);const zi=pn({name:"VxeBadge",props:{count:[String,Number],dot:Boolean,content:[String,Number],size:{type:String,default:()=>U().badge.size||U().size}},emits:[],setup(e,t){const{emit:l,slots:a}=t,u=n.uniqueId(),r=st(),{computeSize:d}=kn(e),m=ln({}),p={refElem:r},D=j(()=>{const{count:i}=e;return i?n.toNumber(i):0}),C={},h={xID:u,props:e,context:t,reactData:m,getRefMaps:()=>p,getComputeMaps:()=>C};Object.assign(h,{dispatchEvent:(i,x,k)=>{l(i,bn(k,{$badge:h},x))}},{});const g=()=>{const{dot:i,content:x}=e,k=d.value,R=D.value,O=a.default;return o("div",{ref:r,class:["vxe-badge",{[`size--${k}`]:k,"is--dot":i}]},[O||x?o("div",{class:"vxe-badge--content"},O?O({}):`${x||""}`):[],R?o("span",{class:"vxe-badge--count"},R>99?"99+":`${R}`):Mt()])};return h.renderVN=g,h},render(){return this.renderVN()}}),xv=Object.assign({},zi,{install(e){e.component(zi.name,zi)}});dn.use(xv);We.component(zi);const Gr=pn({name:"VxeBreadcrumbItem",props:{title:String,routerLink:Object},emits:[],setup(e,t){const{slots:l}=t,a=n.uniqueId(),u=st(),r=jt("$xeBreadcrumb",null),d=ln({}),m={refElem:u},p=j(()=>r?r.props.separator:""),D=w=>{if(r){const V={title:e.title,routerLink:e.routerLink};r.handleClickLink(w,V)}},C={},h={xID:a,props:e,context:t,reactData:d,getRefMaps:()=>m,getComputeMaps:()=>C},S=()=>{const{title:w,routerLink:V}=e,g=p.value,i=l.default;return o("span",{ref:u,class:"vxe-breadcrumb-item",onClick:D},[o("span",{class:"vxe-breadcrumb-item--content"},[V?o(Uo("router-link"),{class:"vxe-breadcrumb-item--content-link",title:w,to:V},{default(){return o("span",{class:"vxe-breadcrumb-item--content-text"},i?i({}):`${w||""}`)}}):o("span",{class:"vxe-breadcrumb-item--content-text"},i?i({}):`${w||""}`)]),g?o("span",{class:"vxe-breadcrumb-item--separator"},`${g}`):Mt()])};return h.renderVN=S,h},render(){return this.renderVN()}}),Hi=pn({name:"VxeBreadcrumb",props:{separator:{type:String,default:()=>U().breadcrumb.separator},options:Array},emits:["click"],setup(e,t){const{emit:l,slots:a}=t,u=n.uniqueId(),r=st(),d=ln({}),m={refElem:r},p={},D={xID:u,props:e,context:t,reactData:d,getRefMaps:()=>m,getComputeMaps:()=>p},C={dispatchEvent(V,g,i){l(V,bn(i,{$breadcrumb:D},g))}};Object.assign(D,C,{handleClickLink(V,g){C.dispatchEvent("click",{option:g},V)}});const S=()=>{const{options:V}=e;return V&&V.length?V.map(g=>o(Gr,{title:g.title,routerLink:g.routerLink})):[]},w=()=>{const V=a.default;return o("div",{ref:r,class:"vxe-breadcrumb"},V?V({}):S())};return An("$xeBreadcrumb",D),D.renderVN=w,D},render(){return this.renderVN()}}),yv=Object.assign({},Hi,{install(e){e.component(Hi.name,Hi)}});dn.use(yv);We.component(Hi);const Cv=Object.assign({},Gr,{install(e){e.component(Gr.name,Gr)}});dn.use(Cv);We.component(Gr);function Xo(e){return e&&e.enabled!==!1}function fl(){return Ta.getNext()}function hl(){return Ta.getCurrent()}function wv(){return Ta.getSubNext()}function Ev(){return Ta.getSubCurrent()}function $a(e,t){return n.eqNull(e)?t:e}function ao(e,t){if(n.eqNull(e))return"";const l=U().translate;return`${l?l(""+e,t):e}`}function es(e){return e==null||e===""}function Ef(e){return n.isBoolean(e)?e:null}const Xs=pn({name:"VxeTooltip",props:{modelValue:Boolean,size:{type:String,default:()=>U().tooltip.size||U().size},selector:String,trigger:{type:String,default:()=>U().tooltip.trigger||"hover"},theme:{type:String,default:()=>U().tooltip.theme||"dark"},content:{type:[String,Number],default:null},useHTML:Boolean,zIndex:[String,Number],popupClassName:[String,Function],width:{type:[String,Number],default:()=>U().tooltip.Width},height:{type:[String,Number],default:()=>U().tooltip.height},minWidth:{type:[String,Number],default:()=>U().tooltip.minWidth},minHeight:{type:[String,Number],default:()=>U().tooltip.minHeight},maxWidth:{type:[String,Number],default:()=>U().tooltip.maxWidth},maxHeight:{type:[String,Number],default:()=>U().tooltip.maxHeight},isArrow:{type:Boolean,default:()=>U().tooltip.isArrow},enterable:{type:Boolean,default:()=>U().tooltip.enterable},enterDelay:{type:Number,default:()=>U().tooltip.enterDelay},leaveDelay:{type:Number,default:()=>U().tooltip.leaveDelay}},emits:["update:modelValue"],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),{computeSize:r}=kn(e),d=ln({target:null,isUpdate:!1,visible:!1,tipContent:"",tipActive:!1,tipTarget:null,tipZindex:0,tipStore:{style:{},placement:"",arrowStyle:{}}}),m={},p=st(),D=st(),C=j(()=>{const{width:W,height:Q,minHeight:ge,minWidth:fe,maxHeight:ve,maxWidth:oe}=e,Ee={};return W&&(Ee.width=rn(W)),Q&&(Ee.height=rn(Q)),fe&&(Ee.minWidth=rn(fe)),ge&&(Ee.minHeight=rn(ge)),oe&&(Ee.maxWidth=rn(oe)),ve&&(Ee.maxHeight=rn(ve)),Ee}),h={refElem:p},S={xID:u,props:e,context:t,reactData:d,internalData:m,getRefMaps:()=>h};let w={};const V=()=>{const{tipTarget:W,tipStore:Q}=d;if(W){const{scrollTop:ge,scrollLeft:fe,visibleWidth:ve}=ya(),{top:oe,left:Ee}=Ed(W),re=p.value;if(!re)return;const Y=6,Oe=re.offsetHeight,ze=re.offsetWidth;let ce=Ee,ue=oe-Oe-Y;ce=Math.max(Y,Ee+Math.floor((W.offsetWidth-ze)/2)),ce+ze+Y>fe+ve&&(ce=fe+ve-ze-Y),oe-Oe<ge+Y&&(Q.placement="bottom",ue=oe+W.offsetHeight+Y),Q.style.top=`${ue}px`,Q.style.left=`${ce}px`,Q.arrowStyle.left=`${Ee-ce+W.offsetWidth/2}px`}},g=W=>{W!==d.visible&&(d.visible=W,d.isUpdate=!0,a("update:modelValue",W))},i=()=>{d.tipZindex<hl()&&(d.tipZindex=fl())},x=()=>{d.visible?w.close():T(d.target||_(),e.content)},k=()=>{T(d.target||_(),e.content)},R=()=>{const{trigger:W,enterable:Q,leaveDelay:ge}=e;d.tipActive=!1,Q&&W==="hover"?setTimeout(()=>{d.tipActive||w.close()},ge):w.close()},O=()=>{d.tipActive=!0},$=()=>{const{trigger:W,enterable:Q,leaveDelay:ge}=e;d.tipActive=!1,Q&&W==="hover"&&setTimeout(()=>{d.tipActive||w.close()},ge)},A=()=>{const{tipStore:W}=d,Q=p.value;return Q&&(Q.parentNode||document.body.appendChild(Q)),g(!0),i(),W.placement="top",W.style={width:"auto",left:0,top:0,zIndex:e.zIndex||d.tipZindex},W.arrowStyle={left:"50%"},w.updatePlacement()},M=()=>{m.showDelayTip=n.debounce(()=>{d.tipActive&&A()},e.enterDelay,{leading:!1,trailing:!0})},T=(W,Q)=>{if(!l.content&&(Q===""||n.eqNull(Q)))return ke();if(W){const{showDelayTip:fe}=m,{trigger:ve,enterDelay:oe}=e;if(d.tipActive=!0,d.tipTarget=W,d.tipContent=Q,oe&&ve==="hover")fe&&fe();else return A()}return ke()},_=()=>{const{selector:W}=e;if(W){if(n.isElement(W))return W;if(n.isString(W))return document.querySelector(W)}return null};w={dispatchEvent(W,Q,ge){a(W,bn(ge,{$tooltip:S},Q))},open(W,Q){return T(W||d.target||_(),Q)},close(){return d.tipTarget=null,d.tipActive=!1,Object.assign(d.tipStore,{style:{},placement:"",arrowStyle:null}),g(!1),ke()},toVisible(W,Q){return T(W,Q)},updatePlacement(){return ke().then(()=>{const{tipTarget:W}=d,Q=p.value;if(W&&Q)return V(),ke().then(()=>{V()})})},isActived(){return d.tipActive},setActived(W){d.tipActive=!!W}};const z=W=>{W.stopPropagation()};Object.assign(S,w);const Z=()=>{const{useHTML:W}=e,{tipContent:Q}=d,ge=C.value,fe=l.content,ve=[];return fe?ve.push(o("div",{key:1},mn(fe({})))):W?ve.push(o("div",{key:2,innerHTML:Q})):ve.push(o("span",{key:3},`${Q}`)),o("div",{key:3,ref:D,class:"vxe-tooltip--content",style:ge},ve)},J=()=>{const{popupClassName:W,theme:Q,isArrow:ge,enterable:fe}=e,{tipActive:ve,visible:oe,tipStore:Ee}=d,re=l.default,Y=r.value;let Oe;return fe&&(Oe={onMouseenter:O,onMouseleave:$}),o("div",Object.assign({ref:p,class:["vxe-tooltip--wrapper",`theme--${Q}`,W?n.isFunction(W)?W({$tooltip:S}):W:"",{[`size--${Y}`]:Y,[`placement--${Ee.placement}`]:Ee.placement,"is--enterable":fe,"is--visible":oe,"is--arrow":ge,"is--active":ve}],style:Ee.style},Oe),[Z(),o("div",{class:"vxe-tooltip--arrow",style:Ee.arrowStyle}),...re?mn(re({})):[]])};return Dt(()=>e.enterDelay,()=>{M()}),Dt(()=>e.content,W=>{d.tipContent=W}),Dt(()=>e.modelValue,W=>{d.isUpdate||(W?T(d.target||_(),e.content):w.close()),d.isUpdate=!1}),Ln(()=>{const W=D.value;W&&W.addEventListener("wheel",z,{passive:!1}),ke(()=>{const{trigger:Q,content:ge}=e,fe=p.value;if(fe){const ve=fe.parentNode;if(ve){d.tipContent=ge,d.tipZindex=fl(),n.arrayEach(fe.children,(Ee,re)=>{re>1&&(ve.insertBefore(Ee,fe),d.target||(d.target=Ee))}),ve.removeChild(fe);const{target:oe}=d;oe&&(Q==="hover"?(oe.onmouseenter=k,oe.onmouseleave=R):Q==="click"&&(oe.onclick=x)),e.modelValue&&T(oe||_(),ge)}}})}),rs(()=>{const{target:W}=d,Q=p.value;W&&(W.onmouseenter=null,W.onmouseleave=null,W.onclick=null);const ge=D.value;if(ge&&ge.removeEventListener("wheel",z),Q){const fe=Q.parentNode;fe&&fe.removeChild(Q)}}),M(),S.renderVN=J,S},render(){return this.renderVN()}}),lo=pn({name:"VxeButton",props:{type:String,mode:String,className:[String,Function],popupClassName:[String,Function],size:{type:String,default:()=>U().button.size||U().size},zIndex:Number,name:[String,Number],routerLink:Object,permissionCode:[String,Number],content:String,placement:String,status:String,title:String,icon:String,iconRender:Object,prefixIcon:String,prefixRender:Object,suffixIcon:String,suffixRender:Object,round:Boolean,circle:Boolean,disabled:Boolean,loading:Boolean,trigger:{type:String,default:()=>U().button.trigger},align:String,prefixTooltip:Object,suffixTooltip:Object,options:Array,destroyOnClose:{type:Boolean,default:()=>U().button.destroyOnClose},transfer:{type:Boolean,default:null}},emits:["click","mouseenter","mouseleave","dropdown-click","dropdownClick"],setup(e,t){const{slots:l,emit:a}=t,u=jt("$xeModal",null),r=jt("$xeDrawer",null),d=jt("$xeTable",null),m=jt("$xeForm",null),p=jt("$xeButtonGroup",null),D=n.uniqueId(),{computeSize:C}=kn(e),{computePermissionInfo:h}=vr(e),S=ln({initialized:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1,panelIndex:0,panelStyle:{},panelPlacement:""}),w={showTime:void 0,tooltipTimeout:void 0},V=st(),g=st(),i=st(),x={refElem:V},k={xID:D,props:e,context:t,reactData:S,internalData:w,getRefMaps:()=>x};let R={};const O=j(()=>{const{transfer:F}=e;if(F===null){const B=U().button.transfer;if(n.isBoolean(B))return B;if(d||u||r||m)return!0}return F}),$=j(()=>{const{disabled:F}=e,B=h.value;return F||B.disabled}),A=j(()=>{const{type:F}=e;return F?["submit","reset","button"].indexOf(F)>-1:!1}),M=j(()=>{const{type:F,mode:B}=e;return B==="text"||F==="text"||p&&p.props.mode==="text"?"text":"button"}),T=j(()=>{const{status:F}=e;return F||(p?p.props.status:"")}),_=j(()=>{const{align:F}=e;return F||(p?p.props.align:!1)}),z=j(()=>{const{round:F}=e;return F||(p?p.props.round:!1)}),Z=j(()=>{const{circle:F}=e;return F||(p?p.props.circle:!1)}),J=j(()=>{const{options:F}=e;return F?F.filter(B=>{const{permissionCode:te}=B;return!te||gr.checkVisible(te)}):[]}),W=j(()=>Object.assign({},U().button.prefixTooltip,e.prefixTooltip)),Q=j(()=>Object.assign({},U().button.suffixTooltip,e.suffixTooltip)),ge=()=>{const{zIndex:F}=e;F?S.panelIndex=F:S.panelIndex<hl()&&(S.panelIndex=fl())},fe=()=>{const{placement:F}=e,{panelIndex:B}=S,te=g.value,de=i.value,Te=O.value,Ke=()=>{const Ye=Qs(te,de,{placement:F,teleportTo:Te}),Qe=Object.assign(Ye.style,{zIndex:B});S.panelStyle=Qe,S.panelPlacement=Ye.placement};return Ke(),ke().then(Ke)},ve=F=>{p&&p.handleClick({name:e.name},F),ae("click",{$event:F},F)},oe=(F,B)=>{const{$event:te}=F;Se(),ae("dropdown-click",{name:B.name,option:B},te)},Ee=F=>{F.button===0&&F.stopPropagation()},re=F=>{const B=F.currentTarget,te=i.value,{flag:de,targetElem:Te}=Qn(F,B,"vxe-button");de&&(te&&(te.dataset.active="N"),S.visiblePanel=!1,setTimeout(()=>{(!te||te.dataset.active!=="Y")&&(S.isAniVisible=!1)},350),ae("dropdown-click",{name:Te.getAttribute("name"),option:null},F))},Y=()=>{const F=i.value;F&&(F.dataset.active="Y",S.isAniVisible=!0,setTimeout(()=>{F.dataset.active==="Y"&&(S.visiblePanel=!0,ge(),fe(),setTimeout(()=>{S.visiblePanel&&fe()},50))},20))},Oe=F=>{const{loading:B}=e;$.value||B||(be(),ce(F))},ze=F=>{Se(),ue(F)},ce=F=>{ae("mouseenter",{},F)},ue=F=>{ae("mouseleave",{},F)},me=F=>{const{loading:B,trigger:te}=e;$.value||B||(te==="click"&&(S.visiblePanel?Se():be()),ve(F))},be=()=>{const{trigger:F}=e,B=i.value;return B&&(B.dataset.active="Y",S.initialized||(S.initialized=!0),w.showTime=setTimeout(()=>{B.dataset.active==="Y"?Y():S.isAniVisible=!1},F==="click"?50:250)),ke()},Se=()=>{const F=i.value;return clearTimeout(w.showTime),F?(F.dataset.active="N",setTimeout(()=>{F.dataset.active!=="Y"&&(S.visiblePanel=!1,setTimeout(()=>{F.dataset.active!=="Y"&&(S.isAniVisible=!1)},350))},100)):(S.isAniVisible=!1,S.visiblePanel=!1),ke()},pe=()=>{Se()},Ae=(F,B)=>o(Xs,{useHTML:F.useHTML,content:F.content,enterable:F.enterable,theme:F.theme},{default(){return o("span",{class:`vxe-button--item vxe-button--tooltip-${B}-icon`},[o("i",{class:F.icon||Yt().BUTTON_TOOLTIP_ICON})])}}),_e=()=>{const{content:F,suffixIcon:B,loading:te,prefixTooltip:de,suffixTooltip:Te,suffixRender:Ke}=e,Ye=e.prefixIcon||e.icon,Qe=e.prefixRender||e.iconRender,lt=W.value,et=Q.value,ht=l.prefix||l.icon,Ot=l.suffix,ut=l.default,wt=[];if(de&&wt.push(Ae(lt,"prefix")),te)wt.push(o("i",{class:["vxe-button--item vxe-button--loading-icon",Yt().BUTTON_LOADING]}));else if(ht)wt.push(o("span",{class:"vxe-button--item vxe-button--custom-prefix-icon"},ht({})));else if(Qe){const mt=zo.get(Qe.name),Rt=mt?mt.renderButtonPrefix:null;wt.push(o("span",{class:["vxe-button--item vxe-button--custom-prefix-icon"]},Rt?mn(Rt(Qe,{$button:k})):[]))}else Ye&&wt.push(o("i",{class:["vxe-button--item vxe-button--prefix-icon",Ye]}));if(ut?wt.push(o("span",{class:"vxe-button--item vxe-button--content"},ut({}))):F&&wt.push(o("span",{class:"vxe-button--item vxe-button--content"},ao(F))),Ot)wt.push(o("span",{class:"vxe-button--item vxe-button--custom-suffix-icon"},Ot({})));else if(Ke){const mt=zo.get(Ke.name),Rt=mt?mt.renderButtonSuffix:null;wt.push(o("span",{class:["vxe-button--item vxe-button--custom-suffix-icon"]},Rt?mn(Rt(Ke,{$button:k})):[]))}else B&&wt.push(o("i",{class:["vxe-button--item vxe-button--suffix-icon",B]}));return Te&&wt.push(Ae(et,"suffix")),wt},ae=(F,B,te)=>{a(F,bn(te,{$button:k},B))};R={dispatchEvent:ae,openPanel:be,closePanel:Se,focus(){const F=g.value;return F&&F.focus(),ke()},blur(){const F=g.value;return F&&F.blur(),ke()}};const Re=F=>{const B=i.value;S.visiblePanel&&!Qn(F,B).flag&&Se()},Ie=F=>{const B=$.value,{visiblePanel:te}=S;if(!B){const de=V.value,Te=i.value;S.isActivated=Qn(F,de).flag||Qn(F,Te).flag,te&&!S.isActivated&&Se()}},ne=()=>{const{visiblePanel:F}=S;F&&fe()};Object.assign(k,R);const se=()=>{const{className:F,popupClassName:B,trigger:te,title:de,routerLink:Te,type:Ke,destroyOnClose:Ye,name:Qe,loading:lt}=e,{initialized:et,isAniVisible:ht,visiblePanel:Ot}=S,ut=A.value,wt=M.value,mt=T.value,Rt=z.value,Vt=_.value,he=Z.value,$e=O.value,nt=$.value,ft=h.value,vt=J.value,v=C.value,L=l.dropdowns;if(!ft.visible)return Mt();if(L||vt.length){const N={},ie={};return te==="hover"&&(N.onMouseenter=Oe,N.onMouseleave=ze,ie.onMouseenter=Y,ie.onMouseleave=pe),o("div",{ref:V,class:["vxe-button--dropdown",F?n.isFunction(F)?F({$button:k}):F:"",{[`size--${v}`]:v,"is--active":Ot}]},[Te?o(Uo("router-link"),Object.assign({ref:g,class:["vxe-button","vxe-button--link",`type--${wt}`,Vt?`align--${Vt}`:"",F?n.isFunction(F)?F({$button:k}):F:"",{[`size--${v}`]:v,[`theme--${mt}`]:mt,"is--round":Rt,"is--circle":he,"is--disabled":nt||lt,"is--loading":lt}],title:de,name:Qe,type:ut?Ke:"button",disabled:nt||lt,to:Te,onClick:me},N),{default(){return _e().concat([o("i",{class:`vxe-button--dropdown-arrow ${Yt().BUTTON_DROPDOWN}`})])}}):o("button",Object.assign({ref:g,class:["vxe-button",`type--${wt}`,Vt?`align--${Vt}`:"",F?n.isFunction(F)?F({$button:k}):F:"",{[`size--${v}`]:v,[`theme--${mt}`]:mt,"is--round":Rt,"is--circle":he,"is--disabled":nt||lt,"is--loading":lt}],title:de,name:Qe,type:ut?Ke:"button",disabled:nt||lt,onClick:me},N),_e().concat([o("i",{class:`vxe-button--dropdown-arrow ${Yt().BUTTON_DROPDOWN}`})])),o(ol,{to:"body",disabled:$e?!et:!0},[o("div",Object.assign({ref:i,class:["vxe-button--dropdown-panel",B?n.isFunction(B)?B({$button:k}):B:"",{[`size--${v}`]:v,"is--transfer":$e,"ani--leave":ht,"ani--enter":Ot}],placement:S.panelPlacement,style:S.panelStyle},ie),et&&(Ot||ht)?[L?o("div",{class:"vxe-button--dropdown-wrapper",onMousedown:Ee,onClick:re},et&&(!Ye||Ot||ht)?L({}):[]):o("div",{class:"vxe-button--dropdown-wrapper"},et&&(!Ye||Ot||ht)?vt.map((Me,He)=>o(lo,{key:He,type:Me.type,mode:Me.mode||wt,className:Me.className,name:Me.name,routerLink:Me.routerLink,permissionCode:Me.permissionCode,title:Me.title,content:Me.content,status:Me.status,icon:Me.icon,round:n.isBoolean(Me.round)?Me.round:wt==="text"?!1:Rt,circle:n.isBoolean(Me.circle)?Me.circle:wt==="text"?!1:he,disabled:Me.disabled,loading:Me.loading,align:Me.align,onClick(Ve){oe(Ve,Me)}})):[])]:[])])])}return Te?o(Uo("router-link"),{ref:g,class:["vxe-button","vxe-button--link",`type--${wt}`,Vt?`align--${Vt}`:"",F?n.isFunction(F)?F({$button:k}):F:"",{[`size--${v}`]:v,[`theme--${mt}`]:mt,"is--round":Rt,"is--circle":he,"is--disabled":nt||lt,"is--loading":lt}],title:de,name:Qe,type:ut?Ke:"button",disabled:nt||lt,to:Te,onClick:ve,onMouseenter:ce,onMouseleave:ue},{default(){return _e()}}):o("button",{ref:g,class:["vxe-button",`type--${wt}`,Vt?`align--${Vt}`:"",F?n.isFunction(F)?F({$button:k}):F:"",{[`size--${v}`]:v,[`theme--${mt}`]:mt,"is--round":Rt,"is--circle":he,"is--disabled":nt||lt,"is--loading":lt}],title:de,name:Qe,type:ut?Ke:"button",disabled:nt||lt,onClick:ve,onMouseenter:ce,onMouseleave:ue},_e())};return k.renderVN=se,Ln(()=>{e.type==="text"&&ml("vxe.error.delProp",["[button] type=text","mode=text"]),At.on(k,"mousewheel",Re),At.on(k,"mousedown",Ie),At.on(k,"resize",ne)}),jn(()=>{At.off(k,"mousewheel"),At.off(k,"mousedown"),At.off(k,"resize")}),k},render(){return this.renderVN()}}),Sv=Object.assign({},lo,{install(e){e.component(lo.name,lo)}});dn.use(Sv);We.component(lo);const sr=pn({name:"VxeButtonGroup",props:{options:Array,mode:String,status:String,round:Boolean,vertical:Boolean,circle:Boolean,align:String,className:[String,Function],disabled:Boolean,permissionCode:[String,Number],size:{type:String,default:()=>U().buttonGroup.size||U().size}},emits:["click"],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),r=ln({}),d={},m={xID:u,props:e,context:t,reactData:r,getComputeMaps:()=>d};kn(e);const{computePermissionInfo:p}=vr(e),D={dispatchEvent(S,w,V){a(S,bn(V,{$buttonGroup:m},w))}};Object.assign(m,D,{handleClick(S,w){const{options:V}=e,{name:g}=S,i=V?V.find(x=>x.name===g):null;D.dispatchEvent("click",Object.assign(Object.assign({},S),{option:i}),w)}});const h=()=>{const{className:S,options:w,vertical:V}=e,g=p.value,i=l.default;return g.visible?o("div",{class:["vxe-button-group",S?n.isFunction(S)?S({$buttonGroup:m}):S:"",{"is--vertical":V}]},i?i({}):w?w.map((x,k)=>o(lo,Object.assign({key:k},x))):[]):Mt()};return m.renderVN=h,An("$xeButtonGroup",m),m},render(){return this.renderVN()}}),Dv=Object.assign({},sr,{install(e){e.component(sr.name,sr)}});dn.use(Dv);We.component(sr);function Sd(e){return e==="timestamp"}function Dd(e){return e==="date"}function Td(e,t){return t&&!(Dd(t)||Sd(t))?t:e==="time"?"HH:mm:ss":e==="datetime"?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd"}function Md(e){const t=new Date(2e3,0,1);if(e){let l=0,a=0,u=0;if((n.isNumber(e)||/^[0-9]{11,15}$/.test(`${e}`))&&(e=new Date(Number(e))),n.isDate(e))l=e.getHours(),a=e.getMinutes(),u=e.getSeconds();else{e=n.toValueString(e);const r=e.match(/^(\d{1,2})(:(\d{1,2}))?(:(\d{1,2}))?/);r&&(l=n.toNumber(r[1]),a=n.toNumber(r[3]),u=n.toNumber(r[5]))}return t.setHours(l),t.setMinutes(a),t.setSeconds(u),t}return t}function hr(e){const t=e.getMonth();return t<3?1:t<6?2:t<9?3:4}const Ds=(e,t,l)=>{const{valueFormat:a}=l;return e?t==="time"?Md(e):n.isNumber(e)||/^[0-9]{10,15}$/.test(`${e}`)?new Date(Number(e)):n.isString(e)?n.toStringDate(n.last(e.split(",")),a):n.toStringDate(e,a):null},yi=(e,t,l)=>{const a=Ds(e,t,l);return a?n.toDateString(a,l.valueFormat):""};function Kc(e,t,l){const{labelFormat:a,firstDay:u}=l;let r=null,d="";if(e&&(r=Ds(e,t,l)),n.isValidDate(r)){if(d=n.toDateString(r,a,{firstDay:u}),a&&t==="week"){const m=n.getYearWeek(r,u),D=n.getWhatWeek(r,0,m===1?(6+u)%7:u,u).getFullYear();if(D!==r.getFullYear()){const C=a.indexOf("yyyy");if(C>-1){const h=Number(d.substring(C,C+4));h&&!isNaN(h)&&(d=d.replace(`${h}`,`${D}`))}}}}else r=null;return{label:d,value:r}}function Tv(e,t,l,a){const{valueFormat:u,firstDay:r}=a;let d=null;const m=(e==="prev"||e==="next"?new Date:t?Ds(t,l,a):null)||new Date;switch(e){case"prev":case"next":case"minus":case"plus":{const p=e==="plus"||e==="next"?1:-1;switch(l){case"date":case"datetime":d=n.getWhatDay(m,p);break;case"week":d=n.getWhatWeek(m,p,r,r);break;case"month":d=n.getWhatMonth(m,p);break;case"quarter":d=n.getWhatQuarter(m,p);break;case"year":d=n.getWhatYear(m,p);break}break}default:d=new Date;break}return{value:d?n.toDateString(d,u):""}}const Mv={last180:-180,last90:-90,last60:-60,last30:-30,last7:-7,last3:-3,last1:-1};function Ov(e){return Mv[e]||0}function Iv(e,t,l,a){const{valueFormat:u,firstDay:r}=a;n.isArray(t)&&(t=t.join(""));const d=(t?Ds(t,l,a):null)||new Date;let m=null;const p=d;switch(e){case"last1":case"last3":case"last7":case"last30":case"last60":case"last90":case"last180":{const h=Ov(e);switch(l){case"date":case"datetime":m=n.getWhatDay(d,h);break;case"week":m=n.getWhatWeek(d,h,r,r);break;case"month":m=n.getWhatMonth(d,h);break;case"quarter":m=n.getWhatQuarter(d,h);break;case"year":m=n.getWhatYear(d,h);break}break}default:m=new Date;break}const D=m?n.toDateString(m,u):"",C=p?n.toDateString(p,u):"";return{startValue:D,endValue:C}}const _i=pn({name:"VxeCalendar",props:{modelValue:[String,Number,Date],type:{type:String,default:"date"},className:String,size:{type:String,default:()=>U().calendar.size||U().size},multiple:Boolean,width:[String,Number],height:[String,Number],minDate:{type:[String,Number,Date],default:()=>U().calendar.minDate},maxDate:{type:[String,Number,Date],default:()=>U().calendar.maxDate},startDay:{type:[String,Number],default:()=>U().calendar.startDay},labelFormat:String,valueFormat:String,festivalMethod:{type:Function,default:()=>U().calendar.festivalMethod},disabledMethod:{type:Function,default:()=>U().calendar.disabledMethod},selectDay:{type:[String,Number],default:()=>U().calendar.selectDay}},emits:["update:modelValue","change","click","date-prev","date-today","date-next","view-change"],setup(e,t){const{emit:l}=t,a=n.uniqueId(),{computeSize:u}=kn(e),r=ln({selectValue:e.modelValue,inputValue:e.modelValue,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),d={yearSize:12,monthSize:20,quarterSize:8},m=st(),p={refElem:m},D={xID:a,props:e,context:t,reactData:r,internalData:d,getRefMaps:()=>p},C=j(()=>{const{height:v,width:L}=e,N={};return L&&(N.width=rn(L)),v&&(N.height=rn(v)),N}),h=j(()=>!1),S=j(()=>["date","week","month","quarter","year"].indexOf(e.type)>-1),w=j(()=>e.minDate?n.toStringDate(e.minDate):null),V=j(()=>e.maxDate?n.toStringDate(e.maxDate):null),g=j(()=>["date","week","month","quarter","year"].indexOf(e.type)>-1),i=j(()=>{const{multiple:v}=e,{selectValue:L}=r,N=S.value,ie=R.value;return v&&L&&N?n.toValueString(L).split(",").map(Me=>{const He=ze(Me,ie);return n.isValidDate(He)?He:null}):[]}),x=j(()=>{const v=i.value,L=R.value;return v.map(N=>n.toDateString(N,L))}),k=j(()=>{const v=i.value,L=T.value;return v.map(N=>n.toDateString(N,L)).join(", ")}),R=j(()=>{const{valueFormat:v}=e;return v||"yyyy-MM-dd"}),O=j(()=>{const{selectValue:v}=r,L=S.value,N=R.value;let ie=null;if(v&&L){const Me=ze(v,N);n.isValidDate(Me)&&(ie=Me)}return ie}),$=j(()=>{const v=w.value,{selectMonth:L}=r;return L&&v?L<=v:!1}),A=j(()=>{const v=V.value,{selectMonth:L}=r;return L&&v?L>=v:!1}),M=j(()=>{const v=O.value;return v?(v.getHours()*3600+v.getMinutes()*60+v.getSeconds())*1e3:0}),T=j(()=>{const{labelFormat:v}=e,L=S.value,N=R.value;return L?v||N||Wt(`vxe.input.date.labelFormat.${e.type}`):null}),_=j(()=>{const{selectMonth:v,currentDate:L}=r,{yearSize:N}=d,ie=[];if(v&&L){const Me=L.getFullYear(),He=v.getFullYear(),Ve=new Date(He-He%N,0,1);for(let ye=-4;ye<N+4;ye++){const P=n.getWhatYear(Ve,ye,"first"),q=P.getFullYear();ie.push({date:P,isCurrent:!0,isPrev:ye<0,isNow:Me===q,isNext:ye>=N,year:q})}}return ie}),z=j(()=>{const v=S.value;let L="",N="";if(v){const{datePanelType:ie,selectMonth:Me}=r,He=_.value;let Ve="",ye;Me&&(Ve=Me.getFullYear(),ye=Me.getMonth()+1),ie==="quarter"||ie==="month"?L=`${Ve}`:ie==="year"?L=He.length?`${He[0].year} - ${He[He.length-1].year}`:"":(L=`${Ve}`,N=ye?Wt(`vxe.input.date.m${ye}`):"-")}return{y:L,m:N}}),Z=j(()=>{const{startDay:v}=e;return n.toNumber(v)}),J=j(()=>{const v=[];if(S.value){let N=Z.value;v.push(N);for(let ie=0;ie<6;ie++)N>=6?N=0:N++,v.push(N)}return v}),W=j(()=>S.value?J.value.map(N=>({value:N,label:Wt(`vxe.input.date.weeks.w${N}`)})):[]),Q=j(()=>{if(S.value){const L=W.value;return[{label:Wt("vxe.input.date.weeks.w")}].concat(L)}return[]}),ge=j(()=>{const v=_.value;return n.chunk(v,4)}),fe=j(()=>{const{selectMonth:v,currentDate:L}=r,{quarterSize:N}=d,ie=[];if(v&&L){const Me=L.getFullYear(),He=hr(L),Ve=n.getWhatYear(v,0,"first"),ye=Ve.getFullYear();for(let P=-2;P<N-2;P++){const q=n.getWhatQuarter(Ve,P),Pe=q.getFullYear(),qe=hr(q),Ze=Pe<ye;ie.push({date:q,isPrev:Ze,isCurrent:Pe===ye,isNow:Pe===Me&&qe===He,isNext:!Ze&&Pe>ye,quarter:qe})}}return ie}),ve=j(()=>{const v=fe.value;return n.chunk(v,2)}),oe=j(()=>{const{selectMonth:v,currentDate:L}=r,{monthSize:N}=d,ie=[];if(v&&L){const Me=L.getFullYear(),He=L.getMonth(),Ve=n.getWhatYear(v,0,"first").getFullYear();for(let ye=-4;ye<N-4;ye++){const P=n.getWhatYear(v,0,ye),q=P.getFullYear(),Pe=P.getMonth(),qe=q<Ve;ie.push({date:P,isPrev:qe,isCurrent:q===Ve,isNow:q===Me&&Pe===He,isNext:!qe&&q>Ve,month:Pe})}}return ie}),Ee=j(()=>{const v=oe.value;return n.chunk(v,4)}),re=j(()=>{const{selectMonth:v,currentDate:L}=r,N=[];if(v&&L){const ie=M.value,Me=J.value,He=L.getFullYear(),Ve=L.getMonth(),ye=L.getDate(),P=v.getFullYear(),q=v.getMonth(),Pe=v.getDay(),qe=-Me.indexOf(Pe),Ze=new Date(n.getWhatDay(v,qe).getTime()+ie);for(let K=0;K<42;K++){const xe=n.getWhatDay(Ze,K),Ne=xe.getFullYear(),Ge=xe.getMonth(),ot=xe.getDate(),it=xe<v;N.push({date:xe,isPrev:it,isCurrent:Ne===P&&Ge===q,isNow:Ne===He&&Ge===Ve&&ot===ye,isNext:!it&&q!==Ge,label:ot})}}return N}),Y=j(()=>{const v=re.value;return n.chunk(v,7)}),Oe=j(()=>{const v=Y.value,L=Z.value;return v.map(N=>{const ie=N[0];return[{date:ie.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:n.getYearWeek(ie.date,L)}].concat(N)})}),ze=(v,L)=>n.toStringDate(v,L),ce=(v,L)=>{r.inputValue=v,l("update:modelValue",v),n.toValueString(e.modelValue)!==v&&nt("change",{value:v},L)},ue=v=>{const{type:L}=e,N=T.value,ie=R.value,Me=Z.value;let He=null,Ve="";if(v&&(He=ze(v,ie)),n.isValidDate(He)){if(Ve=n.toDateString(He,N,{firstDay:Me}),N&&L==="week"&&n.getWhatWeek(He,0,Me,Me).getFullYear()<He.getFullYear()){const P=N.indexOf("yyyy");if(P>-1){const q=Number(Ve.substring(P,P+4));q&&!isNaN(q)&&(Ve=Ve.replace(`${q}`,`${q-1}`))}}}else He=null;r.datePanelValue=He,r.datePanelLabel=Ve},me=()=>{const v=S.value,{inputValue:L}=r;v&&(ue(L),r.inputValue=e.multiple?k.value:r.datePanelLabel)},be=()=>{S.value&&me()},Se=v=>{const L=n.getWhatMonth(v,0,"first");n.isEqual(L,r.selectMonth)||(r.selectMonth=L)},pe=v=>{const{modelValue:L,multiple:N}=e,ie=R.value,Me=Z.value;if(e.type==="week"){const Ve=n.toNumber(e.selectDay);v=n.getWhatWeek(v,0,Ve,Me)}const He=n.toDateString(v,ie,{firstDay:Me});if(Se(v),r.selectValue=v,N){const Ve=x.value;Ve.some(ye=>n.isEqual(ye,He))?ce(Ve.filter(ye=>!n.isEqual(ye,He)).join(","),{type:"update"}):ce(Ve.concat([He]).join(","),{type:"update"})}else n.isEqual(L,He)||ce(He,{type:"update"})},Ae=(v,L)=>{r.selectMonth=n.getWhatMonth(v,L,"first")},_e=()=>{const v=n.getWhatDay(Date.now(),0,"first");r.currentDate=v,Ae(v,0)},ae=()=>{r.datePanelType="year"},Re=v=>{let{datePanelType:L}=r;L==="month"||L==="quarter"?L="year":L="month",r.datePanelType=L,B(v)},Ie=v=>{const{type:L}=e,{datePanelType:N,selectMonth:ie}=r,{yearSize:Me}=d;$.value||(L==="year"?r.selectMonth=n.getWhatYear(ie,-Me,"first"):L==="month"||L==="quarter"?N==="year"?r.selectMonth=n.getWhatYear(ie,-Me,"first"):r.selectMonth=n.getWhatYear(ie,-1,"first"):N==="year"?r.selectMonth=n.getWhatYear(ie,-Me,"first"):N==="month"?r.selectMonth=n.getWhatYear(ie,-1,"first"):r.selectMonth=n.getWhatMonth(ie,-1,"first"),nt("date-prev",{type:L},v),B(v))},ne=v=>{_e(),e.multiple||pe(r.currentDate),nt("date-today",{type:e.type},v),B(v)},se=v=>{const{type:L}=e,{datePanelType:N,selectMonth:ie}=r,{yearSize:Me}=d;A.value||(L==="year"?r.selectMonth=n.getWhatYear(ie,Me,"first"):L==="month"||L==="quarter"?N==="year"?r.selectMonth=n.getWhatYear(ie,Me,"first"):r.selectMonth=n.getWhatYear(ie,1,"first"):N==="year"?r.selectMonth=n.getWhatYear(ie,Me,"first"):N==="month"?r.selectMonth=n.getWhatYear(ie,1,"first"):r.selectMonth=n.getWhatMonth(ie,1,"first"),nt("date-next",{type:L},v),B(v))},F=v=>{const{disabledMethod:L}=e,{datePanelType:N}=r;return L&&L({type:N,viewType:N,date:v.date,$calendar:D})},B=v=>{const{datePanelType:L}=r,N=ge.value,ie=ve.value,Me=Ee.value,He=Oe.value,Ve=Y.value,ye=[];let P=[];switch(L){case"year":P=N;break;case"quarter":P=ie;break;case"month":P=Me;break;case"week":P=He;break;case"day":P=Ve;break}P.forEach(q=>{q.forEach(Pe=>{ye.push(Pe.date)})}),nt("view-change",{viewType:L,viewDates:ye},v)},te=v=>{const{type:L}=e,{datePanelType:N}=r;L==="month"?N==="year"?(r.datePanelType="month",Se(v),B(null)):pe(v):L==="year"?pe(v):L==="quarter"?N==="year"?(r.datePanelType="quarter",Se(v),B(null)):pe(v):N==="month"?(r.datePanelType=L==="week"?L:"day",Se(v),B(null)):N==="year"?(r.datePanelType="month",Se(v),B(null)):pe(v)},de=v=>{F(v)||te(v.date)},Te=v=>{F({date:v})||(re.value.some(N=>n.isDateSame(N.date,v,"yyyyMMdd"))||Se(v),ue(v))},Ke=v=>{F({date:v})||(_.value.some(N=>n.isDateSame(N.date,v,"yyyy"))||Se(v),ue(v))},Ye=v=>{F({date:v})||(fe.value.some(N=>n.isDateSame(N.date,v,"yyyyq"))||Se(v),ue(v))},Qe=v=>{F({date:v})||(oe.value.some(N=>n.isDateSame(N.date,v,"yyyyMM"))||Se(v),ue(v))},lt=v=>{if(!F(v)){const{datePanelType:L}=r;L==="month"?Qe(v.date):L==="quarter"?Ye(v.date):L==="year"?Ke(v.date):Te(v.date)}},et=()=>{},ht=()=>{const{type:v}=e,L=O.value;["year","quarter","month","week"].indexOf(v)>-1?r.datePanelType=v:r.datePanelType="day",r.currentDate=n.getWhatDay(Date.now(),0,"first"),L?(Ae(L,0),ue(L)):_e()},Ot=(v,L)=>{const{festivalMethod:N}=e;if(N){const{datePanelType:ie}=r,Me=N({type:ie,viewType:ie,date:v.date,$calendar:D}),He=Me?n.isString(Me)?{label:Me}:Me:{},Ve=He.extra?n.isString(He.extra)?{label:He.extra}:He.extra:null,ye=[o("span",{class:["vxe-calendar--date-label",{"is-notice":He.notice}]},Ve&&Ve.label?[o("span",`${L||""}`),o("span",{class:["vxe-calendar--date-label--extra",Ve.important?"is-important":"",Ve.className],style:Ve.style},n.toValueString(Ve.label))]:[`${L||""}`])],P=He.label;if(P){const q=n.toValueString(P).split(",");ye.push(o("span",{class:["vxe-calendar--date-festival",He.important?"is-important":"",He.className],style:He.style},[q.length>1?o("span",{class:["vxe-calendar--date-festival--overlap",`overlap--${q.length}`]},q.map(Pe=>o("span",Pe.substring(0,3)))):o("span",{class:"vxe-calendar--date-festival--label"},q[0].substring(0,3))]))}return ye}return`${L||""}`},ut=()=>{const{multiple:v}=e,{datePanelType:L,datePanelValue:N}=r,ie=O.value,Me=W.value,He=Y.value,Ve=i.value,ye="yyyyMMdd";return[o("table",{class:`vxe-calendar--date-${L}-view`,cellspacing:0,cellpadding:0,border:0},[o("tr",Me.map(P=>o("th",{class:"vxe-calendar--view-th"},P.label))),...He.map(P=>o("tr",P.map(q=>o("td",{class:["vxe-calendar--view-td",{"is--prev":q.isPrev,"is--current":q.isCurrent,"is--now":q.isNow,"is--next":q.isNext,"is--disabled":F(q),"is--selected":v?Ve.some(Pe=>n.isDateSame(Pe,q.date,ye)):n.isDateSame(ie,q.date,ye),"is--hover":n.isDateSame(N,q.date,ye)}],onClick:()=>de(q),onMouseenter:()=>lt(q)},Ot(q,q.label)))))])]},wt=()=>{const{multiple:v}=e,{datePanelType:L,datePanelValue:N}=r,ie=O.value,Me=Q.value,He=Oe.value,Ve=i.value,ye="yyyyMMdd";return[o("table",{class:`vxe-calendar--date-${L}-view`,cellspacing:0,cellpadding:0,border:0},[o("tr",Me.map(P=>o("td",{class:"vxe-calendar--view-th"},P.label))),...He.map(P=>{const q=v?P.some(qe=>Ve.some(Ze=>n.isDateSame(Ze,qe.date,ye))):P.some(qe=>n.isDateSame(ie,qe.date,ye)),Pe=P.some(qe=>n.isDateSame(N,qe.date,ye));return o("tr",P.map(qe=>o("td",{class:["vxe-calendar--view-td",{"is--prev":qe.isPrev,"is--current":qe.isCurrent,"is--now":qe.isNow,"is--next":qe.isNext,"is--disabled":F(qe),"is--selected":q,"is--hover":Pe}],onClick:()=>de(qe),onMouseenter:()=>lt(qe)},Ot(qe,qe.label))))})])]},mt=()=>{const{multiple:v}=e,{datePanelType:L,datePanelValue:N}=r,ie=O.value,Me=Ee.value,He=i.value,Ve="yyyyMM";return[o("table",{class:`vxe-calendar--date-${L}-view`,cellspacing:0,cellpadding:0,border:0},[o("tbody",Me.map(ye=>o("tr",ye.map(P=>o("td",{class:["vxe-calendar--view-td",{"is--prev":P.isPrev,"is--current":P.isCurrent,"is--now":P.isNow,"is--next":P.isNext,"is--disabled":F(P),"is--selected":v?He.some(q=>n.isDateSame(q,P.date,Ve)):n.isDateSame(ie,P.date,Ve),"is--hover":n.isDateSame(N,P.date,Ve)}],onClick:()=>de(P),onMouseenter:()=>lt(P)},Ot(P,Wt(`vxe.input.date.months.m${P.month}`)))))))])]},Rt=()=>{const{multiple:v}=e,{datePanelType:L,datePanelValue:N}=r,ie=O.value,Me=ve.value,He=i.value,Ve="yyyyq";return[o("table",{class:`vxe-calendar--date-${L}-view`,cellspacing:0,cellpadding:0,border:0},[o("tbody",Me.map(ye=>o("tr",ye.map(P=>o("td",{class:["vxe-calendar--view-td",{"is--prev":P.isPrev,"is--current":P.isCurrent,"is--now":P.isNow,"is--next":P.isNext,"is--disabled":F(P),"is--selected":v?He.some(q=>n.isDateSame(q,P.date,Ve)):n.isDateSame(ie,P.date,Ve),"is--hover":n.isDateSame(N,P.date,Ve)}],onClick:()=>de(P),onMouseenter:()=>lt(P)},Ot(P,Wt(`vxe.input.date.quarters.q${P.quarter}`)))))))])]},Vt=()=>{const{multiple:v}=e,{datePanelType:L,datePanelValue:N}=r,ie=O.value,Me=ge.value,He=i.value,Ve="yyyy";return[o("table",{class:`vxe-calendar--date-${L}-view`,cellspacing:0,cellpadding:0,border:0},[o("tbody",Me.map(ye=>o("tr",ye.map(P=>o("td",{class:["vxe-calendar--view-td",{"is--prev":P.isPrev,"is--current":P.isCurrent,"is--now":P.isNow,"is--next":P.isNext,"is--disabled":F(P),"is--selected":v?He.some(q=>n.isDateSame(q,P.date,Ve)):n.isDateSame(ie,P.date,Ve),"is--hover":n.isDateSame(N,P.date,Ve)}],onClick:()=>de(P),onMouseenter:()=>lt(P)},Ot(P,P.year))))))])]},he=()=>{const{datePanelType:v}=r;switch(v){case"week":return wt();case"month":return mt();case"quarter":return Rt();case"year":return Vt()}return ut()},$e=()=>{const{multiple:v}=e,{datePanelType:L}=r,N=$.value,ie=A.value,Me=z.value;return[o("div",{class:"vxe-calendar--header"},[o("div",{class:"vxe-calendar--type-wrapper"},[L==="year"?o(lo,{class:"vxe-calendar--date-picker-label",disabled:L==="year",content:Me.y}):o("span",{class:"vxe-calendar--date-picker-btns"},[o(lo,{class:"vxe-calendar--date-picker-btn",content:Me.y,onClick:ae}),Me.m?o(lo,{class:"vxe-calendar--date-picker-btn",content:Me.m,onClick:Re}):Mt()])]),o("div",{class:"vxe-calendar--btn-wrapper"},[o(lo,{disabled:N,icon:"vxe-icon-caret-left",onClick:Ie}),o(lo,{icon:"vxe-icon-dot",onClick:ne}),o(lo,{disabled:ie,icon:"vxe-icon-caret-right",onClick:se}),v&&g.value?o("span",{class:"vxe-calendar--btn vxe-calendar--confirm-btn"},[o("button",{class:"vxe-calendar--confirm",type:"button",onClick:et},Wt("vxe.button.confirm"))]):null])]),o("div",{class:"vxe-calendar--body"},he())]},nt=(v,L,N)=>{l(v,bn(N,{$input:D},L))};Object.assign(D,{dispatchEvent:nt});const vt=()=>{const{className:v,type:L}=e,N=u.value,ie=h.value,Me=C.value;return o("div",{ref:m,class:["vxe-calendar",`type--${L}`,v,{[`size--${N}`]:N,"is--disabled":ie}],style:Me},[$e()])};return D.renderVN=vt,Dt(()=>e.modelValue,v=>{r.inputValue=v,me()}),Dt(()=>e.type,()=>{Object.assign(r,{selectValue:null,inputValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),be(),ht()}),Dt(T,()=>{S.value&&(ue(r.datePanelValue),r.inputValue=e.multiple?k.value:r.datePanelLabel)}),Ln(()=>{ht()}),be(),D},render(){return this.renderVN()}}),Rv=Object.assign({},_i,{install(e){e.component(_i.name,_i)}});dn.use(Rv);We.component(_i);const Ol=pn({name:"VxeLoading",props:{modelValue:Boolean,icon:{type:String,default:()=>U().loading.icon},showIcon:{type:Boolean,default:()=>U().loading.showIcon},text:{type:String,default:()=>U().loading.text},showText:{type:Boolean,default:()=>U().loading.showText},status:String,size:{type:String,default:()=>U().loading.size||U().size}},setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),{computeSize:r}=kn(e),d=ln({initialized:!1}),m={computeSize:r},p={xID:u,props:e,context:t,reactData:d,getComputeMaps:()=>m},D=j(()=>e.icon||Yt().LOADING),C=j(()=>{const{text:i}=e;return n.isString(i)?i:Wt("vxe.loading.text")}),h=()=>{d.initialized||(d.initialized=!!d.initialized)};Object.assign(p,{dispatchEvent:(i,x,k)=>{a(i,bn(k,{$loading:p},x))}},{});const g=()=>{const{modelValue:i,showIcon:x,status:k}=e,{initialized:R}=d,O=r.value,$=l.default,A=l.text,M=l.icon,T=D.value,_=C.value;return!R&&!i?Mt():o("div",{class:["vxe-loading",{[`size--${O}`]:O,[`theme--${k}`]:k,"is--visible":i}]},$?[o("div",{class:"vxe-loading--wrapper"},mn($({})))]:[o("div",{class:"vxe-loading--chunk"},[x&&(M||T)?o("div",{class:"vxe-loading--icon"},M?mn(M({})):[o("i",{class:T})]):o("div",{class:"vxe-loading--spinner"}),A||_?o("div",{class:"vxe-loading--text"},A?mn(A({})):`${_}`):null])])};return Dt(()=>e.modelValue,()=>{h()}),h(),p.renderVN=g,p},render(){return this.renderVN()}}),ji=pn({name:"VxeCard",props:{title:String,showTitleOverflow:{type:Boolean,default:()=>U().card.showTitleOverflow},width:[String,Number],height:[String,Number],border:{type:Boolean,default:()=>U().card.border},loading:Boolean,shadow:{type:Boolean,default:()=>U().card.shadow},padding:{type:Boolean,default:()=>U().card.padding},size:{type:String,default:()=>U().card.size||U().size}},emits:[],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),r=st(),{computeSize:d}=kn(e),m=ln({}),p={refElem:r},D=j(()=>{const{height:i,width:x}=e,k={};return x&&(k.width=rn(x)),i&&(k.height=rn(i)),k}),C={computeSize:d},h={xID:u,props:e,context:t,reactData:m,getRefMaps:()=>p,getComputeMaps:()=>C};Object.assign(h,{dispatchEvent:(i,x,k)=>{a(i,bn(k,{$card:h},x))}},{});const g=()=>{const{title:i,border:x,shadow:k,padding:R,loading:O,showTitleOverflow:$}=e,A=l.default,M=l.header,T=l.title,_=l.extra,z=l.footer,Z=l.left,J=l.right,W=d.value,Q=D.value;return o("div",{ref:r,class:["vxe-card",{[`size--${W}`]:W,"is--border":x,"is--shadow":k,"is--padding":R}],style:Q},[i||T||M?o("div",{class:"vxe-card--header"},M?mn(M({})):[o("div",{class:["vxe-card--header-title",{"is--ellipsis":$}]},T?mn(T({})):`${i||""}`),_?o("div",{class:"vxe-card--header-extra"},mn(_({}))):Mt()]):Mt(),o("div",{class:"vxe-card--body"},[Z?o("div",{class:"vxe-card--body-left"},mn(Z({}))):Mt(),o("div",{class:"vxe-card--body-content"},A?mn(A({})):[]),J?o("div",{class:"vxe-card--body-right"},mn(J({}))):Mt()]),z?o("div",{class:"vxe-card--footer"},mn(z({}))):Mt(),o(Ol,{class:"vxe-card--loading",modelValue:O})])};return h.renderVN=g,h},render(){return this.renderVN()}}),kv=Object.assign({},ji,{install(e){e.component(ji.name,ji)}});dn.use(kv);We.component(ji);const Wi=pn({name:"VxeCarousel",props:{modelValue:[String,Number],options:Array,loading:Boolean,height:{type:[Number,String],default:()=>U().carousel.height},width:{type:[Number,String],default:()=>U().carousel.width},autoPlay:{type:Boolean,default:()=>U().carousel.autoPlay},interval:{type:[Number,String],default:()=>U().carousel.interval},loop:{type:Boolean,default:()=>U().carousel.loop},vertical:{type:Boolean,default:()=>U().carousel.vertical},showIndicators:{type:Boolean,default:()=>U().carousel.showIndicators}},emits:["update:modelValue","change"],setup(e,t){const{emit:l,slots:a}=t,u=n.uniqueId(),r=st(),d=st(),m=ln({activeName:"",staticItems:[],itemWidth:0,itemHeight:0}),p={apTimeout:void 0,stopFlag:!1},D={refElem:r},C=j(()=>{const{vertical:fe,options:ve}=e,{activeName:oe,itemWidth:Ee,itemHeight:re,staticItems:Y}=m,Oe=(Y&&Y.length?Y:ve)||[],ze=Math.max(0,n.findIndexOf(Oe,ue=>ue.name===oe)),ce={};return fe?ce.transform=`translateY(-${ze*re}px)`:(ce.width=`${Ee*Oe.length}px`,ce.transform=`translateX(-${ze*Ee}px)`),ce}),h={},S={xID:u,props:e,context:t,reactData:m,internalData:p,getRefMaps:()=>D,getComputeMaps:()=>h},w=()=>{ke(()=>{const fe=d.value;fe&&(m.itemWidth=fe.clientWidth,m.itemHeight=fe.clientHeight)})},V=(fe,ve)=>{const oe=ve.name;m.activeName=ve.name,l("update:modelValue",oe),l("change",{value:oe},fe),w()},g=fe=>{let ve=null;if(fe&&fe.length){let oe=!1;ve=e.modelValue,fe.forEach(Ee=>{ve===Ee.name&&(oe=!0)}),oe||(ve=fe[0].name,l("update:modelValue",ve))}m.activeName=ve},i=(fe,ve,oe)=>{l(fe,bn(oe,{$carousel:S},ve))},x=fe=>{const{options:ve,loop:oe}=e,{activeName:Ee,staticItems:re}=m,Y=(re&&re.length?re:ve)||[],Oe=Math.max(0,n.findIndexOf(Y,ze=>ze.name===Ee));if(Oe>-1){let ze=null;if(fe?Oe<Y.length-1?ze=Y[Oe+1]:oe&&(ze=Y[0]):Oe>0?ze=Y[Oe-1]:oe&&(ze=Y[Y.length-1]),ze){const ce=ze.name,ue=ce;return m.activeName=ce,l("update:modelValue",ue),!0}}return!1},k={dispatchEvent:i,prev(){return x(!1)&&A(),ke()},next(){return x(!0)&&A(),ke()}},R=fe=>{if(x(!1)){const ve=m.activeName;l("change",{value:ve},fe)}},O=fe=>{if(x(!0)){const ve=m.activeName;l("change",{value:ve},fe)}},$=()=>{const{apTimeout:fe}=p;p.stopFlag=!0,fe&&(clearTimeout(fe),p.apTimeout=void 0)},A=()=>{const{autoPlay:fe,interval:ve}=e,{stopFlag:oe}=p;$(),fe&&(p.stopFlag=!1,p.apTimeout=setTimeout(()=>{oe||x(!0)},n.toNumber(ve)||300))},M=()=>{$()},T=()=>{A()},_={},z=(fe,ve)=>fe&&(n.isString(fe)&&(fe=a[fe]||null),n.isFunction(fe))?mn(fe(ve)):[];Object.assign(S,k,_);const Z=fe=>{const{height:ve}=e,{activeName:oe}=m,Ee=C.value;return o("div",{class:"vxe-carousel--list",style:Ee},fe.map(re=>{const{name:Y,url:Oe,slots:ze}=re,ce=ze?ze.default:null;return o("div",{key:`${Y}`,class:["vxe-carousel--item-inner",{"is--active":oe===Y}],style:ve?{height:rn(ve)}:null},ce?z(ce,{}):[o("img",{class:"vxe-carousel--item-img",src:Oe})])}))},J=fe=>{const{activeName:ve}=m;return o("div",{class:"vxe-carousel--indicators"},fe.map(oe=>{const{name:Ee}=oe;return o("div",{key:`${Ee}`,class:["vxe-carousel--indicators-item",{"is--active":ve===Ee}],onClick(re){V(re,oe)}})}))},W=()=>{const{loading:fe,height:ve,width:oe,showIndicators:Ee,vertical:re,options:Y}=e,{staticItems:Oe}=m,ze=a.default,ce=(Oe&&Oe.length?Oe:Y)||[];return o("div",{ref:r,class:["vxe-carousel",`is--${re?"vertical":"horizontal"}`],style:oe?{width:rn(oe)}:null,onMouseenter:M,onMouseleave:T},[o("div",{class:"vxe-carousel--slots"},ze?ze({}):[]),o("div",{ref:d,class:"vxe-carousel--item-wrapper",style:ve?{height:rn(ve)}:null},[Z(ce)]),Ee?J(ce):Mt(),o("div",{class:"vxe-carousel--btn-wrapper"},[o("div",{class:"vxe-carousel--previous-btn",onClick:R},[o("i",{class:re?Yt().CAROUSEL_VERTICAL_PREVIOUS:Yt().CAROUSEL_HORIZONTAL_PREVIOUS})]),o("div",{class:"vxe-carousel--next-btn",onClick:O},[o("i",{class:re?Yt().CAROUSEL_VERTICAL_NEXT:Yt().CAROUSEL_HORIZONTAL_NEXT})])]),o(Ol,{class:"vxe-carousel--loading",modelValue:fe})])},Q=st(0);Dt(()=>e.options?e.options.length:-1,()=>{Q.value++}),Dt(()=>e.options,()=>{Q.value++}),Dt(Q,()=>{g(e.options)});const ge=st(0);return Dt(()=>m.staticItems?m.staticItems.length:-1,()=>{ge.value++}),Dt(()=>m.staticItems,()=>{ge.value++}),Dt(ge,()=>{g(m.staticItems)}),Dt(()=>e.autoPlay,()=>{A()}),g(m.staticItems.length?m.staticItems:e.options),Ln(()=>{A(),w()}),jn(()=>{$()}),An("$xeCarousel",S),S.renderVN=W,S},render(){return this.renderVN()}}),Pv=Object.assign({},Wi,{install(e){e.component(Wi.name,Wi)}});dn.use(Pv);We.component(Wi);function Fv(e,t,l){const a=e.reactData.staticItems,u=t.parentNode;u&&a.splice(n.arrayIndexOf(u.children,t),0,l),e.reactData.staticItems=a.slice(0)}function Vv(e,t){const l=e.reactData.staticItems,a=n.findIndexOf(l,u=>u.id===t.id);a>-1&&l.splice(a,1),e.reactData.staticItems=l.slice(0)}const Gi=pn({name:"VxeCarouselItem",props:{name:[String,Number],className:String,url:String},emits:[],setup(e,t){const{slots:l,emit:a}=t,u=jt("$xeCarousel",null),r=n.uniqueId(),d=st(),m=ln({}),p=ln({id:r,name:e.name,url:e.url,className:e.className,slots:l}),D={refElem:d},C={},h={xID:r,props:e,context:t,reactData:m,getRefMaps:()=>D,getComputeMaps:()=>C};Object.assign(h,{dispatchEvent:(i,x,k)=>{a(i,bn(k,{$carouselItem:h},x))}},{});const g=()=>o("div",{ref:d});return Dt(()=>e.name,i=>{p.name=i}),Dt(()=>e.url,i=>{p.url=i}),Ln(()=>{const i=d.value;u&&i&&Fv(u,i,p)}),jn(()=>{u&&Vv(u,p)}),h.renderVN=g,h},render(){return this.renderVN()}}),Av=Object.assign({},Gi,{install(e){e.component(Gi.name,Gi)}});dn.use(Av);We.component(Gi);const Yr=pn({name:"VxeCheckbox",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number],default:null},indeterminate:Boolean,title:[String,Number],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},content:[String,Number],disabled:{type:Boolean,default:null},size:{type:String,default:()=>U().checkbox.size||U().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:l,emit:a}=t,u=jt("$xeForm",null),r=jt("xeFormItemInfo",null),d=jt("$xeCheckboxGroup",null),m=n.uniqueId(),p=ln({}),D={xID:m,props:e,context:t,reactData:p};let C={};const{computeSize:h}=kn(e),S=j(()=>d?n.includes(d.props.modelValue,e.label):e.modelValue===e.checkedValue),w=j(()=>{const{disabled:x}=e,k=S.value;if(x===null&&d){const{computeIsDisabled:R,computeIsMaximize:O}=d.getComputeMaps(),$=R.value,A=O.value;return $||A&&!k}return x}),V=x=>{const{checkedValue:k,uncheckedValue:R}=e;if(!w.value){const $=x.target.checked,A=$?k:R,M={checked:$,value:A,label:e.label};d?d.handleChecked(M,x):(a("update:modelValue",A),C.dispatchEvent("change",M,x),u&&r&&u.triggerItemEvent(x,r.itemConfig.field,A))}};C={dispatchEvent:(x,k,R)=>{a(x,bn(R,{$checkbox:D},k))}},Object.assign(D,C);const i=()=>{const{label:x}=e,k=h.value,R=w.value,O=S.value,$=!O&&e.indeterminate;return o("label",{key:x,class:["vxe-checkbox vxe-checkbox--default",{[`size--${k}`]:k,"is--indeterminate":$,"is--disabled":R,"is--checked":O}],title:e.title},[o("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:R,checked:O,onChange:V}),o("span",{class:["vxe-checkbox--icon",$?Yt().CHECKBOX_INDETERMINATE:O?Yt().CHECKBOX_CHECKED:R?Yt().CHECKBOX_DISABLED_UNCHECKED:Yt().CHECKBOX_UNCHECKED]}),o("span",{class:"vxe-checkbox--label"},l.default?l.default({}):ao(e.content))])};return D.renderVN=i,D},render(){return this.renderVN()}}),$v=Object.assign(Yr,{install(e){e.component(Yr.name,Yr)}});dn.use($v);We.component(Yr);const Yi=pn({name:"VxeCheckboxButton",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},content:[String,Number],disabled:{type:Boolean,default:null},size:{type:String,default:()=>U().checkboxButton.size||U().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:l,emit:a}=t,u=jt("$xeForm",null),r=jt("xeFormItemInfo",null),d=jt("$xeCheckboxGroup",null),m=n.uniqueId(),p=ln({}),{computeSize:D}=kn(e),C={xID:m,props:e,context:t,reactData:p},h=j(()=>d?n.includes(d.props.modelValue,e.label):e.modelValue===e.checkedValue),S=j(()=>{const{disabled:x}=e,k=h.value;if(x===null&&d){const{computeIsDisabled:R,computeIsMaximize:O}=d.getComputeMaps(),$=R.value,A=O.value;return $||A&&!k}return x}),w=x=>{const{checkedValue:k,uncheckedValue:R}=e;if(!S.value){const $=x.target.checked,A=$?k:R,M={checked:$,value:A,label:e.label};d?d.handleChecked(M,x):(a("update:modelValue",A),C.dispatchEvent("change",M,x),u&&r&&u.triggerItemEvent(x,r.itemConfig.field,A))}};Object.assign(C,{dispatchEvent(x,k,R){a(x,bn(R,{$checkboxButton:C},k))}},{});const i=()=>{const{label:x}=e,k=D.value,R=S.value,O=h.value;return o("label",{key:x,class:["vxe-checkbox vxe-checkbox--button",{[`size--${k}`]:k,"is--disabled":R}],title:e.title},[o("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:R,checked:O,onChange:w}),o("span",{class:"vxe-checkbox--label"},l.default?l.default({}):ao(e.content))])};return C.renderVN=i,i}}),Nv=Object.assign(Yi,{install:function(e){e.component(Yi.name,Yi)}});dn.use(Nv);We.component(Yi);const qi=pn({name:"VxeCheckboxGroup",props:{modelValue:Array,options:Array,optionProps:Object,disabled:{type:Boolean,default:null},max:{type:[String,Number],default:null},size:{type:String,default:()=>U().checkboxGroup.size||U().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:l,emit:a}=t,u=jt("$xeForm",null),r=jt("xeFormItemInfo",null),d=n.uniqueId(),m=ln({}),p=j(()=>{const{disabled:O}=e;return O===null?u?u.props.readonly||u.props.disabled:!1:O}),D=j(()=>{const{modelValue:O,max:$}=e;return $?(O?O.length:0)>=n.toNumber($):!1}),C=j(()=>Object.assign({},e.optionProps)),h=j(()=>C.value.label||"label"),S=j(()=>C.value.value||"value"),w=j(()=>C.value.disabled||"disabled"),V={computeIsMaximize:D,computeIsDisabled:p},g={xID:d,props:e,context:t,reactData:m,getComputeMaps:()=>V};kn(e),Object.assign(g,{dispatchEvent:(O,$,A)=>{a(O,bn(A,{$checkboxGroup:g},$))}},{handleChecked(O,$){const{checked:A,label:M}=O,T=e.modelValue||[],_=T.indexOf(M);A?_===-1&&T.push(M):T.splice(_,1),a("update:modelValue",T),g.dispatchEvent("change",Object.assign({},O,{checklist:T,value:T}),$),u&&r&&u.triggerItemEvent($,r.itemConfig.field,T)}});const R=()=>{const{options:O}=e,$=l.default,A=S.value,M=h.value,T=w.value;return o("div",{class:"vxe-checkbox-group"},$?$({}):O?O.map(_=>o(Yr,{key:_[A],label:_[A],content:_[M],disabled:_[T]})):[])};return An("$xeCheckboxGroup",g),g.renderVN=R,R}}),Lv=Object.assign(qi,{install(e){e.component(qi.name,qi)}});dn.use(Lv);We.component(qi);const Ui=pn({name:"VxeCol",props:{span:[Number,String],align:String,width:[Number,String],fill:Boolean,ellipsis:Boolean,size:{type:String,default:()=>U().col.size||U().size}},emits:[],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId();kn(e);const r=st(),d=ln({}),m={refElem:r},p=jt("$xeRow",null),D=j(()=>p?p.props.gutter:null),C=j(()=>p?p.props.vertical:null),h=j(()=>{const{width:k}=e,R=D.value,O=C.value,$={};if(R){let[A,M]=n.isArray(R)?R:[R];if(O&&(M=A,A=""),A){const T=n.isNumber(A)?rn(A/2):`calc(${rn(A)} / 2)`;$.paddingLeft=T,$.paddingRight=T}if(M){const T=n.isNumber(M)?rn(M/2):`calc(${rn(M)} / 2)`;$.paddingTop=T,$.paddingBottom=T}}return k&&($.width=rn(k)),$}),S={},w={xID:u,props:e,context:t,reactData:d,getRefMaps:()=>m,getComputeMaps:()=>S};Object.assign(w,{dispatchEvent:(k,R,O)=>{a(k,bn(O,{$col:w},R))}},{});const x=()=>{const{span:k,fill:R,align:O,width:$,ellipsis:A}=e,M=h.value,T=l.default;return o("div",{ref:r,class:["vxe-col",k?`span${k}`:"",O?`align--${O}`:"",{"is--span":!!k,"is--width":!!$,"is--fill":R,"is--ellipsis":A}],style:M},[o("div",{class:"vxe-col--inner"},T?T({}):[])])};return w.renderVN=x,w},render(){return this.renderVN()}}),Bv=Object.assign({},Ui,{install(e){e.component(Ui.name,Ui)}});dn.use(Bv);We.component(Ui);const Ki=pn({name:"VxeCollapse",props:{modelValue:Array,options:Array,padding:{type:Boolean,default:()=>U().collapse.padding},expandConfig:Object,size:{type:String,default:()=>U().collapse.size||U().size}},emits:["update:modelValue","load","change","toggle-expand"],setup(e,t){const{emit:l,slots:a}=t,u=n.uniqueId(),{computeSize:r}=kn(e),d=st(),m=ln({staticPanes:[],activeNames:[],initNames:[],cachePaneMaps:{}}),p={refElem:d},D=j(()=>{const{options:z}=e;return(z||[]).filter(Z=>V(Z))}),C=j(()=>{const{staticPanes:z}=m;return z.filter(Z=>V(Z))}),h=j(()=>Object.assign({},U().collapse.expandConfig,e.expandConfig)),S={},w={xID:u,props:e,context:t,reactData:m,getRefMaps:()=>p,getComputeMaps:()=>S},V=z=>{const{permissionCode:Z}=z;return!(Z&&!gr.checkVisible(Z))},g=z=>{const{initNames:Z}=m;return z&&!Z.includes(z)?(Z.push(z),x("load",{name:z},null),!0):!1},i=z=>{const{activeNames:Z}=m,J={};z&&z.length&&z.forEach(W=>{const{name:Q,preload:ge}=W||{};if(Q){const fe=Z.includes(Q);J[`${Q}`]={loading:!1},fe&&g(Q),ge&&(fe||Z.push(Q))}}),m.activeNames=Z?Z.slice(0):[],m.cachePaneMaps=J},x=(z,Z,J)=>{l(z,bn(J,{$collapse:w},Z))},k={dispatchEvent:x},R=(z,Z)=>z&&(n.isString(z)&&(z=a[z]||null),n.isFunction(z))?mn(z(Z)):[],O=(z,Z)=>{const{activeNames:J}=m,{name:W}=Z;if(W){const Q=J.indexOf(W);let ge=!1;Q===-1?(ge=!0,J.push(W)):J.splice(Q,1),g(W),x("change",{value:J,name:W},z),x("toggle-expand",{value:J,name:W,expanded:ge},z)}};Object.assign(w,k,{});const A=z=>{const{activeNames:Z,initNames:J}=m,W=h.value;return z.map(Q=>{const{icon:ge,name:fe,title:ve,slots:oe}=Q,Ee=oe?oe.title:null,re=oe?oe.default:null,Y=fe&&Z.includes(fe);return o("div",{class:"vxe-collapse-item"},[o("div",{class:"vxe-collapse--item-header",onClick(Oe){O(Oe,Q)}},[W.showIcon?o("span",{class:"vxe-collapse--item-switch"},[o("i",{class:Y?Yt().COLLAPSE_OPEN:Yt().COLLAPSE_CLOSE})]):Mt(),ge?o("span",{class:"vxe-collapse--item-icon"},[o("i",{class:ge})]):Mt(),o("span",{class:"vxe-collapse--item-name"},Ee?R(Ee,{name:fe,title:ve}):`${ve}`)]),o("div",{class:["vxe-collapse--item-content",{"is--visible":Y}]},[fe&&J.includes(fe)?o("div",{class:"vxe-collapse--item-inner"},[re?R(re,{name:fe,title:ve}):""]):Mt()])])})},M=()=>{const{padding:z}=e,Z=r.value,J=D.value,W=C.value,Q=a.default,ge=Q?W:J;return o("div",{ref:d,class:["vxe-collapse",{[`size--${Z}`]:Z,"is--padding":z}]},[o("div",{class:"vxe-collapse-slots"},Q?Q({}):[]),A(ge)])};Dt(()=>e.modelValue,z=>{m.activeNames=z||[]});const T=st(0);Dt(()=>e.options?e.options.length:-1,()=>{T.value++}),Dt(()=>e.options,()=>{T.value++}),Dt(T,()=>{i(e.options)});const _=st(0);return Dt(()=>m.staticPanes?m.staticPanes.length:-1,()=>{_.value++}),Dt(()=>m.staticPanes,()=>{_.value++}),Dt(_,()=>{i(m.staticPanes)}),m.activeNames=e.modelValue||[],i(m.staticPanes.length?m.staticPanes:e.options),An("$xeCollapse",w),w.renderVN=M,w},render(){return this.renderVN()}}),zv=Object.assign({},Ki,{install(e){e.component(Ki.name,Ki)}});dn.use(zv);We.component(Ki);function Hv(e,t,l){const a=e.reactData.staticPanes,u=t.parentNode;u&&(a.splice(n.arrayIndexOf(u.children,t),0,l),e.reactData.staticPanes=a.slice(0))}function _v(e,t){const l=e.reactData.staticPanes,a=n.findTree(l,u=>u.id===t.id,{children:"children"});a&&a.items.splice(a.index,1),e.reactData.staticPanes=l.slice(0)}const Xi=pn({name:"VxeCollapsePane",props:{title:[String,Number],name:[String,Number],icon:String,preload:Boolean,permissionCode:[String,Number]},emits:[],setup(e,t){const{emit:l,slots:a}=t,u=n.uniqueId(),r=jt("$xeCollapse",null),d=st(),m=ln({}),p=ln({id:u,title:e.title,name:e.name,icon:e.icon,preload:e.preload,permissionCode:e.permissionCode,slots:a}),D={refElem:d},C={},h={xID:u,props:e,context:t,reactData:m,getRefMaps:()=>D,getComputeMaps:()=>C};Object.assign(h,{dispatchEvent:(i,x,k)=>{l(i,bn(k,{$collapsePane:h},x))}},{});const g=()=>o("div",{ref:d},[]);return Dt(()=>e.title,i=>{p.title=i}),Dt(()=>e.name,i=>{p.name=i}),Dt(()=>e.icon,i=>{p.icon=i}),Dt(()=>e.permissionCode,i=>{p.permissionCode=i}),Ln(()=>{const i=d.value;r&&i&&Hv(r,i,p)}),jn(()=>{r&&_v(r,p)}),h.renderVN=g,h},render(){return this.renderVN()}}),jv=Object.assign({},Xi,{install(e){e.component(Xi.name,Xi)}});dn.use(jv);We.component(Xi);const Od={},Id={};"FF,FC,FA,F7,F5,F2,F0,ED,EB,E8,E6,E3,E0,DE,DB,D9,D6,D4,D1,CF,CC,C9,C7,C4,C2,BF,BD,BA,B8,B5,B3,B0,AD,AB,A8,A6,A3,A1,9E,9C,99,96,94,91,8F,8C,8A,87,85,82,80,7D,7A,78,75,73,70,6E,6B,69,66,63,61,5E,5C,59,57,54,52,4F,4D,4A,47,45,42,40,3D,3B,38,36,33,30,2E,2B,29,26,24,21,1F,1C,1A,17,14,12,0F,0D,0A,08,05,03,00".split(",").forEach((e,t)=>{const l=(100-t)/100;Od[e]=l,Id[l]=e});const Wv=/^rgb(a?)\((\d{1,3})[,\s]+(\d{1,3})[,\s]+(\d{1,3})([,//\s]+([0-9.]{1,4})(%?))?\)$/,Gv=/^(#?)([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;function Zi(e){const t={value:"",type:"",hex:"",hexV:"",hexA:"",r:0,g:0,b:0,a:1};if(e){const l=e.match(Gv);l&&(t.value=e,t.type="hex",t.hex=e,t.hexV=l[2],t.hexA=l[3]||"",t.a=(l[3]?Od[l[3].toUpperCase()]:1)||1);const a=e.match(Wv);a&&(t.value=e,t.type=a[6]?"rgba":"rgb",t.r=parseInt(a[2]),t.g=parseInt(a[3]),t.b=parseInt(a[4]),t.a=a[7]?parseInt(a[6])/100:a[6]?parseFloat(a[6]):1)}return t}function Yv(e,t=1){const l=Zi(e),{type:a,hexV:u,r,g:d,b:m}=l;return a==="rgb"||a==="rgba"?Ji(r,d,m,t):a==="hex"?`#${u}${t===1?"":Id[t]||""}`:""}function Ji(e,t,l,a){return n.eqNull(a)?`rgb(${e},${t},${l})`:`rgba(${e},${t},${l},${a})`}function qv(e){if(!e)return"";const{r:t,g:l,b:a,a:u=1}=e,r=t.toString(16).padStart(2,"0"),d=l.toString(16).padStart(2,"0"),m=a.toString(16).padStart(2,"0"),p=u===1?"":Id[u]||"";return`#${r}${d}${m}${p}`.toUpperCase()}function ud(e){if(!e)return null;const{r:t,g:l,b:a}=e,u=t/255,r=l/255,d=a/255;let m=0,p=0;const D=Math.max(u,r,d),C=D-Math.min(u,r,d),h=S=>(D-S)/6/C+1/2;if(C===0)m=p=0;else{p=C/D;const S=h(u),w=h(r),V=h(d);u===D?m=V-w:r===D?m=1/3+S-V:d===D&&(m=2/3+w-S),m<0?m+=1:m>1&&(m-=1)}return{h:Math.round(m*360),s:n.round(p,2),v:n.round(D,2)}}function Uv(e,t,l){let a=0,u=0,r=0;const d=Math.floor(e/60),m=e/60-d,p=l*(1-t),D=l*(1-m*t),C=l*(1-(1-m)*t);switch(d){case 0:a=l,u=C,r=p;break;case 1:a=D,u=l,r=p;break;case 2:a=p,u=l,r=C;break;case 3:a=p,u=D,r=l;break;case 4:a=C,u=p,r=l;break;case 5:a=l,u=p,r=D;break}return{r:Math.round(a*255),g:Math.round(u*255),b:Math.round(r*255)}}function Sf(e){const t=Cg(e);return t?ud(t):null}function Cg(e){if(e){const t=e.match(/^(#?)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})?$/);if(t)return{r:parseInt(t[2],16),g:parseInt(t[3],16),b:parseInt(t[4],16),a:(t[5]?Od[t[5].toUpperCase()]:1)||1}}return null}function zl(e){return n.isString(e)?e.replace(/[^0-9e.-]/g,""):e}function qr(e,t){return/^-/.test(""+e)?n.toFixed(n.ceil(e,t),t):n.toFixed(n.floor(e,t),t)}const ss=pn({name:"VxeInput",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,title:String,type:{type:String,default:"text"},clearable:{type:Boolean,default:()=>U().input.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:{type:String,default:null},maxLength:{type:[String,Number],default:()=>U().input.maxLength},autoComplete:{type:String,default:"off"},autoFocus:{type:Boolean,default:null},align:String,form:String,className:String,size:{type:String,default:()=>U().input.size||U().size},multiple:Boolean,showWordCount:Boolean,countMethod:Function,min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],trim:{type:Boolean,default:()=>U().input.trim},exponential:{type:Boolean,default:()=>U().input.exponential},controls:{type:Boolean,default:()=>U().input.controls},digits:{type:[String,Number],default:()=>U().input.digits},startDate:{type:[String,Number,Date],default:()=>U().input.startDate},endDate:{type:[String,Number,Date],default:()=>U().input.endDate},minDate:[String,Number,Date],maxDate:[String,Number,Date],startWeek:Number,startDay:{type:[String,Number],default:()=>U().input.startDay},labelFormat:String,valueFormat:String,editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>U().input.festivalMethod},disabledMethod:{type:Function,default:()=>U().input.disabledMethod},selectDay:{type:[String,Number],default:()=>U().input.selectDay},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:null},maxlength:[String,Number],autocomplete:String},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","lazy-change","search-click","toggle-visible","prev-number","next-number","prefix-click","suffix-click","date-prev","date-today","date-next"],setup(e,t){const{slots:l,emit:a}=t,u=jt("$xeSelect",null),r=jt("$xeTreeSelect",null),d=jt("$xeModal",null),m=jt("$xeDrawer",null),p=jt("$xeTable",null),D=jt("$xeForm",null),C=jt("xeFormItemInfo",null),h=n.uniqueId(),{computeSize:S}=kn(e),w=ln({initialized:!1,panelIndex:0,showPwd:!1,visiblePanel:!1,isAniVisible:!1,panelStyle:{},panelPlacement:"",isActivated:!1,inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),V={yearSize:12,monthSize:20,quarterSize:8,hpTimeout:void 0,dnTimeout:void 0},g=st(),i=st(),x=st(),k=st(),R=st(),O={refElem:g,refInput:i},$={xID:h,props:e,context:t,reactData:w,internalData:V,getRefMaps:()=>O};let A={};const M=(le,ct)=>{const{type:Et}=e;return Et==="time"?Md(le):n.toStringDate(le,ct)},T=j(()=>{const{transfer:le}=e;if(le===null){const ct=U().input.transfer;if(n.isBoolean(ct))return ct;if(p||d||m||D)return!0}return le}),_=j(()=>D?D.props.readonly:!1),z=j(()=>{const{readonly:le}=e;return le}),Z=j(()=>{const{disabled:le}=e;return le===null?D?D.props.disabled:!1:le}),J=j(()=>{const{maxLength:le,maxlength:ct}=e,Et=le||ct;return Q.value&&!n.toNumber(Et)?16:Et}),W=j(()=>{const{type:le}=e;return le==="time"||le==="datetime"}),Q=j(()=>["number","integer","float"].indexOf(e.type)>-1),ge=j(()=>n.getSize(w.inputValue)),fe=j(()=>{const le=ge.value,ct=J.value;return ct&&le>n.toNumber(ct)}),ve=j(()=>W.value||["date","week","month","quarter","year"].indexOf(e.type)>-1),oe=j(()=>e.type==="password"),Ee=j(()=>e.type==="search"),re=j(()=>n.toInteger(e.digits)||1),Y=j(()=>{const{type:le}=e,ct=re.value,Et=e.step;return le==="integer"?n.toInteger(Et)||1:le==="float"?n.toNumber(Et)||1/Math.pow(10,ct):n.toNumber(Et)||1}),Oe=j(()=>{const{type:le}=e,ct=Q.value,Et=ve.value,Nt=oe.value;return e.clearable&&(Nt||ct||Et||le==="text"||le==="search")}),ze=j(()=>e.startDate?n.toStringDate(e.startDate):null),ce=j(()=>e.endDate?n.toStringDate(e.endDate):null),ue=j(()=>["date","week","month","quarter","year"].indexOf(e.type)>-1),me=j(()=>{const{modelValue:le,multiple:ct}=e,Et=ve.value,Nt=pe.value;return ct&&le&&Et?n.toValueString(le).split(",").map(Ut=>{const Jt=M(Ut,Nt);return n.isValidDate(Jt)?Jt:null}):[]}),be=j(()=>{const le=me.value,ct=pe.value;return le.map(Et=>n.toDateString(Et,ct))}),Se=j(()=>{const le=me.value,ct=ne.value;return le.map(Et=>n.toDateString(Et,ct)).join(", ")}),pe=j(()=>{const{type:le,valueFormat:ct}=e;return ct||(le==="time"?"HH:mm:ss":le==="datetime"?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")}),Ae=j(()=>{const{modelValue:le}=e,ct=ve.value,Et=pe.value;let Nt=null;if(le&&ct){const Ut=M(le,Et);n.isValidDate(Ut)&&(Nt=Ut)}return Nt}),_e=j(()=>{const le=ze.value,{selectMonth:ct}=w;return ct&&le?ct<=le:!1}),ae=j(()=>{const le=ce.value,{selectMonth:ct}=w;return ct&&le?ct>=le:!1}),Re=j(()=>{const{datetimePanelValue:le}=w,ct=Vt.value;return le?n.toDateString(le,ct?"HH:mm:ss":"HH:mm"):""}),Ie=j(()=>{const le=Ae.value,ct=W.value;return le&&ct?(le.getHours()*3600+le.getMinutes()*60+le.getSeconds())*1e3:0}),ne=j(()=>{const{labelFormat:le}=e;return ve.value?le||Wt(`vxe.input.date.labelFormat.${e.type}`):""}),se=j(()=>{const{selectMonth:le,currentDate:ct}=w,{yearSize:Et}=V,Nt=[];if(le&&ct){const Ut=ct.getFullYear(),Jt=le.getFullYear(),Gt=new Date(Jt-Jt%Et,0,1);for(let Kt=-4;Kt<Et+4;Kt++){const It=n.getWhatYear(Gt,Kt,"first"),sn=It.getFullYear();Nt.push({date:It,isCurrent:!0,isPrev:Kt<0,isNow:Ut===sn,isNext:Kt>=Et,year:sn})}}return Nt}),F=j(()=>{const le=ve.value;let ct="",Et="";if(le){const{datePanelType:Nt,selectMonth:Ut}=w,Jt=se.value;let Gt="",Kt;Ut&&(Gt=Ut.getFullYear(),Kt=Ut.getMonth()+1),Nt==="quarter"||Nt==="month"?ct=Wt("vxe.datePicker.yearTitle",[Gt]):Nt==="year"?ct=Jt.length?`${Jt[0].year} - ${Jt[Jt.length-1].year}`:"":(ct=Wt("vxe.datePicker.yearTitle",[Gt]),Et=Kt?Wt(`vxe.input.date.m${Kt}`):"-")}return{y:ct,m:Et}}),B=j(()=>{const{startDay:le,startWeek:ct}=e;return n.toNumber(n.isNumber(le)||n.isString(le)?le:ct)}),te=j(()=>{const le=[];if(ve.value){let Et=B.value;le.push(Et);for(let Nt=0;Nt<6;Nt++)Et>=6?Et=0:Et++,le.push(Et)}return le}),de=j(()=>ve.value?te.value.map(Et=>({value:Et,label:Wt(`vxe.input.date.weeks.w${Et}`)})):[]),Te=j(()=>{if(ve.value){const ct=de.value;return[{label:Wt("vxe.input.date.weeks.w")}].concat(ct)}return[]}),Ke=j(()=>{const le=se.value;return n.chunk(le,4)}),Ye=j(()=>{const{selectMonth:le,currentDate:ct}=w,{quarterSize:Et}=V,Nt=[];if(le&&ct){const Ut=ct.getFullYear(),Jt=hr(ct),Gt=n.getWhatYear(le,0,"first"),Kt=Gt.getFullYear();for(let It=-2;It<Et-2;It++){const sn=n.getWhatQuarter(Gt,It),On=sn.getFullYear(),Dn=hr(sn),so=On<Kt;Nt.push({date:sn,isPrev:so,isCurrent:On===Kt,isNow:On===Ut&&Dn===Jt,isNext:!so&&On>Kt,quarter:Dn})}}return Nt}),Qe=j(()=>{const le=Ye.value;return n.chunk(le,2)}),lt=j(()=>{const{selectMonth:le,currentDate:ct}=w,{monthSize:Et}=V,Nt=[];if(le&&ct){const Ut=ct.getFullYear(),Jt=ct.getMonth(),Gt=n.getWhatYear(le,0,"first").getFullYear();for(let Kt=-4;Kt<Et-4;Kt++){const It=n.getWhatYear(le,0,Kt),sn=It.getFullYear(),On=It.getMonth(),Dn=sn<Gt;Nt.push({date:It,isPrev:Dn,isCurrent:sn===Gt,isNow:sn===Ut&&On===Jt,isNext:!Dn&&sn>Gt,month:On})}}return Nt}),et=j(()=>{const le=lt.value;return n.chunk(le,4)}),ht=j(()=>{const{selectMonth:le,currentDate:ct}=w,Et=[];if(le&&ct){const Nt=Ie.value,Ut=te.value,Jt=ct.getFullYear(),Gt=ct.getMonth(),Kt=ct.getDate(),It=le.getFullYear(),sn=le.getMonth(),On=le.getDay(),Dn=-Ut.indexOf(On),so=new Date(n.getWhatDay(le,Dn).getTime()+Nt);for(let Ko=0;Ko<42;Ko++){const Jo=n.getWhatDay(so,Ko),No=Jo.getFullYear(),vo=Jo.getMonth(),Cl=Jo.getDate(),Mo=Jo<le;Et.push({date:Jo,isPrev:Mo,isCurrent:No===It&&vo===sn,isNow:No===Jt&&vo===Gt&&Cl===Kt,isNext:!Mo&&sn!==vo,label:Cl})}}return Et}),Ot=j(()=>{const le=ht.value;return n.chunk(le,7)}),ut=j(()=>{const le=Ot.value,ct=B.value;return le.map(Et=>{const Nt=Et[0];return[{date:Nt.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:n.getYearWeek(Nt.date,ct)}].concat(Et)})}),wt=j(()=>{const le=[];if(W.value)for(let Et=0;Et<24;Et++)le.push({value:Et,label:(""+Et).padStart(2,"0")});return le}),mt=j(()=>{const le=[];if(W.value)for(let Et=0;Et<60;Et++)le.push({value:Et,label:(""+Et).padStart(2,"0")});return le}),Rt=j(()=>{const le=pe.value;return!/HH/.test(le)||/mm/.test(le)}),Vt=j(()=>{const le=pe.value;return!/HH/.test(le)||/ss/.test(le)}),he=j(()=>mt.value),$e=j(()=>{const{type:le,editable:ct,multiple:Et}=e;return z.value||Et||!ct||le==="week"||le==="quarter"}),nt=j(()=>{const{type:le}=e,{showPwd:ct}=w,Et=Q.value,Nt=ve.value,Ut=oe.value;return Nt||Et||Ut&&ct||le==="number"?"text":le}),ft=j(()=>{const{placeholder:le}=e;if(le)return ao(le);if(n.eqNull(le)){const ct=U().input.placeholder;return ct?ao(ct):Wt("vxe.base.pleaseInput")}return le}),vt=j(()=>{const{type:le,immediate:ct}=e;return ct||!(le==="text"||le==="number"||le==="integer"||le==="float")}),v=j(()=>{const{type:le}=e,{inputValue:ct}=w;return Q.value?le==="integer"?n.toInteger(zl(ct)):n.toNumber(zl(ct)):0}),L=j(()=>{const{min:le}=e,{inputValue:ct}=w,Et=Q.value,Nt=v.value;return(ct||ct===0)&&Et&&le!==null?Nt<=n.toNumber(le):!1}),N=j(()=>{const{max:le}=e,{inputValue:ct}=w,Et=Q.value,Nt=v.value;return(ct||ct===0)&&Et&&le!==null?Nt>=n.toNumber(le):!1}),ie=le=>{const{type:ct,exponential:Et}=e,Nt=J.value,Ut=re.value,Jt=ct==="float"?qr(le,Ut):n.toValueString(le);return Et&&(le===Jt||n.toValueString(le).toLowerCase()===n.toNumber(Jt).toExponential())?le:Jt.slice(0,Nt)},Me=le=>{a("update:modelValue",le)},He=le=>{const{inputValue:ct}=w;A.dispatchEvent(le.type,{value:ct},le)},Ve=(le,ct)=>{e.trim&&(le=`${le||""}`.trim()),w.inputValue=le,Me(le),A.dispatchEvent("input",{value:le},ct),n.toValueString(e.modelValue)!==le&&(A.dispatchEvent("change",{value:le},ct),!u&&!r&&D&&C&&D.triggerItemEvent(ct,C.itemConfig.field,le))},ye=(le,ct)=>{const Et=ve.value,Nt=vt.value;w.inputValue=le,Et||(Nt?Ve(le,ct):A.dispatchEvent("input",{value:le},ct))},P=le=>{const Et=le.target.value;ye(Et,le)},q=le=>{vt.value||He(le),$.dispatchEvent("lazy-change",{value:w.inputValue},le)},Pe=le=>{const{inputValue:ct}=w,Et=vt.value,Nt=ct;Et||Ve(Nt,le),Ce(),w.visiblePanel||(w.isActivated=!1),A.dispatchEvent("blur",{value:Nt},le),!u&&!r&&D&&C&&D.triggerItemEvent(le,C.itemConfig.field,Nt)},qe=le=>{const{inputValue:ct}=w,Et=Q.value,Nt=ve.value;w.isActivated=!0,Et?w.inputValue=es(ct)?"":`${n.toNumber(ct)}`:Nt&&Zo(le),He(le)},Ze=le=>{if(!Z.value){const{inputValue:Et}=w;$.dispatchEvent("prefix-click",{value:Et},le)}},K=()=>new Promise(le=>{w.visiblePanel=!1,V.hpTimeout=setTimeout(()=>{w.isAniVisible=!1,le()},350)}),xe=(le,ct)=>{const{type:Et,autoFocus:Nt}=e,Ut=Q.value;ve.value&&K(),(Nt||Nt===null)&&(Ut||["text","search","password"].indexOf(Et)>-1)&&focus(),Ve("",le),$.dispatchEvent("clear",{value:ct},le),$.dispatchEvent("lazy-change",{value:ct},le)},Ne=le=>{if(!Z.value){const{inputValue:Et}=w;$.dispatchEvent("suffix-click",{value:Et},le)}},Ge=le=>{const{type:ct}=e,Et=ne.value,Nt=pe.value,Ut=B.value;let Jt=null,Gt="";if(le&&(Jt=M(le,Nt)),n.isValidDate(Jt)){if(Gt=n.toDateString(Jt,Et,{firstDay:Ut}),Et&&ct==="week"){const Kt=n.getYearWeek(Jt,Ut),sn=n.getWhatWeek(Jt,0,Kt===1?(6+Ut)%7:Ut,Ut).getFullYear();if(sn!==Jt.getFullYear()){const On=Et.indexOf("yyyy");if(On>-1){const Dn=Number(Gt.substring(On,On+4));Dn&&!isNaN(Dn)&&(Gt=Gt.replace(`${Dn}`,`${sn}`))}}}}else Jt=null;w.datePanelValue=Jt,w.datePanelLabel=Gt},ot=()=>{const le=ve.value,{inputValue:ct}=w;le&&(Ge(ct),w.inputValue=e.multiple?Se.value:w.datePanelLabel)},it=()=>{const{type:le}=e,{inputValue:ct}=w,Et=ve.value,Nt=re.value;if(Et)ot();else if(le==="float"&&ct){const Ut=qr(ct,Nt);ct!==Ut&&Ve(Ut,{type:"init"})}},Tt=le=>e.max===null||e.max===""||n.toNumber(le)<=n.toNumber(e.max),zt=le=>e.min===null||e.min===""||n.toNumber(le)>=n.toNumber(e.min),_t=()=>{w.inputValue=e.multiple?Se.value:w.datePanelLabel},Fe=le=>{const ct=B.value,Et=n.getYearWeek(le,ct),Nt=n.getWhatWeek(le,0,ct,ct),Ut=n.getWhatMonth(Et===1?n.getWhatDay(Nt,6):le,0,"first");n.isEqual(Ut,w.selectMonth)||(w.selectMonth=Ut)},X=le=>{const{modelValue:ct,multiple:Et}=e,{datetimePanelValue:Nt}=w,Ut=W.value,Jt=pe.value,Gt=B.value;if(e.type==="week"){const It=n.toNumber(e.selectDay);le=n.getWhatWeek(le,0,It,Gt)}else Ut&&(le.setHours(Nt.getHours()),le.setMinutes(Nt.getMinutes()),le.setSeconds(Nt.getSeconds()));const Kt=n.toDateString(le,Jt,{firstDay:Gt});if(Fe(le),Et){const It=be.value;if(Ut){const sn=[...me.value],On=[],Dn=n.findIndexOf(sn,so=>n.isDateSame(le,so,"yyyyMMdd"));Dn===-1?sn.push(le):sn.splice(Dn,1),sn.forEach(so=>{so&&(so.setHours(Nt.getHours()),so.setMinutes(Nt.getMinutes()),so.setSeconds(Nt.getSeconds()),On.push(so))}),Ve(On.map(so=>n.toDateString(so,Jt)).join(","),{type:"update"})}else It.some(sn=>n.isEqual(sn,Kt))?Ve(It.filter(sn=>!n.isEqual(sn,Kt)).join(","),{type:"update"}):Ve(It.concat([Kt]).join(","),{type:"update"})}else n.isEqual(ct,Kt)||Ve(Kt,{type:"update"})},Ce=()=>{const{type:le,min:ct,max:Et,exponential:Nt}=e,{inputValue:Ut,datetimePanelValue:Jt}=w,Gt=Q.value,Kt=ve.value,It=ne.value;if(!$e.value){if(Gt){if(Ut){const On=`${zl(Ut)}`;if(On){let Dn=le==="integer"?n.toInteger(On):n.toNumber(On);if(zt(Dn)?Tt(Dn)||(Dn=Et):Dn=ct,Nt){const so=n.toValueString(Ut).toLowerCase();so===n.toNumber(Dn).toExponential()&&(Dn=so)}Ve(ie(Dn),{type:"check"})}else{let Dn="";(ct||ct===0)&&(Dn=`${ct}`),Ve(Dn,{type:"check"})}}}else if(Kt)if(Ut){let On=M(Ut,It);if(n.isValidDate(On))if(le==="time")On=n.toDateString(On,It),Ut!==On&&Ve(On,{type:"check"}),w.inputValue=On;else{let Dn=!1;const so=B.value;if(le==="datetime"){const Ko=Ae.value;(Ut!==n.toDateString(Ko,It)||Ut!==n.toDateString(On,It))&&(Dn=!0,Jt.setHours(On.getHours()),Jt.setMinutes(On.getMinutes()),Jt.setSeconds(On.getSeconds()))}else Dn=!0;w.inputValue=n.toDateString(On,It,{firstDay:so}),Dn&&X(On)}else _t()}else Ve("",{type:"check"})}},at=le=>{const{showPwd:ct}=w,Et=Z.value,Nt=z.value;!Et&&!Nt&&(w.showPwd=!ct),A.dispatchEvent("toggle-visible",{visible:w.showPwd},le)},gt=le=>{A.dispatchEvent("search-click",{},le)},St=(le,ct)=>{const{min:Et,max:Nt,type:Ut}=e,{inputValue:Jt}=w,Gt=Y.value,Kt=Ut==="integer"?n.toInteger(zl(Jt)):n.toNumber(zl(Jt)),It=le?n.add(Kt,Gt):n.subtract(Kt,Gt);let sn;zt(It)?Tt(It)?sn=It:sn=Nt:sn=Et,ye(ie(sn),ct)},bt=le=>{const ct=Z.value,Et=z.value,Nt=L.value;tn(),!ct&&!Et&&!Nt&&St(!1,le),A.dispatchEvent("next-number",{value:w.inputValue},le)},yt=le=>{V.dnTimeout=setTimeout(()=>{bt(le),yt(le)},60)},xt=le=>{const ct=Z.value,Et=z.value,Nt=N.value;tn(),!ct&&!Et&&!Nt&&St(!0,le),A.dispatchEvent("prev-number",{value:w.inputValue},le)},Ct=le=>{const ct=At.hasKey(le,Sn.ARROW_UP),Et=At.hasKey(le,Sn.ARROW_DOWN);(ct||Et)&&(le.preventDefault(),ct?xt(le):bt(le))},$t=le=>{const{type:ct,exponential:Et,controls:Nt}=e;if(Q.value){const Jt=wd(le),Gt=le.shiftKey,Kt=le.altKey,It=le.keyCode,sn=At.hasKey(le,Sn.ESCAPE),On=At.hasKey(le,Sn.ARROW_UP),Dn=At.hasKey(le,Sn.ARROW_DOWN);!Jt&&!Gt&&!Kt&&(At.hasKey(le,Sn.SPACEBAR)||ct==="integer"&&It===110||(!Et||It!==69)&&It>=65&&It<=90||It>=186&&It<=188||It>=191)&&le.preventDefault(),sn?Ce():(On||Dn)&&Nt&&Ct(le)}He(le)},on=le=>{He(le)},tn=()=>{const{dnTimeout:le}=V;le&&(clearTimeout(le),V.dnTimeout=void 0)},Qt=le=>{V.dnTimeout=setTimeout(()=>{xt(le),Qt(le)},60)},vn=le=>{if(tn(),le.button===0){const ct=mr(le.currentTarget,"is--prev");ct?xt(le):bt(le),V.dnTimeout=setTimeout(()=>{ct?Qt(le):yt(le)},500)}},Xn=le=>{if(Q.value&&e.controls&&w.isActivated){const Et=le.deltaY;Et>0?bt(le):Et<0&&xt(le),le.preventDefault()}He(le)},Zn=(le,ct)=>{const Et=B.value,Nt=n.getYearWeek(le,Et),Ut=n.getWhatWeek(le,0,Et,Et),Jt=n.getWhatMonth(Nt===1?n.getWhatDay(Ut,6):le,ct,"first");w.selectMonth=Jt},Co=()=>{const le=n.getWhatDay(Date.now(),0,"first");w.currentDate=le,Zn(le,0)},Wn=()=>{w.datePanelType="year"},ro=()=>{let{datePanelType:le}=w;le==="month"||le==="quarter"?le="year":le="month",w.datePanelType=le},po=le=>{const{type:ct}=e,{datePanelType:Et,selectMonth:Nt,inputValue:Ut}=w,{yearSize:Jt}=V,Gt=Ut;if(!_e.value){let It;ct==="year"?It=n.getWhatYear(Nt,-Jt,"first"):ct==="month"||ct==="quarter"?Et==="year"?It=n.getWhatYear(Nt,-Jt,"first"):It=n.getWhatYear(Nt,-1,"first"):Et==="year"?It=n.getWhatYear(Nt,-Jt,"first"):Et==="month"?It=n.getWhatYear(Nt,-1,"first"):It=n.getWhatMonth(Nt,-1,"first"),w.selectMonth=It,A.dispatchEvent("date-prev",{viewType:Et,viewDate:It,value:Gt,type:ct},le)}},wo=le=>{Co(),e.multiple||(X(w.currentDate),K()),A.dispatchEvent("date-today",{type:e.type},le)},Jn=le=>{const{type:ct}=e,{datePanelType:Et,selectMonth:Nt,inputValue:Ut}=w,{yearSize:Jt}=V,Gt=Ut;if(!ae.value){let It;ct==="year"?It=n.getWhatYear(Nt,Jt,"first"):ct==="month"||ct==="quarter"?Et==="year"?It=n.getWhatYear(Nt,Jt,"first"):It=n.getWhatYear(Nt,1,"first"):Et==="year"?It=n.getWhatYear(Nt,Jt,"first"):Et==="month"?It=n.getWhatYear(Nt,1,"first"):It=n.getWhatMonth(Nt,1,"first"),w.selectMonth=It,A.dispatchEvent("date-next",{viewType:Et,viewDate:It,value:Gt,type:ct},le)}},_n=le=>{const{disabledMethod:ct}=e,{datePanelType:Et}=w,Nt=ze.value,Ut=ce.value,{date:Jt}=le;return Nt&&Nt.getTime()>Jt.getTime()||Ut&&Ut.getTime()<Jt.getTime()?!0:ct?ct({type:Et,viewType:Et,date:Jt,$input:$}):!1},io=le=>{const{type:ct,multiple:Et}=e,{datePanelType:Nt}=w;ct==="month"?Nt==="year"?(w.datePanelType="month",Fe(le)):(X(le),Et||K()):ct==="year"?(X(le),Et||K()):ct==="quarter"?Nt==="year"?(w.datePanelType="quarter",Fe(le)):(X(le),Et||K()):Nt==="month"?(w.datePanelType=ct==="week"?ct:"day",Fe(le)):Nt==="year"?(w.datePanelType="month",Fe(le)):(X(le),ct==="datetime"||Et||K())},Ro=le=>{_n(le)||io(le.date)},Vo=le=>{_n({date:le})||(ht.value.some(Et=>n.isDateSame(Et.date,le,"yyyyMMdd"))||Fe(le),Ge(le))},Eo=le=>{_n({date:le})||(se.value.some(Et=>n.isDateSame(Et.date,le,"yyyy"))||Fe(le),Ge(le))},Nn=le=>{_n({date:le})||(Ye.value.some(Et=>n.isDateSame(Et.date,le,"yyyyq"))||Fe(le),Ge(le))},Mn=le=>{_n({date:le})||(lt.value.some(Et=>n.isDateSame(Et.date,le,"yyyyMM"))||Fe(le),Ge(le))},ll=le=>{if(!_n(le)){const{datePanelType:ct}=w;ct==="month"?Mn(le.date):ct==="quarter"?Nn(le.date):ct==="year"?Eo(le.date):Vo(le.date)}},vl=le=>{if(le){const ct=le.offsetHeight,Et=le.parentNode;Et.scrollTop=le.offsetTop-ct*4}},sl=le=>{w.datetimePanelValue=new Date(w.datetimePanelValue.getTime()),vl(le.currentTarget)},bl=(le,ct)=>{w.datetimePanelValue.setHours(ct.value),sl(le)},ea=()=>{const{multiple:le}=e,{datetimePanelValue:ct}=w,Et=Ae.value,Nt=W.value;if(Nt){const Ut=pe.value;if(le){const Jt=be.value;if(Nt){const Gt=[...me.value],Kt=[];Gt.forEach(It=>{It&&(It.setHours(ct.getHours()),It.setMinutes(ct.getMinutes()),It.setSeconds(ct.getSeconds()),Kt.push(It))}),Ve(Kt.map(It=>n.toDateString(It,Ut)).join(","),{type:"update"})}else Ve(Jt.join(","),{type:"update"})}else X(Et||w.currentDate)}K()},Rl=(le,ct)=>{w.datetimePanelValue.setMinutes(ct.value),sl(le)},Ma=(le,ct)=>{w.datetimePanelValue.setSeconds(ct.value),sl(le)},Ts=le=>{const{isActivated:ct,datePanelValue:Et,datePanelType:Nt}=w;if(ct){le.preventDefault();const Ut=At.hasKey(le,Sn.ARROW_LEFT),Jt=At.hasKey(le,Sn.ARROW_UP),Gt=At.hasKey(le,Sn.ARROW_RIGHT),Kt=At.hasKey(le,Sn.ARROW_DOWN);if(Nt==="year"){let It=n.getWhatYear(Et||Date.now(),0,"first");Ut?It=n.getWhatYear(It,-1):Jt?It=n.getWhatYear(It,-4):Gt?It=n.getWhatYear(It,1):Kt&&(It=n.getWhatYear(It,4)),Eo(It)}else if(Nt==="quarter"){let It=n.getWhatQuarter(Et||Date.now(),0,"first");Ut?It=n.getWhatQuarter(It,-1):Jt?It=n.getWhatQuarter(It,-2):Gt?It=n.getWhatQuarter(It,1):Kt&&(It=n.getWhatQuarter(It,2)),Nn(It)}else if(Nt==="month"){let It=n.getWhatMonth(Et||Date.now(),0,"first");Ut?It=n.getWhatMonth(It,-1):Jt?It=n.getWhatMonth(It,-4):Gt?It=n.getWhatMonth(It,1):Kt&&(It=n.getWhatMonth(It,4)),Mn(It)}else{let It=Et||n.getWhatDay(Date.now(),0,"first");const sn=B.value;Ut?It=n.getWhatDay(It,-1):Jt?It=n.getWhatWeek(It,-1,sn):Gt?It=n.getWhatDay(It,1):Kt&&(It=n.getWhatWeek(It,1,sn)),Vo(It)}}},Ms=le=>{const{isActivated:ct}=w;if(ct){const Et=At.hasKey(le,Sn.PAGE_UP);le.preventDefault(),Et?po(le):Jn(le)}},Oa=()=>{const{type:le}=e,ct=W.value,Et=Ae.value;["year","quarter","month","week"].indexOf(le)>-1?w.datePanelType=le:w.datePanelType="day",w.currentDate=n.getWhatDay(Date.now(),0,"first"),Et?(Zn(Et,0),Ge(Et)):Co(),ct&&(w.datetimePanelValue=w.datePanelValue||n.getWhatDay(Date.now(),0,"first"),ke(()=>{const Nt=R.value;n.arrayEach(Nt.querySelectorAll("li.is--selected"),Ut=>{vl(Ut)})}))},is=()=>{w.panelIndex<hl()&&(w.panelIndex=fl())},cs=()=>ke().then(()=>{const{placement:le}=e,{panelIndex:ct}=w,Et=i.value,Nt=x.value,Ut=T.value;if(Et&&Nt){const Jt=Et.offsetHeight,Gt=Et.offsetWidth,Kt=Nt.offsetHeight,It=Nt.offsetWidth,sn=5,On={zIndex:ct},{boundingTop:Dn,boundingLeft:so,visibleHeight:Ko,visibleWidth:Jo}=Ed(Et);let No="bottom";if(Ut){let vo=so,Cl=Dn+Jt;le==="top"?(No="top",Cl=Dn-Kt):le||(Cl+Kt+sn>Ko&&(No="top",Cl=Dn-Kt),Cl<sn&&(No="bottom",Cl=Dn+Jt)),vo+It+sn>Jo&&(vo-=vo+It+sn-Jo),vo<sn&&(vo=sn),Object.assign(On,{left:`${vo}px`,top:`${Cl}px`,minWidth:`${Gt}px`})}else le==="top"?(No="top",On.bottom=`${Jt}px`):le||(On.top=`${Jt}px`,Dn+Jt+Kt>Ko&&Dn-Jt-Kt>sn&&(No="top",On.top="",On.bottom=`${Jt}px`));return w.panelStyle=On,w.panelPlacement=No,ke()}}),Ia=()=>{const{visiblePanel:le}=w,{hpTimeout:ct}=V,Et=Z.value,Nt=ve.value;return!Et&&!le?(w.initialized||(w.initialized=!0),ct&&(clearTimeout(ct),V.hpTimeout=void 0),w.isActivated=!0,w.isAniVisible=!0,Nt&&Oa(),setTimeout(()=>{w.visiblePanel=!0},10),is(),cs()):ke()},Zo=le=>{z.value||(le.preventDefault(),Ia())},br=le=>{He(le)},y=le=>{const{visiblePanel:ct,isActivated:Et}=w,Nt=ve.value,Ut=g.value,Jt=k.value;!Z.value&&Et&&(w.isActivated=Qn(le,Ut).flag||Qn(le,Jt).flag,w.isActivated||(Nt?ct&&(K(),Ce()):Ce()))},Os=le=>{const{clearable:ct}=e,{visiblePanel:Et}=w,Nt=Z.value,Ut=ve.value;if(!Nt){const Jt=At.hasKey(le,Sn.TAB),Gt=At.hasKey(le,Sn.DELETE),Kt=At.hasKey(le,Sn.ESCAPE),It=At.hasKey(le,Sn.ENTER),sn=At.hasKey(le,Sn.ARROW_LEFT),On=At.hasKey(le,Sn.ARROW_UP),Dn=At.hasKey(le,Sn.ARROW_RIGHT),so=At.hasKey(le,Sn.ARROW_DOWN),Ko=At.hasKey(le,Sn.PAGE_UP),Jo=At.hasKey(le,Sn.PAGE_DOWN),No=sn||On||Dn||so;let vo=w.isActivated;Jt?(vo&&Ce(),vo=!1,w.isActivated=vo):No?Ut&&vo&&(Et?Ts(le):(On||so)&&Zo(le)):It?Ut&&(Et?w.datePanelValue?io(w.datePanelValue):K():vo&&Zo(le)):(Ko||Jo)&&Ut&&vo&&Ms(le),Jt||Kt?Et&&K():Gt&&ct&&vo&&xe(le,null)}},Nl=le=>{const{visiblePanel:ct}=w;if(!Z.value&&ct){const Nt=k.value;Qn(le,Nt).flag?cs():(K(),Ce())}},to=()=>{const{isActivated:le,visiblePanel:ct}=w;if(ct&&K(),le&&(w.isActivated=!1),ct||le){const Et=i.value;Ce(),Et&&Et.blur()}},pl=(le,ct)=>{const{festivalMethod:Et}=e;if(Et){const{datePanelType:Nt}=w,Ut=Et({type:Nt,viewType:Nt,date:le.date,$input:$}),Jt=Ut?n.isString(Ut)?{label:Ut}:Ut:{},Gt=Jt.extra?n.isString(Jt.extra)?{label:Jt.extra}:Jt.extra:null,Kt=[o("span",{class:["vxe-input--date-label",{"is-notice":Jt.notice}]},Gt&&Gt.label?[o("span",`${ct||""}`),o("span",{class:["vxe-input--date-label--extra",Gt.important?"is-important":"",Gt.className],style:Gt.style},n.toValueString(Gt.label))]:[`${ct||""}`])],It=Jt.label;if(It){const sn=n.toValueString(It).split(",");Kt.push(o("span",{class:["vxe-input--date-festival",Jt.important?"is-important":"",Jt.className],style:Jt.style},[sn.length>1?o("span",{class:["vxe-input--date-festival--overlap",`overlap--${sn.length}`]},sn.map(On=>o("span",On.substring(0,3)))):o("span",{class:"vxe-input--date-festival--label"},sn[0].substring(0,3))]))}return Kt}return[`${ct||""}`]},Ra=()=>{const{multiple:le}=e,{datePanelType:ct,datePanelValue:Et}=w,Nt=Ae.value,Ut=de.value,Jt=Ot.value,Gt=me.value,Kt="yyyyMMdd";return[o("table",{class:`vxe-input--date-${ct}-view`,cellspacing:0,cellpadding:0,border:0},[o("thead",[o("tr",Ut.map(It=>o("th",It.label)))]),o("tbody",Jt.map(It=>o("tr",It.map(sn=>o("td",{class:{"is--prev":sn.isPrev,"is--current":sn.isCurrent,"is--now":sn.isNow,"is--next":sn.isNext,"is--disabled":_n(sn),"is--selected":le?Gt.some(On=>n.isDateSame(On,sn.date,Kt)):n.isDateSame(Nt,sn.date,Kt),"is--hover":n.isDateSame(Et,sn.date,Kt)},onClick:()=>Ro(sn),onMouseenter:()=>ll(sn)},pl(sn,sn.label))))))])]},ka=()=>{const{multiple:le}=e,{datePanelType:ct,datePanelValue:Et}=w,Nt=Ae.value,Ut=Te.value,Jt=ut.value,Gt=me.value,Kt="yyyyMMdd";return[o("table",{class:`vxe-input--date-${ct}-view`,cellspacing:0,cellpadding:0,border:0},[o("thead",[o("tr",Ut.map(It=>o("th",It.label)))]),o("tbody",Jt.map(It=>{const sn=le?It.some(Dn=>Gt.some(so=>n.isDateSame(so,Dn.date,Kt))):It.some(Dn=>n.isDateSame(Nt,Dn.date,Kt)),On=It.some(Dn=>n.isDateSame(Et,Dn.date,Kt));return o("tr",It.map(Dn=>o("td",{class:{"is--prev":Dn.isPrev,"is--current":Dn.isCurrent,"is--now":Dn.isNow,"is--next":Dn.isNext,"is--disabled":_n(Dn),"is--selected":sn,"is--hover":On},onClick:()=>Ro(Dn),onMouseenter:()=>ll(Dn)},pl(Dn,Dn.label))))}))])]},Is=()=>{const{multiple:le}=e,{datePanelType:ct,datePanelValue:Et}=w,Nt=Ae.value,Ut=et.value,Jt=me.value,Gt="yyyyMM";return[o("table",{class:`vxe-input--date-${ct}-view`,cellspacing:0,cellpadding:0,border:0},[o("tbody",Ut.map(Kt=>o("tr",Kt.map(It=>o("td",{class:{"is--prev":It.isPrev,"is--current":It.isCurrent,"is--now":It.isNow,"is--next":It.isNext,"is--disabled":_n(It),"is--selected":le?Jt.some(sn=>n.isDateSame(sn,It.date,Gt)):n.isDateSame(Nt,It.date,Gt),"is--hover":n.isDateSame(Et,It.date,Gt)},onClick:()=>Ro(It),onMouseenter:()=>ll(It)},pl(It,Wt(`vxe.input.date.months.m${It.month}`)))))))])]},Rs=()=>{const{multiple:le}=e,{datePanelType:ct,datePanelValue:Et}=w,Nt=Ae.value,Ut=Qe.value,Jt=me.value,Gt="yyyyq";return[o("table",{class:`vxe-input--date-${ct}-view`,cellspacing:0,cellpadding:0,border:0},[o("tbody",Ut.map(Kt=>o("tr",Kt.map(It=>o("td",{class:{"is--prev":It.isPrev,"is--current":It.isCurrent,"is--now":It.isNow,"is--next":It.isNext,"is--disabled":_n(It),"is--selected":le?Jt.some(sn=>n.isDateSame(sn,It.date,Gt)):n.isDateSame(Nt,It.date,Gt),"is--hover":n.isDateSame(Et,It.date,Gt)},onClick:()=>Ro(It),onMouseenter:()=>ll(It)},pl(It,Wt(`vxe.input.date.quarters.q${It.quarter}`)))))))])]},xl=()=>{const{multiple:le}=e,{datePanelType:ct,datePanelValue:Et}=w,Nt=Ae.value,Ut=Ke.value,Jt=me.value,Gt="yyyy";return[o("table",{class:`vxe-input--date-${ct}-view`,cellspacing:0,cellpadding:0,border:0},[o("tbody",Ut.map(Kt=>o("tr",Kt.map(It=>o("td",{class:{"is--prev":It.isPrev,"is--current":It.isCurrent,"is--now":It.isNow,"is--next":It.isNext,"is--disabled":_n(It),"is--selected":le?Jt.some(sn=>n.isDateSame(sn,It.date,Gt)):n.isDateSame(Nt,It.date,Gt),"is--hover":n.isDateSame(Et,It.date,Gt)},onClick:()=>Ro(It),onMouseenter:()=>ll(It)},pl(It,It.year))))))])]},us=()=>{const{datePanelType:le}=w;switch(le){case"week":return ka();case"month":return Is();case"quarter":return Rs();case"year":return xl()}return Ra()},ta=()=>{const{multiple:le}=e,{datePanelType:ct}=w,Et=_e.value,Nt=ae.value,Ut=F.value;return[o("div",{class:"vxe-input--date-picker-header"},[o("div",{class:"vxe-input--date-picker-type-wrapper"},[ct==="year"?o("span",{class:"vxe-input--date-picker-label"},Ut.y):o("span",{class:"vxe-input--date-picker-btns"},[o("span",{class:"vxe-input--date-picker-btn",onClick:Wn},Ut.y),Ut.m?o("span",{class:"vxe-input--date-picker-btn",onClick:ro},Ut.m):Mt()])]),o("div",{class:"vxe-input--date-picker-btn-wrapper"},[o("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-prev-btn",{"is--disabled":Et}],onClick:po},[o("i",{class:"vxe-icon-caret-left"})]),o("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-current-btn",onClick:wo},[o("i",{class:"vxe-icon-dot"})]),o("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-next-btn",{"is--disabled":Nt}],onClick:Jn},[o("i",{class:"vxe-icon-caret-right"})]),le&&ue.value?o("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-confirm-btn"},[o("button",{class:"vxe-input--date-picker-confirm",type:"button",onClick:ea},Wt("vxe.button.confirm"))]):null])]),o("div",{class:"vxe-input--date-picker-body"},us())]},kl=()=>{const{datetimePanelValue:le}=w,ct=Re.value,Et=wt.value,Nt=Rt.value,Ut=mt.value,Jt=Vt.value,Gt=he.value;return[o("div",{class:"vxe-input--time-picker-header"},[Nt?o("span",{class:"vxe-input--time-picker-title"},ct):zn(),o("div",{class:"vxe-input--time-picker-btn"},[o("button",{class:"vxe-input--time-picker-confirm",type:"button",onClick:ea},Wt("vxe.button.confirm"))])]),o("div",{ref:R,class:"vxe-input--time-picker-body"},[o("ul",{class:"vxe-input--time-picker-hour-list"},Et.map((Kt,It)=>o("li",{key:It,class:{"is--selected":le&&le.getHours()===Kt.value},onClick:sn=>bl(sn,Kt)},Kt.label))),Nt?o("ul",{class:"vxe-input--time-picker-minute-list"},Ut.map((Kt,It)=>o("li",{key:It,class:{"is--selected":le&&le.getMinutes()===Kt.value},onClick:sn=>Rl(sn,Kt)},Kt.label))):zn(),Nt&&Jt?o("ul",{class:"vxe-input--time-picker-second-list"},Gt.map((Kt,It)=>o("li",{key:It,class:{"is--selected":le&&le.getSeconds()===Kt.value},onClick:sn=>Ma(sn,Kt)},Kt.label))):zn()])]},Pa=()=>{const{type:le}=e,{initialized:ct,isAniVisible:Et,visiblePanel:Nt,panelPlacement:Ut,panelStyle:Jt}=w,Gt=S.value,Kt=T.value,It=ve.value,sn=[];return It?(le==="datetime"?sn.push(o("div",{key:le,ref:k,class:"vxe-input--panel-layout-wrapper"},[o("div",{class:"vxe-input--panel-left-wrapper"},ta()),o("div",{class:"vxe-input--panel-right-wrapper"},kl())])):le==="time"?sn.push(o("div",{key:le,ref:k,class:"vxe-input--panel-wrapper"},kl())):sn.push(o("div",{key:le||"default",ref:k,class:"vxe-input--panel-wrapper"},ta())),o(ol,{to:"body",disabled:Kt?!ct:!0},[o("div",{ref:x,class:["vxe-table--ignore-clear vxe-input--panel",`type--${le}`,{[`size--${Gt}`]:Gt,"is--transfer":Kt,"ani--leave":Et,"ani--enter":Nt}],placement:Ut,style:Jt},Nt||Et?sn:[])])):zn()},yl=()=>{const le=N.value,ct=L.value;return o("div",{class:"vxe-input--control-icon"},[o("div",{class:"vxe-input--number-icon"},[o("div",{class:["vxe-input--number-btn is--prev",{"is--disabled":le}],onMousedown:vn,onMouseup:tn,onMouseleave:tn},[o("i",{class:Yt().INPUT_PLUS_NUM})]),o("div",{class:["vxe-input--number-btn is--next",{"is--disabled":ct}],onMousedown:vn,onMouseup:tn,onMouseleave:tn},[o("i",{class:Yt().INPUT_MINUS_NUM})])])])},ko=()=>o("div",{class:"vxe-input--control-icon",onClick:Zo},[o("i",{class:["vxe-input--date-picker-icon",Yt().DATE_PICKER_DATE]})]),ds=()=>o("div",{class:"vxe-input--control-icon",onClick:gt},[o("i",{class:["vxe-input--search-icon",Yt().INPUT_SEARCH]})]),Fa=()=>{const{showPwd:le}=w;return o("div",{class:"vxe-input--control-icon",onClick:at},[o("i",{class:["vxe-input--password-icon",le?Yt().PASSWORD_INPUT_SHOW_PWD:Yt().PASSWORD_INPUT_HIDE_PWD]})])},Gl=()=>{const{prefixIcon:le}=e,ct=l.prefix;return ct||le?o("div",{class:"vxe-input--prefix",onClick:Ze},[o("div",{class:"vxe-input--prefix-icon"},ct?mn(ct({})):[o("i",{class:le})])]):null},ks=()=>{const{suffixIcon:le}=e,{inputValue:ct}=w,Et=l.suffix,Nt=Z.value,Ut=Q.value,Jt=ve.value,Gt=oe.value,Kt=Ee.value,It=Oe.value,sn=Gt||Ut||Jt||Kt;return It||Et||le||sn?o("div",{class:["vxe-input--suffix",{"is--clear":It&&!Nt&&!(ct===""||n.eqNull(ct))}]},[It?o("div",{class:"vxe-input--clear-icon",onClick:xe},[o("i",{class:Yt().INPUT_CLEAR})]):zn(),sn?Ps():zn(),Et||le?o("div",{class:"vxe-input--suffix-icon",onClick:Ne},Et?mn(Et({})):[o("i",{class:le})]):zn()]):null},Ps=()=>{const{controls:le}=e,ct=Q.value,Et=ve.value,Nt=oe.value,Ut=Ee.value;return Nt?Fa():ct&&le?yl():Et?ko():Ut?ds():zn()};A={dispatchEvent:(le,ct,Et)=>{a(le,bn(Et,{$input:$},ct))},focus(){const le=i.value;return w.isActivated=!0,le.focus(),ke()},blur(){return i.value.blur(),w.isActivated=!1,ke()},select(){return i.value.select(),w.isActivated=!1,ke()},showPanel:Ia,hidePanel:K,updatePlacement:cs},Object.assign($,A);const Fs=()=>{const{className:le,controls:ct,type:Et,title:Nt,align:Ut,showWordCount:Jt,countMethod:Gt,name:Kt,autoComplete:It,autocomplete:sn}=e,{inputValue:On,visiblePanel:Dn,isActivated:so}=w,Ko=S.value,Jo=Z.value;if(_.value)return o("div",{ref:g,class:["vxe-input--readonly",`type--${Et}`,le]},On);const vo=fe.value,Cl=ge.value,Mo=$e.value,fs=J.value,xr=nt.value,fu=ft.value,pu=Oe.value,ii=Jt&&["text","search"].includes(Et),ci=Gl(),ui=ks();return o("div",{ref:g,class:["vxe-input",`type--${Et}`,le,{[`size--${Ko}`]:Ko,[`is--${Ut}`]:Ut,"is--controls":ct,"is--prefix":!!ci,"is--suffix":!!ui,"is--visible":Dn,"is--count":ii,"is--disabled":Jo,"is--active":so,"show--clear":pu&&!Jo&&!(On===""||n.eqNull(On))}],spellcheck:!1},[ci||zn(),o("div",{class:"vxe-input--wrapper",title:Nt||null},[o("input",{ref:i,class:"vxe-input--inner",value:On,name:Kt,type:xr,placeholder:fu,maxlength:fs,readonly:Mo,disabled:Jo,autocomplete:It||sn,onKeydown:$t,onKeyup:on,onClick:br,onInput:P,onChange:q,onFocus:qe,onBlur:Pe})]),ui||zn(),Pa(),ii?o("span",{class:["vxe-input--count",{"is--error":vo}]},Gt?`${Gt({value:On})}`:`${Cl}${fs?`/${fs}`:""}`):zn()])};return Dt(()=>e.modelValue,le=>{w.inputValue=le,ot()}),Dt(()=>e.type,()=>{Object.assign(w,{inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),it()}),Dt(ne,()=>{ve.value&&(Ge(w.datePanelValue),w.inputValue=e.multiple?Se.value:w.datePanelLabel)}),Ln(()=>{const{type:le}=e;["date","time","datetime","week","month","quarter","year"].includes(le)?ml("vxe.error.useNew",[`<vxe-input type="${le}" ... />`,`<vxe-date-picker type="${le}" ... />`]):["number","integer","float"].includes(le)?ml("vxe.error.useNew",[`<vxe-input type="${le}" ... />`,`<vxe-number-input type="${le}" ... />`]):["password"].includes(le)&&ml("vxe.error.useNew",[`<vxe-input type="${le}" ... />`,"<vxe-password-input ... />"]);const ct=i.value;ct&&ct.addEventListener("wheel",Xn,{passive:!1}),At.on($,"mousewheel",Nl),At.on($,"mousedown",y),At.on($,"keydown",Os),At.on($,"blur",to)}),rs(()=>{tn(),Ce();const le=i.value;le&&le.removeEventListener("wheel",Xn),At.off($,"mousewheel"),At.off($,"mousedown"),At.off($,"keydown"),At.off($,"blur")}),it(),$.renderVN=Fs,$},render(){return this.renderVN()}}),Es=pn({name:"VxeNumberInput",props:{modelValue:[String,Number],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"number"},clearable:{type:Boolean,default:()=>U().numberInput.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:String,maxLength:{type:[String,Number],default:()=>U().numberInput.maxLength},autoComplete:{type:String,default:"off"},align:String,form:String,className:String,size:{type:String,default:()=>U().numberInput.size||U().size},min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],exponential:{type:Boolean,default:()=>U().numberInput.exponential},showCurrency:{type:Boolean,default:()=>U().numberInput.showCurrency},currencySymbol:{type:String,default:()=>U().numberInput.currencySymbol},controlConfig:Object,digits:{type:[String,Number],default:null},autoFill:{type:Boolean,default:()=>U().numberInput.autoFill},editable:{type:Boolean,default:!0},plusIcon:String,minusIcon:String,prefixIcon:String,suffixIcon:String,controls:{type:Boolean,default:null},maxlength:[String,Number],autocomplete:String},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","lazy-change","plus-number","minus-number","prefix-click","suffix-click","prev-number","next-number"],setup(e,t){const{slots:l,emit:a}=t,u=jt("$xeForm",null),r=jt("xeFormItemInfo",null),d=n.uniqueId(),{computeSize:m}=kn(e),p=ln({isFocus:!1,isActivated:!1,inputValue:e.modelValue}),D={},C=st(),h=st(),S=st(),w=j(()=>{const{readonly:v}=e;return v===null?u?u.props.readonly:!1:v}),V=j(()=>{const{disabled:v}=e;return v===null?u?u.props.disabled:!1:v}),g=j(()=>{const{type:v,digits:L}=e;let N=L;return N===null&&(N=U().numberInput.digits,N===null&&v==="amount"&&(N=2)),n.toInteger(N)||1}),i=j(()=>Object.assign({},U().numberInput.controlConfig,e.controlConfig)),x=j(()=>{const{type:v}=e;return v==="float"||v==="amount"}),k=j(()=>{const{type:v}=e,L=g.value,N=x.value,ie=e.step;return v==="integer"?n.toInteger(ie)||1:N?n.toNumber(ie)||1/Math.pow(10,L):n.toNumber(ie)||1}),R=j(()=>e.clearable),O=j(()=>{const{editable:v}=e;return w.value||!v}),$=j(()=>{const{placeholder:v}=e;if(v)return ao(v);const L=U().numberInput.placeholder;return L?ao(L):Wt("vxe.base.pleaseInput")}),A=j(()=>{const{maxLength:v,maxlength:L}=e;return n.toNumber(v||L)||16}),M=j(()=>{const{immediate:v}=e;return v}),T=j(()=>{const{type:v}=e,{inputValue:L}=p;return v==="integer"?n.toInteger(zl(L)):n.toNumber(zl(L))}),_=j(()=>{const{type:v,showCurrency:L,currencySymbol:N,autoFill:ie}=e,{inputValue:Me}=p,He=g.value;if(v==="amount"){const Ve=n.toNumber(Me);let ye=n.commafy(Ve,{digits:He});if(!ie){const[P,q]=ye.split(".");if(q){const Pe=q.replace(/0+$/,"");ye=Pe?[P,".",Pe].join(""):P}}return L?`${N||Wt("vxe.numberInput.currencySymbol")||""}${ye}`:ye}return n.toString(Me)}),z=j(()=>{const{min:v}=e,{inputValue:L}=p,N=T.value;return(L||L===0)&&v!==null?N<=n.toNumber(v):!1}),Z=j(()=>{const{max:v}=e,{inputValue:L}=p,N=T.value;return(L||L===0)&&v!==null?N>=n.toNumber(v):!1}),J={refElem:C,refInput:h},W={computeControlOpts:i},Q={xID:d,props:e,context:t,reactData:p,internalData:D,getRefMaps:()=>J,getComputeMaps:()=>W};let ge={};const fe=v=>n.eqNull(v)?"":`${v}`,ve=v=>{const{exponential:L,autoFill:N}=e,ie=A.value,Me=g.value,He=x.value;let Ve="";return He?(Ve=qr(v,Me),N||(Ve=fe(n.toNumber(Ve)))):Ve=fe(v),L&&(v===Ve||fe(v).toLowerCase()===n.toNumber(Ve).toExponential())?v:Ve.slice(0,ie)},oe=v=>{const{inputValue:L}=p;ge.dispatchEvent(v.type,{value:L},v)},Ee=(v,L,N)=>{const ie=es(v)?null:Number(v),Me=ie!==e.modelValue;Me&&(D.isUM=!0,a("update:modelValue",ie)),p.inputValue!==L&&ke(()=>{p.inputValue=L||""}),ge.dispatchEvent("input",{value:ie},N),Me&&(ge.dispatchEvent("change",{value:ie},N),u&&r&&u.triggerItemEvent(N,r.itemConfig.field,ie))},re=(v,L)=>{const N=M.value,ie=es(v)?null:n.toNumber(v);p.inputValue=v,N?Ee(ie,v,L):ge.dispatchEvent("input",{value:ie},L)},Y=v=>{const N=v.target.value;re(N,v)},Oe=v=>{M.value||oe(v),Q.dispatchEvent("lazy-change",{value:p.inputValue},v)},ze=v=>{if(!O.value){const{inputValue:N}=p;p.inputValue=es(N)?"":`${n.toNumber(N)}`,p.isFocus=!0,p.isActivated=!0,oe(v)}},ce=v=>{if(!V.value){const{inputValue:N}=p;ge.dispatchEvent("prefix-click",{value:N},v)}},ue=(v,L)=>{focus(),Ee(null,"",v),ge.dispatchEvent("clear",{value:L},v),Q.dispatchEvent("lazy-change",{value:L},v)},me=v=>{if(!V.value){const{inputValue:N}=p;ge.dispatchEvent("suffix-click",{value:N},v)}},be=v=>{const{autoFill:L}=e,{inputValue:N}=p,ie=g.value,Me=x.value;if(es(v))p.inputValue="";else{let He=`${v}`;Me&&(He=qr(v,ie),L||(He=`${n.toNumber(He)}`)),He!==N&&(p.inputValue=He)}},Se=()=>{const{autoFill:v}=e,{inputValue:L}=p,N=g.value;if(x.value&&L){let Me="",He=null;L&&(Me=qr(L,N),He=n.toNumber(Me),v||(Me=`${He}`)),L!==He?Ee(He,Me,{type:"init"}):p.inputValue=Me}},pe=v=>e.max===null||e.max===""||n.toNumber(v)<=n.toNumber(e.max),Ae=v=>e.min===null||e.min===""||n.toNumber(v)>=n.toNumber(e.min),_e=()=>{const{type:v,min:L,max:N,exponential:ie}=e,{inputValue:Me}=p;if(!O.value){if(es(Me)){let Ve=null,ye=Me;(L||L===0)&&(Ve=n.toNumber(L),ye=`${Ve}`),Ee(Ve,`${ye||""}`,{type:"check"});return}if(Me||L||N){let Ve=v==="integer"?n.toInteger(zl(Me)):n.toNumber(zl(Me));if(Ae(Ve)?pe(Ve)||(Ve=N):Ve=L,ie){const P=fe(Me).toLowerCase();P===n.toNumber(Ve).toExponential()&&(Ve=P)}const ye=ve(Ve);Ee(es(ye)?null:Number(ye),ye,{type:"check"})}}},ae=v=>{const{inputValue:L}=p,N=M.value,ie=L?Number(L):null;N||Ee(ie,fe(L),v),_e(),p.isFocus=!1,p.isActivated=!1,ge.dispatchEvent("blur",{value:ie},v),u&&r&&u.triggerItemEvent(v,r.itemConfig.field,ie)},Re=(v,L)=>{const{min:N,max:ie,type:Me}=e,{inputValue:He}=p,Ve=k.value,ye=Me==="integer"?n.toInteger(zl(He)):n.toNumber(zl(He)),P=v?n.add(ye,Ve):n.subtract(ye,Ve);let q;Ae(P)?pe(P)?q=P:q=ie:q=N,re(ve(q),L)},Ie=v=>{const L=V.value,N=w.value,ie=Z.value;!L&&!N&&!ie&&Re(!0,v),p.isActivated=!0,ge.dispatchEvent("plus-number",{value:p.inputValue},v),Q.dispatchEvent("lazy-change",{value:p.inputValue},v),ge.dispatchEvent("next-number",{value:p.inputValue},v)},ne=v=>{const L=V.value,N=w.value,ie=z.value;!L&&!N&&!ie&&Re(!1,v),p.isActivated=!0,ge.dispatchEvent("minus-number",{value:p.inputValue},v),Q.dispatchEvent("lazy-change",{value:p.inputValue},v),ge.dispatchEvent("prev-number",{value:p.inputValue},v)},se=v=>{const L=At.hasKey(v,Sn.ARROW_UP),N=At.hasKey(v,Sn.ARROW_DOWN);(L||N)&&(v.preventDefault(),L?Ie(v):ne(v))},F=v=>{const{type:L,exponential:N,controls:ie}=e,Me=i.value,{isArrow:He}=Me,Ve=O.value,ye=wd(v),P=v.shiftKey,q=v.altKey,Pe=v.keyCode,qe=At.hasKey(v,Sn.ESCAPE),Ze=At.hasKey(v,Sn.ARROW_UP),K=At.hasKey(v,Sn.ARROW_DOWN);!ye&&!P&&!q&&(At.hasKey(v,Sn.SPACEBAR)||L==="integer"&&Pe===110||(!N||Pe!==69)&&Pe>=65&&Pe<=90||Pe>=186&&Pe<=188||Pe>=191)&&v.preventDefault(),qe?_e():(Ze||K)&&Xo(Me)&&(ie===!1?ie:He)&&!Ve&&se(v),oe(v)},B=v=>{oe(v)},te=()=>{const{dnTimeout:v}=D;v&&(clearTimeout(v),D.dnTimeout=void 0)},de=()=>{const{ainTimeout:v}=D;v&&(clearTimeout(v),D.ainTimeout=void 0)},Te=v=>{Ye(),D.ainTimeout=setTimeout(()=>{ne(v),Te(v)},60)},Ke=v=>{Ye(),D.ainTimeout=setTimeout(()=>{Ie(v),Ke(v)},60)},Ye=()=>{te(),de()},Qe=v=>{D.isMouseDown?D.isMouseDown=!1:(Ye(),mr(v.currentTarget,"is--plus")?Ie(v):ne(v))},lt=v=>{if(Ye(),D.isMouseDown=!0,v.button===0){const L=mr(v.currentTarget,"is--plus");L?Ie(v):ne(v),D.dnTimeout=setTimeout(()=>{L?Ke(v):Te(v)},500)}},et=v=>{const{controls:L}=e,N=i.value,{isWheel:ie}=N,Me=O.value;if(Xo(N)&&(L===!1?L:ie)&&!Me&&p.isActivated){v.stopPropagation(),v.preventDefault();const He=v.deltaY;He>0?ne(v):He<0&&Ie(v)}oe(v)},ht=v=>{oe(v)},Ot=v=>{const{isActivated:L}=p,N=C.value,ie=S.value,Me=V.value,He=O.value,Ve=M.value;if(!Me&&!He&&L&&(p.isActivated=Qn(v,N).flag||Qn(v,ie).flag,!p.isActivated)){if(!Ve){const{inputValue:ye}=p,P=ye?Number(ye):null;Ee(P,fe(ye),v)}_e()}},ut=v=>{const{clearable:L}=e,N=V.value,ie=O.value;if(!N&&!ie){const Me=At.hasKey(v,Sn.TAB),He=At.hasKey(v,Sn.DELETE);let Ve=p.isActivated;Me&&(Ve&&_e(),Ve=!1,p.isActivated=Ve),He&&L&&Ve&&ue(v,null)}},wt=()=>{const{isActivated:v}=p;v&&_e()};ge={dispatchEvent:(v,L,N)=>{a(v,bn(N,{$numberInput:Q},L))},focus(){if(!O.value){const L=h.value;p.isActivated=!0,L.focus()}return ke()},blur(){return h.value.blur(),p.isActivated=!1,ke()},select(){return h.value.select(),p.isActivated=!1,ke()}},Object.assign(Q,ge);const Rt=()=>{const{prefixIcon:v}=e,L=l.prefix;return L||v?o("div",{class:"vxe-number-input--prefix",onClick:ce},[o("div",{class:"vxe-number-input--prefix-icon"},L?mn(L({})):[o("i",{class:v})])]):Mt()},Vt=()=>{const{suffixIcon:v}=e,{inputValue:L}=p,N=l.suffix,ie=V.value,Me=R.value;return o("div",{class:["vxe-number-input--suffix",{"is--clear":Me&&!ie&&!(L===""||n.eqNull(L))}]},[Me?o("div",{class:"vxe-number-input--clear-icon",onClick:ue},[o("i",{class:Yt().INPUT_CLEAR})]):Mt(),N||v?o("div",{class:"vxe-number-input--suffix-icon",onClick:me},N?mn(N({})):[o("i",{class:v})]):Mt()])},he=()=>{const{type:v,name:L,autocomplete:N,autoComplete:ie}=e,{inputValue:Me,isFocus:He}=p,Ve=V.value,ye=_.value,P=O.value,q=A.value,Pe=$.value;return o("div",{key:"ni",class:"vxe-number-input--input-wrapper"},[Rt(),o("div",{class:"vxe-number-input--input-inner"},[o("input",{ref:h,class:"vxe-number-input--input",value:!He&&v==="amount"?ye:Me,name:L,type:"text",placeholder:Pe,maxlength:q,readonly:P,disabled:Ve,autocomplete:ie||N,onKeydown:F,onKeyup:B,onClick:ht,onInput:Y,onChange:Oe,onFocus:ze,onBlur:ae})]),Vt()])},$e=()=>{const{minusIcon:v}=e,L=z.value;return o("button",{key:"prev",class:["vxe-number-input--minus-btn is--minus",{"is--disabled":L}],type:"button",onClick:Qe,onMousedown:lt,onMouseup:Ye,onMouseleave:Ye},[o("i",{class:v||Yt().NUMBER_INPUT_MINUS_NUM})])},nt=()=>{const{plusIcon:v}=e,L=Z.value;return o("button",{key:"next",class:["vxe-number-input--plus-btn is--plus",{"is--disabled":L}],type:"button",onClick:Qe,onMousedown:lt,onMouseup:Ye,onMouseleave:Ye},[o("i",{class:v||Yt().NUMBER_INPUT_PLUS_NUM})])},ft=()=>o("div",{key:"cplr",class:"vxe-number-input--side-control"},[nt(),$e()]),vt=()=>{const{className:v,controls:L,type:N,align:ie,prefixIcon:Me,suffixIcon:He}=e,{inputValue:Ve,isActivated:ye}=p,P=m.value,q=i.value,{layout:Pe,showButton:qe}=q,Ze=V.value,K=w.value,xe=_.value,Ne=l.prefix,Ge=l.suffix;if(K)return o("div",{ref:C,class:["vxe-number-input--readonly",`type--${N}`,v]},xe);const ot=O.value,it=R.value,Tt=Xo(q)&&(L===!1?L:qe);return o("div",{ref:C,class:["vxe-number-input",`type--${N}`,`ctl--${Pe==="right"||Pe==="left"?Pe:"default"}`,v,{[`size--${P}`]:P,[`is--${ie}`]:ie,"is--controls":Tt&&!ot,"is--prefix":!!Ne||Me,"is--suffix":!!Ge||He,"is--disabled":Ze,"is--active":ye,"show--clear":it&&!Ze&&!(Ve===""||n.eqNull(Ve))}],spellcheck:!1},Tt?Pe==="right"?[he(),ft()]:Pe==="left"?[ft(),he()]:[$e(),he(),nt()]:[he()])};return Q.renderVN=vt,Dt(()=>e.modelValue,v=>{D.isUM||be(v),D.isUM=!1}),Dt(()=>e.type,()=>{Object.assign(p,{inputValue:e.modelValue}),Se()}),Ln(()=>{const v=h.value;v&&v.addEventListener("wheel",et,{passive:!1}),At.on(Q,"mousedown",Ot),At.on(Q,"keydown",ut),At.on(Q,"blur",wt)}),rs(()=>{p.isFocus=!1,Ye(),_e();const v=h.value;v&&v.removeEventListener("wheel",et),At.off(Q,"mousedown"),At.off(Q,"keydown"),At.off(Q,"blur")}),Se(),Q},render(){return this.renderVN()}}),Qi=pn({name:"VxeColorPicker",props:{modelValue:String,placeholder:String,clearable:{type:Boolean,default:()=>U().colorPicker.clearable},type:{type:String,default:()=>U().colorPicker.type},size:{type:String,default:()=>U().colorPicker.size||U().size},className:[String,Function],popupClassName:[String,Function],colors:{type:Array,default:()=>n.clone(U().colorPicker.colors,!0)||[]},showAlpha:{type:Boolean,default:()=>U().colorPicker.showAlpha},showEyeDropper:{type:Boolean,default:()=>U().colorPicker.showEyeDropper},showColorExtractor:{type:Boolean,default:()=>U().colorPicker.showColorExtractor},showQuick:{type:Boolean,default:()=>U().colorPicker.showQuick},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},clickToCopy:{type:Boolean,default:()=>U().colorPicker.clickToCopy},placement:String,transfer:{type:Boolean,default:null}},emits:["update:modelValue","change","clear","click"],setup(e,t){const{emit:l}=t,a=jt("$xeModal",null),u=jt("$xeDrawer",null),r=jt("$xeTable",null),d=jt("$xeForm",null),m=jt("xeFormItemInfo",null),p=typeof window<"u"?window.EyeDropper:null,D=n.uniqueId(),{computeSize:C}=kn(e),h=st(),S=st(),w=st(),V=st(),g=st(),i=st(),x=st(),k=st(),R=st(),O=ln({initialized:!1,selectTyle:"hex",selectColor:`${e.modelValue||""}`,showTypePopup:!1,panelColor:"",hexValue:"",rValue:0,gValue:0,bValue:0,aValue:0,panelIndex:0,panelStyle:{},panelPlacement:null,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),$=[{label:"HEX",value:"hex"},{label:"RGB",value:"rgb"}],A={},M=j(()=>{const{readonly:v}=e;return v===null?d?d.props.readonly:!1:v}),T=j(()=>{const{disabled:v}=e;return v===null?d?d.props.disabled:!1:v}),_=j(()=>{const{transfer:v}=e;if(v===null){const L=U().colorPicker.transfer;if(n.isBoolean(L))return L;if(r||a||u||d)return!0}return v}),z=j(()=>{const{colors:v}=e;return v?v.map(L=>n.isString(L)?{label:L,value:L}:{label:n.eqNull(L.label)?L.value:L.label,value:L.value}):[]}),Z=j(()=>{const{selectTyle:v}=O;return v==="rgb"}),J=j(()=>{const{selectTyle:v}=O;return $.find(L=>L.value===v)}),W={refElem:h},Q={},ge={xID:D,props:e,context:t,reactData:O,getRefMaps:()=>W,getComputeMaps:()=>Q},fe=v=>{l("update:modelValue",v)},ve=()=>{const{modelValue:v}=e;O.selectColor=n.toValueString(v),Ee()},oe=()=>{const{type:v}=e;let L="hex";(v==="rgb"||v==="rgba")&&(L="rgb"),O.selectTyle=L,ve()},Ee=()=>{const{selectColor:v,isAniVisible:L}=O,N=Z.value,ie=V.value,Me=i.value,He=Zi(v);if(O.hexValue=He.hex,O.rValue=He.r,O.gValue=He.g,O.bValue=He.b,O.aValue=He.a,He.value)if(N){if(He.type==="hex"){const Ve=Cg(He.hex);Ve&&(O.rValue=Ve.r,O.gValue=Ve.g,O.bValue=Ve.b,O.aValue=Ve.a)}}else He.type!=="hex"&&(O.hexValue=qv(He));if(L){const Ve=He.type==="hex"?Sf(He.hex):ud(He),ye=k.value;if(Ve){if(ye){const P=ye.clientHeight*(1-Ve.v),q=ye.clientWidth*Ve.s;Qe(q,P)}ie&&ne(n.ceil((1-Ve.h/360)*ie.clientWidth))}Me&&B(Me.clientWidth*He.a)}},re=()=>{O.panelIndex<hl()&&(O.panelIndex=fl())},Y=()=>{const{placement:v}=e,{panelIndex:L}=O,N=h.value,ie=w.value,Me=_.value,He=()=>{const Ve=Qs(N,ie,{placement:v,teleportTo:Me}),ye=Object.assign(Ve.style,{zIndex:L});O.panelStyle=ye,O.panelPlacement=Ve.placement};return He(),ke().then(He)},Oe=()=>{const{hpTimeout:v}=A;T.value||(v&&(clearTimeout(v),A.hpTimeout=void 0),O.initialized||(O.initialized=!0),O.isActivated=!0,O.isAniVisible=!0,setTimeout(()=>{Ee(),O.visiblePanel=!0},10),re(),Y())},ze=()=>{O.visiblePanel=!1,A.hpTimeout=setTimeout(()=>{O.isAniVisible=!1},350)},ce=(v,L)=>{O.selectColor=L,L!==e.modelValue&&(fe(L),Rt("change",{value:L},v),d&&m&&d.triggerItemEvent(v,m.itemConfig.field,L))},ue=(v,L)=>{ce(v,L),Rt("clear",{value:L},v)},me=()=>{T.value||O.visiblePanel||Oe()},be=()=>{O.isActivated=!1},Se=v=>{ue(v,null),ze()},pe=v=>{const{selectColor:L}=O;ce(v,L),ze()},Ae=v=>{v.preventDefault(),O.visiblePanel?ze():Oe()},_e=v=>{Ae(v),Rt("click",{},v)},ae=()=>{O.showTypePopup=!1},Re=v=>{v.stopPropagation(),O.showTypePopup=!O.showTypePopup},Ie=v=>{const{selectTyle:L}=O;v!==L&&(O.selectTyle=v,Ee()),O.showTypePopup=!1},ne=v=>{const L=V.value,N=g.value;if(L&&N){v<0&&(v=0);const ie=n.toInteger(L.clientWidth),Me=255,He=Me*6,Ve=n.ceil(He/ie*v),ye=Ve%Me;let P=0,q=0,Pe=0;switch(Math.ceil(Ve/Me)){case 1:P=Me,Pe=ye;break;case 2:P=Me-ye,Pe=Me;break;case 3:q=ye,Pe=Me;break;case 4:q=Me,Pe=Me-ye;break;case 5:P=ye,q=Me;break;case 6:P=Me,q=Me-ye;break}O.panelColor=Ji(P,q,Pe),N.style.left=rn(v)}},se=v=>{const L=V.value,N=g.value;if(L&&N){const ie=L.getBoundingClientRect(),Me=n.toInteger(L.clientWidth),He=n.ceil(Math.min(Me-1,Math.max(1,v.clientX-ie.x)));ne(He)}},F=v=>{v.preventDefault(),document.onmousemove=L=>{L.preventDefault(),se(L)},document.onmouseup=L=>{document.onmousemove=null,document.onmouseup=null,se(L)}},B=v=>{const{selectColor:L}=O,N=i.value,ie=x.value;if(N&&ie){const He=N.getBoundingClientRect().width;v<0&&(v=0),v>He&&(v=He);const Ve=n.ceil(100/He*v/100,2);O.aValue=Ve,ie.style.left=rn(v),O.selectColor=Yv(L,Ve)}},te=v=>{const L=i.value,N=x.value;if(L&&N){const ie=L.getBoundingClientRect(),Me=ie.width,He=Math.min(Me,Math.max(0,v.clientX-ie.x));B(He),Ee()}},de=v=>{v.preventDefault(),document.onmousemove=L=>{L.preventDefault(),te(L)},document.onmouseup=L=>{document.onmousemove=null,document.onmouseup=null,te(L)}},Te=()=>{const{rValue:v,gValue:L,bValue:N,aValue:ie}=O;O.selectColor=Ji(v,L,N,ie),Ee()},Ke=()=>{const{aValue:v}=O,L=i.value,N=x.value;if(L&&N){const He=L.getBoundingClientRect().width*v;B(He)}},Ye=(v,L)=>{const N=L.value;O.selectColor=N,Ee()},Qe=(v,L)=>{const N=R.value;N&&(N.style.top=rn(L),N.style.left=rn(v))},lt=()=>{if(p)try{new p().open().then(L=>{L&&L.sRGBHex&&(O.selectColor=L.sRGBHex,Ee())}).catch(()=>{})}catch{}},et=v=>{const{showAlpha:L}=e,{panelColor:N,aValue:ie}=O,Me=k.value,He=R.value;if(Me&&He){const Ve=Me.getBoundingClientRect(),ye=v.clientY-Ve.y,P=v.clientX-Ve.x,q=Zi(N);if(q){const Pe=q.type==="hex"?Sf(q.hex):ud(q);if(Pe){const qe=Uv(Pe.h,P/Me.clientWidth,1-ye/Me.clientHeight);O.selectColor=Ji(qe.r,qe.g,qe.b,L?ie:null),Qe(P,ye),Ee()}}}},ht=()=>{const{selectColor:v}=O;v&&We.clipboard.copy(v)&&We.modal&&We.modal.message({content:Wt("vxe.colorPicker.copySuccess",[v]),status:"success"})},Ot=v=>{const{visiblePanel:L}=O;if(!T.value&&L){const ie=w.value;Qn(v,ie).flag?Y():ze()}},ut=v=>{const{visiblePanel:L}=O;if(!T.value){const ie=h.value,Me=w.value;O.isActivated=Qn(v,ie).flag||Qn(v,Me).flag,L&&!O.isActivated&&ze()}},wt=()=>{const{visiblePanel:v,isActivated:L}=O;if(v&&ze(),L&&(O.isActivated=!1),v||L){const N=S.value;N&&N.blur()}},mt=()=>{const{visiblePanel:v}=O;v&&Y()},Rt=(v,L,N)=>{l(v,bn(N,{$colorPicker:ge},L))};Object.assign(ge,{dispatchEvent:Rt},{});const $e=()=>{const{showColorExtractor:v}=e,{panelColor:L}=O;return v?o("div",{ref:k,class:"vxe-color-picker--color-wrapper",onMousedown:et},[o("div",{class:"vxe-color-picker--color-bg",style:{backgroundColor:L}}),o("div",{class:"vxe-color-picker--white-bg"}),o("div",{class:"vxe-color-picker--black-bg"}),o("div",{ref:R,class:"vxe-color-picker--color-active"})]):Mt()},nt=()=>{const{showAlpha:v,clickToCopy:L,showEyeDropper:N}=e,{selectTyle:ie,showTypePopup:Me,hexValue:He,rValue:Ve,gValue:ye,bValue:P,aValue:q,selectColor:Pe,panelColor:qe}=O,Ze=Z.value,K=J.value;return o("div",{class:"vxe-color-picker--bar-wrapper"},[o("div",{class:"vxe-color-picker--slider-wrapper"},[N&&p?o("div",{class:"vxe-color-picker--color-dropper"},[o("span",{class:"vxe-color-picker--color-dropper-btn",onClick:lt},[o("i",{class:Yt().COLOR_PICKER_EYE_DROPPER})])]):Mt(),o("div",{class:"vxe-color-picker--slider-preview"},[o("div",{class:"vxe-color-picker--preview-btn"},[o("div",{class:"vxe-color-picker--preview-color",style:{backgroundColor:Pe}},L?[o("span",{class:"vxe-color-picker--preview-copy-btn",onClick:ht},[o("i",{class:Yt().COLOR_PICKER_COLOR_COPY})])]:[])])]),o("div",{class:"vxe-color-picker--slider-handle"},[o("div",{ref:V,class:"vxe-color-picker--bar-hue-slider",onClick:se},[o("div",{ref:g,class:"vxe-color-picker--bar-hue-btn",onMousedown:F})]),v?o("div",{ref:i,class:"vxe-color-picker--bar-alpha-slider",onClick:te},[o("div",{class:"vxe-color-picker--bar-alpha-bg",style:{background:`linear-gradient(to right, rgba(0, 0, 0, 0), ${qe})`}}),o("div",{ref:x,class:"vxe-color-picker--bar-alpha-btn",onMousedown:de})]):Mt()])]),o("div",{class:"vxe-color-picker--custom-wrapper"},[o("div",{class:"vxe-color-picker--type-switch"},[o("div",{class:"vxe-color-picker--type-label",onClick:Re},[o("span",`${K?K.label:ie}`),o("span",{class:"vxe-color-picker--type-icon"},[o("i",{class:Me?Yt().COLOR_PICKER_TPTY_OPEN:Yt().COLOR_PICKER_TPTY_CLOSE})])]),o("div",{class:["vxe-color-picker--type-popup",{"is--visible":Me}]},$.map(xe=>o("div",{class:"vxe-color-picker--type-item",onClick(Ne){Ne.stopPropagation(),Ie(xe.value)}},xe.label)))]),o("div",{class:`vxe-color-picker--${ie}-wrapper`},Ze?[o("div",{class:"vxe-color-picker--input-wrapper"},[o(Es,{type:"integer",size:"mini",align:"center",min:0,max:255,maxLength:3,placeholder:"",modelValue:Ve,controlConfig:{showButton:!1},"onUpdate:modelValue"(xe){O.rValue=xe},onChange:Te}),o(Es,{type:"integer",size:"mini",align:"center",min:0,max:255,maxLength:3,placeholder:"",modelValue:ye,controlConfig:{showButton:!1},"onUpdate:modelValue"(xe){O.gValue=xe},onChange:Te}),o(Es,{type:"integer",size:"mini",align:"center",min:0,max:255,maxLength:3,placeholder:"",modelValue:P,controlConfig:{showButton:!1},"onUpdate:modelValue"(xe){O.bValue=xe},onChange:Te}),o(Es,{type:"number",size:"mini",align:"center",min:0,max:1,step:.01,maxLength:4,placeholder:"",modelValue:q,controlConfig:{showButton:!1},"onUpdate:modelValue"(xe){O.aValue=xe},onChange:Ke})]),o("div",{class:"vxe-color-picker--input-title"},[o("span","R"),o("span","G"),o("span","B"),o("span","A")])]:[o("div",{class:"vxe-color-picker--input-wrapper"},[o(ss,{type:"text",size:"mini",align:"center",maxLength:9,placeholder:"",modelValue:He,"onUpdate:modelValue"(xe){O.hexValue=xe},onChange(){const xe=Zi(O.hexValue);xe&&xe.value&&(O.selectColor=xe.value,Ee())}})]),o("div",{class:"vxe-color-picker--input-title"},Wt("vxe.colorPicker.hex"))])])])},ft=()=>{const{showQuick:v}=e,L=z.value;return v&&L.length?o("div",{class:"vxe-color-picker--quick-wrapper"},L.map((N,ie)=>o("div",{key:ie,class:"vxe-color-picker--quick-item",title:N.label||"",style:{backgroundColor:N.value},onClick(Me){Ye(Me,N)}}))):Mt()},vt=()=>{const{className:v,popupClassName:L,clearable:N,modelValue:ie}=e,{initialized:Me,isActivated:He,isAniVisible:Ve,visiblePanel:ye}=O,P=C.value,q=T.value,Pe=_.value;return M.value?o("div",{ref:h,class:["vxe-color-picker--readonly",v]},[o("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:ie}})]):o("div",{ref:h,class:["vxe-color-picker",v?n.isFunction(v)?v({$colorPicker:ge}):v:"",{[`size--${P}`]:P,"is--selected":!!ie,"is--visible":ye,"is--disabled":q,"is--active":He}]},[o("input",{ref:S,class:"vxe-color-picker--input",onFocus:me,onBlur:be}),o("div",{class:"vxe-color-picker--inner",onClick:_e},[o("div",{class:"vxe-color-picker--inner-color",style:{backgroundColor:ie}})]),o(ol,{to:"body",disabled:Pe?!Me:!0},[o("div",{ref:w,class:["vxe-table--ignore-clear vxe-color-picker--panel",L?n.isFunction(L)?L({$colorPicker:ge}):L:"",{[`size--${P}`]:P,"is--transfer":Pe,"ani--leave":Ve,"ani--enter":ye}],placement:O.panelPlacement,style:O.panelStyle},[Me&&(ye||Ve)?o("div",{class:"vxe-color-picker--panel-wrapper",onClick:ae},[$e(),nt(),ft(),o("div",{class:"vxe-color-picker--footer-wrapper"},[N?o(lo,{content:Wt("vxe.colorPicker.clear"),size:"mini",onClick:Se}):Mt(),o(lo,{content:Wt("vxe.colorPicker.confirm"),size:"mini",status:"primary",onClick:pe})])]):Mt()])])])};return Dt(()=>e.modelValue,()=>{ve()}),Dt(()=>e.type,()=>{oe()}),Ln(()=>{At.on(ge,"mousewheel",Ot),At.on(ge,"mousedown",ut),At.on(ge,"blur",wt),At.on(ge,"resize",mt)}),jn(()=>{At.off(ge,"mousewheel"),At.off(ge,"mousedown"),At.off(ge,"blur"),At.off(ge,"resize")}),oe(),An("$xeColorPicker",ge),ge.renderVN=vt,ge},render(){return this.renderVN()}}),Kv=Object.assign({},Qi,{install(e){e.component(Qi.name,Qi)}});dn.use(Kv);We.component(Qi);const ar=pn({name:"VxeText",props:{status:String,title:[String,Number],icon:String,prefixIcon:String,suffixIcon:String,loading:Boolean,content:[String,Number],clickToCopy:{type:Boolean,default:()=>U().text.clickToCopy},copyConfig:Object,size:{type:String,default:()=>U().text.size||U().size}},emits:["click","dblclick","prefix-click","suffix-click","copy-success","copy-error"],setup(e,t){const{emit:l,slots:a}=t,u=n.uniqueId(),{computeSize:r}=kn(e),d=st(),m=st(),p=ln({}),D=j(()=>Object.assign({},U().text.copyConfig,e.copyConfig)),C={refElem:d},h={},S=z=>{const{content:Z}=e,J=D.value,{showMessage:W}=J,Q=m.value,ge=(Q?Q.textContent:"")||Z;ge&&(We.clipboard.copy(ge)?(W&&We.modal&&We.modal.message({content:Wt("vxe.text.copySuccess"),status:"success"}),i("copy-success",{},z)):(W&&We.modal&&We.modal.message({content:Wt("vxe.text.copyError"),status:"error"}),i("copy-error",{},z)))},w=z=>{const{clickToCopy:Z}=e,J=D.value;Z&&J.trigger!=="dblclick"&&S(z)},V=z=>{const{clickToCopy:Z}=e,J=D.value;Z&&J.trigger==="dblclick"&&S(z)},g={xID:u,props:e,context:t,reactData:p,getRefMaps:()=>C,getComputeMaps:()=>h},i=(z,Z,J)=>{l(z,bn(J,{$text:g},Z))},x={dispatchEvent:i},k=z=>{const{loading:Z}=e;Z||i("click",{},z)},R=z=>{const{loading:Z}=e;Z||i("dblclick",{},z)},O=z=>{const{loading:Z}=e;Z||i("prefix-click",{},z)},$=z=>{const{loading:Z}=e;Z||i("suffix-click",{},z)};Object.assign(g,x,{});const M=()=>{const z=D.value,{icon:Z,status:J}=z;return o("span",{key:"ci",class:["vxe-text--copy-icon",{[`theme--${J}`]:J}],onClick:w,onDblclick:V},[o("i",{class:Z||Yt().TEXT_COPY})])},T=()=>{const{loading:z,icon:Z,prefixIcon:J,suffixIcon:W,clickToCopy:Q,content:ge}=e,fe=D.value,ve=a.default,oe=a.prefixIcon||a["prefix-icon"]||a.icon,Ee=a.suffixIcon||a["suffix-icon"],re=fe.layout==="right",Y=[];return z?Y.push(o("span",{key:"lg",class:"vxe-text--loading"},[o("i",{class:Yt().TEXT_LOADING})])):Q&&!re&&Y.push(M()),(J||Z)&&Y.push(o("span",{key:"si",class:"vxe-text--prefix-icon",onClick:O},oe?oe({}):[o("i",{class:J||Z})])),Y.push(o("span",{key:"ct",ref:m,class:"vxe-text--content",onClick:k,onDblclick:R},ve?ve({}):n.toValueString(ge))),W&&Y.push(o("span",{key:"si",class:"vxe-text--suffix-icon",onClick:$},Ee?Ee({}):[o("i",{class:W})])),Q&&re&&!z&&Y.push(M()),Y},_=()=>{const{loading:z,status:Z,title:J,clickToCopy:W}=e,Q=r.value;return o("span",{ref:d,title:J,class:["vxe-text",{[`size--${Q}`]:Q,[`theme--${Z}`]:Z,"is--copy":W,"is--loading":z}]},T())};return g.renderVN=_,g},render(){return this.renderVN()}}),ec=pn({name:"VxeCountdown",props:{modelValue:[Number,String],format:String,prefixConfig:Object,suffixConfig:Object,size:{type:String,default:()=>U().countdown.size||U().size}},emits:["update:modelValue","start","end"],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),r=st(),{computeSize:d}=kn(e),m=ln({currNum:0,secondNum:0}),p={dnTimeout:void 0},D={refElem:r},C=j(()=>{const{secondNum:z}=m;return z>=316224e5?["yyyy","MM","dd","HH","mm","ss"]:z>=26784e5?["MM","dd","HH","mm","ss"]:z>=864e5?["dd","HH","mm","ss"]:z>=36e5?["HH","mm","ss"]:z>=6e4?["mm","ss"]:["ss"]}),h=j(()=>{const{currNum:z}=m,Z=n.getDateDiff(Date.now(),Date.now()+z);return Object.assign(Z,{done:!(n.isBoolean(Z.status)?Z.status:Z.done)})}),S=j(()=>{const{format:z}=e,Z=h.value;let J="";return z&&(J=`${z}`,n.each(Z,(W,Q)=>{J=J.replace(new RegExp(Q,"g"),n.padStart(W,Q.length,"0"))})),J}),w=j(()=>Object.assign({},e.prefixConfig,U().countdown.prefixConfig)),V=j(()=>Object.assign({},e.suffixConfig,U().countdown.suffixConfig)),g={computeSize:d},i={xID:u,props:e,context:t,reactData:m,internalData:p,getRefMaps:()=>D,getComputeMaps:()=>g},x=(z,Z,J)=>{a(z,bn(J,{$carousel:i},Z))},k=()=>{const z=n.toNumber(e.modelValue||0);m.secondNum=z,m.currNum=z},R=()=>{const{currNum:z}=m;z>1e3?(m.currNum-=1e3,p.dnTimeout=setTimeout(()=>{R()},1e3)):(m.currNum=0,A())},O={dispatchEvent:x},$=()=>{x("start",{},null),R()},A=()=>{const{dnTimeout:z}=p;z&&(clearTimeout(z),p.dnTimeout=void 0,x("end",{},null))};Object.assign(i,O,{});const T=()=>{const{format:z}=e,Z=C.value,J=h.value,W=S.value;return z?[o("div",{key:"format",class:"vxe-countdown--content-format"},W)]:Z.map((Q,ge)=>o("div",{key:ge,class:"vxe-countdown--content-item"},[o("div",{class:"vxe-countdown--content-num"},`${J[Q]||0}`),o("div",{class:"vxe-countdown--content-unit"},Wt(`vxe.countdown.formats.${Q}`))]))},_=()=>{const{prefixConfig:z,suffixConfig:Z}=e,{currNum:J}=m,W=d.value,Q=h.value,ge=w.value,fe=V.value,ve=l.prefix,oe=l.suffix,Ee=l.default;return o("div",{ref:r,class:["vxe-countdown",Q.done?"is--progress":"is-end",{[`size--${W}`]:W}]},[ve||z?o("div",{class:"vxe-countdown--prefix"},ve?mn(ve({currentValue:J,diffConf:Q})):[o(ar,{content:ge.content,icon:ge.icon,status:ge.status})]):Mt(),o("div",{class:"vxe-countdown--content"},Ee?mn(Ee({currentValue:J,diffConf:Q})):T()),oe||Z?o("div",{class:"vxe-countdown--suffix"},oe?mn(oe({currentValue:J,diffConf:Q})):[o(ar,{content:fe.content,icon:fe.icon,status:fe.status})]):Mt()])};return Dt(()=>e.modelValue,()=>{k(),A(),$()}),jn(()=>{A()}),Ln(()=>{$()}),k(),i.renderVN=_,i},render(){return this.renderVN()}}),Xv=Object.assign({},ec,{install(e){e.component(ec.name,ec)}});dn.use(Xv);We.component(ec);const Ca=pn({name:"VxeDatePanel",props:{modelValue:[String,Number,Date],type:{type:String,default:"date"},className:String,size:{type:String,default:()=>U().datePanel.size||U().size},multiple:Boolean,limitCount:{type:[String,Number],default:()=>U().datePanel.limitCount},startDate:{type:[String,Number,Date],default:()=>U().datePanel.startDate},endDate:{type:[String,Number,Date],default:()=>U().datePanel.endDate},defaultDate:[String,Number,Date],minDate:[String,Number,Date],maxDate:[String,Number,Date],startDay:{type:[String,Number],default:()=>U().datePanel.startDay},labelFormat:String,valueFormat:String,timeFormat:String,festivalMethod:{type:Function,default:()=>U().datePanel.festivalMethod},disabledMethod:{type:Function,default:()=>U().datePanel.disabledMethod},selectDay:{type:[String,Number],default:()=>U().datePanel.selectDay}},emits:["update:modelValue","change","click","clear","date-prev","date-today","date-next","confirm"],setup(e,t){const{emit:l}=t,a=n.uniqueId(),{computeSize:u}=kn(e),r=ln({visiblePanel:!1,isAniVisible:!1,isActivated:!1,inputValue:"",inputLabel:"",datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),d={yearSize:12,monthSize:20,quarterSize:8,hpTimeout:void 0},m=st(),p=st(),D=st(),C={refElem:m},h={xID:a,props:e,context:t,reactData:r,internalData:d,getRefMaps:()=>C},S=j(()=>{const{type:Fe}=e;return Fe==="time"||Fe==="datetime"}),w=j(()=>S.value||["date","week","month","quarter","year"].indexOf(e.type)>-1),V=j(()=>e.startDate?n.toStringDate(e.startDate):null),g=j(()=>e.endDate?n.toStringDate(e.endDate):null),i=j(()=>{const{modelValue:Fe,multiple:X}=e,Ce=w.value,at=$.value;return X&&Fe&&Ce?n.toValueString(Fe).split(",").map(gt=>{const St=ae(gt,at);return n.isValidDate(St),St}):[]}),x=j(()=>{const Fe=i.value,X=$.value;return Fe.map(Ce=>n.toDateString(Ce,X))}),k=j(()=>{const Fe=i.value,X=Z.value;return Fe.map(Ce=>n.toDateString(Ce,X)).join(", ")}),R=j(()=>e.multiple?n.toNumber(e.limitCount):0),O=j(()=>{const{multiple:Fe}=e,X=R.value,Ce=x.value;return Fe&&X?Ce.length>=X:!1}),$=j(()=>{const{type:Fe,valueFormat:X}=e;return Td(Fe,X)}),A=j(()=>{const{modelValue:Fe}=e,X=w.value,Ce=$.value;let at=null;if(Fe&&X){const gt=ae(Fe,Ce);n.isValidDate(gt)&&(at=gt)}return at}),M=j(()=>{const Fe=V.value,{selectMonth:X}=r;return X&&Fe?X<=Fe:!1}),T=j(()=>{const Fe=g.value,{selectMonth:X}=r;return X&&Fe?n.getWhatMonth(X,0,"last")>=Fe:!1}),_=j(()=>{const{datetimePanelValue:Fe}=r,X=pe.value,Ce=Se.value;return Fe?n.toDateString(Fe,Ce&&X?"HH:mm:ss":Ce?"HH:mm":"HH"):""}),z=j(()=>{const Fe=A.value,X=S.value;return Fe&&X?(Fe.getHours()*3600+Fe.getMinutes()*60+Fe.getSeconds())*1e3:0}),Z=j(()=>{const{labelFormat:Fe}=e;return w.value?Fe||Wt(`vxe.input.date.labelFormat.${e.type}`):""}),J=j(()=>{const{yearSize:Fe}=d,{selectMonth:X,currentDate:Ce}=r,at=[];if(X&&Ce){const gt=Ce.getFullYear(),St=X.getFullYear(),bt=new Date(St-St%Fe,0,1);for(let yt=-4;yt<Fe+4;yt++){const xt=n.getWhatYear(bt,yt,"first"),Ct=xt.getFullYear();at.push({date:xt,isCurrent:!0,isPrev:yt<0,isNow:gt===Ct,isNext:yt>=Fe,year:Ct})}}return at}),W=j(()=>{const Fe=w.value;let X="",Ce="";if(Fe){const{datePanelType:at,selectMonth:gt}=r,St=J.value;let bt="",yt;gt&&(bt=gt.getFullYear(),yt=gt.getMonth()+1),at==="quarter"||at==="month"?X=Wt("vxe.datePicker.yearTitle",[bt]):at==="year"?X=St.length?`${St[0].year} - ${St[St.length-1].year}`:"":(X=Wt("vxe.datePicker.yearTitle",[bt]),Ce=yt?Wt(`vxe.input.date.m${yt}`):"-")}return{y:X,m:Ce}}),Q=j(()=>{const{startDay:Fe}=e;return n.toNumber(Fe)}),ge=j(()=>{const Fe=[];if(w.value){let Ce=Q.value;Fe.push(Ce);for(let at=0;at<6;at++)Ce>=6?Ce=0:Ce++,Fe.push(Ce)}return Fe}),fe=j(()=>w.value?ge.value.map(Ce=>({value:Ce,label:Wt(`vxe.input.date.weeks.w${Ce}`)})):[]),ve=j(()=>{if(w.value){const X=fe.value;return[{label:Wt("vxe.input.date.weeks.w")}].concat(X)}return[]}),oe=j(()=>{const Fe=J.value;return n.chunk(Fe,4)}),Ee=j(()=>{const{quarterSize:Fe}=d,{selectMonth:X,currentDate:Ce}=r,at=[];if(X&&Ce){const gt=Ce.getFullYear(),St=hr(Ce),bt=n.getWhatYear(X,0,"first"),yt=bt.getFullYear();for(let xt=-2;xt<Fe-2;xt++){const Ct=n.getWhatQuarter(bt,xt),$t=Ct.getFullYear(),on=hr(Ct),tn=$t<yt;at.push({date:Ct,isPrev:tn,isCurrent:$t===yt,isNow:$t===gt&&on===St,isNext:!tn&&$t>yt,quarter:on})}}return at}),re=j(()=>{const Fe=Ee.value;return n.chunk(Fe,2)}),Y=j(()=>{const{monthSize:Fe}=d,{selectMonth:X,currentDate:Ce}=r,at=[];if(X&&Ce){const gt=Ce.getFullYear(),St=Ce.getMonth(),bt=n.getWhatYear(X,0,"first").getFullYear();for(let yt=-4;yt<Fe-4;yt++){const xt=n.getWhatYear(X,0,yt),Ct=xt.getFullYear(),$t=xt.getMonth(),on=Ct<bt;at.push({date:xt,isPrev:on,isCurrent:Ct===bt,isNow:Ct===gt&&$t===St,isNext:!on&&Ct>bt,month:$t})}}return at}),Oe=j(()=>{const Fe=Y.value;return n.chunk(Fe,4)}),ze=j(()=>{const{selectMonth:Fe,currentDate:X}=r,Ce=[];if(Fe&&X){const at=z.value,gt=ge.value,St=X.getFullYear(),bt=X.getMonth(),yt=X.getDate(),xt=Fe.getFullYear(),Ct=Fe.getMonth(),$t=Fe.getDay(),on=-gt.indexOf($t),tn=new Date(n.getWhatDay(Fe,on).getTime()+at);for(let Qt=0;Qt<42;Qt++){const vn=n.getWhatDay(tn,Qt),Xn=vn.getFullYear(),Zn=vn.getMonth(),Co=vn.getDate(),Wn=vn<Fe;Ce.push({date:vn,isPrev:Wn,isCurrent:Xn===xt&&Zn===Ct,isNow:Xn===St&&Zn===bt&&Co===yt,isNext:!Wn&&Ct!==Zn,label:Co})}}return Ce}),ce=j(()=>{const Fe=ze.value;return n.chunk(Fe,7)}),ue=j(()=>{const Fe=ce.value,X=Q.value;return Fe.map(Ce=>{const at=Ce[0];return[{date:at.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:n.getYearWeek(at.date,X)}].concat(Ce)})}),me=j(()=>{const Fe=[];if(S.value)for(let Ce=0;Ce<24;Ce++)Fe.push({value:Ce,label:(""+Ce).padStart(2,"0")});return Fe}),be=j(()=>{const Fe=[];if(S.value)for(let Ce=0;Ce<60;Ce++)Fe.push({value:Ce,label:(""+Ce).padStart(2,"0")});return Fe}),Se=j(()=>{const{timeFormat:Fe}=e,X=$.value;return!/HH/.test(Fe||X)||/mm/.test(Fe||X)}),pe=j(()=>{const{timeFormat:Fe}=e,X=$.value;return!/HH/.test(Fe||X)||/ss/.test(Fe||X)}),Ae=j(()=>be.value),_e=Fe=>{const{type:X}=e,Ce=$.value,at=Ds(Fe,X,{valueFormat:Ce});r.inputValue=at,r.inputLabel=at,P()},ae=(Fe,X)=>{const{type:Ce,multiple:at}=e;return Ce==="time"?Md(Fe):n.isArray(Fe)?n.toStringDate(Fe[0],X):n.isString(Fe)?n.toStringDate(at?n.last(Fe.split(",")):Fe,X):n.toStringDate(Fe,X)},Re=()=>{r.inputLabel=e.multiple?k.value:r.datePanelLabel},Ie=Fe=>{const{type:X}=e,{inputLabel:Ce,datetimePanelValue:at}=r,gt=Z.value;if(Fe){let St=ae(Fe,gt);if(n.isValidDate(St))if(X==="time")St=n.toDateString(St,gt),Ce!==St&&se(St,{type:"check"}),r.inputLabel=St;else{let bt=!1;const yt=Q.value;if(X==="datetime"){const xt=A.value;(Fe!==n.toDateString(xt,gt)||Fe!==n.toDateString(St,gt))&&(bt=!0,at&&(at.setHours(St.getHours()),at.setMinutes(St.getMinutes()),at.setSeconds(St.getSeconds())))}else bt=!0;r.inputLabel=n.toDateString(St,gt,{firstDay:yt}),bt&&Ke(St)}else Re()}else se("",{type:"check"})},ne=Fe=>{r.inputValue=Fe,l("update:modelValue",Fe)},se=(Fe,X)=>{const{type:Ce,modelValue:at,valueFormat:gt}=e,St=$.value;if(r.inputLabel=Fe,Sd(gt)){const bt=Ds(Fe,Ce,{valueFormat:St}),yt=bt?bt.getTime():null;ne(yt),at!==yt&&q("change",{value:yt},X)}else if(Dd(gt)){const bt=Ds(Fe,Ce,{valueFormat:St});ne(bt),(at&&bt?n.toStringDate(at).getTime()!==bt.getTime():at!==bt)&&q("change",{value:bt},X)}else ne(Fe),n.toValueString(at)!==Fe&&q("change",{value:Fe},X)},F=()=>new Promise(Fe=>{r.visiblePanel=!1,d.hpTimeout=setTimeout(()=>{r.isAniVisible=!1,Fe()},350)}),B=Fe=>{const{type:X}=e,Ce=Z.value,at=$.value,gt=Q.value,St=Kc(Fe,X,{valueFormat:at,labelFormat:Ce,firstDay:gt});r.datePanelValue=St.value,r.datePanelLabel=St.label},te=()=>{const Fe=w.value,{inputLabel:X}=r;Fe&&(B(X),r.inputLabel=e.multiple?k.value:r.datePanelLabel)},de=()=>{const{modelValue:Fe}=e,X=w.value;_e(Fe),X&&te()},Te=Fe=>{const X=Q.value,Ce=n.getYearWeek(Fe,X),at=n.getWhatWeek(Fe,0,X,X),gt=n.getWhatMonth(Ce===1?n.getWhatDay(at,6):Fe,0,"first");n.isEqual(gt,r.selectMonth)||(r.selectMonth=gt)},Ke=(Fe,X)=>{const{modelValue:Ce,multiple:at}=e,{datetimePanelValue:gt}=r,St=S.value,bt=$.value,yt=Q.value;if(e.type==="week"){const Ct=n.toNumber(e.selectDay);Fe=n.getWhatWeek(Fe,0,Ct,yt)}else St&&gt&&(Fe.setHours(gt.getHours()),Fe.setMinutes(gt.getMinutes()),Fe.setSeconds(gt.getSeconds()));const xt=n.toDateString(Fe,bt,{firstDay:yt});if(Te(Fe),at){const Ct=O.value;if(St){const $t=X?[]:[...i.value],on=[],tn=n.findIndexOf($t,Qt=>n.isDateSame(Fe,Qt,"yyyyMMdd"));if(tn===-1){if(Ct)return;$t.push(Fe)}else $t.splice(tn,1);$t.forEach(Qt=>{Qt&&(gt&&(Qt.setHours(gt.getHours()),Qt.setMinutes(gt.getMinutes()),Qt.setSeconds(gt.getSeconds())),on.push(Qt))}),se(on.map(Qt=>n.toDateString(Qt,bt)).join(","),{type:"update"})}else{const $t=X?[]:x.value;if($t.some(on=>n.isEqual(on,xt)))se($t.filter(on=>!n.isEqual(on,xt)).join(","),{type:"update"});else{if(Ct)return;se($t.concat([xt]).join(","),{type:"update"})}}}else n.isEqual(Ce,xt)||se(xt,{type:"update"})},Ye=(Fe,X)=>{const Ce=Q.value,at=n.getYearWeek(Fe,Ce),gt=n.getWhatWeek(Fe,0,Ce,Ce),St=n.getWhatMonth(at===1?n.getWhatDay(gt,6):Fe,X,"first");r.selectMonth=St},Qe=()=>{const{type:Fe}=e,X=Q.value;let Ce=new Date;switch(Fe){case"week":Ce=n.getWhatWeek(Ce,0,X);break;case"datetime":Ce=new Date,r.datetimePanelValue=new Date;break;default:Ce=n.getWhatDay(Date.now(),0,"first");break}r.currentDate=Ce,Ye(Ce,0)},lt=()=>{r.datePanelType="year"},et=()=>{let{datePanelType:Fe}=r;Fe==="month"||Fe==="quarter"?Fe="year":Fe="month",r.datePanelType=Fe},ht=Fe=>{const{type:X}=e,{datePanelType:Ce,selectMonth:at,inputLabel:gt}=r,{yearSize:St}=d,bt=gt;if(!M.value){let xt;X==="year"?xt=n.getWhatYear(at,-St,"first"):X==="month"||X==="quarter"?Ce==="year"?xt=n.getWhatYear(at,-St,"first"):xt=n.getWhatYear(at,-1,"first"):Ce==="year"?xt=n.getWhatYear(at,-St,"first"):Ce==="month"?xt=n.getWhatYear(at,-1,"first"):xt=n.getWhatMonth(at,-1,"first"),r.selectMonth=xt,q("date-prev",{viewType:Ce,viewDate:xt,value:bt,type:X},Fe)}},Ot=Fe=>{Qe(),Ke(r.currentDate,!0),e.multiple||F(),q("date-today",{type:e.type},Fe)},ut=Fe=>{const{type:X}=e,{datePanelType:Ce,selectMonth:at,inputLabel:gt}=r,{yearSize:St}=d,bt=gt;if(!T.value){let xt;X==="year"?xt=n.getWhatYear(at,St,"first"):X==="month"||X==="quarter"?Ce==="year"?xt=n.getWhatYear(at,St,"first"):xt=n.getWhatYear(at,1,"first"):Ce==="year"?xt=n.getWhatYear(at,St,"first"):Ce==="month"?xt=n.getWhatYear(at,1,"first"):xt=n.getWhatMonth(at,1,"first"),r.selectMonth=xt,q("date-next",{viewType:Ce,value:bt,type:X},Fe)}},wt=Fe=>{const X=V.value,Ce=g.value,{date:at}=Fe;return!!(X&&X.getTime()>at.getTime()||Ce&&Ce.getTime()<at.getTime())},mt=Fe=>{const{disabledMethod:X}=e,{datePanelType:Ce}=r,{date:at}=Fe;return X?X({type:Ce,viewType:Ce,date:at,$datePanel:h}):!1},Rt=Fe=>wt(Fe)||mt(Fe),Vt=Fe=>{const{type:X,multiple:Ce}=e,{datePanelType:at}=r;X==="month"?at==="year"?(r.datePanelType="month",Te(Fe)):(Ke(Fe),Ce||F()):X==="year"?(Ke(Fe),Ce||F()):X==="quarter"?at==="year"?(r.datePanelType="quarter",Te(Fe)):(Ke(Fe),Ce||F()):at==="month"?(r.datePanelType=X==="week"?X:"day",Te(Fe)):at==="year"?(r.datePanelType="month",Te(Fe)):(Ke(Fe),X==="datetime"||Ce||F())},he=Fe=>{Rt(Fe)||Vt(Fe.date)},$e=Fe=>{Rt({date:Fe})||(ze.value.some(Ce=>n.isDateSame(Ce.date,Fe,"yyyyMMdd"))||Te(Fe),B(Fe))},nt=Fe=>{Rt({date:Fe})||(J.value.some(Ce=>n.isDateSame(Ce.date,Fe,"yyyy"))||Te(Fe),B(Fe))},ft=Fe=>{Rt({date:Fe})||(Ee.value.some(Ce=>n.isDateSame(Ce.date,Fe,"yyyyq"))||Te(Fe),B(Fe))},vt=Fe=>{Rt({date:Fe})||(Y.value.some(Ce=>n.isDateSame(Ce.date,Fe,"yyyyMM"))||Te(Fe),B(Fe))},v=Fe=>{if(!Rt(Fe)){const{datePanelType:X}=r;X==="month"?vt(Fe.date):X==="quarter"?ft(Fe.date):X==="year"?nt(Fe.date):$e(Fe.date)}},L=()=>{r.datePanelValue=null},N=Fe=>{if(Fe){const X=Fe.offsetHeight,Ce=Fe.parentNode;Ce.scrollTop=Fe.offsetTop-X*4}},ie=Fe=>{const{datetimePanelValue:X}=r;r.datetimePanelValue=X?new Date(X.getTime()):new Date,N(Fe.currentTarget)},Me=(Fe,X)=>{const{datetimePanelValue:Ce}=r;Ce&&Ce.setHours(X.value),ie(Fe)},He=Fe=>{const{multiple:X}=e,{datetimePanelValue:Ce}=r,at=A.value,gt=S.value;if(gt){const St=$.value;if(X){const bt=x.value;if(gt){const yt=[...i.value],xt=[];yt.forEach(Ct=>{Ct&&(Ce&&(Ct.setHours(Ce.getHours()),Ct.setMinutes(Ce.getMinutes()),Ct.setSeconds(Ce.getSeconds())),xt.push(Ct))}),se(xt.map(Ct=>n.toDateString(Ct,St)).join(","),{type:"update"})}else se(bt.join(","),{type:"update"})}else Ke(at||r.currentDate)}F(),q("confirm",{},Fe)},Ve=(Fe,X)=>{const{datetimePanelValue:Ce}=r;Ce&&Ce.setMinutes(X.value),ie(Fe)},ye=(Fe,X)=>{const{datetimePanelValue:Ce}=r;Ce&&Ce.setSeconds(X.value),ie(Fe)},P=()=>{const{type:Fe,defaultDate:X}=e,Ce=S.value,at=$.value,gt=A.value;if(["year","quarter","month","week"].indexOf(Fe)>-1?r.datePanelType=Fe:r.datePanelType="day",r.currentDate=n.getWhatDay(Date.now(),0,"first"),gt)Ye(gt,0),B(gt);else if(X){const St=ae(X,at);n.isValidDate(St)?Ye(St,0):Qe()}else Qe();Ce&&(r.datetimePanelValue=r.datePanelValue||n.getWhatDay(Date.now(),0,"first"),ke(()=>{const St=D.value;n.arrayEach(St.querySelectorAll("li.is--selected"),bt=>{N(bt)})}))},q=(Fe,X,Ce)=>{l(Fe,bn(Ce,{$datePanel:h},X))};Object.assign(h,{dispatchEvent:q,getModelValue(){return r.inputValue},setPanelDate(Fe){Fe&&Te(Fe)},getPanelDate(){return r.selectMonth},checkValue(Fe){Ie(Fe)},confirmByEvent(Fe){He(Fe)}});const qe=(Fe,X)=>{const{festivalMethod:Ce}=e,at=[];if(Ce){const{datePanelType:gt}=r,St=Ce({type:gt,viewType:gt,date:Fe.date,$datePanel:h}),bt=St?n.isString(St)?{label:St}:St:{},yt=bt.extra?n.isString(bt.extra)?{label:bt.extra}:bt.extra:null;at.push(o("div",{class:["vxe-date-panel--label",{"is-notice":bt.notice}]},yt&&yt.label?[o("div",`${X}`),o("div",{class:["vxe-date-panel--label--extra",yt.important?"is-important":"",yt.className],style:yt.style},n.toValueString(yt.label))]:`${X}`));const xt=bt.label;if(xt){const Ct=n.toValueString(xt).split(",");at.push(o("div",{class:["vxe-date-panel--festival",bt.important?"is-important":"",bt.className],style:bt.style},[Ct.length>1?o("div",{class:["vxe-date-panel--festival--overlap",`overlap--${Ct.length}`]},Ct.map($t=>o("div",$t.substring(0,3)))):o("div",{class:"vxe-date-panel--festival--label"},Ct[0].substring(0,3))]))}}return at},Ze=()=>{const{multiple:Fe}=e,{datePanelType:X,datePanelValue:Ce}=r,at=A.value,gt=fe.value,St=ce.value,bt=i.value,yt=O.value,xt="yyyyMMdd";return[o("div",{class:["vxe-date-panel--view-wrapper",`type--${X}`]},[o("div",{class:"vxe-date-panel--view-header"},[o("div",{class:"vxe-date-panel--view-row"},gt.map(Ct=>o("div",{class:"vxe-date-panel--view-item",style:{width:`${100/gt.length}%`}},[o("div",{class:"vxe-date-panel--view-item-inner"},[o("div",{class:"vxe-date-panel--view-item-label"},Ct.label)])])))]),o("div",{class:"vxe-date-panel--view-body"},St.map(Ct=>o("div",{class:"vxe-date-panel--view-row",style:{height:`${100/St.length}%`}},Ct.map($t=>{const on=Fe?bt.some(tn=>n.isDateSame(tn,$t.date,xt)):n.isDateSame(at,$t.date,xt);return o("div",{class:["vxe-date-panel--view-item",{"is--prev":$t.isPrev,"is--current":$t.isCurrent,"is--now":$t.isNow,"is--next":$t.isNext,"is--range-disabled":wt($t),"is--disabled":mt($t),"is--selected":on,"is--over":yt&&!on,"is--hover":!yt&&n.isDateSame(Ce,$t.date,xt)}],style:{width:`${100/Ct.length}%`},onClick:()=>he($t),onMouseenter:()=>v($t),onMouseleave:L},[o("div",{class:"vxe-date-panel--view-item-inner"},qe($t,$t.label))])}))))])]},K=()=>{const{multiple:Fe}=e,{datePanelType:X,datePanelValue:Ce}=r,at=A.value,gt=ve.value,St=ue.value,bt=i.value,yt=O.value,xt="yyyyMMdd";return[o("div",{class:["vxe-date-panel--view-wrapper",`type--${X}`]},[o("div",{class:"vxe-date-panel--view-header"},[o("div",{class:"vxe-date-panel--view-row"},gt.map((Ct,$t)=>o("div",{class:"vxe-date-panel--view-item",style:{width:`${$t?13:9}%`}},[o("div",{class:"vxe-date-panel--view-item-inner"},[o("div",{class:"vxe-date-panel--view-item-label"},Ct.label)])])))]),o("div",{class:"vxe-date-panel--view-body"},St.map(Ct=>{const $t=Fe?Ct.some(Qt=>bt.some(vn=>n.isDateSame(vn,Qt.date,xt))):Ct.some(Qt=>n.isDateSame(at,Qt.date,xt)),on=Ct.some(Qt=>n.isDateSame(Ce,Qt.date,xt)),tn=Ct.some(Qt=>Qt.isNow);return o("div",{class:"vxe-date-panel--view-row",style:{height:`${100/St.length}%`}},Ct.map((Qt,vn)=>o("div",{class:["vxe-date-panel--view-item",{"is--prev":Qt.isPrev,"is--current":Qt.isCurrent,"is--now":vn?Qt.isNow:tn,"is--next":Qt.isNext,"is--range-disabled":wt(Qt),"is--disabled":mt(Qt),"is--selected":$t,"is--over":yt&&!$t,"is--hover":!yt&&on}],style:{width:`${vn?13:9}%`},onClick:()=>he(Qt),onMouseenter:()=>v(Qt),onMouseleave:L},[o("div",{class:"vxe-date-panel--view-item-inner"},qe(Qt,Qt.label))])))}))])]},xe=()=>{const{multiple:Fe}=e,{datePanelType:X,datePanelValue:Ce}=r,at=A.value,gt=Oe.value,St=i.value,bt=O.value,yt="yyyyMM";return[o("div",{class:["vxe-date-panel--view-wrapper",`type--${X}`]},[o("div",{class:"vxe-date-panel--view-body"},gt.map(xt=>o("div",{class:"vxe-date-panel--view-row",style:{height:`${100/gt.length}%`}},xt.map(Ct=>{const $t=Fe?St.some(on=>n.isDateSame(on,Ct.date,yt)):n.isDateSame(at,Ct.date,yt);return o("div",{class:["vxe-date-panel--view-item",{"is--prev":Ct.isPrev,"is--current":Ct.isCurrent,"is--now":Ct.isNow,"is--next":Ct.isNext,"is--range-disabled":wt(Ct),"is--disabled":mt(Ct),"is--selected":$t,"is--over":bt&&!$t,"is--hover":!bt&&n.isDateSame(Ce,Ct.date,yt)}],style:{width:`${100/xt.length}%`},onClick:()=>he(Ct),onMouseenter:()=>v(Ct),onMouseleave:L},[o("div",{class:"vxe-date-panel--view-item-inner"},qe(Ct,Wt(`vxe.input.date.months.m${Ct.month}`)))])}))))])]},Ne=()=>{const{multiple:Fe}=e,{datePanelType:X,datePanelValue:Ce}=r,at=A.value,gt=re.value,St=i.value,bt=O.value,yt="yyyyq";return[o("div",{class:["vxe-date-panel--view-wrapper",`type--${X}`]},[o("div",{class:"vxe-date-panel--view-body"},gt.map(xt=>o("div",{class:"vxe-date-panel--view-row",style:{height:`${100/gt.length}%`}},xt.map(Ct=>{const $t=Fe?St.some(on=>n.isDateSame(on,Ct.date,yt)):n.isDateSame(at,Ct.date,yt);return o("div",{class:["vxe-date-panel--view-item",{"is--prev":Ct.isPrev,"is--current":Ct.isCurrent,"is--now":Ct.isNow,"is--next":Ct.isNext,"is--range-disabled":wt(Ct),"is--disabled":mt(Ct),"is--selected":$t,"is--over":bt&&!$t,"is--hover":!bt&&n.isDateSame(Ce,Ct.date,yt)}],style:{width:`${100/xt.length}%`},onClick:()=>he(Ct),onMouseenter:()=>v(Ct),onMouseleave:L},[o("div",{class:"vxe-date-panel--view-item-inner"},qe(Ct,Wt(`vxe.input.date.quarters.q${Ct.quarter}`)))])}))))])]},Ge=()=>{const{multiple:Fe}=e,{datePanelType:X,datePanelValue:Ce}=r,at=A.value,gt=oe.value,St=i.value,bt=O.value,yt="yyyy";return[o("div",{class:["vxe-date-panel--view-wrapper",`type--${X}`]},[o("div",{class:"vxe-date-panel--view-body"},gt.map(xt=>o("div",{class:"vxe-date-panel--view-row",style:{height:`${100/gt.length}%`}},xt.map(Ct=>{const $t=Fe?St.some(on=>n.isDateSame(on,Ct.date,yt)):n.isDateSame(at,Ct.date,yt);return o("div",{class:["vxe-date-panel--view-item",{"is--prev":Ct.isPrev,"is--current":Ct.isCurrent,"is--now":Ct.isNow,"is--next":Ct.isNext,"is--range-disabled":wt(Ct),"is--disabled":mt(Ct),"is--selected":$t,"is--over":bt&&!$t,"is--hover":!bt&&n.isDateSame(Ce,Ct.date,yt)}],style:{width:`${100/xt.length}%`},onClick:()=>he(Ct),onMouseenter:()=>v(Ct),onMouseleave:L},[o("div",{class:"vxe-date-panel--view-item-inner"},qe(Ct,Ct.year))])}))))])]},ot=()=>{const{datePanelType:Fe}=r;switch(Fe){case"week":return K();case"month":return xe();case"quarter":return Ne();case"year":return Ge()}return Ze()},it=()=>{const{datePanelType:Fe}=r,X=M.value,Ce=T.value,at=W.value;return[o("div",{class:"vxe-date-panel--picker-header"},[o("div",{class:"vxe-date-panel--picker-type-wrapper"},[Fe==="year"?o("span",{class:"vxe-date-panel--picker-label"},at.y):o("span",{class:"vxe-date-panel--picker-btns"},[o("span",{class:"vxe-date-panel--picker-btn",onClick:lt},at.y),at.m?o("span",{class:"vxe-date-panel--picker-btn",onClick:et},at.m):Mt()])]),o("div",{class:"vxe-date-panel--picker-btn-wrapper"},[o("span",{class:["vxe-date-panel--picker-btn vxe-date-panel--picker-prev-btn",{"is--disabled":X}],onClick:ht},[o("i",{class:"vxe-icon-caret-left"})]),o("span",{class:"vxe-date-panel--picker-btn vxe-date-panel--picker-current-btn",onClick:Ot},[o("i",{class:"vxe-icon-dot"})]),o("span",{class:["vxe-date-panel--picker-btn vxe-date-panel--picker-next-btn",{"is--disabled":Ce}],onClick:ut},[o("i",{class:"vxe-icon-caret-right"})])])]),o("div",{class:"vxe-date-panel--picker-body"},ot())]},Tt=()=>{const{type:Fe}=e,{datetimePanelValue:X}=r,Ce=_.value,at=me.value,gt=Se.value,St=be.value,bt=pe.value,yt=Ae.value;return[Fe==="time"?Mt():o("div",{class:"vxe-date-panel--time-header"},[o("div",{class:"vxe-date-panel--time-title"},Ce)]),o("div",{ref:D,class:"vxe-date-panel--time-body"},[o("ul",{class:"vxe-date-panel--time-hour-list"},at.map((xt,Ct)=>o("li",{key:Ct,class:{"is--selected":X&&X.getHours()===xt.value},onClick:$t=>Me($t,xt)},xt.label))),gt?o("ul",{class:"vxe-date-panel--time-minute-list"},St.map((xt,Ct)=>o("li",{key:Ct,class:{"is--selected":X&&X.getMinutes()===xt.value},onClick:$t=>Ve($t,xt)},xt.label))):Mt(),gt&&bt?o("ul",{class:"vxe-date-panel--time-second-list"},yt.map((xt,Ct)=>o("li",{key:Ct,class:{"is--selected":X&&X.getSeconds()===xt.value},onClick:$t=>ye($t,xt)},xt.label))):Mt()])]},zt=()=>{const{type:Fe}=e;return Fe==="datetime"?o("div",{key:Fe,ref:p,class:"vxe-date-panel--time-layout-wrapper"},[o("div",{class:"vxe-date-panel--time-left-wrapper"},it()),o("div",{class:"vxe-date-panel--time-right-wrapper"},Tt())]):Fe==="time"?o("div",{key:Fe,ref:p,class:"vxe-date-panel--wrapper"},Tt()):o("div",{key:Fe||"default",ref:p,class:"vxe-date-panel--wrapper"},it())},_t=()=>{const{type:Fe}=e,X=u.value;return o("div",{class:["vxe-date-panel",`type--${Fe}`,{[`size--${X}`]:X}]},[zt()])};return Dt(()=>e.modelValue,Fe=>{_e(Fe),te()}),Dt(()=>e.type,()=>{Object.assign(r,{inputLabel:"",datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),de()}),Dt(Z,()=>{w.value&&(B(r.datePanelValue),r.inputLabel=e.multiple?k.value:r.datePanelLabel)}),de(),P(),h.renderVN=_t,h},render(){return this.renderVN()}}),Zv=Object.assign({},Ca,{install(e){e.component(Ca.name,Ca)}});dn.use(Zv);We.component(Ca);const tc=pn({name:"VxeDatePicker",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"date"},clearable:{type:Boolean,default:()=>U().datePicker.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:String,autoComplete:{type:String,default:"off"},form:String,className:String,zIndex:Number,size:{type:String,default:()=>U().datePicker.size||U().size},multiple:Boolean,limitCount:{type:[String,Number],default:()=>U().datePicker.limitCount},startDate:{type:[String,Number,Date],default:()=>U().datePicker.startDate},endDate:{type:[String,Number,Date],default:()=>U().datePicker.endDate},defaultDate:[String,Number,Date],minDate:[String,Number,Date],maxDate:[String,Number,Date],startDay:{type:[String,Number],default:()=>U().datePicker.startDay},labelFormat:String,valueFormat:String,timeFormat:String,editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>U().datePicker.festivalMethod},disabledMethod:{type:Function,default:()=>U().datePicker.disabledMethod},selectDay:{type:[String,Number],default:()=>U().datePicker.selectDay},showClearButton:{type:Boolean,default:()=>U().datePicker.showClearButton},showConfirmButton:{type:Boolean,default:()=>U().datePicker.showConfirmButton},autoClose:{type:Boolean,default:()=>U().datePicker.autoClose},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:null},shortcutConfig:Object,startWeek:Number},emits:["update:modelValue","input","change","keydown","keyup","click","focus","blur","clear","confirm","prefix-click","suffix-click","date-prev","date-today","date-next","shortcut-click"],setup(e,t){const{slots:l,emit:a}=t,u=jt("$xeModal",null),r=jt("$xeDrawer",null),d=jt("$xeTable",null),m=jt("$xeForm",null),p=jt("xeFormItemInfo",null),D=n.uniqueId(),{computeSize:C}=kn(e),h=ln({initialized:!1,panelIndex:0,visiblePanel:!1,isAniVisible:!1,panelStyle:{},panelPlacement:"",isActivated:!1,inputValue:"",inputLabel:""}),S={hpTimeout:void 0},w=st(),V=st(),g=st(),i=st(),x=st(),k={refElem:w,refInput:V},R={xID:D,props:e,context:t,reactData:h,internalData:S,getRefMaps:()=>k},O=j(()=>{const{transfer:he}=e;if(he===null){const $e=U().datePicker.transfer;if(n.isBoolean($e))return $e;if(d||u||r||m)return!0}return he}),$=j(()=>{const{readonly:he}=e;return he===null?m?m.props.readonly:!1:he}),A=j(()=>{const{disabled:he}=e;return he===null?m?m.props.disabled:!1:he}),M=j(()=>{const{type:he}=e;return he==="time"||he==="datetime"}),T=j(()=>M.value||["date","week","month","quarter","year"].indexOf(e.type)>-1),_=j(()=>e.clearable),z=j(()=>{const{type:he,editable:$e,multiple:nt}=e;return $.value||nt||!$e||he==="week"||he==="quarter"}),Z=j(()=>{const{placeholder:he}=e;if(he)return ao(he);const $e=U().datePicker.placeholder;return $e?ao($e):Wt("vxe.base.pleaseSelect")}),J=j(()=>{const{immediate:he}=e;return he}),W=j(()=>Object.assign({},U().datePicker.shortcutConfig,e.shortcutConfig)),Q=j(()=>{const he=W.value,{options:$e}=he;return $e?$e.map((nt,ft)=>Object.assign({name:`${nt.name||nt.code||ft}`},nt)):[]}),ge=j(()=>{const{labelFormat:he}=e;return he||Wt(`vxe.input.date.labelFormat.${e.type}`)}),fe=j(()=>{const{type:he,valueFormat:$e}=e;return Td(he,$e)}),ve=j(()=>{const{startDay:he}=e;return n.toNumber(he)}),oe=j(()=>{const{type:he,multiple:$e}=e,{inputValue:nt}=h,ft=ge.value,vt=fe.value,v=ve.value;return(nt?$e?nt.split(","):[nt]:[]).map(N=>Kc(N,he,{valueFormat:vt,labelFormat:ft,firstDay:v}).label).join(", ")}),Ee=()=>{const{modelValue:he}=e;let $e="";he&&(n.isNumber(he)&&/^[0-9]{11,15}$/.test(`${he}`)?$e=new Date(he):$e=he),h.inputValue=$e},re=he=>{const{inputValue:$e}=h;et(he.type,{value:$e},he)},Y=(he,$e)=>{const{type:nt,modelValue:ft,valueFormat:vt}=e,v=fe.value;if(h.inputValue=he,Sd(vt)){const L=Ds(he,nt,{valueFormat:v}),N=L?L.getTime():null;a("update:modelValue",N),ft!==N&&(et("change",{value:N},$e),m&&p&&m.triggerItemEvent($e,p.itemConfig.field,N))}else if(Dd(vt)){const L=Ds(he,nt,{valueFormat:v});a("update:modelValue",L),(ft&&L?n.toStringDate(ft).getTime()!==L.getTime():ft!==L)&&(et("change",{value:L},$e),m&&p&&m.triggerItemEvent($e,p.itemConfig.field,L))}else a("update:modelValue",he),n.toValueString(ft)!==he&&(et("change",{value:he},$e),m&&p&&m.triggerItemEvent($e,p.itemConfig.field,he))},Oe=he=>{const nt=he.target.value;h.inputLabel=nt,et("input",{value:nt},he)},ze=he=>{J.value||re(he)},ce=he=>{h.isActivated=!0,T.value&&Ye(he),re(he)},ue=he=>{if(!A.value){const{inputValue:nt}=h;et("prefix-click",{value:nt},he)}},me=()=>new Promise(he=>{h.visiblePanel=!1,S.hpTimeout=setTimeout(()=>{h.isAniVisible=!1,he()},350)}),be=(he,$e)=>{T.value&&me(),Y("",he),et("clear",{value:$e},he)},Se=he=>{if(!A.value){const{inputValue:nt}=h;et("suffix-click",{value:nt},he)}},pe=he=>{const $e=x.value,{inputValue:nt}=h,ft=J.value,vt=nt;ft||Y(vt,he),h.visiblePanel||(h.isActivated=!1,$e&&$e.checkValue(h.inputLabel)),et("blur",{value:vt},he),m&&p&&m.triggerItemEvent(he,p.itemConfig.field,vt)},Ae=he=>{re(he)},_e=he=>{re(he)},ae=he=>{const $e=x.value;$e&&$e.confirmByEvent(he),me()},Re=he=>{const{multiple:$e,autoClose:nt}=e,{value:ft,$event:vt}=he,v=M.value;Y(ft,vt),!$e&&!v&&nt&&me()},Ie=he=>{et("confirm",he,he.$event)},ne=he=>{const $e=x.value,{visiblePanel:nt,isActivated:ft}=h,vt=w.value,v=i.value;!A.value&&ft&&(h.isActivated=Qn(he,vt).flag||Qn(he,v).flag,h.isActivated||nt&&(me(),$e&&$e.checkValue(h.inputLabel)))},se=he=>{const{visiblePanel:$e}=h;if(!A.value){const ft=At.hasKey(he,Sn.TAB),vt=At.hasKey(he,Sn.ESCAPE);ft&&(h.isActivated=!1),$e&&(vt||ft)&&me()}},F=he=>{const{visiblePanel:$e}=h;if(!A.value&&$e){const ft=i.value;Qn(he,ft).flag?Te():me()}},B=()=>{const he=x.value,{isActivated:$e,visiblePanel:nt}=h;if(nt&&me(),$e&&(h.isActivated=!1),nt||$e){he&&he.checkValue(h.inputLabel);const ft=V.value;ft&&ft.blur()}},te=()=>{const{visiblePanel:he}=h;he&&Te()},de=()=>{const{zIndex:he}=e;he?h.panelIndex=he:h.panelIndex<hl()&&(h.panelIndex=fl())},Te=()=>{const{placement:he}=e,{panelIndex:$e}=h,nt=V.value,ft=g.value,vt=O.value,v=()=>{const L=Qs(nt,ft,{placement:he,teleportTo:vt}),N=Object.assign(L.style,{zIndex:$e});h.panelStyle=N,h.panelPlacement=L.placement};return v(),ke().then(v)},Ke=()=>{const{visiblePanel:he}=h;return!A.value&&!he?(h.initialized||(h.initialized=!0),S.hpTimeout&&(clearTimeout(S.hpTimeout),S.hpTimeout=void 0),h.isActivated=!0,h.isAniVisible=!0,setTimeout(()=>{h.visiblePanel=!0},10),de(),Te()):ke()},Ye=he=>{$.value||(he.preventDefault(),Ke())},Qe=he=>{re(he)},lt=({option:he,$event:$e})=>{const{type:nt}=e,{inputValue:ft}=h,vt=W.value,{autoClose:v}=vt,{code:L,clickMethod:N}=he;let ie=ft;const Me={$datePicker:R,option:he,value:ie,code:L};if(!N&&L){const He=su.get(L),Ve=He?He.datePickerCommandMethod:null;if(Ve)Ve(Me);else{const ye=fe.value,P=ve.value;switch(L){case"now":case"prev":case"next":case"minus":case"plus":{ie=Tv(L,ie,nt,{valueFormat:ye,firstDay:P}).value,Me.value=ie,Y(ie,$e);break}default:To("vxe.error.notCommands",[`[date-picker] ${L}`]);break}}}else{const He=N||vt.clickMethod;He&&He(Me)}v&&me(),et("shortcut-click",Me,$e)},et=(he,$e,nt)=>{a(he,bn(nt,{$datePicker:R},$e))};Object.assign(R,{dispatchEvent:et,setModelValue(he){h.inputValue=he,a("update:modelValue",he)},setModelValueByEvent(he,$e){Y($e||"",he)},focus(){const he=V.value;return h.isActivated=!0,he.focus(),ke()},blur(){return V.value.blur(),h.isActivated=!1,ke()},select(){return V.value.select(),h.isActivated=!1,ke()},showPanel:Ke,hidePanel:me,updatePlacement:Te});const Ot=(he,$e)=>{const nt=W.value,{position:ft,align:vt,mode:v}=nt,L=Q.value;return Xo(nt)&&L.length&&(ft||"left")===he?o("div",{class:`vxe-date-picker--layout-${he}-wrapper`},[o(sr,{options:L,mode:v,align:vt,vertical:$e,onClick:lt})]):Mt()},ut=()=>{const{type:he,multiple:$e,showClearButton:nt,showConfirmButton:ft}=e,{initialized:vt,isAniVisible:v,visiblePanel:L,panelPlacement:N,panelStyle:ie,inputValue:Me}=h,He=C.value,Ve=O.value,ye=W.value,P=_.value,q=M.value,Pe=Q.value,{position:qe}=ye,Ze=l.header,K=l.footer,xe=l.top,Ne=l.bottom,Ge=l.left,ot=l.right,it=Pe.length>0,Tt=ft===null?q||$e:ft,zt=nt===null?P&&Tt&&he!=="time":nt;return o(ol,{to:"body",disabled:Ve?!vt:!0},[o("div",{ref:g,class:["vxe-table--ignore-clear vxe-date-picker--panel",`type--${he}`,{[`size--${He}`]:He,"is--transfer":Ve,"ani--leave":v,"ani--enter":L,"show--top":!!(xe||Ze||it&&(qe==="top"||qe==="header")),"show--bottom":!!(Ne||K||it&&(qe==="bottom"||qe==="footer")),"show--left":!!(Ge||it&&qe==="left"),"show--right":!!(ot||it&&qe==="right")}],placement:N,style:ie},vt&&(L||v)?[o("div",{ref:i,class:["vxe-date-picker--layout-all-wrapper",`type--${he}`,{[`size--${He}`]:He}]},[xe?o("div",{class:"vxe-date-picker--layout-top-wrapper"},xe({})):Ot("top"),o("div",{class:"vxe-date-picker--layout-body-layout-wrapper"},[Ge?o("div",{class:"vxe-date-picker--layout-left-wrapper"},Ge({})):Ot("left",!0),o("div",{class:"vxe-date-picker--layout-body-content-wrapper"},[Ze?o("div",{class:"vxe-date-picker--layout-header-wrapper"},Ze({})):Ot("header"),o("div",{class:"vxe-date-picker--layout-body-wrapper"},[o(Ca,{ref:x,modelValue:h.inputValue,type:e.type,className:e.className,multiple:e.multiple,limitCount:e.limitCount,startDate:e.startDate,endDate:e.endDate,defaultDate:e.defaultDate,minDate:e.minDate,maxDate:e.maxDate,startDay:e.startDay,labelFormat:e.labelFormat,valueFormat:e.valueFormat,timeFormat:e.timeFormat,festivalMethod:e.festivalMethod,disabledMethod:e.disabledMethod,selectDay:e.selectDay,onChange:Re,onConfirm:Ie})]),o("div",{class:"vxe-date-picker--layout-footer-wrapper"},[o("div",{class:"vxe-date-picker--layout-footer-custom"},K?K({}):[Ot("footer")]),zt||Tt?o("div",{class:"vxe-date-picker--layout-footer-btns"},[zt?o(lo,{size:"mini",disabled:Me===""||n.eqNull(Me),content:Wt("vxe.button.clear"),onClick:be}):Mt(),Tt?o(lo,{size:"mini",status:"primary",content:Wt("vxe.button.confirm"),onClick:ae}):Mt()]):Mt()])]),ot?o("div",{class:"vxe-date-picker--layout-right-wrapper"},ot({})):Ot("right",!0)]),Ne?o("div",{class:"vxe-date-picker--layout-bottom-wrapper"},Ne({})):Ot("bottom")])]:[])])},wt=()=>{const{prefixIcon:he}=e,$e=l.prefix;return $e||he?o("div",{class:"vxe-date-picker--prefix",onClick:ue},[o("div",{class:"vxe-date-picker--prefix-icon"},$e?mn($e({})):[o("i",{class:he})])]):null},mt=()=>{const{suffixIcon:he}=e,{inputValue:$e}=h,nt=l.suffix,ft=A.value,vt=_.value;return o("div",{class:["vxe-date-picker--suffix",{"is--clear":vt&&!ft&&!($e===""||n.eqNull($e))}]},[vt?o("div",{class:"vxe-date-picker--clear-icon",onClick:be},[o("i",{class:Yt().INPUT_CLEAR})]):Mt(),Rt(),nt||he?o("div",{class:"vxe-date-picker--suffix-icon",onClick:Se},nt?mn(nt({})):[o("i",{class:he})]):Mt()])},Rt=()=>o("div",{class:"vxe-date-picker--control-icon",onClick:Ye},[o("i",{class:["vxe-date-picker--date-picker-icon",Yt().DATE_PICKER_DATE]})]),Vt=()=>{const{className:he,type:$e,name:nt,autoComplete:ft}=e,{inputValue:vt,inputLabel:v,visiblePanel:L,isActivated:N}=h,ie=C.value,Me=A.value,He=$.value,Ve=oe.value;if(He)return o("div",{ref:w,class:["vxe-date-picker--readonly",`type--${$e}`,he]},Ve);const ye=z.value,P=Z.value,q=_.value,Pe=wt(),qe=mt();return o("div",{ref:w,class:["vxe-date-picker",`type--${$e}`,he,{[`size--${ie}`]:ie,"is--prefix":!!Pe,"is--suffix":!!qe,"is--visible":L,"is--disabled":Me,"is--active":N,"show--clear":q&&!Me&&!(vt===""||n.eqNull(vt))}],spellcheck:!1},[Pe||Mt(),o("div",{class:"vxe-date-picker--wrapper"},[o("input",{ref:V,class:"vxe-date-picker--inner",value:v,name:nt,type:"text",placeholder:P,readonly:ye,disabled:Me,autocomplete:ft,onKeydown:Ae,onKeyup:_e,onClick:Qe,onInput:Oe,onChange:ze,onFocus:ce,onBlur:pe})]),qe||Mt(),ut()])};return Dt(oe,he=>{h.inputLabel=he}),Dt(()=>e.modelValue,()=>{Ee()}),ke(()=>{At.on(R,"mousewheel",F),At.on(R,"mousedown",ne),At.on(R,"keydown",se),At.on(R,"blur",B),At.on(R,"resize",te)}),jn(()=>{At.off(R,"mousewheel"),At.off(R,"mousedown"),At.off(R,"blur"),At.off(R,"resize")}),Ee(),An("$xeDatePicker",R),R.renderVN=Vt,R},render(){return this.renderVN()}}),Jv=Object.assign({},tc,{install(e){e.component(tc.name,tc)}});dn.use(Jv);We.component(tc);const nc=pn({name:"VxeDateRangePicker",props:{modelValue:[String,Number,Date,Array],startValue:[String,Number,Date],endValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"date"},clearable:{type:Boolean,default:()=>U().dateRangePicker.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:String,autoComplete:{type:String,default:"off"},form:String,className:String,zIndex:Number,size:{type:String,default:()=>U().dateRangePicker.size||U().size},minDate:[String,Number,Date],maxDate:[String,Number,Date],defaultDate:[String,Number,Date],startDay:{type:[String,Number],default:()=>U().dateRangePicker.startDay},labelFormat:String,valueFormat:String,timeFormat:String,valueType:String,editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>U().dateRangePicker.festivalMethod},disabledMethod:{type:Function,default:()=>U().dateRangePicker.disabledMethod},separator:{type:[String,Number],default:()=>U().dateRangePicker.separator},selectDay:{type:[String,Number],default:()=>U().dateRangePicker.selectDay},showClearButton:{type:Boolean,default:()=>U().dateRangePicker.showClearButton},showConfirmButton:{type:Boolean,default:()=>U().dateRangePicker.showConfirmButton},autoClose:{type:Boolean,default:()=>U().dateRangePicker.autoClose},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:null},shortcutConfig:Object},emits:["update:modelValue","update:startValue","update:endValue","input","change","keydown","keyup","click","focus","blur","clear","confirm","prefix-click","suffix-click","date-prev","date-today","date-next","shortcut-click"],setup(e,t){const{slots:l,emit:a}=t,u=jt("$xeModal",null),r=jt("$xeDrawer",null),d=jt("$xeTable",null),m=jt("$xeForm",null),p=jt("xeFormItemInfo",null),D=n.uniqueId(),{computeSize:C}=kn(e),h=ln({initialized:!1,panelIndex:0,visiblePanel:!1,isAniVisible:!1,panelStyle:{},panelPlacement:"",isActivated:!1,startValue:"",endValue:""}),S={},w=st(),V=st(),g=st(),i=st(),x=st(),k=st(),R={refElem:w,refInput:V},O={xID:D,props:e,context:t,reactData:h,internalData:S,getRefMaps:()=>R};let $={};const A=j(()=>{const{transfer:N}=e;if(N===null){const ie=U().dateRangePicker.transfer;if(n.isBoolean(ie))return ie;if(d||u||r||m)return!0}return N}),M=j(()=>{const{readonly:N}=e;return N===null?m?m.props.readonly:!1:N}),T=j(()=>{const{disabled:N}=e;return N===null?m?m.props.disabled:!1:N}),_=j(()=>{const{startValue:N,endValue:ie}=e;return`${N||""}${ie||""}`}),z=j(()=>{const{type:N}=e;return N==="time"||N==="datetime"}),Z=j(()=>["date","week","month","quarter","year"].indexOf(e.type)>-1),J=j(()=>e.clearable),W=j(()=>{const{placeholder:N}=e;if(N)return ao(N);const ie=U().dateRangePicker.placeholder;return ie?ao(ie):Wt("vxe.dateRangePicker.pleaseRange")}),Q=j(()=>{const{immediate:N}=e;return N}),ge=j(()=>Object.assign({},U().dateRangePicker.shortcutConfig,e.shortcutConfig)),fe=j(()=>{const N=ge.value,{options:ie}=N;return ie?ie.map((Me,He)=>Object.assign({name:`${Me.name||Me.code||He}`},Me)):[]}),ve=j(()=>{const{labelFormat:N}=e;return N||Wt(`vxe.input.date.labelFormat.${e.type}`)}),oe=j(()=>{const{type:N,valueFormat:ie}=e;return Td(N,ie)}),Ee=j(()=>{const{startDay:N}=e;return n.toNumber(N)}),re=j(()=>{const{startValue:N,endValue:ie}=h;return Oe(N||ie?[N||"",ie||""]:[])}),Y=j(()=>re.value.label),Oe=N=>{const{type:ie,separator:Me}=e,He=ve.value,Ve=oe.value,ye=Ee.value,P=N[0]?Kc(N[0],ie,{valueFormat:Ve,labelFormat:He,firstDay:ye}):null,q=N[1]?Kc(N[1],ie,{valueFormat:Ve,labelFormat:He,firstDay:ye}):null,Pe=P?P.label:"",qe=q?q.label:"";return{label:(Pe||qe?[Pe,qe]:[]).join(`${Me||" ~ "}`),startLabel:Pe,endLabel:qe}},ze=(N,ie)=>{const{modelValue:Me,valueType:He}=e;let Ve=n.isArray(Me);if(He)switch(He){case"array":Ve=!0;break;case"string":Ve=!1;break}if(N||ie){const ye=[N||"",ie||""];return Ve?ye:ye.join(",")}return Ve?[]:""},ce=()=>{const{type:N,modelValue:ie}=e,Me=oe.value;let He="",Ve="";if(n.isArray(ie)){const ye=yi(ie[0],N,{valueFormat:Me}),P=yi(ie[1],N,{valueFormat:Me});(ye||P)&&(He=ye||"",Ve=P||"")}else if(n.isString(ie)){const ye=ie.split(",");(ye[0]||ye[1])&&(He=ye[0]||"",Ve=ye[1]||"")}return{sValue:He,eValue:Ve}},ue=()=>{const{type:N,startValue:ie,endValue:Me}=e,He=oe.value;let Ve="",ye="";return Ve=yi(ie,N,{valueFormat:He}),ye=yi(Me,N,{valueFormat:He}),{sValue:Ve,eValue:ye}},me=N=>{const{modelValue:ie,startValue:Me,endValue:He}=e;let Ve={sValue:"",eValue:""};N?ie?Ve=ce():Ve=ue():Me||He?Ve=ue():Ve=ce(),h.startValue=Ve.sValue,h.endValue=Ve.eValue},be=N=>{const{startValue:ie,endValue:Me}=h,He=ze(ie,Me);he(N.type,{value:He,startValue:ie,endValue:Me},N)},Se=(N,ie,Me)=>{const{modelValue:He}=e;h.startValue=N,h.endValue=ie;const Ve=ze(N,ie);a("update:modelValue",Ve),a("update:startValue",N||""),a("update:endValue",ie||""),n.toValueString(He)!==Ve&&(he("change",{value:Ve},Me),m&&p&&m.triggerItemEvent(Me,p.itemConfig.field,Ve))},pe=N=>{Q.value||be(N)},Ae=N=>{h.isActivated=!0,mt(N),be(N)},_e=N=>{if(!T.value){const{startValue:Me,endValue:He}=h,Ve=ze(Me,He);he("prefix-click",{value:Ve,startValue:Me,endValue:He},N)}},ae=()=>new Promise(N=>{h.visiblePanel=!1,S.hpTimeout=setTimeout(()=>{h.isAniVisible=!1,N()},350)}),Re=(N,ie)=>{Z.value&&ae();const He="",Ve="";Se(He,Ve,N),he("clear",{value:ie,startValue:He,endValue:Ve},N)},Ie=()=>{const N=x.value,ie=k.value;if(N&&ie){const Me=N.getModelValue(),He=ie.getModelValue();(!Me||!He)&&Se("","",{type:"check"})}},ne=()=>{const{autoClose:N}=e,{startValue:ie,endValue:Me}=h,{selectStatus:He}=S,Ve=Z.value;N?He&&Ve&&ie&&Me&&ae():ie&&Me&&(S.selectStatus=!1)},se=N=>{if(!T.value){const{startValue:Me,endValue:He}=h,Ve=ze(Me,He);he("suffix-click",{value:Ve,startValue:Me,endValue:He},N)}},F=N=>{const{startValue:ie,endValue:Me}=h,He=Q.value,Ve="";He||Se(ie,Me,N),h.visiblePanel||(h.isActivated=!1),he("blur",{value:Ve,startValue:ie,endValue:Me},N),m&&p&&m.triggerItemEvent(N,p.itemConfig.field,Ve)},B=N=>{be(N)},te=N=>{be(N)},de=N=>{const ie=x.value,Me=k.value;if(ie&&Me){const He=ie.getModelValue(),Ve=Me.getModelValue();He&&!Ve||!He&&Ve?Se("","",N):(ie.confirmByEvent(N),Me.confirmByEvent(N));const ye=ze(He,Ve);he("confirm",{value:ye,startValue:He,endValue:Ve},N)}ae()},Te=N=>{const{selectStatus:ie}=S,{value:Me,$event:He}=N,Ve=ie?h.endValue:"";Se(Me,Ve,He),ne(),ie||(S.selectStatus=!0),ke(()=>{const ye=x.value,P=k.value;if(ye&&P){const q=ye.getModelValue();!Ve&&q&&P.setPanelDate(n.toStringDate(q))}})},Ke=N=>{const{selectStatus:ie}=S,{value:Me,$event:He}=N,Ve=ie?h.startValue:"";Se(Ve,Me,He),ne(),ie||(S.selectStatus=!0),ke(()=>{const ye=x.value,P=k.value;if(ye&&P){const q=P.getModelValue();!Ve&&q&&ye.setPanelDate(n.toStringDate(q))}})},Ye=N=>{const{visiblePanel:ie,isActivated:Me}=h,He=w.value,Ve=i.value;!T.value&&Me&&(h.isActivated=Qn(N,He).flag||Qn(N,Ve).flag,h.isActivated||ie&&(Ie(),ae()))},Qe=N=>{const{visiblePanel:ie}=h;if(!T.value){const He=At.hasKey(N,Sn.TAB),Ve=At.hasKey(N,Sn.ESCAPE);He&&(h.isActivated=!1),ie&&(Ve||He)&&ae()}},lt=N=>{const{visiblePanel:ie}=h;if(!T.value&&ie){const He=i.value;Qn(N,He).flag?ut():ae()}},et=()=>{const{visiblePanel:N,isActivated:ie}=h;if(N&&ae(),ie&&(h.isActivated=!1),N||ie){const Me=V.value;Me&&Me.blur()}},ht=()=>{const{visiblePanel:N}=h;N&&ut()},Ot=()=>{const{zIndex:N}=e;N?h.panelIndex=N:h.panelIndex<hl()&&(h.panelIndex=fl())},ut=()=>{const{placement:N}=e,{panelIndex:ie}=h,Me=V.value,He=g.value,Ve=A.value,ye=()=>{const P=Qs(Me,He,{placement:N,teleportTo:Ve}),q=Object.assign(P.style,{zIndex:ie});h.panelStyle=q,h.panelPlacement=P.placement};return ye(),ke().then(ye)},wt=()=>{const{visiblePanel:N}=h;return!T.value&&!N?(h.initialized||(h.initialized=!0),S.hpTimeout&&(clearTimeout(S.hpTimeout),S.hpTimeout=void 0),S.selectStatus=!1,h.isActivated=!0,h.isAniVisible=!0,setTimeout(()=>{h.visiblePanel=!0},10),Ot(),ut()):ke()},mt=N=>{M.value||(N.preventDefault(),wt())},Rt=N=>{be(N)},Vt=({option:N,$event:ie})=>{const{type:Me}=e,He=ge.value,{autoClose:Ve}=He,{code:ye,clickMethod:P}=N;let q=h.startValue,Pe=h.endValue,qe=ze(q,Pe);const Ze={$dateRangePicker:O,option:N,value:qe,startValue:q,endValue:Pe,code:ye};if(!P&&ye){const K=su.get(ye),xe=K?K.dateRangePickerCommandMethod:null;if(xe)xe(Ze);else{const Ne=oe.value,Ge=Ee.value;switch(ye){case"last1":case"last3":case"last7":case"last30":case"last60":case"last90":case"last180":{const ot=Iv(ye,qe,Me,{valueFormat:Ne,firstDay:Ge});q=ot.startValue,Pe=ot.endValue,qe=ze(q,Pe),Ze.value=qe,Ze.startValue=q,Ze.endValue=Pe,Se(q,Pe,ie);break}default:To("vxe.error.notCommands",[`[date-range-picker] ${ye}`]);break}}}else{const K=P||He.clickMethod;K&&K(Ze)}Ve&&ae(),he("shortcut-click",Ze,ie)},he=(N,ie,Me)=>{a(N,bn(Me,{$dateRangePicker:O},ie))};$={dispatchEvent:he,setModelValue(N,ie){h.startValue=N||"",h.endValue=ie||"";const Me=ze(N,ie);a("update:modelValue",Me)},setModelValueByEvent(N,ie,Me){Se(ie||"",Me||"",N)},focus(){const N=V.value;return h.isActivated=!0,N.focus(),ke()},blur(){return V.value.blur(),h.isActivated=!1,ke()},select(){return V.value.select(),h.isActivated=!1,ke()},showPanel:wt,hidePanel:ae,updatePlacement:ut},Object.assign(O,$);const $e=(N,ie)=>{const Me=ge.value,{position:He,align:Ve,mode:ye}=Me,P=fe.value;return Xo(Me)&&P.length&&(He||"left")===N?o("div",{class:`vxe-date-range-picker--layout-${N}-wrapper`},[o(sr,{options:P,mode:ye,align:Ve,vertical:ie,onClick:Vt})]):Mt()},nt=()=>{const{type:N,separator:ie,autoClose:Me,showConfirmButton:He,showClearButton:Ve}=e,{initialized:ye,isAniVisible:P,visiblePanel:q,panelPlacement:Pe,panelStyle:qe,startValue:Ze,endValue:K}=h,xe=C.value,Ne=A.value,Ge=ge.value,ot=J.value,it=re.value,Tt=fe.value,zt=z.value,{startLabel:_t,endLabel:Fe}=it,{position:X}=Ge,Ce=l.header,at=l.footer,gt=l.top,St=l.bottom,bt=l.left,yt=l.right,xt=Tt.length>0,Ct=He===null?zt||!Me:He,$t=Ve===null?ot:Ve;return o(ol,{to:"body",disabled:Ne?!ye:!0},[o("div",{ref:g,class:["vxe-table--ignore-clear vxe-date-range-picker--panel",`type--${N}`,{[`size--${xe}`]:xe,"is--transfer":Ne,"ani--leave":P,"ani--enter":q,"show--top":!!(gt||Ce||xt&&(X==="top"||X==="header")),"show--bottom":!!(St||at||xt&&(X==="bottom"||X==="footer")),"show--left":!!(bt||xt&&X==="left"),"show--right":!!(yt||xt&&X==="right")}],placement:Pe,style:qe},ye&&(q||P)?[o("div",{ref:i,class:["vxe-date-range-picker--layout-all-wrapper",`type--${N}`,{[`size--${xe}`]:xe}]},[gt?o("div",{class:"vxe-date-range-picker--layout-top-wrapper"},gt({})):$e("top"),o("div",{class:"vxe-date-range-picker--layout-body-layout-wrapper"},[bt?o("div",{class:"vxe-date-range-picker--layout-left-wrapper"},bt({})):$e("left",!0),o("div",{class:"vxe-date-range-picker--layout-body-content-wrapper"},[Ce?o("div",{class:"vxe-date-range-picker--layout-header-wrapper"},Ce({})):$e("header"),o("div",{class:"vxe-date-range-picker--layout-body-wrapper"},[o(Ca,{ref:x,modelValue:Ze,type:e.type,className:e.className,minDate:e.minDate,maxDate:e.maxDate,endDate:K,startDay:e.startDay,labelFormat:e.labelFormat,valueFormat:e.valueFormat,timeFormat:e.timeFormat,festivalMethod:e.festivalMethod,disabledMethod:e.disabledMethod,selectDay:e.selectDay,onChange:Te}),o(Ca,{ref:k,modelValue:K,type:e.type,className:e.className,minDate:e.minDate,maxDate:e.maxDate,startDate:Ze,startDay:e.startDay,labelFormat:e.labelFormat,valueFormat:e.valueFormat,timeFormat:e.timeFormat,festivalMethod:e.festivalMethod,disabledMethod:e.disabledMethod,selectDay:e.selectDay,onChange:Ke})]),o("div",{class:"vxe-date-range-picker--layout-footer-wrapper"},[o("div",{class:"vxe-date-range-picker--layout-footer-label"},_t||Fe?[o("span",_t),o("span",`${ie||""}`),o("span",Fe)]:[]),o("div",{class:"vxe-date-range-picker--layout-footer-custom"},at?at({}):[$e("footer")]),o("div",{class:"vxe-date-range-picker--layout-footer-btns"},[$t?o(lo,{size:"mini",disabled:!(Ze||K),content:Wt("vxe.button.clear"),onClick:Re}):Mt(),Ct?o(lo,{size:"mini",status:"primary",content:Wt("vxe.button.confirm"),onClick:de}):Mt()])])]),yt?o("div",{class:"vxe-date-range-picker--layout-right-wrapper"},yt({})):$e("right",!0)]),St?o("div",{class:"vxe-date-range-picker--layout-bottom-wrapper"},St({})):$e("bottom")])]:[])])},ft=()=>{const{prefixIcon:N}=e,ie=l.prefix;return ie||N?o("div",{class:"vxe-date-range-picker--prefix",onClick:_e},[o("div",{class:"vxe-date-range-picker--prefix-icon"},ie?mn(ie({})):[o("i",{class:N})])]):null},vt=()=>{const{suffixIcon:N}=e,{startValue:ie,endValue:Me}=h,He=l.suffix,Ve=T.value,ye=J.value;return o("div",{class:["vxe-date-range-picker--suffix",{"is--clear":ye&&!Ve&&(ie||Me)}]},[ye?o("div",{class:"vxe-date-range-picker--clear-icon",onClick:Re},[o("i",{class:Yt().INPUT_CLEAR})]):Mt(),v(),He||N?o("div",{class:"vxe-date-range-picker--suffix-icon",onClick:se},He?mn(He({})):[o("i",{class:N})]):Mt()])},v=()=>o("div",{class:"vxe-date-range-picker--control-icon",onClick:mt},[o("i",{class:["vxe-date-range-picker--date-picker-icon",Yt().DATE_PICKER_DATE]})]),L=()=>{const{className:N,type:ie,name:Me,autoComplete:He}=e,{startValue:Ve,endValue:ye,visiblePanel:P,isActivated:q}=h,Pe=C.value,qe=T.value,Ze=M.value,K=Y.value;if(Ze)return o("div",{ref:w,class:["vxe-date-range-picker--readonly",`type--${ie}`,N]},K);const xe=W.value,Ne=J.value,Ge=ft(),ot=vt();return o("div",{ref:w,class:["vxe-date-range-picker",`type--${ie}`,N,{[`size--${Pe}`]:Pe,"is--prefix":!!Ge,"is--suffix":!!ot,"is--visible":P,"is--disabled":qe,"is--active":q,"show--clear":Ne&&!qe&&(Ve||ye)}],spellcheck:!1},[Ge||Mt(),o("div",{class:"vxe-date-range-picker--wrapper"},[o("input",{ref:V,class:"vxe-date-range-picker--inner",value:K,name:Me,type:"text",placeholder:xe,readonly:!0,disabled:qe,autocomplete:He,onKeydown:B,onKeyup:te,onClick:Rt,onChange:pe,onFocus:Ae,onBlur:F})]),ot||Mt(),nt()])};return Dt(()=>e.modelValue,()=>{me(!0)}),Dt(_,()=>{me(!1)}),me(!0),ke(()=>{At.on(O,"mousewheel",lt),At.on(O,"mousedown",Ye),At.on(O,"keydown",Qe),At.on(O,"blur",et),At.on(O,"resize",ht)}),Up(()=>{Ie()}),jn(()=>{At.off(O,"mousewheel"),At.off(O,"mousedown"),At.off(O,"blur"),At.off(O,"resize")}),rs(()=>{Ie()}),An("$xeDateRangePicker",O),O.renderVN=L,O},render(){return this.renderVN()}}),Qv=Object.assign({},nc,{install(e){e.component(nc.name,nc)}});dn.use(Qv);We.component(nc);const Rd=Object.assign({},Ol,{install(e){e.component(Ol.name,Ol)}}),eb={open(e){const t=Object.assign({},e);Wl.globalLoading={modelValue:!0,text:t.text,icon:t.icon},au()},close(){Wl.globalLoading=null}};dn.use(Rd);We.component(Ol);We.loading=eb;const va=[],oc=pn({name:"VxeDrawer",props:{modelValue:Boolean,id:String,title:String,loading:{type:Boolean,default:null},className:String,position:{type:[String,Object],default:()=>U().drawer.position},lockView:{type:Boolean,default:()=>U().drawer.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>U().drawer.mask},maskClosable:{type:Boolean,default:()=>U().drawer.maskClosable},escClosable:{type:Boolean,default:()=>U().drawer.escClosable},cancelClosable:{type:Boolean,default:()=>U().drawer.cancelClosable},confirmClosable:{type:Boolean,default:()=>U().drawer.confirmClosable},showHeader:{type:Boolean,default:()=>U().drawer.showHeader},showFooter:{type:Boolean,default:()=>U().drawer.showFooter},showClose:{type:Boolean,default:()=>U().drawer.showClose},content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>U().drawer.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>U().drawer.showConfirmButton},confirmButtonText:{type:String,default:()=>U().drawer.confirmButtonText},destroyOnClose:{type:Boolean,default:()=>U().drawer.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>U().drawer.showTitleOverflow},width:[Number,String],height:[Number,String],resize:{type:Boolean,default:()=>U().drawer.resize},zIndex:Number,transfer:{type:Boolean,default:()=>U().drawer.transfer},padding:{type:Boolean,default:()=>U().drawer.padding},size:{type:String,default:()=>U().drawer.size||U().size},beforeHideMethod:{type:Function,default:()=>U().drawer.beforeHideMethod},slots:Object},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","resize"],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),r=jt("$xeModal",null),d=jt("$xeDrawer",null),m=jt("$xeTable",null),p=jt("$xeForm",null),{computeSize:D}=kn(e),C=st(),h=st(),S=st(),w=st(),V=ln({initialized:!1,visible:!1,contentVisible:!1,drawerZIndex:0,resizeFlag:1}),g={refElem:C},i=j(()=>{const{transfer:ue}=e;if(ue===null){const me=U().modal.transfer;if(n.isBoolean(me))return me;if(m||r||d||p)return!0}return ue}),x=j(()=>{switch(e.position){case"top":return"sb";case"bottom":return"st";case"left":return"wr"}return"wl"}),k={},R={xID:u,props:e,context:t,reactData:V,getRefMaps:()=>g,getComputeMaps:()=>k},O=()=>h.value,$=()=>{const{width:ue,height:me}=e,be=O();return be&&(be.style.width=rn(ue),be.style.height=rn(me)),ke()},A=()=>{const{zIndex:ue}=e,{drawerZIndex:me}=V;ue?V.drawerZIndex=ue:me<hl()&&(V.drawerZIndex=fl())},M=ue=>{const{beforeHideMethod:me}=e,{visible:be}=V,Se={type:ue};return be&&Promise.resolve(me?me(Se):null).then(pe=>{n.isError(pe)||(V.contentVisible=!1,n.remove(va,Ae=>Ae===R),J("before-hide",Se,null),setTimeout(()=>{V.visible=!1,a("update:modelValue",!1),J("hide",Se,null)},200))}).catch(pe=>pe),ke()},T=ue=>{const me="close";J(me,{type:me},ue),M(me)},_=ue=>{const{confirmClosable:me}=e,be="confirm";J(be,{type:be},ue),me&&M(be)},z=ue=>{const{cancelClosable:me}=e,be="cancel";J(be,{type:be},ue),me&&M(be)},Z=()=>{const{showFooter:ue}=e,{initialized:me,visible:be}=V;return me||(V.initialized=!0),be||(V.visible=!0,V.contentVisible=!1,A(),va.push(R),setTimeout(()=>{$(),V.contentVisible=!0,ke(()=>{if(ue){const Ae=S.value,_e=w.value,ae=Ae||_e;ae&&ae.focus()}const pe={type:""};a("update:modelValue",!0),J("show",pe,null)})},10)),ke()},J=(ue,me,be)=>{a(ue,bn(be,{$drawer:R},me))},W={dispatchEvent:J,open:Z,close(){return M("close")},getBox:O},Q=ue=>{const me=C.value;e.maskClosable&&ue.target===me&&M("mask")},ge=ue=>{if(At.hasKey(ue,Sn.ESCAPE)){const be=n.max(va,Se=>Se.reactData.drawerZIndex);be&&setTimeout(()=>{if(be===R&&be.props.escClosable){const Se="exit";J("close",{type:Se},ue),M(Se)}},10)}},fe=()=>{const{drawerZIndex:ue}=V;va.some(me=>me.reactData.visible&&me.reactData.drawerZIndex>ue)&&A()},ve=ue=>{ue.preventDefault();const{visibleHeight:me,visibleWidth:be}=ya(),Se=0,Ae=ue.target.getAttribute("type"),_e=0,ae=0,Re=be,Ie=me,ne=O(),se=ne.clientWidth,F=ne.clientHeight,B=ue.clientX,te=ue.clientY,de=ne.offsetTop,Te=ne.offsetLeft,Ke={type:"resize"};document.onmousemove=Ye=>{Ye.preventDefault();let Qe,lt,et,ht;switch(Ae){case"wl":Qe=B-Ye.clientX,et=Qe+se,Te-Qe>Se&&et>_e&&(ne.style.width=`${et<Re?et:Re}px`);break;case"st":lt=te-Ye.clientY,ht=F+lt,de-lt>Se&&ht>ae&&(ne.style.height=`${ht<Ie?ht:Ie}px`);break;case"wr":Qe=Ye.clientX-B,et=Qe+se,Te+et+Se<be&&et>_e&&(ne.style.width=`${et<Re?et:Re}px`);break;case"sb":lt=Ye.clientY-te,ht=lt+F,de+ht+Se<me&&ht>ae&&(ne.style.height=`${ht<Ie?ht:Ie}px`);break}ne.className=ne.className.replace(/\s?is--drag/,"")+" is--drag",J("resize",Ke,Ye),V.resizeFlag++},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,V.resizeFlag++,setTimeout(()=>{ne.className=ne.className.replace(/\s?is--drag/,"")},50)}};Object.assign(R,W,{});const Ee=()=>{const{slots:ue={},showClose:me,title:be}=e,Se=l.title||ue.title,pe=l.corner||ue.corner;return[o("div",{class:"vxe-drawer--header-title"},Se?mn(Se({$drawer:R})):be?ao(be):Wt("vxe.alert.title")),o("div",{class:"vxe-drawer--header-right"},[pe?o("div",{class:"vxe-drawer--corner-wrapper"},mn(pe({$drawer:R}))):Mt(),me?o("div",{class:["vxe-drawer--close-btn","trigger--btn"],title:Wt("vxe.drawer.close"),onClick:T},[o("i",{class:Yt().DRAWER_CLOSE})]):Mt()])]},re=()=>{const{slots:ue={},showTitleOverflow:me}=e,be=l.header||ue.header;return e.showHeader?o("div",{class:["vxe-drawer--header",{"is--ellipsis":me}]},be?mn(be({$drawer:R})):Ee()):Mt()},Y=()=>{const{slots:ue={},content:me}=e,be=l.default||ue.default,Se=l.left||ue.left,pe=l.right||ue.right;return o("div",{class:"vxe-drawer--body"},[Se?o("div",{class:"vxe-drawer--body-left"},mn(Se({$drawer:R}))):Mt(),o("div",{class:"vxe-drawer--body-default"},[o("div",{class:"vxe-drawer--content"},be?mn(be({$drawer:R})):ao(me))]),pe?o("div",{class:"vxe-drawer--body-right"},mn(pe({$drawer:R}))):Mt(),o(Rd,{class:"vxe-drawer--loading",modelValue:e.loading})])},Oe=()=>{const{slots:ue={},showCancelButton:me,showConfirmButton:be,loading:Se}=e,pe=l.leftfoot||ue.leftfoot,Ae=l.rightfoot||ue.rightfoot,_e=[];return me&&_e.push(o(lo,{key:1,ref:w,content:e.cancelButtonText||Wt("vxe.button.cancel"),onClick:z})),be&&_e.push(o(lo,{key:2,ref:S,loading:Se,status:"primary",content:e.confirmButtonText||Wt("vxe.button.confirm"),onClick:_})),o("div",{class:"vxe-drawer--footer-wrapper"},[o("div",{class:"vxe-drawer--footer-left"},pe?mn(pe({$drawer:R})):[]),o("div",{class:"vxe-drawer--footer-right"},Ae?mn(Ae({$drawer:R})):_e)])},ze=()=>{const{slots:ue={}}=e,me=l.footer||ue.footer;return e.showFooter?o("div",{class:"vxe-drawer--footer"},me?mn(me({$drawer:R})):[Oe()]):Mt()},ce=()=>{const{slots:ue={},className:me,position:be,loading:Se,lockScroll:pe,padding:Ae,lockView:_e,mask:ae,resize:Re,destroyOnClose:Ie}=e,{initialized:ne,contentVisible:se,visible:F}=V,B=l.aside||ue.aside,te=D.value,de=x.value,Te=i.value;return o(ol,{to:"body",disabled:Te?!ne:!0},[o("div",{ref:C,class:["vxe-drawer--wrapper",`pos--${be}`,me||"",{[`size--${te}`]:te,"is--padding":Ae,"lock--scroll":pe,"lock--view":_e,"is--resize":Re,"is--mask":ae,"is--visible":se,"is--active":F,"is--loading":Se}],style:{zIndex:V.drawerZIndex},onClick:Q},[o("div",{ref:h,class:"vxe-drawer--box",onMousedown:fe},[B?o("div",{class:"vxe-drawer--aside"},mn(B({$drawer:R}))):Mt(),o("div",{class:"vxe-drawer--container"},!V.initialized||Ie&&!V.visible?[]:[re(),Y(),ze(),Re?o("span",{class:"vxe-drawer--resize"},[o("span",{class:`${de}-resize`,type:de,onMousedown:ve})]):Mt()])])])])};return Dt(()=>e.width,$),Dt(()=>e.height,$),Dt(()=>e.modelValue,ue=>{ue?Z():M("model")}),Ln(()=>{ke(()=>{e.modelValue&&Z(),$()}),e.escClosable&&At.on(R,"keydown",ge)}),jn(()=>{At.off(R,"keydown")}),An("$xeDrawer",R),R.renderVN=ce,R},render(){return this.renderVN()}});function tb(e){return au(),new Promise(t=>{if(e&&e.id&&va.some(l=>l.props.id===e.id))t("exist");else{const l=e.onHide,a=Object.assign(e,{key:n.uniqueId(),modelValue:!0,onHide(u){const r=Wl.drawers;l&&l(u),Wl.drawers=r.filter(d=>d.key!==a.key),t(u.type)}});Wl.drawers.push(a)}})}function wg(e){return n.find(va,t=>t.props.id===e)}function nb(e){const t=e?[wg(e)]:va,l=[];return t.forEach(a=>{a&&l.push(a.close())}),Promise.all(l)}function ob(e){return tb(Object.assign({},e))}const lb={get:wg,close:nb,open:ob},sb=Object.assign(oc,{install:function(e){e.component(oc.name,oc)}});We.drawer=lb;dn.use(sb);We.component(oc);const lc=pn({name:"VxeEmpty",props:{imageUrl:String,imageStyle:Object,icon:String,status:String,content:[String,Number]},emits:[],setup(e,t){const{emit:l}=t,a=n.uniqueId(),u=st(),r=ln({}),d={refElem:u},m={},p={xID:a,props:e,context:t,reactData:r,getRefMaps:()=>d,getComputeMaps:()=>m};Object.assign(p,{dispatchEvent:(w,V,g)=>{l(w,bn(g,{$empty:p},V))}},{});const S=()=>{const{imageUrl:w,imageStyle:V,icon:g,status:i,content:x}=e;return o("div",{ref:u,class:["vxe-empty",{[`theme--${i}`]:i}]},[o("div",{class:"vxe-empty--inner"},[w?o("div",{class:"vxe-empty--img-wrapper"},[o("img",{src:w,style:V})]):o("div",{class:"vxe-empty--icon-wrapper"},[o("i",{class:g||Yt().EMPTY_DEFAULT})]),o("div",{class:"vxe-empty--content-wrapper"},`${x||Wt("vxe.empty.defText")}`)])])};return p.renderVN=S,p},render(){return this.renderVN()}}),ab=Object.assign({},lc,{install(e){e.component(lc.name,lc)}});dn.use(ab);We.component(lc);class Eg{constructor(t,l){const{field:a,itemRender:u,formatter:r}=l;if(r){if(n.isString(r)){const d=pr.get(r);(!d||!d.formItemFormatMethod)&&To("vxe.error.notFormats",[`[form] ${r}`])}else if(n.isArray(r)){const d=pr.get(r[0]);(!d||!d.formItemFormatMethod)&&To("vxe.error.notFormats",[`[form] ${r[0]}`])}}a&&u&&(u.startField&&`${u.startField}`.indexOf(a)>=0&&To("vxe.error.modelConflicts",[`[form] field=${a}`,`item-render.startField=${u.startField}`]),u.endField&&`${u.endField}`.indexOf(a)>=0&&To("vxe.error.modelConflicts",[`[form] field=${a}`,`item-render.endField=${u.endField}`])),Object.assign(this,{id:n.uniqueId("item_"),title:l.title,field:a,span:l.span,align:l.align,verticalAlign:l.verticalAlign,titleBackground:l.titleBackground,titleBold:l.titleBold,titleAlign:l.titleAlign,titleWidth:l.titleWidth,titleColon:l.titleColon,vertical:l.vertical,padding:l.padding,titleAsterisk:l.titleAsterisk,titlePrefix:l.titlePrefix,titleSuffix:l.titleSuffix,titleOverflow:l.titleOverflow,showTitle:l.showTitle,resetValue:l.resetValue,visibleMethod:l.visibleMethod,visible:l.visible,showContent:l.showContent,folding:l.folding,collapseNode:l.collapseNode,className:l.className,contentClassName:l.contentClassName,contentStyle:l.contentStyle,titleClassName:l.titleClassName,titleStyle:l.titleStyle,itemRender:u,rules:l.rules,formatter:r,params:l.params,showError:!1,showIconMsg:!1,errRule:null,slots:l.slots,children:[]})}update(t,l){this[t]=l}}function rb(e){return e instanceof Eg}function kd(e,t){return rb(t)?t:new Eg(e,t)}function Df(e,t){return t?n.isString(t)?e.getItemByField(t):t:null}function ib(e,t){const{reactData:l}=e,{collapseAll:a}=l,{folding:u,visible:r}=t;return r===!1||u&&a}function Sg(e,t){const l=e.xeGrid;let{visibleMethod:a,itemRender:u,visible:r,field:d}=t;if(r===!1)return r;const m=Xo(u)?zo.get(u.name):null,p=m?m.formItemVisibleMethod||m.itemVisibleMethod:null;if(!a&&p&&(a=p),!a)return!0;const D=e.props,{data:C}=D;return a({data:C,field:d,property:d,item:t,$form:e,$grid:l})}function Dg(e,t){Object.keys(e).forEach(l=>{Dt(()=>e[l],a=>{t.update(l,a)})})}function Tg(e,t,l,a){const{reactData:u}=e,r=e.props,{customLayout:d}=r,{staticItems:m}=u;if(d)m.some(p=>p.id===l.id)||m.push(l);else if(t){const p=t.parentNode,D=a?a.formItem:null,C=D?D.children:m;p&&(C.splice(n.arrayIndexOf(p.children,t),0,l),u.staticItems=m.slice(0))}}function Mg(e,t){const{reactData:l}=e,{staticItems:a}=l,u=n.findIndexOf(a,r=>r.id===t.id);u>-1&&a.splice(u,1),l.staticItems=a.slice(0)}const rr=pn({name:"VxeIcon",props:{name:String,className:String,roll:Boolean,status:String,size:{type:String,default:()=>U().icon.size||U().size}},emits:["click"],setup(e,t){const{emit:l}=t,a=n.uniqueId(),{computeSize:u}=kn(e),r={xID:a,props:e,context:t},d=h=>{l("click",bn(h,{}))};Object.assign(r,{dispatchEvent:(h,S,w)=>{l(h,bn(w,{$icon:r},S))}},{});const C=()=>{const{name:h,roll:S,status:w,className:V}=e,g=u.value;return o("i",{class:["vxe-icon",`vxe-icon-${h}`,`${V||""}`,{[`size--${g}`]:g,[`theme--${w}`]:w,roll:S}],onClick:d})};return r.renderVN=C,r},render(){return this.renderVN()}});function Tf(e){return o("span",{class:"vxe-form--item-title-tip-prefix"},[o(rr,{class:e.icon||Yt().FORM_PREFIX,status:e.iconStatus})])}function Mf(e){return o("span",{class:"vxe-form--item-title-tip-suffix"},[o(rr,{class:e.icon||Yt().FORM_SUFFIX,status:e.iconStatus})])}function Pd(e,t,l){const a=e.props,u=e.reactData,r=e.xeGrid,{computeSize:d,computeValidOpts:m}=e.getComputeMaps(),{data:p,rules:D,readonly:C,disabled:h,span:S,titleBackground:w,titleBold:V,titleColon:g,titleAsterisk:i,vertical:x,padding:k}=a,{collapseAll:R}=u,{folding:O,field:$,itemRender:A,showError:M,className:T,vertical:_,padding:z,children:Z,showContent:J}=t,W=d.value,Q=m.value,{showErrorMessage:ge,showMessage:fe,showErrorIcon:ve}=Q,oe=Xo(A)?zo.get(A.name):null,Ee=oe?oe.formItemClassName||oe.itemClassName:"",re=t.span||S,Y=n.eqNull(z)?k:z,Oe=n.eqNull(_)?x:_,ze=n.eqNull(t.titleBackground)?w:t.titleBackground,ce=n.eqNull(t.titleBold)?V:t.titleBold,ue=n.eqNull(t.titleColon)?g:t.titleColon,me=n.eqNull(t.titleAsterisk)?i:t.titleAsterisk,be={data:p,disabled:h,readonly:C,field:$,property:$,item:t,$form:e,$grid:r},Se=Z&&Z.length>0;let pe=!1,Ae=!1;if(!C&&D){const _e=D[$];_e&&_e.length&&(Ae=!0,pe=_e.some(ae=>ae.required))}return[l||Se?"vxe-form--group":"","vxe-form--item",t.id,re?`vxe-form--item-col_${re} is--span`:"",`${(n.isBoolean(ge)?ge:fe)?"show":"hide"}--err-msg`,T?n.isFunction(T)?T(be):T:"",Ee?n.isFunction(Ee)?Ee(be):Ee:"",{[`size--${W}`]:W,"is--colon":ue,"is--tbg":ze,"is--bold":ce,"is--padding":Y,"is--vertical":Oe,"is--asterisk":me,"hide--content":J===!1,"is--valid":Ae,"is--required":pe,"is--hidden":O&&R,"is--active":Sg(e,t),"err--icon":ve,"is--error":M}]}function Fd(e,t,l){const a=e.props,u=e.xeGrid,{data:r,readonly:d,disabled:m,align:p,verticalAlign:D}=a,{field:C,itemRender:h,contentClassName:S,children:w}=t,V=w&&w.length>0,g=Xo(h)?zo.get(h.name):null,i=g?g.formItemContentClassName||g.itemContentClassName:"",x=V?t.align:n.eqNull(t.align)?p:t.align,k=V?t.verticalAlign:n.eqNull(t.verticalAlign)?D:t.verticalAlign,R={data:r,disabled:m,readonly:d,field:C,property:C,item:t,$form:e,$grid:u};return[l||V?"vxe-form--group-content vxe-form--item-row":"","vxe-form--item-content",x?`align--${x}`:"",k?`vertical-align--${k}`:"",i?n.isFunction(i)?i(R):i:"",S?n.isFunction(S)?S(R):S:""]}function Vd(e,t,l){const a=e.props,u=e.xeGrid,{data:r,readonly:d,disabled:m,titleAlign:p,titleWidth:D,titleOverflow:C,vertical:h}=a,{slots:S,title:w,field:V,itemRender:g,titleOverflow:i,vertical:x,showTitle:k,titleClassName:R,titleStyle:O,titlePrefix:$,titleSuffix:A,children:M,showContent:T}=t,{computeTooltipOpts:_}=e.getComputeMaps(),z=_.value,Z=Xo(g)?zo.get(g.name):null,J=Z?Z.formItemTitleClassName||Z.itemTitleClassName:"",W=Z?Z.formItemTitleStyle||Z.itemTitleStyle:null,Q=n.eqNull(x)?h:x,ge=n.eqNull(t.titleAlign)?p:t.titleAlign,fe=Q?null:n.eqNull(t.titleWidth)?D:t.titleWidth,ve=n.eqNull(i)?C:i,oe=ve==="ellipsis",Ee=ve==="title",re=ve===!0||ve==="tooltip",Y=Ee||re||oe,Oe={data:r,disabled:m,readonly:d,field:V,property:V,item:t,$form:e,$grid:u},ze=S?S.title:null,ce=S?S.prefix:null,ue=S?S.suffix||S.extra:null,me=k!==!1&&(w||ze),be=M&&M.length>0,Se=[];ce&&Se.push(o("span",{key:"pt",class:"vxe-form--item-title-prefix"},e.callSlot(ce,Oe))),$&&Se.push($.content||$.message?o(Xs,Object.assign(Object.assign(Object.assign({key:"pm"},z),$),{content:ao($.content||$.message)}),{default:()=>Tf($)}):Tf($));const pe=Z?Z.renderFormItemTitle||Z.renderItemTitle:null;Se.push(o("span",{key:"pl",class:"vxe-form--item-title-label"},ze?e.callSlot(ze,Oe):pe?mn(pe(g,Oe)):ao(t.title)));const Ae=[];A&&Ae.push(A.content||A.message?o(Xs,Object.assign(Object.assign(Object.assign({key:"sm"},z),A),{content:ao(A.content||A.message)}),{default:()=>Mf(A)}):Mf(A)),ue&&Ae.push(o("span",{key:"st",class:"vxe-form--item-title-suffix"},e.callSlot(ue,Oe)));const _e=re?{onMouseenter(Re){e.triggerTitleTipEvent(Re,Oe)},onMouseleave:e.handleTitleTipLeaveEvent}:{},ae=Object.assign({},n.isFunction(W)?W(Oe):W,n.isFunction(O)?O(Oe):O);return fe&&fe!=="auto"&&T!==!1&&(ae.width=rn(fe)),me?o("div",Object.assign({class:[l||be?"vxe-form--group-title":"","vxe-form--item-title",ge?`align--${ge}`:"",Y?"is--ellipsis":"",J?n.isFunction(J)?J(Oe):J:"",R?n.isFunction(R)?R(Oe):R:""],style:ae,itemid:t.id,title:Ee?ao(w):null},_e),[o("div",{class:"vxe-form--item-title-content"},Se),o("div",{class:"vxe-form--item-title-postfix"},Ae)]):Mt()}function Og(e,t){const{computeValidOpts:l}=e.getComputeMaps(),a=l.value,{showErrorIcon:u,errorIcon:r}=a,{errRule:d,showIconMsg:m}=t;return u?o("div",{key:"emi",class:["vxe-form-item--valid-error-icon-wrapper",{"is--show":m,"is--hide":!m}]},[o("span",{class:"vxe-form-item--valid-error-icon-btn",onClick(p){e.handleValidIconEvent(p,{item:t})}},[o("i",{class:r||Yt().FORM_VALID_ERROR_ICON})]),o("div",{class:"vxe-form-item--valid-error-icon-msg-tip"},d?[o("div",{class:`vxe-form-item--valid-error-icon-msg vxe-form-item--valid-error-icon-theme-${a.theme||"normal"}`},d.content||d.message)]:[])]):Mt()}function Ig(e,t){const l=e.props,a=e.reactData,u=e.internalData,r=e.xeGrid,{computeCollapseOpts:d,computeValidOpts:m}=e.getComputeMaps(),{itemFormatCache:p}=u,{data:D,readonly:C,disabled:h}=l,{collapseAll:S}=a,{slots:w,field:V,itemRender:g,collapseNode:i,errRule:x,formatter:k}=t,R=w?w.default:null,O=w?w.valid:null,$=d.value,A=m.value,{showErrorMessage:M,showMessage:T}=A,_=Xo(g)?zo.get(g.name):null,z=n.get(D,V),Z={data:D,disabled:h,readonly:C,field:V,property:V,item:t,itemValue:z,$form:e,$grid:r};let J=[];const W=_?_.renderFormItemContent||_.renderItemContent:null;if(R)J=e.callSlot(R,Z);else if(W)J=mn(W(g,Z));else if(V){let Q=z;if(k){let ge;if(V){const fe=p[V];if(fe)if(ge=fe.formatData,ge){if(ge.value===z)return ge.label}else ge=fe.formatData={};else p[V]={field:V}}if(n.isString(k)){const fe=pr.get(k),ve=fe?fe.formItemFormatMethod:null;Q=ve?ve(Z):""}else if(n.isArray(k)){const fe=pr.get(k[0]),ve=fe?fe.formItemFormatMethod:null;Q=ve?ve(Z,...k.slice(1)):""}else Q=k(Z);ge&&(ge.value=z,ge.label=Q)}J=[es(Q)?"":`${Q}`]}if(i&&J.push(o("div",{class:"vxe-form--item-trigger-node",onClick:e.toggleCollapseEvent},[o("span",{class:"vxe-form--item-trigger-text"},S?$.unfoldButtonText||Wt("vxe.form.unfolding"):$.foldButtonText||Wt("vxe.form.folding")),o("i",{class:["vxe-form--item-trigger-icon",S?$.foldIcon||Yt().FORM_FOLDING:$.unfoldIcon||Yt().FORM_UNFOLDING]})])),x&&(n.isBoolean(M)?M:T)){const Q=Object.assign(Object.assign({},Z),{rule:x});J.push(o("div",{class:"vxe-form-item--valid-error-tip",style:x.maxWidth?{width:rn(x.maxWidth)}:null},[o("div",{class:`vxe-form-item--valid-error-wrapper vxe-form-item--valid-error-theme-${A.theme||"normal"}`},[O?e.callSlot(O,Q):[o("span",{class:"vxe-form--item--valid-error-msg"},x.content||x.message)]])]))}return o("div",{key:"ct",class:"vxe-form--item-inner"},J)}const cb=pn({name:"VxeFormConfigItem",props:{itemConfig:Object},setup(e){const t=jt("$xeForm",{}),l={itemConfig:e.itemConfig};An("xeFormItemInfo",l);const a=(d,m)=>{const p=d.props,D=d.xeGrid,{data:C,readonly:h,disabled:S}=p,{visible:w,field:V,itemRender:g,contentStyle:i,children:x,showContent:k}=m,R=Xo(g)?zo.get(g.name):null,O=R?R.formItemStyle||R.itemStyle:null,$=R?R.formItemContentStyle||R.itemContentStyle:null,A={data:C,disabled:S,readonly:h,field:V,property:V,item:m,$form:d,$grid:D},M=x&&x.length>0;return w===!1?Mt():o("div",{key:m.id,itemid:m.id,class:Pd(d,m),style:n.isFunction(O)?O(A):O},[Vd(d,m),k===!1?Mt():o("div",{class:Fd(d,m),style:Object.assign({},n.isFunction($)?$(A):$,n.isFunction(i)?i(A):i)},M?x.map(T=>a(d,T)):[Ig(d,m),Og(d,m)])])},r={renderVN:()=>a(t,e.itemConfig)};return An("$xeFormGroup",null),r},render(){return this.renderVN()}}),ub="modelValue";function Rg(e){return`vxe-${`${e||""}`.replace("$","")}`}function Vl(e){const{name:t}=e;return gg(t)||Uo(`${t}`)}function kg({name:e}){return Uo(Rg(e))}function Pg(e){let{name:t,attrs:l}=e;return t==="input"&&(l=Object.assign({type:"text"},l)),l}function ul(e,t,l,a){return n.assign({},a,e.props,{[ub]:l})}function db(e,t,l,a){const{events:u}=e,r=hg(e),d=vg(e),m=d===r,p={};return u&&n.objectEach(u,(D,C)=>{p[ba(C)]=function(...h){D(t,...h)}}),l&&(p[ba(r)]=function(D){l(D),m&&a&&a(D),u&&u[r]&&u[r](t,D)}),!m&&a&&(p[ba(d)]=function(...D){a(...D),u&&u[d]&&u[d](t,...D)}),p}function Ad(e,t,l,a){const{events:u}=e,{model:r,change:d}=l||{},m=hg(e),p=vg(e),D={};return n.objectEach(u,(C,h)=>{D[ba(h)]=function(...S){n.isFunction(C)||To("vxe.error.errFunc",[`[form] ${C}`]),C(t,...S)}}),r&&(D[ba(m)]=function(C){r(C),u&&u[m]&&u[m](t,C)}),d&&(D[ba(p)]=function(...C){d(...C),u&&u[p]&&u[p](t,...C)}),a?Object.assign(D,a):D}function cl(e,t){const{$form:l,data:a,field:u}=t;return Ad(e,t,{model(r){n.set(a,u,r)},change(){l.updateStatus(t)}})}function Fg(e,t){const{$form:l,data:a,field:u}=t;return db(e,t,r=>{const d=r.target.value;n.set(a,u,d)},()=>{l.updateStatus(t)})}function fb(e,t,l){const{optionGroups:a,optionGroupProps:u={}}=e,r=u.options||"options",d=u.label||"label";return a?a.map((m,p)=>o("optgroup",{key:p,label:m[d]},l(m[r],e,t))):[]}function Of(e,t){const{data:l,field:a}=t,{name:u}=e,r=Pg(e),d=n.get(l,a);return[o(`${u}`,Object.assign(Object.assign(Object.assign({class:`vxe-default-${u}`},r),{value:r&&u==="input"&&(r.type==="submit"||r.type==="reset")?null:d}),Fg(e,t)))]}function vs(e,t){const{data:l,field:a}=t,u=n.get(l,a);return[o(Vl(e),Object.assign(Object.assign({},ul(e,t,u)),cl(e,t)))]}function Vu(e,t){const{data:l,field:a}=t,u=n.get(l,a);return[o(kg(e),Object.assign(Object.assign({},ul(e,t,u)),cl(e,t)))]}function Vg(e,t){return[o(Uo("vxe-button"),Object.assign(Object.assign({},ul(e,t,null)),Ad(e,t)))]}function pb(e,t){const{children:l}=e;return l?l.map(a=>Vg(a,t)[0]):[]}function If(e,t,l){const{data:a,field:u}=l,{optionProps:r={}}=t,d=r.label||"label",m=r.value||"value",p=r.disabled||"disabled",D=n.get(a,u);return e?e.map((C,h)=>o("option",{key:h,value:C[m],disabled:C[p],selected:C[m]==D},C[d])):[]}function Au(e,t){const{data:l,field:a}=t,u=n.get(l,a);return[o(Vl(e),Object.assign(Object.assign({},ul(e,t,u)),cl(e,t)))]}function Rf(e,t){const{options:l,optionProps:a}=e,{data:u,field:r}=t,d=n.get(u,r);return[o(Vl(e),Object.assign(Object.assign({options:l,optionProps:a},ul(e,t,d)),cl(e,t)))]}function kf(e,t){const{name:l,options:a,optionProps:u={}}=e,{data:r,field:d}=t,m=u.label||"label",p=u.value||"value",D=u.disabled||"disabled",C=n.get(r,d),h=Rg(l);return a?[o(Uo(`${h}-group`),Object.assign(Object.assign({},ul(e,t,C)),cl(e,t)),{default:()=>a.map((S,w)=>o(Uo(h),{key:w,label:S[p],content:S[m],disabled:S[D]}))})]:[o(Uo(h),Object.assign(Object.assign({},ul(e,t,C)),cl(e,t)))]}zo.mixin({input:{formItemAutoFocus:"input",renderFormItemContent:Of},textarea:{formItemAutoFocus:"textarea",renderFormItemContent:Of},select:{formItemAutoFocus:"input",renderFormItemContent(e,t){return[o("select",Object.assign(Object.assign({class:"vxe-default-select"},Pg(e)),Fg(e,t)),e.optionGroups?fb(e,t,If):If(e.options,e,t))]}},VxeInput:{formItemAutoFocus:"input",renderFormItemContent:vs},VxeNumberInput:{formItemAutoFocus:"input",renderFormItemContent:vs},VxePasswordInput:{formItemAutoFocus:"input",renderFormItemContent:vs},VxeTextarea:{formItemAutoFocus:"textarea",renderFormItemContent:vs},VxeDatePicker:{formItemAutoFocus:"input",renderFormItemContent:vs},VxeDateRangePicker:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{startField:l,endField:a}=e,{$form:u,data:r,field:d}=t,m=n.get(r,d),p={},D={};return l&&a&&(p.startValue=n.get(r,l),p.endValue=n.get(r,a),D["onUpdate:startValue"]=C=>{l&&n.set(r,l,C)},D["onUpdate:endValue"]=C=>{a&&n.set(r,a,C)}),[o(Vl(e),Object.assign(Object.assign({},ul(e,t,m,p)),Ad(e,t,{model(C){n.set(r,d,C)},change(){u.updateStatus(t)}},D)))]}},VxeButton:{renderFormItemContent:Au},VxeButtonGroup:{renderFormItemContent(e,t){const{options:l}=e,{data:a,field:u}=t,r=n.get(a,u);return[o(Vl(e),Object.assign(Object.assign({options:l},ul(e,t,r)),cl(e,t)))]}},VxeSelect:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:l,field:a}=t,{options:u,optionProps:r,optionGroups:d,optionGroupProps:m}=e,p=n.get(l,a);return[o(Vl(e),Object.assign(Object.assign({},ul(e,t,p,{options:u,optionProps:r,optionGroups:d,optionGroupProps:m})),cl(e,t)))]}},VxeTreeSelect:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:l,field:a}=t,{options:u,optionProps:r}=e,d=n.get(l,a);return[o(Vl(e),Object.assign(Object.assign({},ul(e,t,d,{options:u,optionProps:r})),cl(e,t)))]}},VxeTableSelect:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:l,field:a}=t,{options:u,optionProps:r}=e,d=n.get(l,a);return[o(Vl(e),Object.assign(Object.assign({},ul(e,t,d,{options:u,optionProps:r})),cl(e,t)))]}},VxeColorPicker:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:l,field:a}=t,{options:u}=e,r=n.get(l,a);return[o(Vl(e),Object.assign(Object.assign({},ul(e,t,r,{colors:u})),cl(e,t)))]}},VxeIconPicker:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:l,field:a}=t,{options:u}=e,r=n.get(l,a);return[o(Vl(e),Object.assign(Object.assign({},ul(e,t,r,{icons:u})),cl(e,t)))]}},VxeRadio:{renderFormItemContent:Au},VxeRadioGroup:{renderFormItemContent:Rf},VxeCheckbox:{renderFormItemContent:Au},VxeCheckboxGroup:{renderFormItemContent:Rf},VxeSwitch:{renderFormItemContent:vs},VxeRate:{renderFormItemContent:vs},VxeSlider:{renderFormItemContent:vs},VxeImage:{renderFormItemContent(e,t){const{data:l,field:a}=t,{props:u}=e,r=n.get(l,a);return[o(Vl(e),Object.assign(Object.assign(Object.assign({},u),{src:r}),cl(e,t)))]}},VxeImageGroup:{renderFormItemContent(e,t){const{data:l,field:a}=t,{props:u}=e,r=n.get(l,a);return[o(Vl(e),Object.assign(Object.assign(Object.assign({},u),{urlList:r}),cl(e,t)))]}},VxeUpload:{renderFormItemContent:vs},$input:{formItemAutoFocus:"input",renderFormItemContent:Vu},$textarea:{formItemAutoFocus:"textarea",renderFormItemContent:Vu},$button:{renderFormItemContent:Vg},$buttons:{renderFormItemContent:pb},$select:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:l,field:a}=t,{options:u,optionProps:r,optionGroups:d,optionGroupProps:m}=e,p=n.get(l,a);return[o(kg(e),Object.assign(Object.assign({},ul(e,t,p,{options:u,optionProps:r,optionGroups:d,optionGroupProps:m})),cl(e,t)))]}},$radio:{renderFormItemContent:kf},$checkbox:{renderFormItemContent:kf},$switch:{renderFormItemContent:Vu}});let Pr=class{constructor(t){Object.assign(this,{$options:t,required:t.required,min:t.min,max:t.min,type:t.type,pattern:t.pattern,validator:t.validator,trigger:t.trigger,maxWidth:t.maxWidth})}get content(){return ao(this.$options.content||this.$options.message)}get message(){return this.content}};function gb(e,t){return!(e&&!(n.isRegExp(e)?e:new RegExp(e)).test(t))}function $u(e,t){return!(!n.eqNull(e)&&t>n.toNumber(e))}function Nu(e,t){return!(!n.eqNull(e)&&t<n.toNumber(e))}function Pf(e,t,l){const{type:a,min:u,max:r,pattern:d}=e,m=a==="array",p=a==="number",D=a==="string",C=`${t}`;if(!gb(d,C))return!1;if(m){if(!n.isArray(t)||l&&!t.length||!Nu(u,t.length)||!$u(r,t.length))return!1}else if(p){const h=Number(t);if(isNaN(h)||!Nu(u,h)||!$u(r,h))return!1}else if(D&&!n.isString(t)||l&&!C||!Nu(u,C.length)||!$u(r,C.length))return!1;return!0}function mb(e,t){const{required:l}=e,a=n.isArray(t)?!t.length:es(t);if(l){if(a||!Pf(e,t,l))return!1}else if(!a&&!Pf(e,t,l))return!1;return!0}function Ff(){return{meTimeout:void 0,stTimeout:void 0,tooltipStore:{item:null,visible:!1},itemFormatCache:{}}}const sc=pn({name:"VxeForm",props:{collapseStatus:{type:Boolean,default:!0},loading:Boolean,data:Object,size:{type:String,default:()=>U().form.size||U().size},span:{type:[String,Number],default:()=>U().form.span},align:{type:String,default:()=>U().form.align},verticalAlign:{type:String,default:()=>U().form.verticalAlign},border:{type:Boolean,default:()=>U().form.border},titleBackground:{type:Boolean,default:()=>U().form.titleBackground},titleBold:{type:Boolean,default:()=>U().form.titleBold},titleAlign:{type:String,default:()=>U().form.titleAlign},titleWidth:{type:[String,Number],default:()=>U().form.titleWidth},titleColon:{type:Boolean,default:()=>U().form.titleColon},titleAsterisk:{type:Boolean,default:()=>U().form.titleAsterisk},titleOverflow:{type:[Boolean,String],default:()=>U().form.titleOverflow},vertical:{type:Boolean,default:()=>U().form.vertical},padding:{type:Boolean,default:()=>U().form.padding},className:[String,Function],readonly:Boolean,disabled:Boolean,items:Array,rules:Object,preventSubmit:{type:Boolean,default:()=>U().form.preventSubmit},validConfig:Object,tooltipConfig:Object,collapseConfig:Object,customLayout:{type:Boolean,default:()=>U().form.customLayout},params:Object},emits:["update:collapseStatus","collapse","toggle-collapse","submit","submit-invalid","reset"],setup(e,t){const{slots:l,emit:a}=t,u=jt("$xeGrid",null),r=n.uniqueId(),{computeSize:d}=kn(e),m=ln({collapseAll:e.collapseStatus,staticItems:[],formItems:[],itemWidth:0}),p=Ff(),D=st(),C=st();let h={};const S=j(()=>Object.assign({},U().form.validConfig,e.validConfig)),w=j(()=>Object.assign({},U().tooltip,U().form.tooltipConfig,e.tooltipConfig)),V=j(()=>Object.assign({},U().form.collapseConfig,e.collapseConfig)),g=j(()=>{const{titleWidth:ae,vertical:Re}=e,{formItems:Ie}=m,ne=[];return n.eachTree(Ie,se=>{const{titleWidth:F,vertical:B}=se;(F==="auto"||((n.eqNull(B)?Re:B)?null:n.eqNull(F)?ae:F)==="auto"&&(!se.children||!se.children.length))&&ne.push(se)},{children:"children"}),ne}),i={refElem:D},x={computeSize:d,computeValidOpts:S,computeTooltipOpts:w,computeCollapseOpts:V,computeAutoItemWidthList:g},k={xID:r,props:e,context:t,reactData:m,internalData:p,xeGrid:u,getRefMaps:()=>i,getComputeMaps:()=>x},R=(ae,Re)=>ae&&(n.isString(ae)&&(ae=l[ae]||null),n.isFunction(ae))?mn(ae(Re)):[],O=ae=>(ae.length&&ae.forEach(Re=>{Re.slots&&n.each(Re.slots,Ie=>{n.isFunction(Ie)||l[Ie]||To("vxe.error.notSlot",[`[form] ${Ie}`])})}),m.staticItems=n.mapTree(ae,Re=>kd(k,Re),{children:"children"}),p.itemFormatCache={},ke().then(()=>ue())),$=()=>{const ae=[];return n.eachTree(m.formItems,Re=>{ae.push(Re)},{children:"children"}),ae},A=ae=>{const Re=n.findTree(m.formItems,Ie=>Ie.field===ae,{children:"children"});return Re?Re.item:null},M=()=>m.collapseAll,T=()=>{const ae=!M();return m.collapseAll=ae,a("update:collapseStatus",ae),ke()},_=ae=>{const Re=T(),Ie=M();h.dispatchEvent("toggle-collapse",{status:Ie,collapse:Ie,data:e.data},ae),h.dispatchEvent("collapse",{status:Ie,collapse:Ie,data:e.data},ae),Re.then(()=>{ue().then(()=>{u&&u.recalculate(!0)}),u&&u.recalculate()})},z=ae=>{if(ae){let Re=ae;n.isArray(ae)||(Re=[ae]),Re.forEach(Ie=>{if(Ie){const ne=Df(k,Ie);ne&&(ne.showError=!1,ne.showIconMsg=!1)}})}else $().forEach(Re=>{Re.showError=!1,Re.showIconMsg=!1});return ke()},Z=(ae,Re,Ie)=>{const{field:ne,resetValue:se}=ae;return n.isFunction(se)?se({field:ne,item:ae,data:Re,$form:k,$grid:u}):n.eqNull(se)&&n.isArray(Ie)?[]:se},J=()=>{const{data:ae}=e,Re=$();return ae&&Re.forEach(Ie=>{const{field:ne,itemRender:se}=Ie;if(Xo(se)){const{name:F,startField:B,endField:te}=se,de=zo.get(F),Te=de?de.formItemResetMethod||de.itemResetMethod:null;if(de&&Te)Te({data:ae,field:ne,property:ne,item:Ie,$form:k,$grid:u});else if(ne){const Ke=n.get(ae,ne);n.set(ae,ne,Z(Ie,ae,Ke))}B&&te&&(n.set(ae,B,Z(Ie,ae,n.get(ae,B))),n.set(ae,te,Z(Ie,ae,n.get(ae,te))))}}),p.itemFormatCache={},z(),ue()},W=ae=>{ae.preventDefault(),J(),h.dispatchEvent("reset",{data:e.data},ae)},Q=ae=>{const Re=D.value;if(Re)for(let Ie=0;Ie<ae.length;Ie++){const ne=ae[Ie],se=A(ne);if(se&&Xo(se.itemRender)){const{itemRender:F}=se,B=zo.get(F.name);Ie||pv(Re.querySelector(`.${se.id}`));let te=null;const de=F.autoFocus||F.autofocus||(B?B.formItemAutoFocus:null);if(n.isFunction(de)?te=de({$form:k,$grid:u,item:se,data:e.data,field:ne}):de===!0?te=Re.querySelector(`.${se.id} input,textarea`):de&&(te=Re.querySelector(`.${se.id} ${de}`)),te){te.focus();break}}}},ge=(ae,Re,Ie)=>{const{data:ne,rules:se}=e,F={};return n.isArray(Re)||(Re=[Re]),Promise.all(Re.map(B=>{const te=[],de=[];if(B&&se){const Te=n.get(se,B);if(Te){const Ke=n.isUndefined(Ie)?n.get(ne,B):Ie;Te.forEach(Ye=>{const{trigger:Qe,validator:lt}=Ye;if(ae==="all"||!Qe||ae===Qe)if(lt){const et={itemValue:Ke,rule:Ye,rules:Te,data:ne,field:B,property:B,$form:k};let ht;if(n.isString(lt)){const Ot=Cd.get(lt);if(Ot){const ut=Ot.formItemValidatorMethod||Ot.itemValidatorMethod;ut?ht=ut(et):ml("vxe.error.notValidators",[`[form] ${lt}`])}else To("vxe.error.notValidators",[`[form] ${lt}`])}else ht=lt(et);ht&&(n.isError(ht)?te.push(new Pr({type:"custom",trigger:Qe,content:ht.message,rule:new Pr(Ye)})):ht.catch&&de.push(ht.catch(Ot=>{te.push(new Pr({type:"custom",trigger:Qe,content:Ot?Ot.message:Ye.content||Ye.message,rule:new Pr(Ye)}))})))}else mb(Ye,Ke)||te.push(new Pr(Ye))})}}return Promise.all(de).then(()=>{te.length&&(F[B]=te.map(Te=>({$form:k,rule:Te,data:ne,field:B,property:B})))})})).then(()=>{if(!n.isEmpty(F))return Promise.reject(F)})},fe=(ae,Re,Ie)=>{const{data:ne,rules:se}=e,F=S.value,B={},te=[],de=[];return clearTimeout(p.meTimeout),ne&&se?(ae.forEach(Te=>{const{field:Ke}=Te;Ke&&!ib(k,Te)&&Sg(k,Te)&&de.push(ge(Re||"all",Ke).then(()=>{Te.errRule=null}).catch(Ye=>{const Qe=Ye[Ke];return B[Ke]||(B[Ke]=[]),B[Ke].push(Qe),te.push(Ke),Te.errRule=Qe[0].rule,Promise.reject(Qe)}))}),Promise.all(de).then(()=>{Ie&&Ie()}).catch(()=>new Promise(Te=>{p.meTimeout=setTimeout(()=>{ae.forEach(Ke=>{Ke.errRule&&(Ke.showError=!0)})},20),F.autoPos!==!1&&ke(()=>{Q(te)}),Ie?(Ie(B),Te()):Te(B)}))):(Ie&&Ie(),Promise.resolve())},ve=ae=>{const{readonly:Re}=e;return z(),Re?ke():fe($(),"",ae).then(Ie=>(ue(),Ie))},oe=(ae,Re)=>{const{readonly:Ie}=e;if(Ie)return ke();let ne=[];return ae&&(n.isArray(ae)?ne=ae:ne=[ae]),fe(ne.map(se=>Df(k,se)),"",Re).then(se=>(ue(),se))},Ee=ae=>{const{readonly:Re}=e;if(ae.preventDefault(),!e.preventSubmit){if(z(),Re){h.dispatchEvent("submit",{data:e.data},ae),ue();return}fe($()).then(Ie=>{Ie?h.dispatchEvent("submit-invalid",{data:e.data,errMap:Ie},ae):h.dispatchEvent("submit",{data:e.data},ae),ue()})}},re=()=>{const{tooltipStore:ae}=p,Re=C.value;return ae.visible&&(Object.assign(ae,{item:null,visible:!1}),Re&&Re.close()),ke()},Y=(ae,Re)=>{const{item:Ie}=Re,{tooltipStore:ne}=p,se=C.value,F=ae.currentTarget.children[0],B=(F.textContent||"").trim(),te=F.scrollWidth>F.clientWidth;clearTimeout(p.stTimeout),ne.item!==Ie&&re(),B&&te&&(Object.assign(ne,{item:Ie,visible:!0}),se&&se.open(F,B))},Oe=()=>{const ae=w.value;let Re=C.value;Re&&Re.setActived(!1),ae.enterable?p.stTimeout=setTimeout(()=>{Re=C.value,Re&&!Re.isActived()&&re()},ae.leaveDelay):re()},ze=(ae,Re,Ie)=>Re?ge(ae?["blur"].includes(ae.type)?"blur":"change":"all",Re,Ie).then(()=>{z(Re)}).catch(ne=>{const se=ne[Re],F=A(Re);se&&F&&(F.showError=!0,F.errRule=se[0].rule)}):ke(),ce=(ae,Re)=>{const{field:Ie}=ae;return ze(new Event("change"),Ie,Re)},ue=()=>{const ae=g.value,Re=D.value;if(Re&&ae.length){const Ie=Re.querySelectorAll(ae.map(se=>`.vxe-form--item-title[itemid="${se.id}"]`).join(","));let ne=0;n.arrayEach(Ie,se=>{se.style.width="",ne=Math.max(ne,Math.ceil(se.clientWidth+2))}),n.arrayEach(Ie,se=>{se.style.width=`${ne}px`})}return ke()},me=()=>{ue()};h={dispatchEvent(ae,Re,Ie){a(ae,bn(Ie,{$form:k,$grid:u},Re))},reset:J,validate:ve,validateField:oe,clearValidate:z,updateStatus:ce,toggleCollapse:T,getItems:$,getItemByField:A,closeTooltip:re,recalculate:ue},Object.assign(k,h,{callSlot:R,triggerItemEvent:ze,toggleCollapseEvent:_,triggerTitleTipEvent:Y,handleTitleTipLeaveEvent:Oe,handleValidIconEvent(ae,Re){const{item:Ie}=Re;Ie.showIconMsg=!Ie.showIconMsg}});const Se=()=>{const{loading:ae,border:Re,className:Ie,data:ne,customLayout:se}=e,{formItems:F}=m,B=d.value,te=w.value,de=l.default;return o("form",{ref:D,class:["vxe-form",Ie?n.isFunction(Ie)?Ie({items:F,data:ne,$form:k}):Ie:"",{[`size--${B}`]:B,"is--border":Re,"custom--layout":se,"is--loading":ae}],onSubmit:Ee,onReset:W},[o("div",{class:"vxe-form--wrapper vxe-form--item-row"},se?de?de({}):[]:F.map((Te,Ke)=>o(cb,{key:Ke,itemConfig:Te}))),o("div",{class:"vxe-form-slots",ref:"hideItem"},se?[]:de?de({}):[]),o(Ol,{class:"vxe-form--loading",modelValue:ae}),o(Xs,Object.assign({ref:C},te))])},pe=st(0);Dt(()=>e.vertical,()=>{pe.value++}),Dt(()=>e.titleWidth,()=>{pe.value++}),Dt(pe,()=>{ke().then(()=>{ue()})});const Ae=st(0);Dt(()=>m.staticItems.length,()=>{Ae.value++}),Dt(()=>m.staticItems,()=>{Ae.value++}),Dt(Ae,()=>{m.formItems=m.staticItems,pe.value++});const _e=st(0);return Dt(()=>e.items?e.items.length:-1,()=>{_e.value++}),Dt(()=>e.items,()=>{_e.value++}),Dt(_e,()=>{O(e.items||[])}),Dt(()=>e.collapseStatus,ae=>{m.collapseAll=!!ae}),Dt(()=>e.readonly,()=>{z()}),Dt(()=>e.disabled,()=>{z()}),Ln(()=>{ke(()=>{e.customLayout&&e.items&&To("vxe.error.errConflicts",["[form] custom-layout","items"])}),At.on(k,"resize",me)}),jn(()=>{At.off(k,"resize"),n.assign(p,Ff())}),e.items&&O(e.items),An("xeFormItemInfo",null),An("$xeForm",k),An("$xeFormGroup",null),An("$xeFormItem",null),k.renderVN=Se,k},render(){return this.renderVN()}}),hb=Object.assign(sc,{install(e){e.component(sc.name,sc)}});dn.use(hb);We.component(sc);const Ag={title:String,field:String,span:{type:[String,Number],default:null},align:{type:String,default:null},verticalAlign:{type:String,default:null},titleBackground:{type:Boolean,default:null},titleBold:{type:Boolean,default:null},titleAlign:{type:String,default:null},titleWidth:{type:[String,Number],default:null},titleColon:{type:Boolean,default:null},titleAsterisk:{type:Boolean,default:null},showTitle:{type:Boolean,default:!0},vertical:{type:Boolean,default:null},padding:{type:Boolean,default:null},formatter:[String,Function],className:[String,Function],contentClassName:[String,Function],contentStyle:[Object,Function],titleClassName:[String,Function],titleStyle:[Object,Function],titleOverflow:{type:[Boolean,String],default:null},titlePrefix:Object,titleSuffix:Object,resetValue:{default:null},visibleMethod:Function,visible:{type:Boolean,default:null},showContent:{type:Boolean,default:null},folding:Boolean,collapseNode:Boolean,itemRender:Object,rules:Array,params:Object},ac=pn({name:"VxeFormItem",props:Ag,setup(e,{slots:t}){const l=n.uniqueId(),a=st(),u=jt("$xeForm",{}),r=jt("$xeFormGroup",null),d=ln(kd(u,e));d.slots=t,An("xeFormItemInfo",{itemConfig:d});const p=(h,S)=>{const w=h.props,V=h.xeGrid,{data:g,readonly:i,disabled:x}=w,{visible:k,field:R,itemRender:O,contentStyle:$,showContent:A}=S,M=Xo(O)?zo.get(O.name):null,T=M?M.formItemStyle||M.itemStyle:null,_=M?M.formItemContentStyle||M.itemContentStyle:null,z={data:g,disabled:x,readonly:i,field:R,property:R,item:S,$form:h,$grid:V};return k===!1?Mt():o("div",{ref:a,key:S.id,itemid:S.id,class:Pd(h,S),style:n.isFunction(T)?T(z):T},[Vd(h,S),A===!1?Mt():o("div",{class:Fd(h,S),style:Object.assign({},n.isFunction(_)?_(z):_,n.isFunction($)?$(z):$)},[Ig(h,S),Og(h,S)])])},C={xID:l,formItem:d,renderVN:()=>(u?u.props.customLayout:!1)?p(u,d):o("div",{ref:a})};return Dg(e,d),Ln(()=>{const h=a.value;Tg(u,h,d,r)}),jn(()=>{Mg(u,d)}),An("$xeFormItem",C),An("$xeFormGroup",null),C},render(){return this.renderVN()}}),Ur=pn({name:"VxeFormGroup",props:Ag,setup(e,t){const{slots:l}=t,a=n.uniqueId(),u=st(),r=jt("$xeForm",{}),d=jt("$xeFormGroup",null),m=ln(kd(r,e));m.slots=l,m.children=[],An("xeFormItemInfo",{itemConfig:m});const C={xID:a,formItem:m,renderVN:()=>{const h=r.props,S=r.xeGrid,w=m,{data:V,readonly:g,disabled:i}=h,{visible:x,field:k,itemRender:R,contentStyle:O}=w,$=Xo(R)?zo.get(R.name):null,A=$?$.formItemStyle||$.itemStyle:null,M=$?$.formItemContentStyle||$.itemContentStyle:null,T=l?l.default:null,_={data:V,disabled:i,readonly:g,field:k,property:k,item:w,$form:r,$grid:S};return x===!1?Mt():o("div",{ref:u,key:w.id,itemid:w.id,class:Pd(r,w,!0),style:n.isFunction(A)?A(_):A},[Vd(r,w,!0),o("div",{class:Fd(r,w,!0),style:Object.assign({},n.isFunction(M)?M(_):M,n.isFunction(O)?O(_):O)},T?T({}):[])])}};return Dg(e,m),Ln(()=>{const h=u.value;Tg(r,h,m,d)}),jn(()=>{Mg(r,m)}),An("$xeFormGroup",C),An("$xeFormItem",null),C},render(){return this.renderVN()}}),rc=Object.assign({},Ur,{name:"VxeFormGather"}),vb=Object.assign(rc,{install(e){e.component(rc.name,rc)}});dn.use(vb);We.component(rc);const bb=Object.assign(Ur,{install(e){e.component(Ur.name,Ur)}});dn.use(bb);We.component(Ur);const xb=Object.assign(ac,{install(e){e.component(ac.name,ac)}});dn.use(xb);We.component(ac);const yb=Object.assign({},rr,{install(e){e.component(rr.name,rr)}});dn.use(yb);We.component(rr);const ic=pn({name:"VxeIconPicker",props:{modelValue:String,placeholder:String,clearable:Boolean,size:{type:String,default:()=>U().iconPicker.size||U().size},className:[String,Function],popupClassName:[String,Function],showIconTitle:{type:Boolean,default:()=>U().iconPicker.showIconTitle},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},icons:Array,placement:String,transfer:{type:Boolean,default:null}},emits:["update:modelValue","change","clear","click"],setup(e,t){const{emit:l}=t,a=jt("$xeModal",null),u=jt("$xeDrawer",null),r=jt("$xeTable",null),d=jt("$xeForm",null),m=jt("xeFormItemInfo",null),p=n.uniqueId(),{computeSize:D}=kn(e),C=ln({initialized:!1,selectIcon:`${e.modelValue||""}`,panelIndex:0,panelStyle:{},panelPlacement:null,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),h={},S=st(),w=st(),V=st(),g={refElem:S},i={xID:p,props:e,context:t,reactData:C,getRefMaps:()=>g};let x={};const k=j(()=>{const{readonly:pe}=e;return pe===null?d?d.props.readonly:!1:pe}),R=j(()=>{const{disabled:pe}=e;return pe===null?d?d.props.disabled:!1:pe}),O=j(()=>{const{transfer:pe}=e;if(pe===null){const Ae=U().iconPicker.transfer;if(n.isBoolean(Ae))return Ae;if(r||a||u||d)return!0}return pe}),$=j(()=>{const{placeholder:pe}=e;if(pe)return ao(pe);const Ae=U().select.placeholder;return Ae?ao(Ae):Wt("vxe.base.pleaseSelect")}),A=j(()=>{let{icons:pe}=e;return(!pe||!pe.length)&&(pe=U().iconPicker.icons||[]),pe.map(Ae=>n.isString(Ae)?{title:Ae,icon:`vxe-icon-${`${Ae||""}`.replace(/^vxe-icon-/,"")}`}:{title:`${Ae.title||""}`,icon:Ae.icon||"",iconRender:Ae.iconRender})}),M=j(()=>{const pe=A.value;return n.chunk(pe,4)}),T=j(()=>{const{selectIcon:pe}=C,Ae=A.value;return pe?Ae.find(_e=>_e.icon===pe):null}),_=()=>{C.panelIndex<hl()&&(C.panelIndex=fl())},z=()=>ke().then(()=>{const{placement:pe}=e,{panelIndex:Ae}=C,_e=S.value,ae=V.value,Re=O.value;if(ae&&_e){const Ie=_e.offsetHeight,ne=_e.offsetWidth,se=ae.offsetHeight,F=ae.offsetWidth,B=5,te={zIndex:Ae},{boundingTop:de,boundingLeft:Te,visibleHeight:Ke,visibleWidth:Ye}=Ed(_e);let Qe="bottom";if(Re){let lt=Te,et=de+Ie;pe==="top"?(Qe="top",et=de-se):pe||(et+se+B>Ke&&(Qe="top",et=de-se),et<B&&(Qe="bottom",et=de+Ie)),lt+F+B>Ye&&(lt-=lt+F+B-Ye),lt<B&&(lt=B),Object.assign(te,{left:`${lt}px`,top:`${et}px`,minWidth:`${ne}px`})}else pe==="top"?(Qe="top",te.bottom=`${Ie}px`):pe||de+Ie+se>Ke&&de-Ie-se>B&&(Qe="top",te.bottom=`${Ie}px`);return C.panelStyle=te,C.panelPlacement=Qe,ke()}}),Z=()=>{const{hpTimeout:pe}=h;R.value||(pe&&(clearTimeout(pe),h.hpTimeout=void 0),C.initialized||(C.initialized=!0),C.isActivated=!0,C.isAniVisible=!0,setTimeout(()=>{C.visiblePanel=!0},10),_(),z())},J=()=>{C.visiblePanel=!1,h.hpTimeout=setTimeout(()=>{C.isAniVisible=!1},350)},W=(pe,Ae)=>{C.selectIcon=Ae,Ae!==e.modelValue&&(l("update:modelValue",Ae),ce("change",{value:Ae},pe),d&&m&&d.triggerItemEvent(pe,m.itemConfig.field,Ae))},Q=()=>{R.value||C.visiblePanel||Z()},ge=()=>{C.isActivated=!1},fe=(pe,Ae)=>{W(pe,Ae),ce("clear",{value:Ae},pe)},ve=(pe,Ae)=>{fe(Ae,null),J()},oe=pe=>{pe.preventDefault(),C.visiblePanel?J():Z()},Ee=pe=>{oe(pe),ce("click",{},pe)},re=pe=>{const{visiblePanel:Ae}=C;if(!R.value&&Ae){const ae=V.value;Qn(pe,ae).flag?z():J()}},Y=pe=>{const{visiblePanel:Ae}=C;if(!R.value){const ae=S.value,Re=V.value;C.isActivated=Qn(pe,ae).flag||Qn(pe,Re).flag,Ae&&!C.isActivated&&J()}},Oe=pe=>{const{clearable:Ae}=e,{visiblePanel:_e}=C;if(!R.value){const Re=At.hasKey(pe,Sn.TAB),Ie=At.hasKey(pe,Sn.ENTER),ne=At.hasKey(pe,Sn.ESCAPE),se=At.hasKey(pe,Sn.ARROW_UP),F=At.hasKey(pe,Sn.ARROW_DOWN),B=At.hasKey(pe,Sn.DELETE),te=At.hasKey(pe,Sn.SPACEBAR);Re&&(C.isActivated=!1),_e?ne||Re?J():Ie?(pe.preventDefault(),pe.stopPropagation()):(se||F||te)&&pe.preventDefault():(se||F||Ie||te)&&C.isActivated&&(pe.preventDefault(),Z()),C.isActivated&&B&&Ae&&fe(pe,null)}},ze=()=>{const{visiblePanel:pe,isActivated:Ae}=C;if(pe&&J(),Ae&&(C.isActivated=!1),pe||Ae){const _e=w.value;_e&&_e.blur()}},ce=(pe,Ae,_e)=>{l(pe,bn(_e,{$iconPicker:i},Ae))};x={dispatchEvent:ce,isPanelVisible(){return C.visiblePanel},togglePanel(){return C.visiblePanel?J():Z(),ke()},hidePanel(){return C.visiblePanel&&J(),ke()},showPanel(){return C.visiblePanel||Z(),ke()},focus(){const pe=w.value;return C.isActivated=!0,pe&&pe.blur(),ke()},blur(){const pe=w.value;return pe&&pe.blur(),C.isActivated=!1,ke()}};const ue=(pe,Ae)=>{const _e=Ae.icon;W(pe,_e),J()};Object.assign(i,x);const me=()=>{const{showIconTitle:pe}=e,Ae=M.value,_e=R.value;return o("div",{class:"vxe-ico-picker--list-wrapper"},Ae.map(ae=>o("div",{class:"vxe-ico-picker--list"},ae.map(Re=>{const{iconRender:Ie}=Re,ne=Ie?zo.get(Ie.name):null,se=ne?ne.renderIconPickerOptionIcon:null;return o("div",{class:"vxe-ico-picker--item",onClick(F){_e||ue(F,Re)}},[o("div",{class:"vxe-ico-picker--item-icon"},se&&Ie?mn(se(Ie,{$iconPicker:i,option:Re})):[o("i",{class:Re.icon||""})]),pe?o("div",{class:"vxe-ico-picker--item-title"},`${Re.title||""}`):Mt()])}))))},be=()=>{const{selectIcon:pe}=C,Ae=T.value;if(Ae){const{iconRender:_e}=Ae,ae=_e?zo.get(_e.name):null,Re=ae?ae.renderIconPickerOptionIcon:null;if(Re&&_e)return o("div",{key:"inc",class:"vxe-ico-picker--icon"},mn(Re(_e,{$iconPicker:i,option:Ae})))}return o("div",{key:"ind",class:"vxe-ico-picker--icon"},[o("i",{class:pe})])},Se=()=>{const{className:pe,popupClassName:Ae,clearable:_e}=e,{initialized:ae,isActivated:Re,isAniVisible:Ie,visiblePanel:ne,selectIcon:se}=C,F=D.value,B=R.value,te=O.value,de=k.value,Te=$.value;return de?o("div",{ref:S,class:["vxe-ico-picker--readonly",pe]},[o("i",{class:se})]):o("div",{ref:S,class:["vxe-ico-picker",pe?n.isFunction(pe)?pe({$iconPicker:i}):pe:"",{[`size--${F}`]:F,"show--clear":_e&&!B&&!!se,"is--visible":ne,"is--disabled":B,"is--active":Re}]},[o("div",{class:"vxe-ico-picker--inner",onClick:Ee},[o("input",{ref:w,class:"vxe-ico-picker--input",onFocus:Q,onBlur:ge}),se?be():o("div",{class:"vxe-ico-picker--placeholder"},Te),o("div",{class:"vxe-ico-picker--suffix"},[o("div",{class:"vxe-ico-picker--clear-icon",onClick:ve},[o("i",{class:Yt().INPUT_CLEAR})]),o("div",{class:"vxe-ico-picker--suffix-icon"},[o("i",{class:ne?Yt().ICON_PICKER_OPEN:Yt().ICON_PICKER_CLOSE})])])]),o(ol,{to:"body",disabled:te?!ae:!0},[o("div",{ref:V,class:["vxe-table--ignore-clear vxe-ico-picker--panel",Ae?n.isFunction(Ae)?Ae({$iconPicker:i}):Ae:"",{[`size--${F}`]:F,"is--transfer":te,"ani--leave":Ie,"ani--enter":ne}],placement:C.panelPlacement,style:C.panelStyle},[ae&&(ne||Ie)?o("div",{class:"vxe-ico-picker--panel-wrapper"},[me()]):Mt()])])])};return Dt(()=>e.modelValue,pe=>{C.selectIcon=`${pe||""}`}),Ln(()=>{At.on(i,"mousewheel",re),At.on(i,"mousedown",Y),At.on(i,"keydown",Oe),At.on(i,"blur",ze)}),jn(()=>{At.off(i,"mousewheel"),At.off(i,"mousedown"),At.off(i,"keydown"),At.off(i,"blur")}),An("$xeIconPicker",i),i.renderVN=Se,i},render(){return this.renderVN()}}),Cb=Object.assign(ic,{install:function(e){e.component(ic.name,ic)}});dn.use(Cb);We.component(ic);const Kr=pn({name:"VxeImagePreview",props:{modelValue:Number,urlList:Array,urlField:{type:String,default:()=>U().imagePreview.urlField},maskClosable:{type:Boolean,default:()=>U().imagePreview.maskClosable},marginSize:{type:String,default:()=>U().imagePreview.marginSize},showPrintButton:{type:Boolean,default:()=>U().imagePreview.showPrintButton},showDownloadButton:{type:Boolean,default:()=>U().imagePreview.showDownloadButton},zIndex:Number,toolbarConfig:Object,beforeDownloadMethod:Function,downloadMethod:Function},emits:["update:modelValue","change","download","download-fail","rotate","close"],setup(e,t){const{emit:l}=t,a=n.uniqueId(),u=st(),r={refElem:u},d=ln({activeIndex:e.modelValue||0,offsetPct11:!1,offsetScale:0,offsetRotate:0,offsetLeft:0,offsetTop:0}),m=j(()=>e.urlField||"url"),p=j(()=>n.toNumber(e.marginSize||0)||16),D=j(()=>Object.assign({},U().imagePreview.toolbarConfig,e.toolbarConfig)),C=j(()=>{const{offsetRotate:ce}=d;return ce?`${ce}°`:"0°"}),h=j(()=>{const{offsetScale:ce}=d;return ce?`${n.ceil((1+ce)*100)}%`:"100%"}),S=j(()=>{const{urlList:ce}=e,ue=m.value;return ce&&ce.length?ce.map(me=>n.isString(me)?me:me[ue]?me[ue]:""):[]}),w=j(()=>{let{offsetScale:ce,offsetRotate:ue,offsetLeft:me,offsetTop:be}=d;const Se=[];let pe=1;if(ce&&(pe=1+ce,Se.push(`scale(${pe})`)),ue&&Se.push(`rotate(${ue}deg)`),me||be){me/=pe,be/=pe;let Ae=me,_e=be;if(ue)switch(ue%360){case 90:case-270:Ae=be,_e=-me;break;case 180:case-180:Ae=-me,_e=-be;break;case 270:case-90:Ae=-be,_e=me;break}Se.push(`translate(${Ae}px, ${_e}px)`)}return Se.length?Se.join(" "):""}),V={computeImgList:S},g={xID:a,props:e,context:t,reactData:d,getRefMaps:()=>r,getComputeMaps:()=>V},i=(ce,ue,me)=>{l(ce,bn(me,{$imagePreview:g},ue))},x={dispatchEvent:i},k=ce=>{d.activeIndex=ce,l("update:modelValue",ce)},R=ce=>{i("close",{},ce)},O={},$=()=>{const ce=u.value;xa(ce,"is--move"),Object.assign(d,{offsetPct11:!1,offsetScale:0,offsetRotate:0,offsetLeft:0,offsetTop:0})},A=()=>{const{offsetScale:ce}=d;let ue=.02;return ce>=-.6&&(ue=.04,ce>=-.4&&(ue=.07,ce>=0&&(ue=.1,ce>=3&&(ue=.25,ce>=8&&(ue=.4,ce>=16&&(ue=.6,ce>=24&&(ue=.9,ce>=32&&(ue=1.3,ce>=39&&(ue=1.9,ce>=45&&(ue=2.5)))))))))),ue},M=ce=>{const{offsetScale:ue}=d,me=A();ce?d.offsetScale=Number(Math.min(49,ue+me).toFixed(2)):d.offsetScale=Number(Math.max(-.9,ue-me).toFixed(2))},T=(ce,ue)=>{let me=d.activeIndex||0;const be=S.value;ue?me>=be.length-1?me=0:me++:me<=0?me=be.length-1:me--;const Se=be[me||0];d.activeIndex=me,$(),k(me),i("change",{url:Se,activeIndex:me},ce)},_=(ce,ue)=>{const me=S.value,{activeIndex:be}=d,Se=me[be||0];let pe=d.offsetRotate;ue?pe+=90:pe-=90,d.offsetRotate=pe,i("rotate",{url:Se,rotateValue:pe},ce)},z=()=>{$(),d.offsetPct11=!0},Z=()=>{const{activeIndex:ce}=d,me=S.value[ce||0];We.print&&We.print({align:"center",pageBreaks:[{bodyHtml:`<img src="${me}" style="max-width:100%;max-height:100%;">`}]})},J=(ce,ue)=>{i("download",{url:ue},ce)},W=(ce,ue)=>{We.saveFile&&fetch(ue).then(me=>me.blob().then(be=>{We.saveFile({filename:ue,content:be}),J(ce,ue)})).catch(()=>{We.modal&&We.modal.message({content:Wt("vxe.error.downErr"),status:"error"})})},Q=ce=>{const{activeIndex:ue}=d,be=D.value.download,Se=n.isBoolean(be)?{}:be?Object.assign({},be):{},Ae=S.value[ue||0],_e=e.beforeDownloadMethod||Se.beforeDownloadMethod||U().imagePreview.beforeDownloadMethod,ae=e.downloadMethod||Se.downloadMethod||U().imagePreview.downloadMethod;Promise.resolve(_e?_e({$imagePreview:g,url:Ae,index:ue||0}):!0).then(Re=>{Re&&(ae?Promise.resolve(ae({$imagePreview:g,url:Ae,index:ue||0})).then(()=>{J(ce,Ae)}).catch(Ie=>Ie):W(ce,Ae))})},ge=(ce,ue)=>{const{activeIndex:me}=d;if(S.value[me||0])switch(ue){case"zoomOut":M(!1);break;case"zoomIn":M(!0);break;case"pctFull":$();break;case"pct11":z();break;case"rotateLeft":_(ce,!1);break;case"rotateRight":_(ce,!0);break;case"print":Z();break;case"download":Q(ce);break}},fe=ce=>{const ue=ce.deltaY;ue>0?(ce.preventDefault(),M(!1)):ue<0&&(ce.preventDefault(),M(!0))},ve=ce=>{const{offsetTop:ue,offsetLeft:me}=d,be=u.value;ce.preventDefault();const Se=document.onmousemove,pe=document.onmouseup,Ae=ce.pageX,_e=ce.pageY,ae=p.value;document.onmousemove=Re=>{const{pageX:Ie,pageY:ne}=Re,{visibleHeight:se,visibleWidth:F}=ya();Re.preventDefault(),Uc(be,"is--move"),Ie>ae&&ne>ae&&Ie<F-ae&&ne<se-ae&&(d.offsetLeft=me+Ie-Ae,d.offsetTop=ue+ne-_e)},document.onmouseup=()=>{document.onmousemove=Se,document.onmouseup=pe,xa(be,"is--move")}},oe=ce=>{const ue=wd(ce),me=ce.shiftKey,be=At.hasKey(ce,Sn.ARROW_UP),Se=At.hasKey(ce,Sn.ARROW_DOWN),pe=At.hasKey(ce,Sn.ARROW_LEFT),Ae=At.hasKey(ce,Sn.ARROW_RIGHT),_e=At.hasKey(ce,Sn.R),ae=At.hasKey(ce,Sn.P);be?(ce.preventDefault(),me?d.offsetTop-=1:M(!0)):Se?(ce.preventDefault(),me?d.offsetTop+=1:M(!1)):pe?(ce.preventDefault(),me?d.offsetLeft-=1:T(ce,!1)):Ae?(ce.preventDefault(),me?d.offsetLeft+=1:T(ce,!0)):_e&&ue?(ce.preventDefault(),me?_(ce,!1):_(ce,!0)):ae&&ue&&(ce.preventDefault(),Z())},Ee=ce=>{e.maskClosable&&ce.target===ce.currentTarget&&i("close",{},ce)};Object.assign(g,x,O);const re=()=>{const{activeIndex:ce}=d,ue=S.value,me=w.value;return o("div",{class:"vxe-image-preview--img-list",onClick:Ee},ue.map((be,Se)=>{const pe=ce===Se;return o("img",{class:["vxe-image-preview--img-item",{"is--active":pe}],src:be,style:pe?{transform:me}:null,onMousedown(Ae){ve(Ae)}})}))},Y=(ce,ue)=>{const be=D.value[ce],Se=n.isBoolean(be)?{}:be?Object.assign({},be):{};return be!==!1?o("div",{class:"vxe-image-preview--operation-btn",title:Wt(`vxe.imagePreview.operBtn.${ce}`),onClick(Ae){ge(Ae,ce)}},[o("i",{class:Se.icon||Yt()[ue]})]):Mt()},Oe=()=>{const{showPrintButton:ce,showDownloadButton:ue}=e,{activeIndex:me}=d,be=S.value,Se=C.value,pe=h.value,Ae=D.value;return o("div",{class:"vxe-image-preview--btn-wrapper"},[o("div",{class:"vxe-image-preview--close-wrapper"},[o("div",{class:"vxe-image-preview--close-btn",onClick:R},[o("i",{class:Yt().IMAGE_PREVIEW_CLOSE})]),o("div",{class:"vxe-image-preview--close-bg"})]),be.length>1?o("div",{class:"vxe-image-preview--previous-btn",onClick(_e){T(_e,!1)}},[o("i",{class:Yt().IMAGE_PREVIEW_PREVIOUS})]):Mt(),be.length>1?o("div",{class:"vxe-image-preview--next-btn",onClick(_e){T(_e,!0)}},[o("i",{class:Yt().IMAGE_PREVIEW_NEXT})]):Mt(),o("div",{class:"vxe-image-preview--operation-info"},[o("div",{class:"vxe-image-preview--operation-deg"},Se),o("div",{class:"vxe-image-preview--operation-pct"},pe)]),o("div",{class:"vxe-image-preview--operation-wrapper"},[o("div",{class:"vxe-image-preview--operation-active-count"},[o("span",{class:"vxe-image-preview--operation-active-current"},`${(me||0)+1}`),o("span",{class:"vxe-image-preview--operation-active-total"},`/${be.length}`)]),Y("zoomOut","IMAGE_PREVIEW_ZOOM_OUT"),Y("zoomIn","IMAGE_PREVIEW_ZOOM_IN"),Y("pctFull","IMAGE_PREVIEW_PCT_FULL"),Y("pct11","IMAGE_PREVIEW_PCT_1_1"),Y("rotateLeft","IMAGE_PREVIEW_ROTATE_LEFT"),Y("rotateRight","IMAGE_PREVIEW_ROTATE_RIGHT"),ce||Ae.print?Y("print","IMAGE_PREVIEW_PRINT"):Mt(),ue||Ae.download?Y("download","IMAGE_PREVIEW_DOWNLOAD"):Mt()])])},ze=()=>{const{offsetPct11:ce}=d;return o("div",{ref:u,class:["vxe-image-preview",{"is--pct11":ce}]},[re(),Oe()])};return Dt(()=>e.modelValue,ce=>{d.activeIndex=ce,$()}),Ln(()=>{const ce=u.value;ce&&ce.addEventListener("wheel",fe,{passive:!1}),At.on(g,"keydown",oe)}),rs(()=>{const ce=u.value;ce&&(ce.removeEventListener("wheel",fe),xa(ce,"is--move"))}),jn(()=>{At.off(g,"keydown")}),An("$xeImagePreview",g),g.renderVN=ze,ze}}),$d=e=>{if(We.modal){const t=Object.assign({escClosable:!0},e),{urlList:l,activeIndex:a,zIndex:u}=t,{rotate:r,change:d}=t.events||{},m=n.uniqueId("image-preview");We.modal.open({id:m,title:"预览",width:"100%",height:"100%",showHeader:!1,showFooter:!1,padding:!1,escClosable:t.escClosable,zIndex:u,className:"vxe-image-preview-popup-wrapper",slots:{default(){return o(Kr,{modelValue:a,urlList:l,urlField:t.urlField,marginSize:t.marginSize,maskClosable:t.maskClosable,toolbarConfig:t.toolbarConfig,showPrintButton:t.showPrintButton,showDownloadButton:t.showDownloadButton,beforeDownloadMethod:t.beforeDownloadMethod,downloadMethod:t.downloadMethod,onClose(){We.modal.close(m)},onChange(p){d&&d.call(this,p)},onRotate(p){r&&r.call(this,p)}})}}})}return Promise.resolve()},Xr=pn({name:"VxeImage",props:{src:[String,Array],alt:[String,Number],loading:String,title:[String,Number],width:[String,Number],height:[String,Number],circle:Boolean,zIndex:Number,maskClosable:{type:Boolean,default:()=>U().image.maskClosable},toolbarConfig:Object,showPreview:{type:Boolean,default:()=>U().image.showPreview},showPrintButton:{type:Boolean,default:()=>U().image.showPrintButton},showDownloadButton:{type:Boolean,default:()=>U().image.showDownloadButton},size:{type:String,default:()=>U().image.size||U().size},getThumbnailUrlMethod:Function},emits:["click","change","rotate"],setup(e,t){const{emit:l}=t,a=n.uniqueId(),u=jt("$xeImageGroup",null),r=st(),{computeSize:d}=kn(e),m=ln({}),p={refElem:r},D=j(()=>{const{width:O,height:$}=e,A={};return O&&$?(A.maxWidth=rn(O),A.maxHeight=rn($)):(O&&(A.width=rn(O)),$&&(A.height=rn($))),A}),C=j(()=>{const{src:O}=e;return O?(n.isArray(O)?O:[O]).map($=>n.isString($)?{url:$,alt:""}:{url:$.url,alt:$.alt}):[]}),h=j(()=>C.value[0]),S=j(()=>{const O=h.value;return O?`${O.url||""}`:""}),w=j(()=>{const O=e.getThumbnailUrlMethod||U().image.getThumbnailUrlMethod,$=S.value;return O?O({url:$,$image:g}):""}),V={computeSize:d},g={xID:a,props:e,context:t,reactData:m,getRefMaps:()=>p,getComputeMaps:()=>V},i={dispatchEvent(O,$,A){l(O,bn(A,{$image:g},$))}},x=O=>{const{showPreview:$,toolbarConfig:A,showPrintButton:M,showDownloadButton:T,maskClosable:_,zIndex:z}=e,Z=C.value,J=S.value;u?u.handleClickImgEvent(O,{url:J}):($&&J&&$d({urlList:Z,toolbarConfig:A,showPrintButton:M,showDownloadButton:T,maskClosable:_,zIndex:z,events:{change(W){g.dispatchEvent("change",W,W.$event)},rotate(W){g.dispatchEvent("rotate",W,W.$event)}}}),g.dispatchEvent("click",{url:J},O))};Object.assign(g,i,{});const R=()=>{const{alt:O,loading:$,circle:A}=e,M=D.value,T=S.value,_=w.value,z=d.value;return o("img",{ref:r,class:["vxe-image",{[`size--${z}`]:z,"is--circle":A}],src:_||T,alt:O,loading:$,style:M,onClick:x})};return g.renderVN=R,g},render(){return this.renderVN()}}),wb=Object.assign({},Xr,{install(e){e.component(Xr.name,Xr)}});dn.use(wb);We.component(Xr);const cc=pn({name:"VxeImageGroup",props:{urlList:[Array,String],showPreview:{type:Boolean,default:()=>U().imageGroup.showPreview},imageStyle:Object,zIndex:Number,size:{type:String,default:()=>U().imageGroup.size||U().size},toolbarConfig:Object,showPrintButton:{type:Boolean,default:()=>U().imageGroup.showPrintButton},showDownloadButton:{type:Boolean,default:()=>U().imageGroup.showDownloadButton},getThumbnailUrlMethod:Function},emits:["click","change","rotate"],setup(e,t){const{emit:l}=t,a=n.uniqueId(),{computeSize:u}=kn(e),r=j(()=>{const{urlList:w}=e;return w?(n.isArray(w)?w:[w]).map(V=>n.isString(V)?{url:V,alt:""}:{url:V.url,alt:V.alt}):[]}),d=j(()=>Object.assign({},U().imageGroup.imageStyle,e.imageStyle)),m=j(()=>e.getThumbnailUrlMethod||U().imageGroup.getThumbnailUrlMethod),p={computeSize:u},D={xID:a,props:e,context:t,getComputeMaps:()=>p};Object.assign(D,{dispatchEvent(w,V,g){l(w,bn(g,{$imageGroup:D},V))}},{handleClickImgEvent(w,V){const{showPreview:g,toolbarConfig:i,showPrintButton:x,showDownloadButton:k,zIndex:R}=e,{url:O}=V,$=r.value;g&&O&&$d({activeIndex:Math.max(0,n.findIndexOf($,A=>A.url===O)),urlList:$,toolbarConfig:i,showPrintButton:x,showDownloadButton:k,zIndex:R,events:{change(A){D.dispatchEvent("change",A,A.$event)},rotate(A){D.dispatchEvent("rotate",A,A.$event)}}}),D.dispatchEvent("click",{url:O,urlList:$},w)}});const S=()=>{const w=r.value,V=u.value,g=d.value,i=m.value;return o("div",{class:["vxe-image-group",{[`size--${V}`]:V}]},w?w.map((x,k)=>o(Xr,{key:k,src:x.url,alt:x.alt,width:g.width,height:g.height,getThumbnailUrlMethod:i})):[])};return D.renderVN=S,An("$xeImageGroup",D),D},render(){return this.renderVN()}}),Eb=Object.assign({},cc,{install(e){e.component(cc.name,cc)}});dn.use(Eb);We.component(cc);const Sb=Object.assign(Kr,{install(e){e.component(Kr.name,Kr)}});We.previewImage=$d;dn.use(Sb);We.component(Kr);const Db=Object.assign(ss,{install(e){e.component(ss.name,ss)}});dn.use(Db);We.component(ss);const uc=pn({name:"VxeLayoutAside",props:{width:[String,Number],collapsed:Boolean,collapseWidth:[String,Number],loading:Boolean,padding:Boolean,size:{type:String,default:()=>U().layoutAside.size||U().size}},emits:[],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),r=st(),{computeSize:d}=kn(e),m=ln({}),p={refElem:r},D=j(()=>{const{width:i,collapsed:x,collapseWidth:k}=e;if(x){if(k)return rn(k)}else if(i)return rn(i);return""}),C={computeSize:d},h={xID:u,props:e,context:t,reactData:m,getRefMaps:()=>p,getComputeMaps:()=>C};Object.assign(h,{dispatchEvent:(i,x,k)=>{a(i,bn(k,{$layoutAside:h},x))}},{});const g=()=>{const{width:i,collapsed:x,loading:k,padding:R}=e,O=D.value,$=d.value,A=l.default;return o("aside",{ref:r,class:["vxe-layout-aside",{[`size--${$}`]:$,"is--padding":R,"is--default-width":!i,"is--collapse":x,"is--loading":k}],style:O?{width:O}:null},[o("div",{class:"vxe-layout-aside--inner"},A?A({}):[]),o(Ol,{class:"vxe-list-view--loading",modelValue:k})])};return An("$xeLayoutAside",h),h.renderVN=g,h},render(){return this.renderVN()}}),Tb=Object.assign({},uc,{install(e){e.component(uc.name,uc)}});dn.use(Tb);We.component(uc);const dc=pn({name:"VxeLayoutBody",props:{loading:Boolean,padding:Boolean,size:{type:String,default:()=>U().layoutBody.size||U().size}},emits:[],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),r=st(),{computeSize:d}=kn(e),m=ln({}),p={refElem:r},D={computeSize:d},C={xID:u,props:e,context:t,reactData:m,getRefMaps:()=>p,getComputeMaps:()=>D};Object.assign(C,{dispatchEvent:(g,i,x)=>{a(g,bn(x,{$layoutBody:C},i))}},{});const V=()=>{const{loading:g,padding:i}=e,x=d.value,k=l.default;return o("div",{ref:r,class:["vxe-layout-body",{[`size--${x}`]:x,"is--loading":g,"is--padding":i}]},[o("div",{class:"vxe-layout-body--inner"},k?k({}):[]),o(Ol,{class:"vxe-list-view--loading",modelValue:g})])};return C.renderVN=V,C},render(){return this.renderVN()}}),Mb=Object.assign({},dc,{install(e){e.component(dc.name,dc)}});dn.use(Mb);We.component(dc);const fc=pn({name:"VxeLayoutContainer",props:{vertical:Boolean,size:{type:String,default:()=>U().layoutContainer.size||U().size}},emits:[],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),r=st(),{computeSize:d}=kn(e),m=ln({}),p={refElem:r},D={computeSize:d},C={xID:u,props:e,context:t,reactData:m,getRefMaps:()=>p,getComputeMaps:()=>D};Object.assign(C,{dispatchEvent:(g,i,x)=>{a(g,bn(x,{$layoutContainer:C},i))}},{});const V=()=>{const{vertical:g}=e,i=d.value,x=l.default;return o("div",{ref:r,class:["vxe-layout-container",{[`size--${i}`]:i,"is--vertical":g}]},x?x({}):[])};return C.renderVN=V,C},render(){return this.renderVN()}}),Ob=Object.assign({},fc,{install(e){e.component(fc.name,fc)}});dn.use(Ob);We.component(fc);const pc=pn({name:"VxeLayoutFooter",props:{fixed:Boolean,align:String},emits:[],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),r=st(),d=ln({}),m={refElem:r},p={},D={xID:u,props:e,context:t,reactData:d,getRefMaps:()=>m,getComputeMaps:()=>p};Object.assign(D,{dispatchEvent:(V,g,i)=>{a(V,bn(i,{$layoutFooter:D},g))}},{});const w=()=>{const{fixed:V,align:g}=e,i=l.default;return o("footer",{ref:r,class:["vxe-layout-footer",g?`align--${g}`:"",{"is--fixed":V}]},i?i({}):[])};return D.renderVN=w,D},render(){return this.renderVN()}}),Ib=Object.assign({},pc,{install(e){e.component(pc.name,pc)}});dn.use(Ib);We.component(pc);const gc=pn({name:"VxeLayoutHeader",props:{fixed:Boolean},emits:[],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),r=st(),d=ln({}),m={refElem:r},p={},D={xID:u,props:e,context:t,reactData:d,getRefMaps:()=>m,getComputeMaps:()=>p};Object.assign(D,{dispatchEvent:(V,g,i)=>{a(V,bn(i,{$layoutHeader:D},g))}},{});const w=()=>{const{fixed:V}=e,g=l.default;return o("header",{ref:r,class:["vxe-layout-header",{"is--fixed":V}]},g?g({}):[])};return D.renderVN=w,D},render(){return this.renderVN()}}),Rb=Object.assign({},gc,{install(e){e.component(gc.name,gc)}});dn.use(Rb);We.component(gc);const mc=pn({name:"VxeLink",props:{href:String,target:String,status:String,title:[String,Number],disabled:Boolean,icon:String,routerLink:Object,underline:{type:Boolean,default:()=>U().link.underline},permissionCode:[String,Number],content:[String,Number],size:{type:String,default:()=>U().link.size||U().size}},emits:["click"],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),{computeSize:r}=kn(e),{computePermissionInfo:d}=vr(e),m=st(),p=ln({}),D={refElem:m},C={},h={xID:u,props:e,context:t,reactData:p,getRefMaps:()=>D,getComputeMaps:()=>C},S=(k,R,O)=>{a(k,bn(O,{$link:h},R))},w={dispatchEvent:S},V={},g=k=>{const{disabled:R}=e;R||S("click",{},k)};Object.assign(h,w,V);const i=()=>{const{icon:k,content:R}=e,O=l.default,$=l.icon,A=n.toValueString(R);return[$||k?o("span",{class:"vxe-link--icon"},$?mn($({})):[o("i",{class:k})]):Mt(),O||A?o("span",{class:"vxe-link--content"},O?O({}):A):Mt()]},x=()=>{const{status:k,target:R,href:O,title:$,underline:A,disabled:M,routerLink:T}=e,_=d.value,z=r.value;return _.visible?T&&!M?o(Uo("router-link"),{class:["vxe-link",{[`size--${z}`]:z,[`theme--${k}`]:k,"is--disabled":M,"is--underline":A}],title:$,target:R,to:M?null:T,onClick:g},{default(){return i()}}):o("a",{ref:m,class:["vxe-link",{[`size--${z}`]:z,[`theme--${k}`]:k,"is--disabled":M,"is--underline":A}],href:M?null:O,target:R,title:$,onClick:g},i()):Mt()};return h.renderVN=x,h},render(){return this.renderVN()}}),kb=Object.assign({},mc,{install(e){e.component(mc.name,mc)}});dn.use(kb);We.component(mc);function Vf(){return{resizeObserver:void 0,fullData:[],lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0}}}const hc=pn({name:"VxeList",props:{data:Array,height:[Number,String],maxHeight:[Number,String],loading:Boolean,className:[String,Function],size:{type:String,default:()=>U().list.size||U().size},autoResize:{type:Boolean,default:()=>U().list.autoResize},syncResize:[Boolean,String,Number],virtualYConfig:Object,scrollY:Object},emits:["scroll"],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),r=n.browse(),{computeSize:d}=kn(e),m=ln({scrollYLoad:!1,bodyHeight:0,customHeight:0,customMaxHeight:0,parentHeight:0,topSpaceHeight:0,items:[]}),p=Vf(),D=st(),C=st(),h=st(),S={refElem:D},w={xID:u,props:e,context:t,reactData:m,internalData:p,getRefMaps:()=>S},V=j(()=>Object.assign({},U().list.virtualYConfig||U().list.scrollY,e.virtualYConfig||e.scrollY)),g=j(()=>{const{height:ve,maxHeight:oe}=e,{customHeight:Ee,customMaxHeight:re}=m,Y={};return ve?Y.height=`${Ee}px`:oe&&(Y.height="auto",Y.maxHeight=`${re}px`),Y}),i=(ve,oe,Ee)=>{a(ve,bn(Ee,{$list:w},oe))},x=ve=>{const{parentHeight:oe}=m,Ee=e[ve];let re=0;return Ee&&(Ee==="100%"||Ee==="auto"?re=oe:(qc(Ee)?re=Math.floor((n.toInteger(Ee)||1)/100*oe):re=n.toNumber(Ee),re=Math.max(40,re))),re},k=()=>{m.customHeight=x("height"),m.customMaxHeight=x("maxHeight")},R=()=>{const{scrollYLoad:ve}=m,{scrollYStore:oe,fullData:Ee}=p;m.bodyHeight=ve?Ee.length*oe.rowHeight:0,m.topSpaceHeight=ve?Math.max(oe.startIndex*oe.rowHeight,0):0},O=()=>{const{scrollYLoad:ve}=m,{fullData:oe,scrollYStore:Ee}=p;return m.items=ve?oe.slice(Ee.startIndex,Ee.endIndex):oe.slice(0),ke()},$=()=>{O(),R()},A=()=>ke().then(()=>{const{scrollYLoad:ve}=m,{scrollYStore:oe}=p,Ee=h.value,re=V.value;let Y=0,Oe;if(Ee&&(re.sItem&&(Oe=Ee.querySelector(re.sItem)),Oe||(Oe=Ee.children[0])),Oe&&(Y=Oe.offsetHeight),Y=Math.max(12,Y),oe.rowHeight=Y,ve){const ze=C.value,ce=Math.max(8,Math.ceil(ze.clientHeight/Y)),ue=re.oSize?n.toNumber(re.oSize):r.edge?10:0;oe.offsetSize=ue,oe.visibleSize=ce,oe.endIndex=Math.max(oe.startIndex+ce+ue,oe.endIndex),$()}else R()}),M=()=>{const ve=C.value;return ve&&(ve.scrollTop=0),ke()},T=(ve,oe)=>{const Ee=C.value;return ve&&(n.isNumber(ve)||(oe=ve.top,ve=ve.left)),n.isNumber(ve)&&(Ee.scrollLeft=ve),n.isNumber(oe)&&(Ee.scrollTop=oe),m.scrollYLoad?new Promise(re=>{setTimeout(()=>{ke(()=>{re()})},50)}):ke()},_=()=>{const{lastScrollLeft:ve,lastScrollTop:oe}=p;return M().then(()=>{if(ve||oe)return p.lastScrollLeft=0,p.lastScrollTop=0,T(ve,oe)})},z=()=>{const ve=D.value;if(ve){const oe=ve.parentElement;if(m.parentHeight=oe?oe.clientHeight:0,k(),ve.clientWidth&&ve.clientHeight)return A()}return ke()},Z=ve=>{const{scrollYStore:oe}=p,{startIndex:Ee,endIndex:re,visibleSize:Y,offsetSize:Oe,rowHeight:ze}=oe,ue=ve.target.scrollTop,me=Math.floor(ue/ze),be=Math.max(0,me-1-Oe),Se=me+Y+Oe;(me<=Ee||me>=re-Y-1)&&(Ee!==be||re!==Se)&&(oe.startIndex=be,oe.endIndex=Se,$())},J=ve=>{const oe=ve.target,Ee=oe.scrollTop,re=oe.scrollLeft,Y=re!==p.lastScrollLeft,Oe=Ee!==p.lastScrollTop;p.lastScrollTop=Ee,p.lastScrollLeft=re,m.scrollYLoad&&Z(ve),i("scroll",{scrollLeft:re,scrollTop:Ee,isX:Y,isY:Oe},ve)},W=ve=>{const{scrollYStore:oe}=p,Ee=V.value,re=ve||[];return Object.assign(oe,{startIndex:0,endIndex:1,visibleSize:0}),p.fullData=re,m.scrollYLoad=!!Ee.enabled&&Ee.gt>-1&&(Ee.gt===0||Ee.gt<=re.length),O(),A().then(()=>{_()})};Object.assign(w,{dispatchEvent:i,loadData:W,reloadData(ve){return M(),W(ve)},recalculate:z,scrollTo:T,refreshScroll:_,clearScroll:M});const ge=()=>{const{className:ve,loading:oe}=e,{bodyHeight:Ee,topSpaceHeight:re,items:Y}=m,Oe=l.default,ze=d.value,ce=g.value;return o("div",{ref:D,class:["vxe-list",ve?n.isFunction(ve)?ve({$list:w}):ve:"",{[`size--${ze}`]:ze,"is--loading":oe}]},[o("div",{ref:C,class:"vxe-list--virtual-wrapper",style:ce,onScroll:J},[o("div",{class:"vxe-list--y-space",style:{height:Ee?`${Ee}px`:""}}),o("div",{ref:h,class:"vxe-list--body",style:{marginTop:re?`${re}px`:""}},Oe?Oe({items:Y,$list:w}):[])]),o(Ol,{class:"vxe-list--loading",modelValue:oe})])},fe=st(0);return Dt(()=>e.data?e.data.length:-1,()=>{fe.value++}),Dt(()=>e.data,()=>{fe.value++}),Dt(fe,()=>{W(e.data||[])}),Dt(()=>e.height,()=>{z()}),Dt(()=>e.maxHeight,()=>{z()}),Dt(()=>e.syncResize,ve=>{ve&&(z(),ke(()=>setTimeout(()=>z())))}),md(()=>{z().then(()=>_())}),ke(()=>{W(e.data||[])}),Ln(()=>{if(z(),e.autoResize){const ve=D.value,oe=lu.create(()=>z());oe.observe(ve),ve&&oe.observe(ve.parentElement),p.resizeObserver=oe}At.on(w,"resize",z)}),jn(()=>{const{resizeObserver:ve}=p;ve&&ve.disconnect(),At.off(w,"resize"),n.assign(p,Vf())}),w.renderVN=ge,w},render(){return this.renderVN()}}),Pb=Object.assign(hc,{install(e){e.component(hc.name,hc)}});dn.use(Pb);We.component(hc);const vc=pn({name:"VxeMenu",props:{modelValue:[String,Number],expandAll:Boolean,accordion:{type:Boolean,default:()=>U().menu.accordion},collapsed:{type:Boolean,default:null},collapseFixed:Boolean,loading:Boolean,options:{type:Array,default:()=>[]},size:{type:String,default:()=>U().menu.size||U().size}},emits:["update:modelValue","click"],setup(e,t){const{emit:l,slots:a}=t,u=n.uniqueId(),r=jt("$xeLayoutAside",null),d=st(),m=st(),{computeSize:p}=kn(e),D=ln({initialized:!!e.collapsed,isEnterCollapse:!1,collapseStyle:{},collapseZindex:0,activeName:e.modelValue,menuList:[],itemHeight:1}),C={refElem:d},h=j(()=>{const{collapsed:Y}=e;return n.isBoolean(Y)?Y:r?!!r.props.collapsed:!1}),S=j(()=>{let Y="";return r&&(Y=r.props.collapseWidth||""),Y}),w=j(()=>{let Y="";return r&&(Y=r.props.width||""),Y}),V={computeSize:p},g={xID:u,props:e,context:t,reactData:D,getRefMaps:()=>C,getComputeMaps:()=>V},i=Y=>`${Y.title||Y.name}`,x=()=>{D.collapseZindex<hl()&&(D.collapseZindex=fl())},k=Y=>{const{activeName:Oe}=D;n.eachTree(D.menuList,(ze,ce,ue,me,be,Se)=>{ze.itemKey===Oe?(Se.forEach(pe=>{pe.isActive=!0,pe.isExpand=!0}),ze.isExactActive=!0):(ze.isExactActive=!1,ze.isActive=!1)},{children:"childList"})},R=()=>{const{options:Y,expandAll:Oe}=e;D.menuList=n.mapTree(Y,(ze,ce,ue,me,be)=>Object.assign(Object.assign({},ze),{parentKey:be?be.name||me.slice(0,me.length-1).join(","):"",level:me.length,itemKey:ze.name||me.join(","),isExactActive:!1,isActive:!1,isExpand:n.isBoolean(ze.expanded)?ze.expanded:!!Oe,hasChild:ze.children&&ze.children.length>0}),{children:"children",mapChildren:"childList"})},O=()=>{const{collapseFixed:Y}=e;Y&&ke(()=>{const{isEnterCollapse:Oe}=D,ze=h.value,ce=w.value,ue=S.value,me=d.value;if(me){const be=me.getBoundingClientRect(),Se=me.parentNode;D.collapseStyle=ze?{top:rn(be.top),left:rn(be.left),height:rn(Se.clientHeight),width:Oe?ce?rn(ce):"":ue?rn(ue):"",zIndex:D.collapseZindex}:{}}})},$=()=>{const{collapseFixed:Y}=e;if(Y){const{initialized:Oe}=D;h.value&&(Oe||(D.initialized=!0,ke(()=>{const ce=m.value;ce&&document.body.appendChild(ce)}))),D.isEnterCollapse=!1,x(),O()}},A=(Y,Oe,ze)=>{const{accordion:ce}=e,{hasChild:ue,isExpand:me}=Oe;ue&&(Y.stopPropagation(),Y.preventDefault(),ce&&ze.forEach(be=>{be!==Oe&&(be.isExpand=!1)}),Oe.isExpand=!me)},M=Y=>{D.activeName=Y,l("update:modelValue",Y)},T=(Y,Oe,ze)=>{const{itemKey:ce,routerLink:ue,hasChild:me}=Oe;ue?(M(ce),Z()):me?A(Y,Oe,ze):(M(ce),Z()),W("click",{menu:Oe},Y)},_=()=>{const{collapseStyle:Y}=D,Oe=w.value;D.collapseStyle=Object.assign({},Y,{width:Oe?rn(Oe):""}),D.isEnterCollapse=!0},z=()=>{const{isEnterCollapse:Y}=D;Y||_()},Z=()=>{const{collapseStyle:Y}=D,Oe=d.value;D.collapseStyle=Object.assign({},Y,{width:Oe?rn(Oe.offsetWidth):""}),D.isEnterCollapse=!1},J=(Y,Oe)=>Y&&(n.isString(Y)&&(Y=a[Y]||null),n.isFunction(Y))?mn(Y(Oe)):[],W=(Y,Oe,ze)=>{l(Y,bn(ze,{$menu:g},Oe))};Object.assign(g,{dispatchEvent:W},{});const fe=(Y,Oe)=>{const{icon:ze,isExpand:ce,hasChild:ue}=Y,me=Y.slots||{},be=me.default||a.option,Se=me.title||a.optionTitle||a["option-title"],pe=me.icon||a.optionIcon||a["option-icon"],Ae=i(Y),_e=h.value,ae={option:Y,collapsed:_e};return[be?Mt():o("div",{class:"vxe-menu--item-link-icon"},pe?J(pe,ae):ze?[o("i",{class:ze})]:[]),be?o("div",{class:"vxe-menu--item-custom-title"},J(be,ae)):o("div",{class:"vxe-menu--item-link-title",title:Ae},Se?J(Se,ae):Ae),ue?o("div",{class:"vxe-menu--item-link-collapse",onClick(Re){A(Re,Y,Oe)}},[o("i",{class:ce?Yt().MENU_ITEM_EXPAND_OPEN:Yt().MENU_ITEM_EXPAND_CLOSE})]):Mt()]},ve=(Y,Oe)=>{const{itemKey:ze,level:ce,hasChild:ue,isActive:me,isExactActive:be,isExpand:Se,routerLink:pe,childList:Ae}=Y,{isEnterCollapse:_e}=D,ae=h.value;return Y.permissionCode&&!gr.checkVisible(Y.permissionCode)?Mt():o("div",{key:ze,class:["vxe-menu--item-wrapper",`vxe-menu--item-level${ce}`,{"is--exact-active":be,"is--active":me,"is--expand":(!ae||_e)&&Se}]},[pe?o(Uo("router-link"),{class:"vxe-menu--item-link",to:pe,onClick(Re){T(Re,Y,Oe)}},{default:()=>fe(Y,Oe)}):o("div",{class:"vxe-menu--item-link",onClick(Re){T(Re,Y,Oe)}},fe(Y,Oe)),ue?o("div",{class:"vxe-menu--item-group"},Ae.map(Re=>ve(Re,Ae))):Mt()])},oe=(Y,Oe)=>{const{itemKey:ze,level:ce,hasChild:ue,isActive:me,isExactActive:be,routerLink:Se,childList:pe}=Y;return Y.permissionCode&&!gr.checkVisible(Y.permissionCode)?Mt():o("div",{key:ze,class:["vxe-menu--item-wrapper",`vxe-menu--item-level${ce}`,{"is--exact-active":be,"is--active":me}]},[Se?o(Uo("router-link"),{class:"vxe-menu--item-link",to:Se,onClick(Ae){T(Ae,Y,Oe)}},{default:()=>fe(Y,Oe)}):o("div",{class:"vxe-menu--item-link",onClick(Ae){T(Ae,Y,Oe)}},fe(Y,Oe)),ue?o("div",{class:"vxe-menu--item-group"},pe.map(Ae=>ve(Ae,pe))):Mt()])},Ee=()=>{const{loading:Y,collapseFixed:Oe}=e,{initialized:ze,menuList:ce,collapseStyle:ue,isEnterCollapse:me}=D,be=p.value,Se=h.value;let pe={};return Oe&&(pe={onMouseenter:_,onMouseover:z,onMouseleave:Z}),o("div",{ref:d,class:["vxe-menu",{[`size--${be}`]:be,"is--collapsed":Se,"is--loading":Y}]},[o("div",{class:"vxe-menu--item-list"},ce.map(Ae=>Se?oe(Ae,ce):ve(Ae,ce))),ze?o("div",Object.assign({ref:m,class:["vxe-menu--collapse-wrapper",{[`size--${be}`]:be,"is--collapsed":Se,"is--enter":me,"is--loading":Y}],style:ue},pe),[Se?o("div",{class:"vxe-menu--item-list"},ce.map(Ae=>ve(Ae,ce))):Mt()]):Mt(),o(Ol,{class:"vxe-list-view--loading",modelValue:Y})])},re=st(0);return Dt(()=>e.options?e.options.length:-1,()=>{re.value++}),Dt(()=>e.options,()=>{re.value++}),Dt(re,()=>{R(),k()}),Dt(()=>e.modelValue,Y=>{D.activeName=Y}),Dt(()=>D.activeName,()=>{k()}),Dt(h,()=>{$()}),Ln(()=>{At.on(g,"resize",O),O()}),rs(()=>{At.off(g,"resize");const Y=m.value;if(Y){const Oe=Y.parentNode;Oe&&Oe.removeChild(Y)}}),R(),k(),g.renderVN=Ee,g},render(){return this.renderVN()}}),Fb=Object.assign({},vc,{install(e){e.component(vc.name,vc)}});dn.use(Fb);We.component(vc);const Gs=[],Lu=[],Bu=[],Fr="data-vxe-lock-scroll",Af="--vxe-ui-modal-lock-scroll-view-width",bc=pn({name:"VxeModal",props:{modelValue:Boolean,id:String,type:{type:String,default:"modal"},loading:{type:Boolean,default:null},status:String,iconStatus:String,className:String,top:{type:[Number,String],default:()=>U().modal.top},position:[String,Object],title:String,duration:{type:[Number,String],default:()=>U().modal.duration},content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>U().modal.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>U().modal.showConfirmButton},confirmButtonText:{type:String,default:()=>U().modal.confirmButtonText},lockView:{type:Boolean,default:()=>U().modal.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>U().modal.mask},maskClosable:{type:Boolean,default:()=>U().modal.maskClosable},escClosable:{type:Boolean,default:()=>U().modal.escClosable},cancelClosable:{type:Boolean,default:()=>U().modal.cancelClosable},confirmClosable:{type:Boolean,default:()=>U().modal.confirmClosable},resize:Boolean,showHeader:{type:Boolean,default:()=>U().modal.showHeader},showFooter:{type:Boolean,default:()=>U().modal.showFooter},showZoom:Boolean,zoomConfig:Object,showMaximize:{type:Boolean,default:()=>Ef(U().modal.showMaximize)},showMinimize:{type:Boolean,default:()=>Ef(U().modal.showMinimize)},showClose:{type:Boolean,default:()=>U().modal.showClose},dblclickZoom:{type:Boolean,default:()=>U().modal.dblclickZoom},width:[Number,String],height:[Number,String],minWidth:{type:[Number,String],default:()=>U().modal.minWidth},minHeight:{type:[Number,String],default:()=>U().modal.minHeight},zIndex:Number,marginSize:{type:[Number,String],default:()=>U().modal.marginSize},fullscreen:Boolean,draggable:{type:Boolean,default:()=>U().modal.draggable},remember:{type:Boolean,default:()=>U().modal.remember},destroyOnClose:{type:Boolean,default:()=>U().modal.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>U().modal.showTitleOverflow},transfer:{type:Boolean,default:()=>U().modal.transfer},storage:{type:Boolean,default:()=>U().modal.storage},storageKey:{type:String,default:()=>U().modal.storageKey},padding:{type:Boolean,default:()=>U().modal.padding},size:{type:String,default:()=>U().modal.size||U().size},beforeHideMethod:Function,slots:Object,message:[Number,String],animat:{type:Boolean,default:()=>U().modal.animat}},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","zoom","resize","move"],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),r=jt("$xeModal",null),d=jt("$xeDrawer",null),m=jt("$xeTable",null),p=jt("$xeForm",null),{computeSize:D}=kn(e),C=ln({initialized:!1,visible:!1,contentVisible:!1,modalTop:0,modalZindex:0,prevZoomStatus:"",zoomStatus:"",revertLocat:null,prevLocat:null,firstOpen:!0,resizeFlag:1}),h={msgTimeout:void 0},S=st(),w=st(),V=st(),g=st(),i=st(),x={refElem:S},k=j(()=>{const{transfer:he}=e;if(he===null){const $e=U().modal.transfer;if(n.isBoolean($e))return $e;if(m||r||d||p)return!0}return he}),R=j(()=>e.type==="message"||e.type==="notification"),O=j(()=>C.zoomStatus==="minimize"),$=j(()=>C.zoomStatus==="maximize"),A=j(()=>Object.assign({},U().modal.zoomConfig,e.zoomConfig)),M={computeSize:D,computeZoomOpts:A},T={xID:u,props:e,context:t,reactData:C,internalData:h,getRefMaps:()=>x,getComputeMaps:()=>M};let _={};const z=()=>w.value,Z=()=>{const{width:he,height:$e}=e,nt=z();return nt&&(nt.style.width=he?rn(he):"",nt.style.height=$e?rn($e):""),ke()},J=()=>{const{zIndex:he}=e,{modalZindex:$e}=C;he?C.modalZindex=he:R.value?$e<Ev()&&(C.modalZindex=wv()):$e<hl()&&(C.modalZindex=fl())},W=()=>ke().then(()=>{const{position:he}=e,$e=n.toNumber(e.marginSize),nt=z();if(!nt)return;const ft=document.documentElement.clientWidth||document.body.clientWidth,vt=document.documentElement.clientHeight||document.body.clientHeight,v=he==="center",{top:L,left:N}=n.isString(he)?{top:he,left:he}:Object.assign({},he),ie=v||L==="center",Me=v||N==="center";let He="",Ve="";N&&!Me?Ve=isNaN(N)?N:`${N}px`:Ve=`${Math.max($e,ft/2-nt.offsetWidth/2)}px`,L&&!ie?He=isNaN(L)?L:`${L}px`:He=`${Math.max($e,vt/2-nt.offsetHeight/2)}px`,nt.style.top=He,nt.style.left=Ve}),Q=()=>{ke(()=>{const{type:he}=e,$e=he==="notification"?Bu:Lu;let nt=0;$e.forEach(ft=>{const vt=ft.getBox();vt&&(nt+=n.toNumber(ft.props.top),ft.reactData.modalTop=nt,nt+=vt.clientHeight)})})},ge=()=>{const{type:he}=e,$e=he==="notification"?Bu:Lu;$e.indexOf(T)>-1&&n.remove($e,nt=>nt===T),Q()},fe=he=>{const{remember:$e}=e,{visible:nt}=C,ft=R.value,vt=e.beforeHideMethod||U().modal.beforeHideMethod,v={type:he};return nt&&Promise.resolve(vt?vt(v):null).then(L=>{n.isError(L)||(ft&&ge(),C.contentVisible=!1,$e||F(),n.remove(Gs,N=>N===T),et("before-hide",v,null),setTimeout(()=>{C.visible=!1,ht(!1),et("hide",v,null)},200),Se())}).catch(L=>L),ke()},ve=he=>{const $e="close";et($e,{type:$e},he),fe($e)},oe=he=>{const{confirmClosable:$e}=e,nt="confirm";et(nt,{type:nt},he),$e&&fe(nt)},Ee=he=>{const{cancelClosable:$e}=e,nt="cancel";et(nt,{type:nt},he),$e&&fe(nt)},re=he=>{const $e=U().version,nt=n.toStringJSON(localStorage.getItem(he)||"");return nt&&nt._v===$e?nt:{_v:$e}},Y=()=>{const{id:he,storage:$e,storageKey:nt}=e;return!!(he&&$e&&re(nt)[he])},Oe=()=>{const{id:he,storage:$e,storageKey:nt}=e;if(he&&$e){const ft=re(nt)[he];if(ft){const vt=z(),[v,L,N,ie,Me,He,Ve,ye]=ft.split(",");vt&&(v&&(vt.style.left=`${v}px`),L&&(vt.style.top=`${L}px`),N&&(vt.style.width=`${N}px`),ie&&(vt.style.height=`${ie}px`)),Me&&He&&(C.revertLocat={left:Me,top:He,width:Ve,height:ye})}}},ze=()=>{const{type:he}=e,$e=he==="notification"?Bu:Lu;$e.indexOf(T)===-1&&$e.push(T),Q()},ce=()=>{const{id:he,storage:$e,storageKey:nt}=e,{zoomStatus:ft,revertLocat:vt}=C;if(!ft&&he&&$e){const v=z();if(!v)return;const L=re(nt);L[he]=[v.style.left,v.style.top,v.clientWidth,v.clientHeight].concat(vt?[vt.left,vt.top,vt.width,vt.height]:[]).map(N=>N?n.toNumber(N):"").join(","),localStorage.setItem(nt,n.toJSONString(L))}},ue=()=>{const he=A.value,{minimizeLayout:$e,minimizeMaxSize:nt,minimizeHorizontalOffset:ft,minimizeVerticalOffset:vt,minimizeOffsetMethod:v}=he,L=$e==="horizontal",N=C.zoomStatus,ie=[],Me=[];Gs.forEach(Ve=>{Ve.xID!==T.xID&&Ve.props.type==="modal"&&Ve.reactData.zoomStatus==="minimize"&&(Ve.getComputeMaps().computeZoomOpts.value.minimizeLayout==="horizontal"?ie.push(Ve):Me.push(Ve))});const He=L?ie:Me;return nt&&He.length>=nt?(We.modal&&We.modal.message({status:"error",content:Wt("vxe.modal.miniMaxSize",[nt])}),Promise.resolve({status:!1})):(C.prevZoomStatus=N,C.zoomStatus="minimize",ke().then(()=>{const Ve=z();if(!Ve)return{status:!1};const ye=V.value;if(!ye)return{status:!1};const{visibleHeight:P}=ya();N||(C.revertLocat={top:Ve.offsetTop,left:Ve.offsetLeft,width:Ve.offsetWidth+(Ve.style.width?0:1),height:Ve.offsetHeight+(Ve.style.height?0:1)});const q=n[L?"max":"min"](He,Ze=>{const K=Ze.getBox();return K?n.toNumber(K.style[L?"left":"top"]):0});let Pe=P-ye.offsetHeight-16,qe=16;if(q){const Ze=q.getBox();if(Ze){const K=n.toNumber(Ze.style.left),xe=n.toNumber(Ze.style.top);let Ne={};L?Ne=Object.assign({},ft):Ne=Object.assign({},vt),qe=K+n.toNumber(Ne.left),Pe=xe+n.toNumber(Ne.top),v&&(Ne=v({$modal:T,left:qe,top:Pe}),qe=n.toNumber(Ne.left),Pe=n.toNumber(Ne.top))}}return Object.assign(Ve.style,{top:`${Pe}px`,left:`${qe}px`,width:"200px",height:`${ye.offsetHeight}px`}),ce(),{status:!0}}))},me=()=>{const he=C.zoomStatus;return C.prevZoomStatus=he,C.zoomStatus="maximize",ke().then(()=>{const $e=z();if($e){if(!he){const nt=n.toNumber(e.marginSize),ft=document.documentElement.clientWidth||document.body.clientWidth,vt=document.documentElement.clientHeight||document.body.clientHeight;C.revertLocat={top:Math.max(nt,vt/2-$e.offsetHeight/2),left:Math.max(nt,ft/2-$e.offsetWidth/2),width:$e.offsetWidth+($e.style.width?0:1),height:$e.offsetHeight+($e.style.height?0:1)}}Object.assign($e.style,{top:"0",left:"0",width:"100%",height:"100%"})}return ce(),{status:!0}})},be=()=>{const{duration:he}=e;he!==-1&&(h.msgTimeout=setTimeout(()=>fe("close"),n.toNumber(he)))},Se=()=>{const he=document.documentElement,$e=he.getAttribute(Fr);if($e){const nt=$e.split(",").filter(ft=>ft!==u);nt.length?he.setAttribute(Fr,nt.join(",")):(he.removeAttribute(Fr),he.style.removeProperty(Af))}},pe=()=>{const{lockScroll:he}=e,$e=R.value;if(he&&!$e){const nt=document.documentElement,ft=document.body.clientWidth,vt=nt.getAttribute(Fr),v=vt?vt.split(","):[];v.includes(u)||(v.push(u),nt.setAttribute(Fr,v.join(","))),nt.style.setProperty(Af,`${ft}px`)}},Ae=()=>{const{remember:he,showFooter:$e}=e,{initialized:nt,visible:ft}=C,vt=R.value;return nt||(C.initialized=!0),ft||(pe(),C.visible=!0,C.contentVisible=!1,J(),Gs.push(T),setTimeout(()=>{C.contentVisible=!0,ke(()=>{if($e){const N=g.value,ie=i.value,Me=N||ie;Me&&Me.focus()}const L={type:""};ht(!0),et("show",L,null)})},10),vt?(ze(),be()):ke(()=>{const{fullscreen:v}=e,{firstOpen:L}=C;L?(C.firstOpen=!1,Y()?Oe():v?ke(()=>me()):(Z(),W().then(()=>{setTimeout(()=>W(),20)}))):he||(Z(),W().then(()=>{setTimeout(()=>W(),20)}))})),ke()},_e=he=>{const $e=S.value;e.maskClosable&&he.target===$e&&fe("mask")},ae=()=>{const{msgTimeout:he}=h;if(!he)return;R.value&&(clearTimeout(he),h.msgTimeout=void 0)},Re=()=>{const{msgTimeout:he}=h;he||R.value&&be()},Ie=he=>{if(At.hasKey(he,Sn.ESCAPE)){const nt=n.max(Gs,ft=>ft.reactData.modalZindex);nt&&setTimeout(()=>{if(nt===T&&nt.props.escClosable){const ft="exit";et("close",{type:ft},he),fe(ft)}},10)}},ne=()=>C.zoomStatus==="minimize",se=()=>C.zoomStatus==="maximize",F=()=>(C.prevZoomStatus=C.zoomStatus,C.zoomStatus="",ke().then(()=>{const{revertLocat:he}=C;if(he){const $e=z();return C.revertLocat=null,$e&&Object.assign($e.style,{top:`${he.top}px`,left:`${he.left}px`,width:`${he.width}px`,height:`${he.height}px`}),ce(),ke().then(()=>({status:!0}))}return{status:!1}})),B=he=>{const{zoomStatus:$e}=C;return new Promise(nt=>{if(he){if(he==="maximize"){nt(me());return}if(he==="minimize"){nt(ue());return}nt(F());return}nt($e?F():me())}).then(()=>C.zoomStatus||"revert")},te=he=>{const{zoomStatus:$e,prevZoomStatus:nt}=C;return B($e==="minimize"?nt||"revert":"minimize").then(ft=>{et("zoom",{type:ft},he)})},de=he=>B().then($e=>{et("zoom",{type:$e},he)}),Te=()=>{if(!R.value){const $e=z();if($e)return{top:$e.offsetTop,left:$e.offsetLeft}}return null},Ke=(he,$e)=>{if(!R.value){const ft=z();ft&&(n.isNumber(he)&&(ft.style.top=`${he}px`),n.isNumber($e)&&(ft.style.left=`${$e}px`))}return ke()},Ye=()=>{const{modalZindex:he}=C;Gs.some($e=>$e.reactData.visible&&$e.reactData.modalZindex>he)&&J()},Qe=he=>{const{storage:$e}=e,{zoomStatus:nt}=C,ft=n.toNumber(e.marginSize),vt=z();if(vt&&nt!=="maximize"&&he.button===0&&!Qn(he,vt,"trigger--btn").flag){he.preventDefault();const v=he.clientX-vt.offsetLeft,L=he.clientY-vt.offsetTop,{visibleHeight:N,visibleWidth:ie}=ya();document.onmousemove=Me=>{Me.preventDefault();const He=vt.offsetWidth,Ve=vt.offsetHeight,ye=ft,P=ie-He-ft-1,q=ft,Pe=N-Ve-ft-1;let qe=Me.clientX-v,Ze=Me.clientY-L;qe>P&&(qe=P),qe<ye&&(qe=ye),Ze>Pe&&(Ze=Pe),Ze<q&&(Ze=q),vt.style.left=`${qe}px`,vt.style.top=`${Ze}px`,vt.className=vt.className.replace(/\s?is--drag/,"")+" is--drag",et("move",{type:"move"},Me),C.resizeFlag++},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,$e&&ke(()=>{ce()}),C.resizeFlag++,setTimeout(()=>{vt.className=vt.className.replace(/\s?is--drag/,"")},50)}}},lt=he=>{he.preventDefault();const{storage:$e}=e,{visibleHeight:nt,visibleWidth:ft}=ya(),vt=n.toNumber(e.marginSize),L=he.target.getAttribute("type"),N=n.toNumber(e.minWidth),ie=n.toNumber(e.minHeight),Me=ft,He=nt,Ve=z(),ye=Ve.clientWidth,P=Ve.clientHeight,q=he.clientX,Pe=he.clientY,qe=Ve.offsetTop,Ze=Ve.offsetLeft,K={type:"resize"};document.onmousemove=xe=>{xe.preventDefault();let Ne,Ge,ot,it;switch(L){case"wl":Ne=q-xe.clientX,ot=Ne+ye,Ze-Ne>vt&&ot>N&&(Ve.style.width=`${ot<Me?ot:Me}px`,Ve.style.left=`${Ze-Ne}px`);break;case"swst":Ne=q-xe.clientX,Ge=Pe-xe.clientY,ot=Ne+ye,it=Ge+P,Ze-Ne>vt&&ot>N&&(Ve.style.width=`${ot<Me?ot:Me}px`,Ve.style.left=`${Ze-Ne}px`),qe-Ge>vt&&it>ie&&(Ve.style.height=`${it<He?it:He}px`,Ve.style.top=`${qe-Ge}px`);break;case"swlb":Ne=q-xe.clientX,Ge=xe.clientY-Pe,ot=Ne+ye,it=Ge+P,Ze-Ne>vt&&ot>N&&(Ve.style.width=`${ot<Me?ot:Me}px`,Ve.style.left=`${Ze-Ne}px`),qe+it+vt<nt&&it>ie&&(Ve.style.height=`${it<He?it:He}px`);break;case"st":Ge=Pe-xe.clientY,it=P+Ge,qe-Ge>vt&&it>ie&&(Ve.style.height=`${it<He?it:He}px`,Ve.style.top=`${qe-Ge}px`);break;case"wr":Ne=xe.clientX-q,ot=Ne+ye,Ze+ot+vt<ft&&ot>N&&(Ve.style.width=`${ot<Me?ot:Me}px`);break;case"sest":Ne=xe.clientX-q,Ge=Pe-xe.clientY,ot=Ne+ye,it=Ge+P,Ze+ot+vt<ft&&ot>N&&(Ve.style.width=`${ot<Me?ot:Me}px`),qe-Ge>vt&&it>ie&&(Ve.style.height=`${it<He?it:He}px`,Ve.style.top=`${qe-Ge}px`);break;case"selb":Ne=xe.clientX-q,Ge=xe.clientY-Pe,ot=Ne+ye,it=Ge+P,Ze+ot+vt<ft&&ot>N&&(Ve.style.width=`${ot<Me?ot:Me}px`),qe+it+vt<nt&&it>ie&&(Ve.style.height=`${it<He?it:He}px`);break;case"sb":Ge=xe.clientY-Pe,it=Ge+P,qe+it+vt<nt&&it>ie&&(Ve.style.height=`${it<He?it:He}px`);break}Ve.className=Ve.className.replace(/\s?is--drag/,"")+" is--drag",$e&&ce(),et("resize",K,xe)},document.onmouseup=()=>{C.revertLocat=null,document.onmousemove=null,document.onmouseup=null,setTimeout(()=>{Ve.className=Ve.className.replace(/\s?is--drag/,"")},50)}},et=(he,$e,nt)=>{a(he,bn(nt,{$modal:T},$e))},ht=he=>{a("update:modelValue",he)};_={dispatchEvent:et,open:Ae,close(){return fe("close")},getBox:z,getPosition:Te,setPosition:Ke,isMinimized:ne,isMaximized:se,zoom(){return B()},minimize(){return C.visible?ue():Promise.resolve({status:!1})},maximize(){return C.visible?me():Promise.resolve({status:!1})},revert(){return C.visible?F():Promise.resolve({status:!1})}},Object.assign(T,_);const Ot=()=>{const{slots:he={},showClose:$e,showZoom:nt,showMaximize:ft,showMinimize:vt,title:v}=e,{zoomStatus:L}=C,N=l.title||he.title,ie=l.corner||he.corner,Me=O.value,He=$.value;return[o("div",{class:"vxe-modal--header-title"},N?mn(N({$modal:T,minimized:Me,maximized:He})):v?ao(v):Wt("vxe.alert.title")),o("div",{class:"vxe-modal--header-right"},[ie&&!Me?o("div",{class:"vxe-modal--corner-wrapper"},mn(ie({$modal:T}))):Mt(),(n.isBoolean(vt)?vt:nt)?o("div",{class:["vxe-modal--zoom-btn","trigger--btn"],title:Wt(`vxe.modal.zoom${L==="minimize"?"Out":"Min"}`),onClick:te},[o("i",{class:L==="minimize"?Yt().MODAL_ZOOM_REVERT:Yt().MODAL_ZOOM_MIN})]):Mt(),(n.isBoolean(ft)?ft:nt)&&L!=="minimize"?o("div",{class:["vxe-modal--zoom-btn","trigger--btn"],title:Wt(`vxe.modal.zoom${L==="maximize"?"Out":"In"}`),onClick:de},[o("i",{class:L==="maximize"?Yt().MODAL_ZOOM_OUT:Yt().MODAL_ZOOM_IN})]):Mt(),$e?o("div",{class:["vxe-modal--close-btn","trigger--btn"],title:Wt("vxe.modal.close"),onClick:ve},[o("i",{class:Yt().MODAL_CLOSE})]):Mt()])]},ut=()=>{const{slots:he={},showZoom:$e,showMaximize:nt,draggable:ft}=e,vt=l.header||he.header;if(e.showHeader){const v={};return ft&&(v.onMousedown=Qe),(n.isBoolean(nt)?nt:$e)&&e.dblclickZoom&&e.type==="modal"&&(v.onDblclick=de),o("div",Object.assign({ref:V,class:["vxe-modal--header",{"is--ellipsis":e.showTitleOverflow}]},v),vt?mn(vt({$modal:T})):Ot())}return Mt()},wt=()=>{const{slots:he={},status:$e,message:nt,iconStatus:ft}=e,vt=e.content||nt,v=R.value,L=l.default||he.default,N=l.left||he.left,ie=l.right||he.right,Me=[];return!v&&($e||ft)&&Me.push(o("div",{class:"vxe-modal--status-wrapper"},[o("i",{class:["vxe-modal--status-icon",ft||Yt()[`MODAL_${$e}`.toLocaleUpperCase()]]})])),Me.push(o("div",{class:"vxe-modal--content"},L?mn(L({$modal:T})):ao(vt))),o("div",{class:"vxe-modal--body"},[N?o("div",{class:"vxe-modal--body-left"},mn(N({$modal:T}))):Mt(),o("div",{class:"vxe-modal--body-default"},Me),ie?o("div",{class:"vxe-modal--body-right"},mn(ie({$modal:T}))):Mt(),v?Mt():o(Rd,{class:"vxe-modal--loading",modelValue:e.loading})])},mt=()=>{const{slots:he={},showCancelButton:$e,showConfirmButton:nt,type:ft,loading:vt}=e,v=l.leftfoot||he.leftfoot,L=l.rightfoot||he.rightfoot,N=[];return(n.isBoolean($e)?$e:ft==="confirm")&&N.push(o(lo,{key:1,ref:i,content:e.cancelButtonText||Wt("vxe.button.cancel"),onClick:Ee})),(n.isBoolean(nt)?nt:ft==="confirm"||ft==="alert")&&N.push(o(lo,{key:2,ref:g,loading:vt,status:"primary",content:e.confirmButtonText||Wt("vxe.button.confirm"),onClick:oe})),o("div",{class:"vxe-modal--footer-wrapper"},[o("div",{class:"vxe-modal--footer-left"},v?mn(v({$modal:T})):[]),o("div",{class:"vxe-modal--footer-right"},L?mn(L({$modal:T})):N)])},Rt=()=>{const{slots:he={}}=e,$e=l.footer||he.footer;return e.showFooter?o("div",{class:"vxe-modal--footer"},$e?mn($e({$modal:T})):[mt()]):Mt()},Vt=()=>{const{slots:he={},className:$e,type:nt,animat:ft,draggable:vt,iconStatus:v,position:L,loading:N,destroyOnClose:ie,status:Me,lockScroll:He,padding:Ve,lockView:ye,mask:P,resize:q}=e,{initialized:Pe,modalTop:qe,contentVisible:Ze,visible:K,zoomStatus:xe}=C,Ne=l.aside||he.aside,Ge=D.value,ot=R.value,it=O.value,Tt=k.value,zt={};return ot&&(zt.onMouseover=ae,zt.onMouseout=Re),o(ol,{to:"body",disabled:Tt?!Pe:!0},[o("div",Object.assign({ref:S,class:["vxe-modal--wrapper",`type--${nt}`,`zoom--${xe||"revert"}`,$e||"",L?`pos--${L}`:"",{[`size--${Ge}`]:Ge,[`status--${Me}`]:Me,"is--padding":Ve,"is--animat":ft,"lock--scroll":He,"lock--view":ye,"is--draggable":vt,"is--resize":q,"is--mask":P,"is--visible":Ze,"is--active":K,"is--loading":N}],style:{zIndex:C.modalZindex,top:qe?`${qe}px`:null},onClick:_e},zt),[o("div",{ref:w,class:"vxe-modal--box",onMousedown:Ye},[(ot||Ne)&&!it?o("div",{class:"vxe-modal--aside"},Ne?mn(Ne({$modal:T})):[Me||v?o("div",{class:"vxe-modal--status-wrapper"},[o("i",{class:["vxe-modal--status-icon",v||Yt()[`MODAL_${Me}`.toLocaleUpperCase()]]})]):Mt()]):Mt(),o("div",{class:"vxe-modal--container"},!C.initialized||ie&&!C.visible?[]:[ut(),wt(),Rt(),!ot&&q?o("span",{class:"vxe-modal--resize"},["wl","wr","swst","sest","st","swlb","selb","sb"].map(_t=>o("span",{class:`${_t}-resize`,type:_t,onMousedown:lt}))):Mt()])])])])};return T.renderVN=Vt,Dt(()=>e.width,Z),Dt(()=>e.height,Z),Dt(()=>e.modelValue,he=>{he?Ae():fe("model")}),Ln(()=>{e.type==="modal"&&e.showFooter&&!(e.showConfirmButton||e.showCancelButton||l.footer)&&ml("vxe.modal.footPropErr"),ke(()=>{e.storage&&!e.id&&To("vxe.error.reqProp",["[modal] id"]),e.modelValue&&Ae(),Z()}),e.escClosable&&At.on(T,"keydown",Ie)}),jn(()=>{At.off(T,"keydown"),ge(),Se()}),An("$xeModal",T),T},render(){return this.renderVN()}});function Vb(e){return au(),new Promise(t=>{const l=Object.assign({},e);if(l.id&&Gs.some(a=>a.props.id===l.id))t("exist");else{const a=l.onHide,u=Object.assign(l,{key:n.uniqueId(),modelValue:!0,onHide(r){const d=Wl.modals;a&&a(r),Wl.modals=d.filter(m=>m.key!==u.key),t(r.type)}});Wl.modals.push(u)}})}function $g(e){return n.find(Gs,t=>t.props.id===e)}function Ab(e){const t=e?[$g(e)]:Gs,l=[];return t.forEach(a=>{a&&l.push(a.close())}),Promise.all(l)}function ai(e,t,l,a){let u;return n.isObject(t)?u=t:u={content:n.toValueString(t),title:l},Vb(Object.assign(Object.assign(Object.assign({},e),a),u))}function $b(e){return ai({type:"modal"},e)}function Nb(e,t,l){return ai({type:"alert",lockScroll:!0,showHeader:!0,showFooter:!0},e,t,l)}function Lb(e,t,l){return ai({type:"confirm",status:"question",lockScroll:!0,showHeader:!0,showFooter:!0},e,t,l)}function Bb(e,t){return ai({type:"message",mask:!1,lockView:!1,lockScroll:!1,showHeader:!1},e,"",t)}function zb(e,t,l){return ai({type:"notification",mask:!1,lockView:!1,lockScroll:!1,showHeader:!0,draggable:!1,position:"top-right",width:320},e,t,l)}const Hb={get:$g,close:Ab,open:$b,alert:Nb,confirm:Lb,message:Bb,notification:zb},Ng=Object.assign(bc,{install:function(e){e.component(bc.name,bc)}});We.modal=Hb;dn.use(Ng);We.component(bc);const xc=pn({name:"VxeNoticeBar",props:{duration:[String,Number],direction:{type:String,default:()=>U().noticeBar.direction},speed:{type:String,default:()=>U().noticeBar.speed},content:String,vertical:Boolean,loop:{type:Boolean},size:{type:String,default:()=>U().noticeBar.size||U().size}},emits:["start","end"],setup(e,t){const{slots:l,emit:a}=t,u=jt("$xeTabs",null),r=n.uniqueId(),{computeSize:d}=kn(e),m=st(),p=st(),D=ln({animationStatus:!1,animationDuration:0}),C={refElem:m},h=j(()=>{const{content:A}=e;return`${A||""}`}),S=j(()=>u?u.reactData.resizeFlag:null),w={},V={xID:r,props:e,context:t,reactData:D,getRefMaps:()=>C,getComputeMaps:()=>w},g=(A,M,T)=>{a(A,bn(T,{$noticeBar:V},M))},i={dispatchEvent:g},x={},k=()=>{const{speed:A}=e,M=p.value;if(M){let T=46;A==="fast"?T=118:A==="slow"&&(T=18),D.animationDuration=Math.ceil(M.scrollWidth/T)}},R=A=>{D.animationStatus=!0,g("start",{status:!0},A)},O=A=>{D.animationStatus=!1,g("end",{status:!1},A)};Object.assign(V,i,x);const $=()=>{const{vertical:A,duration:M,direction:T,loop:_}=e,{animationDuration:z,animationStatus:Z}=D,J=d.value,W=h.value,Q=l.default,ge=l.prefix,fe=l.suffix;return o("div",{ref:m,class:["vxe-notice-bar",`is--${A?"vertical":"horizontal"}`,`dir--${T||"left"}`,{[`size--${J}`]:J,"is--loop":_}]},[ge?o("div",{class:"vxe-notice-bar--prefix"},ge({})):Mt(),o("div",{class:"vxe-notice-bar--content"},[o("div",{ref:p,class:"vxe-notice-bar--inner"},[o("div",{class:["vxe-notice-bar--wrapper",`is--${Z?"progress":"end"}`],style:{animationDuration:M?rn(M,"s"):`${z}s`},onAnimationstart:R,onAnimationend:O},Q?Q({}):W)])]),fe?o("div",{class:"vxe-notice-bar--suffix"},fe({})):Mt()])};return Dt(S,()=>{k()}),Ln(()=>{At.on(V,"resize",k),k()}),rs(()=>{At.off(V,"resize")}),V.renderVN=$,V},render(){return this.renderVN()}}),_b=Object.assign({},xc,{install(e){e.component(xc.name,xc)}});dn.use(_b);We.component(xc);const jb=Object.assign({},Es,{install(e){e.component(Es.name,Es)}});dn.use(jb);We.component(Es);class Lg{constructor(t,l){Object.assign(this,{id:n.uniqueId("option_"),value:l.value,label:l.label,visible:l.visible,className:l.className,disabled:l.disabled})}update(t,l){this[t]=l}}function Wb(e){return e instanceof Lg}function Bg(e,t){return Wb(t)?t:new Lg(e,t)}function zg(e,t){Object.keys(e).forEach(l=>{Dt(()=>e[l],a=>{t.update(l,a)})})}function Hg(e,t,l,a){const{reactData:u}=e,{staticOptions:r}=u,d=t.parentNode,m=a?a.optionConfig:null,p=m?m.options:r;d&&p&&(p.splice(n.arrayIndexOf(d.children,t),0,l),u.staticOptions=r.slice(0))}function _g(e,t){const{reactData:l}=e,{staticOptions:a}=l,u=n.findTree(a,r=>r.id===t.id,{children:"options"});u&&u.items.splice(u.index,1),l.staticOptions=a.slice(0)}const yc=pn({name:"VxeOptgroup",props:{label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},emits:[],setup(e,{slots:t}){const l=st(),a=jt("$xeSelect",{}),u=Bg(a,e),r={optionConfig:u};return u.options=[],An("$xeOptgroup",r),zg(e,u),Ln(()=>{const d=l.value;Hg(a,d,u)}),jn(()=>{_g(a,u)}),()=>{const d=t.default;return o("div",{ref:l},d?d({}):[])}}}),Gb=Object.assign(yc,{install:function(e){e.component(yc.name,yc)}});dn.use(Gb);We.component(yc);const Cc=pn({name:"VxeOption",props:{value:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},emits:[],setup(e,{slots:t}){const l=st(),a=jt("$xeSelect",{}),u=jt("$xeOptgroup",null),r=Bg(a,e);return r.slots=t,zg(e,r),Ln(()=>{const d=l.value;Hg(a,d,r,u)}),jn(()=>{_g(a,r)}),()=>o("div",{ref:l})}}),Yb=Object.assign(Cc,{install:function(e){e.component(Cc.name,Cc)}});dn.use(Yb);We.component(Cc);function Ci(e){return e.visible!==!1}function qb(){return n.uniqueId("opt_")}function $f(){return{synchData:[],fullData:[],afterVisibleList:[],optAddMaps:{},optGroupKeyMaps:{},optFullValMaps:{},remoteValMaps:{},lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0},lastScrollTime:0,hpTimeout:void 0}}const Zr=pn({name:"VxeSelect",props:{modelValue:[String,Number,Boolean,Array],defaultConfig:Object,clearable:Boolean,placeholder:String,readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},multiple:Boolean,multiCharOverflow:{type:[Number,String],default:()=>U().select.multiCharOverflow},prefixIcon:String,allowCreate:{type:Boolean,default:()=>U().select.allowCreate},placement:String,lazyOptions:Array,options:Array,optionProps:Object,optionGroups:Array,optionGroupProps:Object,optionConfig:Object,className:[String,Function],popupClassName:[String,Function],max:{type:[String,Number],default:null},zIndex:Number,size:{type:String,default:()=>U().select.size||U().size},filterable:Boolean,filterMethod:Function,remote:Boolean,remoteConfig:Object,emptyText:String,showTotalButoon:{type:Boolean,default:()=>U().select.showTotalButoon},showCheckedButoon:{type:Boolean,default:()=>U().select.showCheckedButoon},showClearButton:{type:Boolean,default:()=>U().select.showClearButton},transfer:{type:Boolean,default:null},virtualYConfig:Object,scrollY:Object,remoteMethod:Function,optionId:{type:String,default:()=>U().select.optionId},optionKey:Boolean},emits:["update:modelValue","change","all-change","clear","blur","focus","click","scroll","visible-change"],setup(e,t){const{slots:l,emit:a}=t,u=jt("$xeModal",null),r=jt("$xeDrawer",null),d=jt("$xeTable",null),m=jt("$xeForm",null),p=jt("xeFormItemInfo",null),D=n.uniqueId(),C=st(),h=st(),S=st(),w=st(),V=st(),g=st(),{computeSize:i}=kn(e),x=ln({initialized:!1,scrollYLoad:!1,bodyHeight:0,topSpaceHeight:0,optList:[],staticOptions:[],reactFlag:0,currentOption:null,searchValue:"",searchLoading:!1,panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),k=$f(),R={refElem:C},O={xID:D,props:e,context:t,reactData:x,internalData:k,getRefMaps:()=>R},$=j(()=>{const{readonly:X}=e;return X===null?m?m.props.readonly:!1:X}),A=j(()=>{const{disabled:X}=e;return X===null?m?m.props.disabled:!1:X}),M=j(()=>{const{transfer:X}=e;if(X===null){const Ce=U().select.transfer;if(n.isBoolean(Ce))return Ce;if(d||u||r||m)return!0}return X}),T=j(()=>{const{placeholder:X}=e;if(X)return ao(X);const Ce=U().select.placeholder;return Ce?ao(Ce):Wt("vxe.base.pleaseSelect")}),_=j(()=>Object.assign({},e.defaultConfig)),z=j(()=>Object.assign({},e.optionProps)),Z=j(()=>Object.assign({},e.optionGroupProps)),J=j(()=>z.value.label||"label"),W=j(()=>z.value.value||"value"),Q=j(()=>Z.value.label||"label"),ge=j(()=>Z.value.options||"options"),fe=j(()=>{const X=Y.value;return pe(X)}),ve=j(()=>Object.assign({},U().select.virtualYConfig||U().select.scrollY,e.virtualYConfig||e.scrollY)),oe=j(()=>Object.assign({},U().select.remoteConfig,e.remoteConfig)),Ee=j(()=>Object.assign({},U().select.optionConfig,e.optionConfig)),re=j(()=>n.toNumber(e.multiCharOverflow)),Y=j(()=>{const{modelValue:X,multiple:Ce}=e;let at=[];return n.isArray(X)?at=X:Ce?es(X)||(at=`${X}`.indexOf(",")>-1?`${X}`.split(","):[X]):at=X==null?[]:[X],at}),Oe=j(()=>{const{remote:X}=e,{reactFlag:Ce}=x,at=Y.value;return X&&Ce?at.map(gt=>Ae(gt)).join(", "):at.map(gt=>_e(gt)).join(", ")}),ze=j(()=>{const{remote:X,multiple:Ce}=e,{reactFlag:at}=x,gt=re.value,St=Y.value;if(X&&at)return St.map(yt=>Ae(yt)).join(", ");const bt=St.map(yt=>_e(yt));return Ce&&gt>0&&bt.length>gt?`${bt.slice(0,gt)}...`:bt.join(", ")}),ce=(X,Ce)=>X&&(n.isString(X)&&(X=l[X]||null),n.isFunction(X))?mn(X(Ce)):[],ue=(X,Ce,at)=>{a(X,bn(at,{$select:O},Ce))},me=X=>{a("update:modelValue",X)},be=()=>Ee.value.keyField||e.optionId||"_X_OPTION_KEY",Se=X=>{const Ce=X[be()];return Ce?encodeURIComponent(Ce):""},pe=X=>{const{multiple:Ce,max:at}=e;return Ce&&at?X.length>=n.toNumber(at):!1},Ae=X=>{const{lazyOptions:Ce}=e,{remoteValMaps:at,optFullValMaps:gt}=k,St=W.value,bt=J.value,yt=at[X]||gt[X],xt=yt?yt.item:null;if(xt)return n.toValueString(xt[bt]);if(Ce){const Ct=Ce.find($t=>$t[St]===X);if(Ct)return Ct[bt]}return X},_e=X=>{const{lazyOptions:Ce}=e,{optFullValMaps:at}=k,gt=W.value,St=J.value,bt=x.reactFlag?at[X]:null;if(bt)return bt.item[St];if(Ce){const yt=Ce.find(xt=>xt[gt]===X);if(yt)return yt[St]}return X},ae=X=>{const Ce=ge.value,at=W.value,gt=be(),St={},bt={},yt=[],xt=Ct=>{yt.push(Ct);let $t=Se(Ct);$t||($t=qb(),Ct[gt]=$t),bt[Ct[at]]={key:$t,item:Ct,_index:-1}};X.forEach(Ct=>{xt(Ct),Ct[Ce]&&(St[Ct[gt]]=Ct,Ct[Ce].forEach(xt))}),k.fullData=yt,k.optGroupKeyMaps=St,k.optFullValMaps=bt,x.reactFlag++,Re()},Re=()=>{const{modelValue:X,filterable:Ce,filterMethod:at}=e,{searchValue:gt}=x,{fullData:St,optFullValMaps:bt}=k,yt=J.value,xt=W.value,Ct=`${gt||""}`.toLowerCase();let $t=[];return Ce&&at?$t=St.filter(on=>Ci(on)&&at({$select:O,group:null,option:on,searchValue:gt,value:X})):Ce?$t=St.filter(on=>Ci(on)&&(!Ct||`${on[yt]||on[xt]}`.toLowerCase().indexOf(Ct)>-1)):$t=St.filter(Ci),$t.forEach((on,tn)=>{const Qt=bt[on[xt]];Qt&&(Qt._index=tn)}),k.afterVisibleList=$t,ke()},Ie=X=>{X&&(x.currentOption=X)},ne=()=>{const{zIndex:X}=e;X?x.panelIndex=X:x.panelIndex<hl()&&(x.panelIndex=fl())},se=()=>{const{placement:X}=e,{panelIndex:Ce}=x,at=C.value,gt=V.value,St=M.value,bt=()=>{const yt=Qs(at,gt,{placement:X,teleportTo:St}),xt=Object.assign(yt.style,{zIndex:Ce});x.panelStyle=xt,x.panelPlacement=yt.placement};return bt(),ke().then(bt)},F=()=>{ke(()=>{const{isAniVisible:X,visiblePanel:Ce}=x,{optFullValMaps:at}=k,gt=Y.value;if(gt.length&&X&&Ce){const St=x.reactFlag?at[`${gt[0]}`]:null;St&&q(St.item)}})},B=()=>{const{loading:X,filterable:Ce,remote:at}=e,{fullData:gt,hpTimeout:St}=k,bt=A.value,yt=oe.value;!X&&!bt&&(St&&(clearTimeout(St),k.hpTimeout=void 0),x.initialized||(x.initialized=!0),x.isActivated=!0,x.isAniVisible=!0,Ce&&(at&&yt.enabled&&yt.autoLoad&&!gt.length?L():(Re(),ye())),setTimeout(()=>{x.visiblePanel=!0,Vt(),Ze().then(()=>{F(),qe()})},10),setTimeout(()=>{Ze().then(()=>qe())},100),ne(),se(),ue("visible-change",{visible:!0},null))},te=()=>{x.searchValue="",x.searchLoading=!1,x.visiblePanel=!1,k.hpTimeout=setTimeout(()=>{x.isAniVisible=!1},350),ue("visible-change",{visible:!1},null)},de=(X,Ce,at)=>{me(Ce),Ce!==e.modelValue&&(ue("change",{value:Ce,option:at},X),m&&p&&m.triggerItemEvent(X,p.itemConfig.field,Ce))},Te=(X,Ce)=>{k.remoteValMaps={},de(X,Ce,null),ue("clear",{value:Ce},X)},Ke=X=>{const{$event:Ce}=X;Te(Ce,null),te()},Ye=X=>{const{$event:Ce}=X,{multiple:at,max:gt}=e,{optList:St}=x,bt=W.value;if(at){const xt=Y.value.slice(0);for(let Ct=0;Ct<St.length;Ct++){const on=St[Ct][bt];if(pe(xt)){We&&We.modal.message({content:Wt("vxe.select.overSizeErr",[gt]),status:"warning"});break}xt.some(tn=>tn===on)||xt.push(on)}de(Ce,xt,St[0]),ue("all-change",{value:xt},Ce)}},Qe=X=>{const{$event:Ce}=X;Te(Ce,null),te()},lt=(X,Ce)=>{const{multiple:at}=e,{remoteValMaps:gt}=k,St=W.value,bt=Ce[St],yt=gt[bt];if(x.visiblePanel){if(yt?yt.item=Ce:gt[bt]={key:Se(Ce),item:Ce,_index:-1},at){let xt=[];const Ct=Y.value;n.findIndexOf(Ct,on=>on===bt)===-1?xt=Ct.concat([bt]):xt=Ct.filter(on=>on!==bt),de(X,xt,Ce)}else de(X,bt,Ce),te();x.reactFlag++}},et=X=>{const{visiblePanel:Ce}=x;if(!A.value&&Ce){const gt=V.value;Qn(X,gt).flag?se():te()}},ht=X=>{const{visiblePanel:Ce}=x;if(!A.value){const gt=C.value,St=V.value;x.isActivated=Qn(X,gt).flag||Qn(X,St).flag,Ce&&!x.isActivated&&te()}},Ot=X=>{const Ce=X.disabled,at=Se(X);return!Ce&&!it(at)},ut=(X,Ce)=>{const{allowCreate:at}=e,{optList:gt}=x,{optFullValMaps:St,optAddMaps:bt,afterVisibleList:yt}=k,xt=W.value;let Ct=yt,$t=0;if(at&&gt.length){const Qt=gt[0],vn=Se(Qt);bt[vn]&&($t=1,Ct=[bt[vn]].concat(Ct))}if(!X)if(Ce)for(let Qt=0;Qt<Ct.length;Qt++){const vn=Ct[Qt];if(Ot(vn))return vn}else for(let Qt=Ct.length-1;Qt>=0;Qt--){const vn=Ct[Qt];if(Ot(vn))return vn}let on=0;const tn=X?St[X[xt]]:null;if(tn&&(on=tn._index+$t),on>-1){if(Ce)for(let Qt=on+1;Qt<=Ct.length-1;Qt++){const vn=Ct[Qt];if(Ot(vn))return vn}else if(on>0)for(let Qt=on-1;Qt>=0;Qt--){const vn=Ct[Qt];if(Ot(vn))return vn}}return null},wt=X=>{const{clearable:Ce}=e,{visiblePanel:at,currentOption:gt}=x;if(!A.value){const bt=At.hasKey(X,Sn.TAB),yt=At.hasKey(X,Sn.ENTER),xt=At.hasKey(X,Sn.ESCAPE),Ct=At.hasKey(X,Sn.ARROW_UP),$t=At.hasKey(X,Sn.ARROW_DOWN),on=At.hasKey(X,Sn.DELETE);if(bt&&(x.isActivated=!1),at){if(xt||bt)te();else if(yt)gt&&(X.preventDefault(),X.stopPropagation(),lt(X,gt));else if(Ct||$t){X.preventDefault();let tn=ut(gt,$t);tn||(tn=ut(null,$t)),tn&&(Ie(tn),q(tn,$t))}}else(Ct||$t||yt)&&x.isActivated&&(X.preventDefault(),B());x.isActivated&&on&&Ce&&Te(X,null)}},mt=()=>{const{visiblePanel:X,isActivated:Ce}=x;if(X&&te(),Ce&&(x.isActivated=!1),X||Ce){const at=h.value;at&&at.blur()}},Rt=()=>{const{visiblePanel:X}=x;X&&se()},Vt=()=>{e.filterable&&ke(()=>{const X=S.value;X&&X.focus()})},he=X=>{A.value||x.visiblePanel||(x.triggerFocusPanel=!0,B(),setTimeout(()=>{x.triggerFocusPanel=!1},500)),ue("focus",{},X)},$e=X=>{ie(X),ue("click",{triggerButton:!1,visible:x.visiblePanel},X)},nt=X=>{x.isActivated=!1,ue("blur",{},X)},ft=X=>{ie(X),ue("click",{triggerButton:!0,visible:x.visiblePanel},X)},vt=X=>{x.searchValue=X},v=()=>{x.isActivated=!0},L=()=>{const{modelValue:X,remote:Ce,remoteMethod:at}=e,{searchValue:gt}=x,St=oe.value,bt=St.queryMethod||at;Ce&&bt&&St.enabled?(x.searchLoading=!0,Promise.resolve(bt({$select:O,searchValue:gt,value:X})).then(()=>ke()).catch(()=>ke()).finally(()=>{x.searchLoading=!1,Re(),ye()})):(Re(),ye())},N=n.debounce(L,350,{trailing:!0}),ie=X=>{const{$event:Ce}=X;Ce.preventDefault(),x.triggerFocusPanel?x.triggerFocusPanel=!1:x.visiblePanel?te():B()},Me=(X,Ce)=>!!(Ce.disabled||fe.value&&!X),He=()=>{const{scrollYLoad:X}=x,{scrollYStore:Ce,afterVisibleList:at}=k;x.bodyHeight=X?at.length*Ce.rowHeight:0,x.topSpaceHeight=X?Math.max(Ce.startIndex*Ce.rowHeight,0):0},Ve=()=>{const{filterable:X,allowCreate:Ce}=e,{scrollYLoad:at,searchValue:gt}=x,{optAddMaps:St,scrollYStore:bt,afterVisibleList:yt}=k,xt=J.value,Ct=W.value,$t=at?yt.slice(bt.startIndex,bt.endIndex):yt.slice(0);if(X&&Ce&&gt&&!$t.some(on=>on[xt]===gt)){const on=St[gt]||ln({[be()]:gt,[xt]:gt,[Ct]:gt});St[gt]=on,$t.unshift(on)}return x.optList=$t,ke()},ye=()=>{Ve(),He()},P=()=>ke().then(()=>{const{scrollYLoad:X}=x,{scrollYStore:Ce}=k,at=g.value,gt=ve.value;let St=0,bt;if(at&&(bt||(bt=at.children[0])),bt&&(St=bt.offsetHeight),St=Math.max(20,St),Ce.rowHeight=St,X){const yt=w.value,xt=Math.max(8,yt?Math.ceil(yt.clientHeight/St):0),Ct=Math.max(0,Math.min(2,n.toNumber(gt.oSize)));Ce.offsetSize=Ct,Ce.visibleSize=xt,Ce.endIndex=Math.max(Ce.startIndex,xt+Ct,Ce.endIndex),ye()}else He()}),q=(X,Ce)=>{const{scrollYLoad:at}=x,{optFullValMaps:gt,scrollYStore:St}=k,bt=W.value,yt=gt[X[bt]];if(yt){const xt=yt.key,Ct=yt._index;if(Ct>-1){const $t=w.value,on=V.value;if(!on)return;const tn=on.querySelector(`[optid='${xt}']`);if($t)if(tn){const Qt=$t.offsetHeight,vn=1;Ce?tn.offsetTop+tn.offsetHeight-$t.scrollTop>Qt?$t.scrollTop=tn.offsetTop+tn.offsetHeight-Qt:(tn.offsetTop+vn<$t.scrollTop||tn.offsetTop+vn>$t.scrollTop+$t.clientHeight)&&($t.scrollTop=tn.offsetTop-vn):tn.offsetTop+vn<$t.scrollTop||tn.offsetTop+vn>$t.scrollTop+$t.clientHeight?$t.scrollTop=tn.offsetTop-vn:tn.offsetTop+tn.offsetHeight-$t.scrollTop>Qt&&($t.scrollTop=tn.offsetTop+tn.offsetHeight-Qt)}else at&&(Ce?$t.scrollTop=Ct*St.rowHeight-$t.clientHeight+St.rowHeight:$t.scrollTop=Ct*St.rowHeight)}}},Pe=(X,Ce)=>{const at=w.value;return at&&(n.isNumber(X)&&(at.scrollLeft=X),n.isNumber(Ce)&&(at.scrollTop=Ce)),x.scrollYLoad?new Promise(gt=>{setTimeout(()=>{ke(()=>{gt()})},50)}):ke()},qe=()=>{const{lastScrollLeft:X,lastScrollTop:Ce}=k;return ot().then(()=>{if(X||Ce)return k.lastScrollLeft=0,k.lastScrollTop=0,Pe(X,Ce)})},Ze=()=>{const X=C.value;return X&&X.clientWidth&&X.clientHeight?P():Promise.resolve()},K=X=>{const{scrollYStore:Ce}=k,{startIndex:at,endIndex:gt,visibleSize:St,offsetSize:bt,rowHeight:yt}=Ce,Ct=X.target.scrollTop,$t=Math.floor(Ct/yt),on=Math.max(0,$t-1-bt),tn=$t+St+bt;($t<=at||$t>=gt-St-1)&&(at!==on||gt!==tn)&&(Ce.startIndex=on,Ce.endIndex=tn,ye())},xe=()=>{const{lastScrollTime:Ce}=k;return!!(Ce&&Date.now()<Ce+250)},Ne=X=>{const Ce=X.target,at=Ce.scrollTop,gt=Ce.scrollLeft,St=gt!==k.lastScrollLeft,bt=at!==k.lastScrollTop;k.lastScrollTop=at,k.lastScrollLeft=gt,x.scrollYLoad&&K(X),k.lastScrollTime=Date.now(),ue("scroll",{scrollLeft:gt,scrollTop:at,isX:St,isY:bt},X)},Ge=X=>{ae(X||[]);const{isLoaded:Ce,fullData:at,scrollYStore:gt}=k,St=_.value,bt=ve.value,yt=W.value;if(Object.assign(gt,{startIndex:0,endIndex:1,visibleSize:0}),k.synchData=X||[],x.scrollYLoad=!!bt.enabled&&bt.gt>-1&&(bt.gt===0||bt.gt<=at.length),Ve(),!Ce){const{selectMode:xt}=St;if(X.length>0&&n.eqNull(e.modelValue)){if(xt==="first"||xt==="last"){const Ct=n[xt](X);Ct&&ke(()=>{n.eqNull(e.modelValue)&&me(Ct[yt])})}k.isLoaded=!0}}return P().then(()=>{qe()})},ot=()=>{const X=w.value;return X&&(X.scrollTop=0,X.scrollLeft=0),k.lastScrollTop=0,k.lastScrollLeft=0,ke()},it=X=>{const{optGroupKeyMaps:Ce}=k;return!!Ce[X]};Object.assign(O,{dispatchEvent:ue,loadData:Ge,reloadData(X){return k.isLoaded=!1,ot(),Ge(X)},isPanelVisible(){return x.visiblePanel},togglePanel(){return x.visiblePanel?te():B(),ke()},hidePanel(){return x.visiblePanel&&te(),ke()},showPanel(){return x.visiblePanel||B(),ke()},refreshOption(){return Re(),ye(),ke()},focus(){const X=h.value;return X&&X.blur(),x.isActivated=!0,ke()},blur(){const X=h.value;return X&&X.blur(),x.isActivated=!1,ke()},recalculate:Ze,clearScroll:ot});const zt=X=>{const{allowCreate:Ce,optionKey:at}=e,{currentOption:gt}=x,{optAddMaps:St}=k,bt=Ee.value,yt=J.value,xt=W.value,Ct=Q.value,$t=Y.value,{useKey:on,height:tn}=bt,Qt=l.option;return X.map((vn,Xn)=>{const{slots:Zn,className:Co}=vn,Wn=Se(vn),ro=vn[xt],po=it(Wn),wo=!!(Ce&&St[Wn]),Jn=!wo&&$t.indexOf(ro)>-1,_n=wo||!po||Ci(vn),io=!wo&&Me(Jn,vn),Ro=Zn?Zn.default:null,Vo={option:vn,group:po?vn:null,$select:O};let Eo="",Nn=[];return Qt?Nn=ce(Qt,Vo):Ro?Nn=ce(Ro,Vo):(Eo=ao(vn[po?Ct:yt]||ro),Nn=Eo),_n?o("div",{key:on||at?Wn:Xn,class:["vxe-select-option",Co?n.isFunction(Co)?Co(Vo):Co:"",{"vxe-select-optgroup":po,"is--disabled":io,"is--selected":Jn,"is--add":wo,"is--hover":gt&&Se(gt)===Wn}],optid:Wn,title:Eo||null,style:tn?{height:rn(tn)}:void 0,onMousedown:Mn=>{Mn.button===0&&Mn.stopPropagation()},onClick:Mn=>{!io&&!po&&lt(Mn,vn)},onMouseenter:()=>{!io&&!po&&!xe()&&Ie(vn)}},Ce?[o("span",{key:1,class:"vxe-select-option--label"},Nn),wo?o("span",{key:2,class:"vxe-select-option--add-icon"},[o("i",{class:Yt().SELECT_ADD_OPTION})]):Mt()]:Nn):Mt()})},_t=()=>{const{optList:X,searchLoading:Ce}=x;return Ce?[o("div",{class:"vxe-select--search-loading"},[o("i",{class:["vxe-select--search-icon",Yt().SELECT_LOADED]}),o("span",{class:"vxe-select--search-text"},Wt("vxe.select.loadingText"))])]:X.length?zt(X):[o("div",{class:"vxe-select--empty-placeholder"},e.emptyText||Wt("vxe.select.emptyText"))]},Fe=()=>{const{className:X,popupClassName:Ce,multiple:at,loading:gt,filterable:St,showTotalButoon:bt,showCheckedButoon:yt,showClearButton:xt}=e,{initialized:Ct,isActivated:$t,isAniVisible:on,optList:tn,visiblePanel:Qt,bodyHeight:vn,topSpaceHeight:Xn}=x,Zn=i.value,Co=A.value,Wn=ze.value,ro=Oe.value,po=M.value,wo=$.value,Jn=T.value,_n=l.default,io=l.header,Ro=l.footer,Vo=l.prefix;if(wo)return o("div",{ref:C,class:["vxe-select--readonly",X]},[o("div",{class:"vxe-select-slots",ref:"hideOption"},_n?_n({}):[]),o("span",{class:"vxe-select-label",title:ro},Wn)]);const Eo=Y.value;return o("div",{ref:C,class:["vxe-select",X?n.isFunction(X)?X({$select:O}):X:"",{[`size--${Zn}`]:Zn,"is--visible":Qt,"is--disabled":Co,"is--filter":St,"is--loading":gt,"is--active":$t}]},[o("div",{class:"vxe-select-slots",ref:"hideOption"},_n?_n({}):[]),o(ss,{ref:h,clearable:e.clearable,placeholder:Jn,readonly:!0,disabled:Co,type:"text",prefixIcon:e.prefixIcon,suffixIcon:gt?Yt().SELECT_LOADED:Qt?Yt().SELECT_OPEN:Yt().SELECT_CLOSE,autoFocus:!1,title:ro,modelValue:Wn,onClear:Ke,onClick:$e,onFocus:he,onBlur:nt,onSuffixClick:ft},Vo?{prefix:()=>Vo({})}:{}),o(ol,{to:"body",disabled:po?!Ct:!0},[o("div",{ref:V,class:["vxe-table--ignore-clear vxe-select--panel",Ce?n.isFunction(Ce)?Ce({$select:O}):Ce:"",{[`size--${Zn}`]:Zn,"is--transfer":po,"ani--leave":!gt&&on,"ani--enter":!gt&&Qt}],placement:x.panelPlacement,style:x.panelStyle},Ct&&(Qt||on)?[o("div",{class:"vxe-select--panel-wrapper"},[St?o("div",{class:"vxe-select--panel-search"},[o(ss,{ref:S,class:"vxe-select-search--input",modelValue:x.searchValue,type:"text",clearable:!0,disabled:!1,readonly:!1,placeholder:Wt("vxe.select.search"),prefixIcon:Yt().INPUT_SEARCH,"onUpdate:modelValue":vt,onFocus:v,onChange:N,onSearch:N})]):Mt(),bt||yt&&at||xt||io?o("div",{class:"vxe-select--panel-header"},io?ce(io,{}):[o("div",{class:"vxe-select--header-button"},[bt?o("div",{class:"vxe-select--header-total"},Wt("vxe.select.total",[Eo.length,tn.length])):Mt(),o("div",{class:"vxe-select--header-btns"},[yt&&at?o(lo,{content:Wt("vxe.select.allChecked"),mode:"text",onClick:Ye}):Mt(),xt?o(lo,{content:Wt("vxe.select.clear"),mode:"text",onClick:Qe}):Mt()])])]):Mt(),o("div",{class:"vxe-select--panel-body"},[o("div",{ref:w,class:"vxe-select-option--wrapper",onScroll:Ne},[o("div",{class:"vxe-select--y-space",style:{height:vn?`${vn}px`:""}}),o("div",{ref:g,class:"vxe-select--body",style:{transform:`translateY(${Xn}px)`}},_t())])]),Ro?o("div",{class:"vxe-select--panel-footer"},ce(Ro,{})):Mt()])]:[])])])};return Dt(()=>x.staticOptions,X=>{Ge(X)}),Dt(()=>e.options,X=>{Ge(X||[])}),Dt(()=>e.optionGroups,X=>{Ge(X||[])}),Ln(()=>{ke(()=>{const{options:X,optionGroups:Ce}=e;Ce?Ge(Ce):X&&Ge(X)}),At.on(O,"mousewheel",et),At.on(O,"mousedown",ht),At.on(O,"keydown",wt),At.on(O,"blur",mt),At.on(O,"resize",Rt)}),jn(()=>{At.off(O,"mousewheel"),At.off(O,"mousedown"),At.off(O,"keydown"),At.off(O,"blur"),At.off(O,"resize"),n.assign(k,$f())}),An("$xeSelect",O),O.renderVN=Fe,O},render(){return this.renderVN()}}),wc=pn({name:"VxePager",props:{size:{type:String,default:()=>U().pager.size||U().size},layouts:{type:Array,default:()=>U().pager.layouts||["PrevJump","PrevPage","Jump","PageCount","NextPage","NextJump","Sizes","Total"]},currentPage:{type:Number,default:1},loading:Boolean,pageSize:{type:Number,default:()=>U().pager.pageSize||10},total:{type:Number,default:0},pagerCount:{type:Number,default:()=>U().pager.pagerCount||7},pageSizes:{type:Array,default:()=>U().pager.pageSizes||[10,15,20,50,100]},align:{type:String,default:()=>U().pager.align},border:{type:Boolean,default:()=>U().pager.border},background:{type:Boolean,default:()=>U().pager.background},perfect:{type:Boolean,default:()=>U().pager.perfect},autoHidden:{type:Boolean,default:()=>U().pager.autoHidden},transfer:{type:Boolean,default:()=>U().pager.transfer},className:[String,Function],pageSizePlacement:{type:String,default:()=>U().pager.pageSizePlacement},iconPrevPage:String,iconJumpPrev:String,iconJumpNext:String,iconNextPage:String,iconJumpMore:String,iconHomePage:String,iconEndPage:String},emits:["update:pageSize","update:currentPage","page-change"],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),{computeSize:r}=kn(e),d=jt("$xeGrid",null),m=ln({inpCurrPage:e.currentPage}),p=st(),D={refElem:p},C=j(()=>i(e.total,e.pageSize)),h=j(()=>{const{pagerCount:Se}=e,Ae=C.value>Se?Se-2:Se,_e=[];for(let ae=0;ae<Ae;ae++)_e.push(ae);return _e}),S=j(()=>Math.floor((e.pagerCount-2)/2)),w=j(()=>e.pageSizes.map(Se=>n.isNumber(Se)?{value:Se,label:`${Wt("vxe.pager.pagesize",[Se])}`}:Object.assign({value:"",label:""},Se))),V={xID:u,props:e,context:t,getRefMaps:()=>D},g=(Se,pe,Ae)=>{a(Se,bn(Ae,{$pager:V},pe))},i=(Se,pe)=>Math.max(Math.ceil(Se/pe),1),x=(Se,pe)=>{a("update:currentPage",pe),Se&&pe!==e.currentPage&&g("page-change",{type:"current",pageSize:e.pageSize,currentPage:pe},Se)},k=(Se,pe)=>{a("update:currentPage",Se),pe&&Se!==e.currentPage&&g("page-change",{type:"current",pageSize:e.pageSize,currentPage:Se},pe)},R=Se=>{const{$event:pe}=Se,Ae=pe.target,_e=n.toInteger(Ae.value),ae=C.value,Re=_e<=0?1:_e>=ae?ae:_e,Ie=n.toValueString(Re);Ae.value=Ie,m.inpCurrPage=Ie,k(Re,pe)},O=Se=>{const{currentPage:pe}=e;pe>1&&k(1,Se)},$=Se=>{const{currentPage:pe}=e,Ae=C.value;pe<Ae&&k(Ae,Se)},A=Se=>{const{currentPage:pe}=e,Ae=C.value;pe>1&&k(Math.min(Ae,Math.max(pe-1,1)),Se)},M=Se=>{const{currentPage:pe}=e,Ae=C.value;pe<Ae&&k(Math.min(Ae,pe+1),Se)},T=Se=>{const pe=h.value;k(Math.max(e.currentPage-pe.length,1),Se)},_=Se=>{const pe=C.value,Ae=h.value;k(Math.min(e.currentPage+Ae.length,pe),Se)},z=Se=>{const{value:pe,$event:Ae}=Se,_e=n.toNumber(pe),ae=i(e.total,_e);let Re=e.currentPage;Re>ae&&(Re=ae,a("update:currentPage",ae)),a("update:pageSize",_e),Ae&&g("page-change",{type:"size",pageSize:_e,currentPage:Re},Ae)},Z=Se=>{const{$event:pe}=Se;At.hasKey(pe,Sn.ENTER)?R(Se):At.hasKey(pe,Sn.ARROW_UP)?(pe.preventDefault(),M(pe)):At.hasKey(pe,Sn.ARROW_DOWN)&&(pe.preventDefault(),A(pe))},J=()=>{const{currentPage:Se,total:pe}=e,Ae=l.home,_e=C.value;return Ae?o("span",{class:"vxe-pager--custom-home-btn"},Ae({$pager:V,total:pe,currentPage:Se,pageCount:_e})):o("button",{class:["vxe-pager--home-btn",{"is--disabled":Se<=1}],type:"button",title:Wt("vxe.pager.homePageTitle"),onClick:O},[o("i",{class:["vxe-pager--btn-icon",e.iconHomePage||Yt().PAGER_HOME]})])},W=()=>{const{currentPage:Se,total:pe}=e,Ae=l.prevPage||l["prev-page"],_e=C.value;return Ae?o("span",{class:"vxe-pager--custom-prev-btn"},Ae({$pager:V,total:pe,currentPage:Se,pageCount:_e})):o("button",{class:["vxe-pager--prev-btn",{"is--disabled":Se<=1}],type:"button",title:Wt("vxe.pager.prevPageTitle"),onClick:A},[o("i",{class:["vxe-pager--btn-icon",e.iconPrevPage||Yt().PAGER_PREV_PAGE]})])},Q=Se=>{const{currentPage:pe,total:Ae}=e,_e=l.prevJump||l["prev-jump"],ae=C.value;return _e?o("span",{class:"vxe-pager--custom-jump-prev"},_e({$pager:V,total:Ae,currentPage:pe,pageCount:ae})):o(Se||"button",{class:["vxe-pager--jump-prev",{"is--fixed":!Se,"is--disabled":pe<=1}],type:"button",title:Wt("vxe.pager.prevJumpTitle"),onClick:T},[Se?o("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||Yt().PAGER_JUMP_MORE]}):null,o("i",{class:["vxe-pager--jump-icon",e.iconJumpPrev||Yt().PAGER_JUMP_PREV]})])},ge=Se=>{const{currentPage:pe,total:Ae}=e,_e=l.nextJump||l["next-jump"],ae=C.value;return _e?o("span",{class:"vxe-pager--custom-jump-next"},_e({$pager:V,total:Ae,currentPage:pe,pageCount:ae})):o(Se||"button",{class:["vxe-pager--jump-next",{"is--fixed":!Se,"is--disabled":pe>=ae}],type:"button",title:Wt("vxe.pager.nextJumpTitle"),onClick:_},[Se?o("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||Yt().PAGER_JUMP_MORE]}):null,o("i",{class:["vxe-pager--jump-icon",e.iconJumpNext||Yt().PAGER_JUMP_NEXT]})])},fe=()=>{const{currentPage:Se,total:pe}=e,Ae=l.nextPage||l["next-page"],_e=C.value;return Ae?o("span",{class:"vxe-pager--custom-next-btn"},Ae({$pager:V,total:pe,currentPage:Se,pageCount:_e})):o("button",{class:["vxe-pager--next-btn",{"is--disabled":Se>=_e}],type:"button",title:Wt("vxe.pager.nextPageTitle"),onClick:M},[o("i",{class:["vxe-pager--btn-icon",e.iconNextPage||Yt().PAGER_NEXT_PAGE]})])},ve=()=>{const{currentPage:Se,total:pe}=e,Ae=l.end,_e=C.value;return Ae?o("span",{class:"vxe-pager--custom-end-btn"},Ae({$pager:V,total:pe,currentPage:Se,pageCount:_e})):o("button",{class:["vxe-pager--end-btn",{"is--disabled":Se>=_e}],type:"button",title:Wt("vxe.pager.endPageTitle"),onClick:$},[o("i",{class:["vxe-pager--btn-icon",e.iconEndPage||Yt().PAGER_END]})])},oe=Se=>{const{currentPage:pe,total:Ae,pagerCount:_e}=e,ae=Se?l.numberJump||l["number-jump"]:l.number,Re=[],Ie=C.value,ne=h.value,se=S.value,F=Ie>_e,B=F&&pe>se+1,te=F&&pe<Ie-se,de=[];let Te=1;return F&&(pe>=Ie-se?Te=Math.max(Ie-ne.length+1,1):Te=Math.max(pe-se,1)),Se&&B&&(de.push(1),Re.push(o("button",{class:"vxe-pager--num-btn",type:"button",onClick:Ke=>x(Ke,1)},"1"),Q("span"))),ne.forEach((Ke,Ye)=>{const Qe=Te+Ye;Qe<=Ie&&(de.push(Qe),Re.push(o("button",{key:Qe,class:["vxe-pager--num-btn",{"is--active":pe===Qe}],type:"button",onClick:lt=>x(lt,Qe)},`${Qe}`)))}),Se&&te&&(de.push(Ie),Re.push(ge("button"),o("button",{class:"vxe-pager--num-btn",type:"button",onClick:Ke=>x(Ke,Ie)},Ie))),ae?o("span",{class:"vxe-pager--custom-btn-wrapper"},ae({$pager:V,total:Ae,numList:de,currentPage:pe,pageCount:Ie})):o("span",{class:"vxe-pager--btn-wrapper"},Re)},Ee=()=>oe(!0),re=()=>{const{total:Se,currentPage:pe,pageSize:Ae,pageSizePlacement:_e,transfer:ae}=e,Re=l.sizes,Ie=w.value,ne=C.value;return Re?o("span",{class:"vxe-pager--custom-sizes"},Re({$pager:V,total:Se,currentPage:pe,pageCount:ne,pageSize:Ae,options:Ie})):o(Zr,{class:"vxe-pager--sizes",modelValue:Ae,placement:_e,transfer:ae,options:Ie,onChange:z})},Y=Se=>{const{total:pe}=e,{inpCurrPage:Ae}=m,_e=Se?l.fullJump||l["full-jump"]:l.jump,ae=C.value;return _e?o("span",{class:"vxe-pager--custom-jump"},_e({$pager:V,total:pe,currentPage:Ae,pageCount:ae})):o("span",{class:"vxe-pager--jump"},[Se?o("span",{class:"vxe-pager--goto-text"},Wt("vxe.pager.goto")):null,o(Es,{class:"vxe-pager--goto",modelValue:m.inpCurrPage,placeholder:Wt("vxe.pager.gotoTitle"),align:"center",type:"integer",max:ae,min:1,controls:!1,onKeydown:Z,onBlur:R,"onUpdate:modelValue"(Re){m.inpCurrPage=Re}}),Se?o("span",{class:"vxe-pager--classifier-text"},Wt("vxe.pager.pageClassifier")):null])},Oe=()=>Y(!0),ze=()=>{const{currentPage:Se,total:pe}=e,Ae=l.pageCount||l["page-count"],_e=C.value;return Ae?o("span",{class:"vxe-pager--custom-count"},Ae({$pager:V,total:pe,currentPage:Se,pageCount:_e})):o("span",{class:"vxe-pager--count"},[o("span",{class:"vxe-pager--separator"}),o("span",_e)])},ce=()=>{const{currentPage:Se,total:pe}=e,Ae=l.total,_e=C.value;return Ae?o("span",{class:"vxe-pager--custom-total"},Ae({$pager:V,total:pe,currentPage:Se,pageCount:_e})):o("span",{class:"vxe-pager--total"},Wt("vxe.pager.total",[pe]))};Object.assign(V,{dispatchEvent:g,setPageSize(Se){return z({value:Se}),ke()},setPageSizeByEvent(Se,pe){z({value:pe,$event:Se})},homePage(){return O(),ke()},homePageByEvent(Se){O(Se)},endPage(){return $(),ke()},endPageByEvent(Se){$(Se)},prevPage(){return A(),ke()},prevPageByEvent(Se){A(Se)},nextPage(){return M(),ke()},nextPageByEvent(Se){M(Se)},prevJump(){return T(),ke()},prevJumpByEvent(Se){T(Se)},nextJump(){return _(),ke()},nextJumpByEvent(Se){_(Se)},setCurrentPage(Se){const pe=n.toNumber(Se)||1;return m.inpCurrPage=pe,k(pe),ke()},setCurrentPageByEvent(Se,pe){const Ae=n.toNumber(pe)||1;m.inpCurrPage=Ae,k(Ae,Se)},jumpPage(Se){return ml("vxe.error.delFunc",["[pager] jumpPage","setCurrentPage"]),V.setCurrentPage(Se)}},{handlePrevPage:A,handleNextPage:M,handlePrevJump:T,handleNextJump:_}),Dt(()=>e.currentPage,Se=>{m.inpCurrPage=Se});const be=()=>{const{align:Se,layouts:pe,className:Ae}=e,_e=[],ae=r.value,Re=C.value;return l.left&&_e.push(o("span",{class:"vxe-pager--left-wrapper"},l.left({$grid:d}))),pe.forEach(Ie=>{let ne;switch(Ie){case"Home":ne=J;break;case"PrevJump":ne=Q;break;case"PrevPage":ne=W;break;case"Number":ne=oe;break;case"JumpNumber":ne=Ee;break;case"NextPage":ne=fe;break;case"NextJump":ne=ge;break;case"End":ne=ve;break;case"Sizes":ne=re;break;case"FullJump":ne=Oe;break;case"Jump":ne=Y;break;case"PageCount":ne=ze;break;case"Total":ne=ce;break}ne?_e.push(ne()):To("vxe.error.notProp",[`[pager] layouts -> ${Ie}`])}),l.right&&_e.push(o("span",{class:"vxe-pager--right-wrapper"},l.right({$grid:d}))),o("div",{ref:p,class:["vxe-pager",Ae?n.isFunction(Ae)?Ae({$pager:V}):Ae:"",{[`size--${ae}`]:ae,[`align--${Se}`]:Se,"is--border":e.border,"is--background":e.background,"is--perfect":e.perfect,"is--hidden":e.autoHidden&&Re===1,"is--loading":e.loading}]},[o("div",{class:"vxe-pager--wrapper"},_e)])};return V.renderVN=be,V},render(){return this.renderVN()}}),Ub=Object.assign(wc,{install:function(e){e.component(wc.name,wc)}});dn.use(Ub);We.component(wc);const Ec=pn({name:"VxePasswordInput",props:{modelValue:String,immediate:{type:Boolean,default:!0},name:String,clearable:{type:Boolean,default:()=>U().passwordInput.clearable},readonly:Boolean,disabled:Boolean,maxLength:[String,Number],placeholder:String,autoComplete:{type:String,default:"off"},className:String,size:{type:String,default:()=>U().passwordInput.size||U().size},prefixIcon:String,suffixIcon:String,controls:{type:Boolean,default:()=>U().passwordInput.controls},autocomplete:String},emits:["update:modelValue","input","change","click","focus","blur","clear","lazy-change","toggle-visible","prefix-click","suffix-click"],setup(e,t){const{emit:l,slots:a}=t,u=jt("$xeForm",null),r=jt("xeFormItemInfo",null),d=n.uniqueId(),{computeSize:m}=kn(e),p=ln({showPwd:!1,isActivated:!1,inputValue:e.modelValue}),D=st(),C=st(),h={refElem:D,refInput:C},S={xID:d,props:e,context:t,reactData:p,getRefMaps:()=>h};let w={};const V=j(()=>e.clearable),g=j(()=>{const{readonly:Ee}=e;return Ee}),i=j(()=>{const{placeholder:Ee}=e;if(Ee)return ao(Ee);const re=U().passwordInput.placeholder;return re?ao(re):Wt("vxe.base.pleaseInput")}),x=j(()=>{const{showPwd:Ee}=p;return Ee?"text":"password"}),k=j(()=>{const{immediate:Ee}=e;return Ee}),R=Ee=>{const{inputValue:re}=p;w.dispatchEvent(Ee.type,{value:re},Ee)},O=(Ee,re)=>{const Y=k.value;p.inputValue=Ee,Y?A(Ee,re):w.dispatchEvent("input",{value:Ee},re)},$=Ee=>{const Y=Ee.target.value;O(Y,Ee)},A=(Ee,re)=>{p.inputValue=Ee,l("update:modelValue",Ee),w.dispatchEvent("input",{value:Ee},re),n.toValueString(e.modelValue)!==Ee&&(w.dispatchEvent("change",{value:Ee},re),u&&r&&u.triggerItemEvent(re,r.itemConfig.field,Ee))},M=Ee=>{R(Ee),S.dispatchEvent("lazy-change",{value:p.inputValue},Ee),u&&r&&u.triggerItemEvent(Ee,r.itemConfig.field,p.inputValue)},T=Ee=>{p.isActivated=!0,R(Ee)},_=Ee=>{const{inputValue:re}=p,Y=re;S.dispatchEvent("blur",{value:Y},Ee),u&&r&&u.triggerItemEvent(Ee,r.itemConfig.field,Y)},z=Ee=>{const{readonly:re,disabled:Y}=e,{showPwd:Oe}=p;!Y&&!re&&(p.showPwd=!Oe),S.dispatchEvent("toggle-visible",{visible:p.showPwd},Ee)},Z=Ee=>{R(Ee)},J=(Ee,re)=>{focus(),A("",Ee),S.dispatchEvent("clear",{value:re},Ee),S.dispatchEvent("lazy-change",{value:p.inputValue},Ee)},W=Ee=>{const{disabled:re}=e;if(!re){const{inputValue:Y}=p;S.dispatchEvent("suffix-click",{value:Y},Ee)}},Q=Ee=>{const{disabled:re}=e;if(!re){const{inputValue:Y}=p;S.dispatchEvent("prefix-click",{value:Y},Ee)}},ge=()=>{const{showPwd:Ee}=p;return o("div",{class:"vxe-password-input--control-icon",onClick:z},[o("i",{class:["vxe-password-input--password-icon",Ee?Yt().PASSWORD_INPUT_SHOW_PWD:Yt().PASSWORD_INPUT_HIDE_PWD]})])},fe=()=>{const{prefixIcon:Ee}=e,re=a.prefix;return re||Ee?o("div",{class:"vxe-password-input--prefix",onClick:Q},[o("div",{class:"vxe-password-input--prefix-icon"},re?mn(re({})):[o("i",{class:Ee})])]):null},ve=()=>{const{disabled:Ee,suffixIcon:re,controls:Y}=e,{inputValue:Oe}=p,ze=a.suffix,ce=V.value;return ce||Y||ze||re?o("div",{class:["vxe-password-input--suffix",{"is--clear":ce&&!Ee&&!(Oe===""||n.eqNull(Oe))}]},[ce?o("div",{class:"vxe-password-input--clear-icon",onClick:J},[o("i",{class:Yt().INPUT_CLEAR})]):Mt(),Y?ge():Mt(),ze||re?o("div",{class:"vxe-password-input--suffix-icon",onClick:W},ze?mn(ze({})):[o("i",{class:re})]):Mt()]):null};w={dispatchEvent(Ee,re,Y){l(Ee,bn(Y,{$passwordInput:S},re))},focus(){const Ee=C.value;return p.isActivated=!0,Ee.focus(),ke()},blur(){return C.value.blur(),p.isActivated=!1,ke()},select(){return C.value.select(),p.isActivated=!1,ke()}},Object.assign(S,w),Dt(()=>e.modelValue,Ee=>{p.inputValue=Ee});const oe=()=>{const{className:Ee,name:re,disabled:Y,readonly:Oe,autocomplete:ze,autoComplete:ce,maxLength:ue}=e,{inputValue:me,isActivated:be}=p,Se=m.value,pe=g.value,Ae=x.value,_e=i.value,ae=V.value,Re=fe(),Ie=ve();return o("div",{ref:D,class:["vxe-password-input",Ee,{[`size--${Se}`]:Se,"is--prefix":!!Re,"is--suffix":!!Ie,"is--readonly":Oe,"is--disabled":Y,"is--active":be,"show--clear":ae&&!Y&&!(me===""||n.eqNull(me))}],spellcheck:!1},[Re||Mt(),o("div",{class:"vxe-password-input--wrapper"},[o("input",{ref:C,class:"vxe-password-input--inner",value:me,name:re,type:Ae,placeholder:_e,readonly:pe,disabled:Y,autocomplete:ze||ce,maxlength:ue,onClick:Z,onInput:$,onChange:M,onFocus:T,onBlur:_})]),Ie||Mt()])};return S.renderVN=oe,S},render(){return this.renderVN()}}),Kb=Object.assign({},Ec,{install(e){e.component(Ec.name,Ec)}});dn.use(Kb);We.component(Ec);const Xb=n.browse();let dl;const Zb='body{padding:0;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function Jb(e){return`${e}`.replace(/(<!---->)/,"")}function Nf(){const e=document.createElement("iframe");return e.className="vxe-table--print-frame",e}function Lf(){dl.parentNode||document.body.appendChild(dl)}function Qb(){requestAnimationFrame(jg)}function jg(){if(dl){if(dl.parentNode){try{dl.contentDocument.write("")}catch{}dl.parentNode.removeChild(dl)}dl=null}}function ex(e,t){return new Blob([e],{type:`text/${t};charset=utf-8;`})}const tx=50,zu="#000000";function nx(e){const t=Object.assign({},e),l=Object.assign({},t.header),a=Object.assign({},t.title),u=Object.assign({},t.footer),r=Object.assign({},t.pageNumber);let d=tx,m=d,p=d,D=d,C=d;return(n.isNumber(t.margin)||n.isString(t.margin))&&(d=t.margin,m=d,p=d,D=d,C=d),{marginTop:rn(t.marginTop||m),marginBottom:rn(t.marginBottom||p),marginLeft:rn(t.marginLeft||D),marginRight:rn(t.marginRight||C),fontSize:rn(t.fontSize),color:t.color,textAlign:t.textAlign,header:{height:rn(l.height),textAlign:l.textAlign},title:{color:a.color,fontSize:rn(a.fontSize),textAlign:a.textAlign},footer:{height:rn(u.height),textAlign:u.textAlign},pageNumber:{color:r.color,fontSize:rn(r.fontSize),textAlign:r.textAlign}}}function ox(e,t){const{pageStyle:l,customStyle:a}=e,u=nx(l),r=u.header,d=u.title,m=u.header,p=u.pageNumber,D=e._pageBreaks||e.pageBreaks&&e.pageBreaks.length;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.title||""}</title>`,`<style media="print">@page{size:auto;${D?"margin: 0mm;":""}}</style>`,`<style>body{font-size:${u.fontSize||"14px"};color:${u.color||zu};text-align:${u.textAlign||"left"};}</style>`,"<style>",".vxe-print-slots{display:none;}",".vxe-print-page-break.align--center{text-align:center;}",".vxe-print-page-break.align--left{text-align:left;}",".vxe-print-page-break.align--right{text-align:right;}",".vxe-print-page-break{break-before:always;page-break-before:always;display:flex;flex-direction:column;height:100vh;overflow:hidden;}",".vxe-print-page-break--body{display:flex;flex-direction:row;flex-grow:1;overflow:hidden;}",".vxe-print-page-break--left,.vxe-print-page-break--right{flex-shrink:0;height:100%;}",`.vxe-print-page-break--left{width:${u.marginLeft};}`,`.vxe-print-page-break--right{width:${u.marginRight};}`,".vxe-print-page-break--header,.vxe-print-page-break--footer{display:flex;justify-content:center;flex-direction:column;flex-shrink:0;width:100%;}",`.vxe-print-page-break--header{height:${r.height||u.marginTop};padding:0 ${u.marginLeft} 0 ${u.marginRight};text-align:${r.textAlign||"left"};}`,`.vxe-print-page-break--header-title{font-size:${d.fontSize||"1.6em"};color:${d.color||zu};text-align:${e.headerAlign||p.textAlign||"center"};}`,`.vxe-print-page-break--footer{height:${m.height||u.marginBottom};padding:0 ${u.marginLeft} 0 ${u.marginRight};text-align:${m.textAlign||"left"};}`,".vxe-print-page-break--content{flex-grow:1;overflow:hidden;}",`.vxe-print-page-break--footer-page-number{font-size:${p.fontSize||"1.2em"};color:${p.color||zu};text-align:${e.footerAlign||p.textAlign||"center"};}`,"</style>","<style>.vxe-table{white-space:pre;}</style>",`<style>${Zb}</style>`,D?"<style>body{margin:0;}</style>":"",a?`<style>${a}</style>`:"","</head>","<body>",`${t}`,"</body>","</html>"].join("")}function Bf(e,t=""){const{beforeMethod:l}=e;l&&(t=l({content:t,html:t,options:e})||""),t=ox(e,t);const a=ex(t,"html");return new Promise(u=>{if(Xb.msie){jg(),dl=Nf(),Lf();const r=dl.contentDocument;r&&(r.write(t),r.execCommand("print")),setTimeout(()=>{u({status:!0})},300)}else dl||(dl=Nf(),dl.onload=r=>{const d=r.target;if(d.src)try{const m=d.contentWindow;m&&(m.onafterprint=Qb,m.print())}catch{}u({status:!0})},dl.onerror=()=>{u({status:!1})}),Lf(),dl.src=URL.createObjectURL(a)})}function lx(e){const{title:t,showPageNumber:l,align:a,headerAlign:u,footerAlign:r,showAllPageTitle:d}=e,m=e.pageBreaks||[],p=m.length;return m.map((D,C)=>{const h=D.bodyHtml,S=D.headerHtml||e.headerHtml,w=D.footerHtml||e.footerHtml,V=D.leftHtml||e.leftHtml,g=D.rightHtml||e.rightHtml,i=C+1,x={currentPage:i,pageCount:p};return[`<div class="${["vxe-print-page-break",a?`align--${a}`:""].join(" ")}">`,`<div class="${["vxe-print-page-break--header",u?`align--${u}`:""].join(" ")}">`,S?`${n.isFunction(S)?S(x):S||""}`:t&&(d||!C)?`<div class="vxe-print-page-break--header-title">${t||""}</div>`:"","</div>",'<div class="vxe-print-page-break--body">',`<div class="vxe-print-page-break--left">${n.isFunction(V)?V(x):V||""}</div>`,`<div class="vxe-print-page-break--content">${n.isFunction(h)?h(x):h||""}</div>`,`<div class="vxe-print-page-break--right">${n.isFunction(g)?g(x):g||""}</div>`,"</div>",`<div class="${["vxe-print-page-break--footer",r?`align--${r}`:""].join(" ")}">`,w?`${n.isFunction(w)?w(x):w||""}`:l?`<div class="vxe-print-page-break--footer-page-number">${i}/${p}</div>`:"","</div>","</div>"].join("")}).join("")}const Wg=e=>{const t=Object.assign({_pageBreaks:!1,customLayout:!0},e);if(t.sheetName&&(t.title=t.title||t.sheetName),t.style&&(t.customStyle=t.customStyle||t.style),t.beforePrintMethod&&(t.beforeMethod=t.beforeMethod||t.beforePrintMethod),t.pageBreaks&&t.pageBreaks.length)return Bf(t,lx(t));const l=t.html||t.content;return Bf(t,l)};function sx(e,t,l){const a=e.reactData.staticPageBreaks,u=t.parentNode;u&&a&&(a.splice(n.arrayIndexOf(u.children,t),0,l),e.reactData.staticPageBreaks=a.slice(0))}function ax(e,t){e.reactData.staticPageBreaks=e.reactData.staticPageBreaks.filter(l=>l.id!==t.id)}const Sc=pn({name:"VxePrintPageBreak",props:{},emits:[],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),r=jt("$xePrint",null),d=st(),m=ln({}),p={refElem:d},D={},C=ln({id:u,slots:l}),h={xID:u,props:e,context:t,reactData:m,getRefMaps:()=>p,getComputeMaps:()=>D};if(Object.assign(h,{dispatchEvent:(i,x,k)=>{a(i,bn(k,{$print:r},x))}},{}),!r)return h.renderVN=()=>zn(),h;const g=()=>o("div",{ref:d});return Ln(()=>{const i=d.value;r&&i&&sx(r,i,C)}),jn(()=>{r&&ax(r,C)}),h.renderVN=g,h},render(){return this.renderVN()}}),rx=Object.assign({},Sc,{install(e){e.component(Sc.name,Sc)}});dn.use(rx);We.component(Sc);const Dc=pn({name:"VxePrint",props:{align:{type:String,default:()=>U().print.align},title:String,headerAlign:{type:String,default:()=>U().print.headerAlign},footerAlign:{type:String,default:()=>U().print.footerAlign},showPageNumber:{type:Boolean,default:()=>U().print.showPageNumber},customLayout:Boolean,pageBreaks:Array,content:String,html:String,headerHtml:String,footerHtml:String,leftHtml:String,rightHtml:String,showAllPageTitle:{type:Boolean,default:()=>U().print.showAllPageTitle},pageStyle:{type:Object,default:()=>U().print.pageStyle},customStyle:{type:String,default:()=>U().print.customStyle},beforeMethod:Function},emits:[],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),r=st(),d=ln({staticPageBreaks:[]}),m={refElem:r},p={},D={xID:u,props:e,context:t,reactData:d,getRefMaps:()=>m,getComputeMaps:()=>p};Object.assign(D,{dispatchEvent:(i,x,k)=>{a(i,bn(k,{$print:D},x))},print(){const i=r.value;return Wg(Object.assign({},e,{_pageBreaks:!!d.staticPageBreaks.length,html:Jb(i?i.outerHTML:"")||e.html||e.content||""}))}},{});const w=()=>{const{title:i,showPageNumber:x,showAllPageTitle:k,align:R,headerAlign:O,footerAlign:$}=e,A=e.pageBreaks||[],M=A.length;return A.map((T,_)=>{const z=T.bodyHtml,Z=T.headerHtml||e.headerHtml,J=T.footerHtml||e.footerHtml,W=T.leftHtml||e.leftHtml,Q=T.rightHtml||e.rightHtml,ge=_+1,fe={currentPage:ge,pageCount:M};return o("div",{class:["vxe-print-page-break",R?`align--${R}`:""]},[o("div",{class:["vxe-print-page-break--header",O?`align--${O}`:""]},Z?`${n.isFunction(Z)?Z(fe):Z||""}`:[i&&(k||!_)?o("div",{class:"vxe-print-page-break--header-title"},`${i||""}`):Mt()]),o("div",{class:"vxe-print-page-break--body"},[o("div",{class:"vxe-print-page-break--left"},`${n.isFunction(W)?W(fe):W||""}`),o("div",{class:"vxe-print-page-break--content"},`${n.isFunction(z)?z(fe):z||""}`),o("div",{class:"vxe-print-page-break--right"},`${n.isFunction(Q)?Q(fe):Q||""}`)]),o("div",{class:["vxe-print-page-break--footer",$?`align--${$}`:""]},J?`${n.isFunction(J)?J(fe):J||""}`:[x?o("div",{class:"vxe-print-page-break--footer-page-number"},`${ge}/${M}`):Mt()])])})},V=()=>{const{title:i,showPageNumber:x,showAllPageTitle:k,align:R,headerAlign:O,footerAlign:$}=e,{staticPageBreaks:A}=d,M=A.length;return A.map((T,_)=>{const z=T.slots||{},Z=_+1,J=z.default,W=z.header||l.header,Q=z.footer||l.footer,ge=z.left||l.left,fe=z.right||l.right,ve={currentPage:Z,pageCount:M};return o("div",{class:["vxe-print-page-break",R?`align--${R}`:""]},[o("div",{class:["vxe-print-page-break--header",O?`align--${O}`:""]},W?mn(W(ve)):[i&&(k||!_)?o("div",{class:"vxe-print-page-break--header-title"},`${i||""}`):Mt()]),o("div",{class:"vxe-print-page-break--body"},[o("div",{class:"vxe-print-page-break--left"},ge?mn(ge(ve)):[]),o("div",{class:"vxe-print-page-break--content"},J?mn(J(ve)):[]),o("div",{class:"vxe-print-page-break--right"},fe?mn(fe(ve)):[])]),o("div",{class:["vxe-print-page-break--footer",$?`align--${$}`:""]},Q?mn(Q(ve)):[x?o("div",{class:"vxe-print-page-break--footer-page-number"},`${Z}/${M}`):Mt()])])})},g=()=>{const{customLayout:i}=e,{staticPageBreaks:x}=d,k=l.default;return o("div",{ref:r,class:["vxe-print"]},i?k?mn(k({})):[]:[o("div",{key:"slot",class:"vxe-print-slots"},k?mn(k({})):[])].concat(x.length?V():w()))};return D.renderVN=g,An("$xePrint",D),D},render(){return this.renderVN()}}),ix=Object.assign({},Dc,{install(e){e.component(Dc.name,Dc)}});dn.use(ix);We.component(Dc);We.print=Wg;const Tc=pn({name:"VxePulldown",props:{modelValue:Boolean,disabled:Boolean,placement:String,trigger:{type:String,default:U().pulldown.trigger},zIndex:Number,size:{type:String,default:()=>U().pulldown.size||U().size},options:Array,className:{type:[String,Function],default:U().pulldown.className},popupClassName:[String,Function],showPopupShadow:Boolean,destroyOnClose:{type:Boolean,default:U().pulldown.destroyOnClose},transfer:{type:Boolean,default:null}},emits:["update:modelValue","click","option-click","show-panel","hide-panel","visible-change"],setup(e,t){const{slots:l,emit:a}=t,u=jt("$xeModal",null),r=jt("$xeDrawer",null),d=jt("$xeTable",null),m=jt("$xeForm",null),p=n.uniqueId(),{computeSize:D}=kn(e),C=ln({initialized:!1,panelIndex:0,panelStyle:{},panelPlacement:null,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),h={hpTimeout:void 0},S=st(),w=st(),V=st(),g=j(()=>{const{transfer:oe}=e;if(oe===null){const Ee=U().pulldown.transfer;if(n.isBoolean(Ee))return Ee;if(d||u||r||m)return!0}return oe}),i={refElem:S},x={xID:p,props:e,context:t,reactData:C,internalData:h,getRefMaps:()=>i};let k={};const R=()=>{const{zIndex:oe}=e;oe?C.panelIndex=oe:C.panelIndex<hl()&&(C.panelIndex=fl())},O=()=>C.visiblePanel,$=()=>{const{placement:oe}=e,{panelIndex:Ee}=C,re=w.value,Y=V.value,Oe=g.value,ze=()=>{const ce=Qs(re,Y,{placement:oe,teleportTo:Oe}),ue=Object.assign(ce.style,{zIndex:Ee});C.panelStyle=ue,C.panelPlacement=ce.placement};return ze(),ke().then(ze)},A=()=>(C.initialized||(C.initialized=!0),new Promise(oe=>{e.disabled?ke(()=>{oe()}):(h.hpTimeout&&clearTimeout(h.hpTimeout),C.isActivated=!0,C.isAniVisible=!0,setTimeout(()=>{C.visiblePanel=!0,a("update:modelValue",!0),$(),setTimeout(()=>{oe($())},40)},10),R(),ge("visible-change",{visible:!0},null))})),M=()=>(C.visiblePanel=!1,ge("visible-change",{visible:!1},null),a("update:modelValue",!1),new Promise(oe=>{C.isAniVisible?h.hpTimeout=setTimeout(()=>{C.isAniVisible=!1,ke(()=>{oe()})},350):ke(()=>{oe()})})),T=()=>C.visiblePanel?M():A(),_=(oe,Ee)=>{Ee.disabled||(C.visiblePanel&&(M(),ge("hide-panel",{},oe)),ge("option-click",{option:Ee},oe))},z=oe=>{const{trigger:Ee}=e;Ee==="click"&&(C.visiblePanel?(M(),ge("hide-panel",{},oe)):(A(),ge("show-panel",{},oe))),ge("click",{$pulldown:x},oe)},Z=oe=>{const{disabled:Ee}=e,{visiblePanel:re}=C,Y=V.value;Ee||re&&(Qn(oe,Y).flag?$():(M(),ge("hide-panel",{},oe)))},J=oe=>{const{disabled:Ee}=e,{visiblePanel:re}=C,Y=S.value,Oe=V.value;Ee||(C.isActivated=Qn(oe,Y).flag||Qn(oe,Oe).flag,re&&!C.isActivated&&(M(),ge("hide-panel",{},oe)))},W=oe=>{const{visiblePanel:Ee,isActivated:re}=C;Ee&&(M(),ge("hide-panel",{},oe)),re&&(C.isActivated=!1)},Q=()=>{const{visiblePanel:oe}=C;oe&&$()},ge=(oe,Ee,re)=>{a(oe,bn(re,{$pulldown:x},Ee))};k={dispatchEvent:ge,isPanelVisible:O,togglePanel:T,showPanel:A,hidePanel:M},Object.assign(x,k),Dt(()=>e.modelValue,oe=>{C.isActivated=!!oe,oe?A():M()}),ke(()=>{e.modelValue&&A(),At.on(x,"mousewheel",Z),At.on(x,"mousedown",J),At.on(x,"blur",W),At.on(x,"resize",Q)}),jn(()=>{At.off(x,"mousewheel"),At.off(x,"mousedown"),At.off(x,"blur"),At.off(x,"resize")});const fe=oe=>{const Ee=l.option;return o("div",{class:"vxe-pulldown--panel-list"},oe?oe.map(re=>o("div",{class:"vxe-pulldown--panel-item",onClick(Y){_(Y,re)}},Ee?Ee({$pulldown:x,option:re}):`${re.label||""}`)):[])},ve=()=>{const{className:oe,options:Ee,popupClassName:re,showPopupShadow:Y,destroyOnClose:Oe,disabled:ze}=e,{initialized:ce,isActivated:ue,isAniVisible:me,visiblePanel:be,panelStyle:Se,panelPlacement:pe}=C,Ae=g.value,_e=D.value,ae=l.default,Re=l.header,Ie=l.footer,ne=l.dropdown;return o("div",{ref:S,class:["vxe-pulldown",oe?n.isFunction(oe)?oe({$pulldown:x}):oe:"",{[`size--${_e}`]:_e,"is--visible":be,"is--disabled":ze,"is--active":ue}]},[o("div",{ref:w,class:"vxe-pulldown--content",onClick:z},ae?ae({$pulldown:x}):[]),o(ol,{to:"body",disabled:Ae?!ce:!0},[o("div",{ref:V,class:["vxe-table--ignore-clear vxe-pulldown--panel",re?n.isFunction(re)?re({$pulldown:x}):re:"",{[`size--${_e}`]:_e,"is--transfer":Ae,"ani--leave":me,"ani--enter":be}],placement:pe,style:Se},[o("div",{class:["vxe-pulldown--panel-wrapper",{"is--shadow":Y}]},ce&&(!Oe||be||me)?[Re?o("div",{class:"vxe-pulldown--panel-header"},Re({$pulldown:x})):Mt(),o("div",{class:"vxe-pulldown--panel-body"},ne?ne({$pulldown:x}):[fe(Ee)]),Ie?o("div",{class:"vxe-pulldown--panel-footer"},Ie({$pulldown:x})):Mt()]:[])])])])};return x.renderVN=ve,x},render(){return this.renderVN()}}),cx=Object.assign(Tc,{install:function(e){e.component(Tc.name,Tc)}});dn.use(cx);We.component(Tc);const Jr=pn({name:"VxeRadio",props:{modelValue:[String,Number,Boolean],checkedValue:{type:[String,Number,Boolean],default:void 0},title:[String,Number],content:[String,Number],disabled:{type:Boolean,default:null},name:String,strict:{type:Boolean,default:()=>U().radio.strict},size:{type:String,default:()=>U().radio.size||U().size},label:{type:[String,Number,Boolean],default:null}},emits:["update:modelValue","change"],setup(e,t){const{slots:l,emit:a}=t,u=jt("$xeForm",null),r=jt("xeFormItemInfo",null),d=jt("$xeRadioGroup",null),m=n.uniqueId(),p=ln({}),D={xID:m,props:e,context:t,reactData:p},{computeSize:C}=kn(e),h=j(()=>{const{disabled:A}=e;if(A===null&&d){const{computeIsDisabled:M}=d.getComputeMaps();return M.value}return A}),S=j(()=>d?d.name:e.name),w=j(()=>d?d.props.strict:e.strict),V=j(()=>{const{label:A,checkedValue:M}=e,T=n.isUndefined(M)?A:M;return d?d.props.modelValue===T:e.modelValue===T}),g=(A,M)=>{d?d.handleChecked({label:A,checkedValue:A},M):(a("update:modelValue",A),k("change",{value:A,label:A,checkedValue:A},M),u&&r&&u.triggerItemEvent(M,r.itemConfig.field,A))},i=A=>{if(!h.value){const{label:T,checkedValue:_}=e,z=n.isUndefined(_)?T:_;g(z,A)}},x=A=>{const M=h.value,T=w.value;if(!M&&!T){const{label:_,checkedValue:z}=e;(n.isUndefined(z)?_:z)===(d?d.props.modelValue:e.modelValue)&&g(null,A)}},k=(A,M,T)=>{a(A,bn(T,{$radio:D},M))};Object.assign(D,{dispatchEvent:k},{});const $=()=>{const{label:A,checkedValue:M}=e,T=n.isUndefined(M)?A:M,_=C.value,z=h.value,Z=S.value,J=V.value;return o("label",{key:T,class:["vxe-radio vxe-radio--default",{[`size--${_}`]:_,"is--checked":J,"is--disabled":z}],title:e.title},[o("input",{class:"vxe-radio--input",type:"radio",name:Z,checked:J,disabled:z,onChange:i,onClick:x}),o("span",{class:["vxe-radio--icon",J?Yt().RADIO_CHECKED:z?Yt().RADIO_DISABLED_UNCHECKED:Yt().RADIO_UNCHECKED]}),o("span",{class:"vxe-radio--label"},l.default?l.default({}):ao(e.content))])};return D.renderVN=$,D},render(){return this.renderVN()}}),ux=Object.assign(Jr,{install:function(e){e.component(Jr.name,Jr)}});dn.use(ux);We.component(Jr);const Qr=pn({name:"VxeRadioButton",props:{modelValue:[String,Number,Boolean],checkedValue:{type:[String,Number,Boolean],default:void 0},title:[String,Number],content:[String,Number],disabled:{type:Boolean,default:null},strict:{type:Boolean,default:()=>U().radioButton.strict},size:{type:String,default:()=>U().radioButton.size||U().size},label:{type:[String,Number,Boolean],default:null}},emits:["update:modelValue","change"],setup(e,t){const{slots:l,emit:a}=t,u=jt("$xeForm",null),r=jt("xeFormItemInfo",null),d=jt("$xeRadioGroup",null),m=n.uniqueId(),p=ln({}),{computeSize:D}=kn(e),C={xID:m,props:e,context:t,reactData:p},h=j(()=>{const{disabled:$}=e;if($===null&&d){const{computeIsDisabled:A}=d.getComputeMaps();return A.value}return $}),S=j(()=>d?d.name:null),w=j(()=>d?d.props.strict:e.strict),V=j(()=>{const{label:$,checkedValue:A}=e,M=n.isUndefined(A)?$:A;return d?d.props.modelValue===M:e.modelValue===M}),g={dispatchEvent($,A,M){a($,bn(M,{$radioButton:C},A))}};Object.assign(C,g,{});const x=($,A)=>{d?d.handleChecked({label:$,checkedValue:$},A):(a("update:modelValue",$),g.dispatchEvent("change",{value:$,label:$},A),u&&r&&u.triggerItemEvent(A,r.itemConfig.field,$))},k=$=>{if(!h.value){const{label:M,checkedValue:T}=e,_=n.isUndefined(T)?M:T;x(_,$)}},R=$=>{const A=h.value,M=w.value;if(!A&&!M){const{label:T,checkedValue:_}=e;(n.isUndefined(_)?T:_)===(d?d.props.modelValue:e.modelValue)&&x(null,$)}},O=()=>{const{label:$,checkedValue:A}=e,M=n.isUndefined(A)?$:A,T=D.value,_=h.value,z=S.value,Z=V.value;return o("label",{key:M,class:["vxe-radio vxe-radio--button",{[`size--${T}`]:T,"is--disabled":_}],title:e.title},[o("input",{class:"vxe-radio--input",type:"radio",name:z,checked:Z,disabled:_,onChange:k,onClick:R}),o("span",{class:"vxe-radio--label"},l.default?l.default({}):ao(e.content))])};return C.renderVN=O,O}}),dx=Object.assign(Qr,{install:function(e){e.component(Qr.name,Qr)}});dn.use(dx);We.component(Qr);const Mc=pn({name:"VxeRadioGroup",props:{modelValue:[String,Number,Boolean],disabled:{type:Boolean,default:null},type:String,options:Array,optionProps:Object,strict:{type:Boolean,default:()=>U().radioGroup.strict},size:{type:String,default:()=>U().radioGroup.size||U().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:l,emit:a}=t,u=jt("$xeForm",null),r=jt("xeFormItemInfo",null),d=n.uniqueId(),{computeSize:m}=kn(e),p=ln({}),C={computeIsDisabled:j(()=>{const{disabled:O}=e;return O===null?u?u.props.readonly||u.props.disabled:!1:O})},h={xID:d,props:e,context:t,reactData:p,name:n.uniqueId("xe_group_"),getComputeMaps:()=>C},S=j(()=>Object.assign({},e.optionProps)),w=j(()=>S.value.label||"label"),V=j(()=>S.value.value||"value"),g=j(()=>S.value.disabled||"disabled"),i=(O,$,A)=>{a(O,bn(A,{$radioGroup:h},$))};Object.assign(h,{dispatchEvent:i},{handleChecked(O,$){const A=O.checkedValue;a("update:modelValue",A),i("change",{value:A,label:A,checkedValue:A},$),u&&r&&u.triggerItemEvent($,r.itemConfig.field,A)}});const R=()=>{const{options:O,type:$}=e,A=m.value,M=l.default,T=V.value,_=w.value,z=g.value,Z=$==="button"?Qr:Jr;return o("div",{class:["vxe-radio-group",{[`size--${A}`]:A}]},M?M({}):O?O.map(J=>o(Z,{key:J[T],checkedValue:J[T],content:J[_],disabled:J[z]})):[])};return An("$xeRadioGroup",h),h.renderVN=R,h},render(){return this.renderVN()}}),fx=Object.assign(Mc,{install:function(e){e.component(Mc.name,Mc)}});dn.use(fx);We.component(Mc);const Oc=pn({name:"VxeRate",props:{modelValue:[Number,String],disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},size:{type:String,default:()=>U().rate.size||U().size},status:String},emits:["update:modelValue","change"],setup(e,t){const{emit:l}=t,a=jt("$xeForm",null),u=jt("xeFormItemInfo",null),r=n.uniqueId(),{computeSize:d}=kn(e),m=st(),p=ln({activeValue:null}),D={refElem:m},C=j(()=>{const{disabled:T}=e;return T===null?a?a.props.readonly||a.props.disabled:!1:T}),h=j(()=>{const{readonly:T}=e;return T===null?a?a.props.readonly||a.props.disabled:!1:T}),S=j(()=>{const{modelValue:T}=e,{activeValue:_}=p;return n.toNumber(_===null?T:_)}),w=j(()=>[1,2,3,4,5].map(T=>({value:T,label:T}))),V={},g={xID:r,props:e,context:t,reactData:p,getRefMaps:()=>D,getComputeMaps:()=>V},i=(T,_,z)=>{l(T,bn(z,{$rate:g},_))},x={dispatchEvent:i},k={},R=T=>{l("update:modelValue",T)},O=(T,_)=>{const z=C.value,Z=h.value;if(!(z||Z)){const J=_.value;p.activeValue=J}},$=()=>{p.activeValue=null},A=(T,_)=>{const z=C.value,Z=h.value;if(!(z||Z)){const J=_.value;R(J),i("change",{value:J},T),a&&u&&a.triggerItemEvent(T,u.itemConfig.field,J)}};Object.assign(g,x,k);const M=()=>{const{status:T}=e,_=C.value,z=h.value,Z=w.value,J=d.value,W=S.value;return o("div",{ref:m,class:["vxe-rate",{[`size--${J}`]:J,[`theme--${T}`]:T,"is--disabled":_,"is--readonly":z}]},Z.map(Q=>{const ge=W>=Q.value;return o("div",{class:["vxe-rte--item",{"is--checked":ge}],onMouseenter(fe){_||z||O(fe,Q)},onMouseleave:$,onClick(fe){_||z||A(fe,Q)}},[o("i",{class:ge?Yt().RATE_CHECKED:Yt().RATE_UNCHECKED})])}))};return g.renderVN=M,g},render(){return this.renderVN()}}),px=Object.assign({},Oc,{install(e){e.component(Oc.name,Oc)}});dn.use(px);We.component(Oc);const Ic=pn({name:"VxeResult",props:{imageUrl:String,imageStyle:Object,icon:String,type:[String,Number],status:[String,Number],title:[String,Number],content:[String,Number]},emits:[],setup(e,t){const{emit:l,slots:a}=t,u=n.uniqueId(),r=st(),d=ln({}),m={refElem:r},p={},D={xID:u,props:e,context:t,reactData:d,getRefMaps:()=>m,getComputeMaps:()=>p};Object.assign(D,{dispatchEvent:(V,g,i)=>{l(V,bn(i,{$result:D},g))}},{});const w=()=>{const{imageUrl:V,imageStyle:g,icon:i,title:x,type:k,content:R}=e,O=e.status||k,$=a.extra;return o("div",{ref:"refElem",class:["vxe-result",{[`theme--${O}`]:O}]},[o("div",{class:"vxe-result--inner"},[V?o("div",{class:"vxe-result--img-wrapper"},[o("img",{src:V,style:g})]):o("div",{class:"vxe-result--icon-wrapper"},[o("i",{class:[i,k?Yt()[`RESULT_${k}`.toLocaleUpperCase()]:""]})]),o("div",{class:"vxe-result--title-wrapper"},`${x||""}`),o("div",{class:"vxe-result--content-wrapper"},`${R||""}`),$?o("div",{class:"vxe-result--extra-wrapper"},$({})):Mt()])])};return D.renderVN=w,D},render(){return this.renderVN()}}),gx=Object.assign({},Ic,{install(e){e.component(Ic.name,Ic)}});dn.use(gx);We.component(Ic);const Rc=pn({name:"VxeRow",props:{gutter:[Number,String,Array],wrap:{type:Boolean,default:()=>U().row.wrap},vertical:Boolean,size:{type:String,default:()=>U().row.size||U().size}},emits:["click"],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId();kn(e);const r=st(),d=ln({}),m={refElem:r},p=j(()=>{const{gutter:i,vertical:x}=e,k={};if(i){let[R,O]=n.isArray(i)?i:[i];if(x&&(O=R,R=""),R){const $=n.isNumber(R)?rn(-(R/2)):`calc(${rn(R)} / 2 * -1)`;k.marginLeft=$,k.marginRight=$}if(O){const $=n.isNumber(O)?rn(-(O/2)):`calc(${rn(O)} / 2 * -1)`;k.marginTop=$,k.marginBottom=$}}return k}),D={},C={xID:u,props:e,context:t,reactData:d,getRefMaps:()=>m,getComputeMaps:()=>D},h=i=>{S("click",{},i)},S=(i,x,k)=>{a(i,bn(k,{$row:C},x))};Object.assign(C,{dispatchEvent:S},{});const g=()=>{const{vertical:i,wrap:x}=e,k=p.value,R=l.default;return o("div",{ref:r,class:["vxe-row",{"is--vertical":i,"is--wrap":x}],style:k,onClick:h},R?R({}):[])};return An("$xeRow",C),C.renderVN=g,C},render(){return this.renderVN()}}),mx=Object.assign({},Rc,{install(e){e.component(Rc.name,Rc)}});dn.use(mx);We.component(Rc);const hx=Object.assign(Zr,{install:function(e){e.component(Zr.name,Zr)}});dn.use(hx);We.component(Zr);const wa=pn({name:"VxeSplitter",props:{width:[Number,String],height:[Number,String],vertical:{type:Boolean,default:()=>U().splitter.vertical},border:{type:Boolean,default:()=>U().splitter.border},padding:{type:Boolean,default:()=>U().splitter.padding},resize:{type:Boolean,default:()=>U().splitter.resize},items:Array,itemConfig:Object,barConfig:Object,resizeConfig:Object,actionConfig:Object,size:{type:String,default:()=>U().splitter.size||U().size}},emits:["action-dblclick","action-click","toggle-expand","resize-start","resize-drag","resize-end"],setup(e,t){const{emit:l,slots:a}=t,u=n.uniqueId(),r=st(),d=st(),m=st(),{computeSize:p}=kn(e),D=ln({staticItems:[],itemList:[],barWidth:0,barHeight:0}),C={wrapperWidth:0,wrapperHeight:0},h=j(()=>Object.assign({},U().splitter.itemConfig,e.itemConfig)),S=j(()=>Object.assign({},U().splitter.barConfig,e.barConfig)),w=j(()=>Object.assign({},U().splitter.resizeConfig,e.resizeConfig)),V=j(()=>Object.assign({},U().splitter.actionConfig,e.actionConfig)),g=j(()=>D.itemList.filter(_e=>_e.isExpand)),i=j(()=>{const{vertical:_e}=e,ae=[];let Re=0,Ie=0;return D.itemList.forEach(_e?ne=>{const{renderHeight:se,resizeHeight:F,foldHeight:B,isExpand:te,height:de}=ne,Te=te?B||F||se:0;de||ae.push(ne),Re+=Te}:ne=>{const{renderWidth:se,resizeWidth:F,foldWidth:B,isExpand:te,width:de}=ne,Te=te?B||F||se:0;de||ae.push(ne),Ie+=Te}),{autoItems:ae,heightCount:Re,heightRatio:Re/100,widthCount:Ie,widthRatio:Ie/100}}),x=j(()=>{const _e=S.value,{width:ae,height:Re}=_e,Ie={};return Re&&(Ie.height=rn(Re)),ae&&(Ie.width=rn(ae)),Ie}),k={computeItemOpts:h,computeBarOpts:S,computeActionOpts:V},R={refElem:r},O={xID:u,props:e,context:t,reactData:D,internalData:C,getRefMaps:()=>R,getComputeMaps:()=>k},$=(_e,ae,Re)=>{l(_e,bn(Re,{$splitter:O},ae))},A=(_e,ae)=>_e&&(n.isString(_e)&&(_e=a[_e]||null),n.isFunction(_e))?mn(_e(ae)):[],M=(_e,ae,Re)=>{const{vertical:Ie}=e,ne="SPLIT_TOP_ACTION",se="SPLIT_BOTTOM_ACTION",F="SPLIT_LEFT_ACTION",B="SPLIT_RIGHT_ACTION";let te="";return Ie?Re?te=ae.isExpand?se:ne:te=_e.isExpand?ne:se:Re?te=ae.isExpand?B:F:te=_e.isExpand?F:B,te?Yt()[te]:""},T=()=>{const{itemList:_e}=D;return _e.forEach(ae=>{ae.isExpand=!0,ae.foldHeight=0,ae.foldWidth=0,ae.resizeHeight=0,ae.resizeWidth=0}),ke()},_=(_e,ae)=>{const{staticItems:Re}=D,Ie=V.value,{showPrevButton:ne,showNextButton:se}=Ie,F={isExpand:!0,renderWidth:0,resizeWidth:0,foldWidth:0,renderHeight:0,resizeHeight:0,foldHeight:0};return D.itemList=_e.map(B=>(B.showAction&&ml("vxe.error.removeProp",["[splitter] show-action"]),B.slots&&n.each(B.slots,te=>{n.isFunction(te)||a[te]||To("vxe.error.notSlot",[`[splitter] ${te}`])}),Object.assign({},ae?null:F,B,ae?F:null,{id:n.uniqueId()}))),Re.length&&To("vxe.error.errConflicts",["<vxe-splitter-panel ...>","items"]),(ne||se)&&D.itemList.length>2&&To("vxe.error.errConflicts",["action-config.showPrevButton | action-config.showNextButton","Only supports 2 item"]),fe()},z=_e=>_(_e||[],!1),Z=_e=>_(_e||[],!0),J=_e=>{const{itemList:ae}=D;let Re=-1,Ie=null,ne=null,se=null;for(let F=0;F<ae.length;F++){const B=ae[F];if(B.name===_e){Re=F,Ie=B,ne=ae[F-1]||null,se=ae[F+1]||null;break}}return{index:Re,currItem:Ie,prevItem:ne,nextItem:se}},W=(_e,ae)=>{const Re=J(_e);if(Re){const{currItem:Ie,prevItem:ne,nextItem:se}=Re;Ie&&(ae?!Ie.isExpand:Ie.isExpand)&&(se?se.isExpand&&oe(null,Ie,se,!1):ne&&ne.isExpand&&oe(null,ne,Ie,!0))}return ke()},Q=_e=>{const ae=J(_e);if(ae){const{currItem:Re}=ae;if(Re)return W(_e,!Re.isExpand)}return ke()},ge=_e=>{const ae=J(_e);if(ae){const{currItem:Re}=ae;if(Re)return Re.isExpand}return!1},fe=()=>ke().then(()=>{const{vertical:_e}=e,{itemList:ae}=D,Re=r.value,Ie=d.value;if(!Re)return;const ne=Re.clientWidth,se=Re.clientHeight;if(!ne||!se)return;Ie&&(D.barWidth=Ie.offsetWidth,D.barHeight=Ie.offsetHeight);const F=ne-(_e?0:D.barWidth*(ae.length-1)),B=se-(_e?D.barHeight*(ae.length-1):0),te=h.value,de=n.toNumber(te.minWidth),Te=n.toNumber(te.minHeight),Ke=[];if(_e){let Ye=0;if(ae.forEach(Qe=>{const{height:lt}=Qe;let et=0;lt?(qc(lt)?et=B*n.toNumber(lt)/100:et=n.toNumber(lt),Qe.renderHeight=et):Ke.push(Qe),Ye+=et}),Ke.length){const Qe=(B-Ye)/Ke.length;Ke.forEach(lt=>{lt.renderHeight=Math.max(n.toNumber($a(lt.minHeight,Te)),Qe)})}}else{let Ye=0;if(ae.forEach(Qe=>{const{width:lt}=Qe;let et=0;lt?(qc(lt)?et=F*n.toNumber(lt)/100:et=n.toNumber(lt),Qe.renderWidth=et):Ke.push(Qe),Ye+=et}),Ke.length){const Qe=(F-Ye)/Ke.length;Ke.forEach(lt=>{lt.renderWidth=Math.max(n.toNumber($a(lt.minWidth,de)),Qe)})}}C.wrapperWidth=F,C.wrapperHeight=B}),ve=_e=>{const{resize:ae,vertical:Re}=e,{itemList:Ie}=D;if(!ae)return;_e.preventDefault();const ne=_e.currentTarget,se=ne.parentElement,F=r.value;if(!F)return;const B=se.previousElementSibling,te=se.nextElementSibling;if(!B||!te)return;const de=B.getAttribute("itemid"),Te=te.getAttribute("itemid"),Ke=Ie.find(_t=>_t.id===de),Ye=Ie.find(_t=>_t.id===Te);if(!Ke||!Ye)return;const Qe=F.getBoundingClientRect(),lt=ne.getBoundingClientRect(),et=m.value,ht=et?et.children[0]:null,Ot=h.value,ut=w.value,{immediate:wt}=ut,mt=n.toNumber(Ot.minWidth),Rt=n.toNumber(Ot.minHeight),Vt=Math.ceil(lt.width-(_e.clientX-lt.left)),he=Math.ceil(_e.clientY-lt.top),$e=B.offsetWidth,nt=te.offsetWidth,ft=n.toNumber(Ke?$a(Ke.minWidth,mt):mt),vt=n.toNumber(Ye?$a(Ye.minWidth,mt):mt),v=B.offsetLeft+ft-Vt,L=te.offsetLeft+te.offsetWidth-vt-Vt,N=_e.clientX-Qe.left;let ie=-1,Me=0,He=0,Ve=N;const ye=B.offsetHeight,P=te.offsetHeight,q=n.toNumber(Ke?$a(Ke.minHeight,Rt):Rt),Pe=n.toNumber(Ye?$a(Ye.minHeight,Rt):Rt),qe=B.offsetTop+q+he,Ze=te.offsetTop+te.offsetHeight-Pe+he,K=_e.clientY-Qe.top;let xe=-1,Ne=0,Ge=0,ot=K;const it=_t=>{if(!et)return;const Fe=ht?ht.children[0]:null,X=ht?ht.children[1]:null;if(Re){let Ce=0;Fe&&(xe<0?Fe.style.display="none":(Fe.textContent=`${Math.floor(Ne)}px`,Fe.style.display="block",Ce=Fe.offsetWidth)),X&&(xe<0?(X.textContent=`${Math.floor(Ge)}px`,X.style.display="block",Ce=X.offsetWidth):X.style.display="none");let at=Math.max(1,_t.clientX-Qe.left-Ce/2);at>Qe.width-Ce-1&&(at=Qe.width-Ce-1),et.style.left="0",et.style.top=`${ot}px`,ht&&(ht.style.left=`${at}px`)}else{let Ce=0;Fe&&(ie<0?Fe.style.display="none":(Fe.textContent=`${Math.floor(Me)}px`,Fe.style.display="block",Ce=Fe.offsetHeight)),X&&(ie<0?(X.textContent=`${Math.floor(He)}px`,X.style.display="block",Ce=X.offsetHeight):X.style.display="none");let at=Math.max(1,_t.clientY-Qe.top-Ce/2);at>Qe.height-Ce-1&&(at=Qe.height-Ce-1),et.style.top="0",et.style.left=`${Ve}px`,ht&&(ht.style.top=`${at}px`)}},Tt=()=>{Re?(Ke.resizeHeight=Ne,Ye.resizeHeight=Ge):(Ke.resizeWidth=Me,Ye.resizeWidth=He)},zt=_t=>{Re?(ot=_t.clientY-Qe.top,ot<qe&&(ot=qe),ot>Ze&&(ot=Ze),xe=ot-K,Ne=ye+xe,Ge=P-xe):(Ve=_t.clientX-Qe.left,Ve<v&&(Ve=v),Ve>L&&(Ve=L),ie=Ve-N,Me=$e+ie,He=nt-ie),wt&&(Re?(B.style.height=rn(Ne),te.style.height=rn(Ge)):(B.style.width=rn(Me),te.style.width=rn(He))),et&&it(_t),$("resize-drag",{prevItem:Ke,nextItem:Ye,offsetHeight:xe,offsetWidth:ie},_t)};document.onmousemove=_t=>{_t.preventDefault(),zt(_t)},document.onmouseup=_t=>{document.onmousemove=null,document.onmouseup=null,et&&(et.style.display=""),Tt(),xa(F,"is--drag"),$("resize-end",{prevItem:Ke,nextItem:Ye,offsetHeight:xe,offsetWidth:ie},_t),fe()},et&&(et.style.display="block",it(_e)),zt(_e),Uc(F,"is--drag"),$("resize-start",{prevItem:Ke,nextItem:Ye},_e)},oe=(_e,ae,Re,Ie)=>{const{vertical:ne}=e;let se=!1,F=ae;Ie?(F=Re,se=!Re.isExpand,Re.isExpand=se):(se=!ae.isExpand,ae.isExpand=se),ne?ae.isExpand&&Re.isExpand?(ae.foldHeight=0,Re.foldHeight=0):ae.isExpand?(Re.foldHeight=0,ae.foldHeight=(ae.resizeHeight||ae.renderHeight)+(Re.resizeHeight||Re.renderHeight)):(ae.foldHeight=0,Re.foldHeight=(ae.resizeHeight||ae.renderHeight)+(Re.resizeHeight||Re.renderHeight)):ae.isExpand&&Re.isExpand?(ae.foldWidth=0,Re.foldWidth=0):ae.isExpand?(Re.foldWidth=0,ae.foldWidth=(ae.resizeWidth||ae.renderWidth)+(Re.resizeWidth||Re.renderWidth)):(ae.foldWidth=0,Re.foldWidth=(ae.resizeWidth||ae.renderWidth)+(Re.resizeWidth||Re.renderWidth)),_e&&$("toggle-expand",{prevItem:ae,nextItem:Re,expanded:se,item:F},_e),fe()},Ee=_e=>{const{itemList:ae}=D,Re=V.value,se=_e.currentTarget.parentElement.parentElement,B=se.previousElementSibling.getAttribute("itemid"),te=ae.find(Ye=>Ye.id===B),Te=se.nextElementSibling.getAttribute("itemid"),Ke=ae.find(Ye=>Ye.id===Te);Re.trigger==="dblclick"&&te&&Ke&&Ke.isExpand&&oe(_e,te,Ke,!1),$("action-dblclick",{prevItem:te,nextItem:Ke},_e)},re=_e=>{const{itemList:ae}=D,Re=V.value,se=_e.currentTarget.parentElement.parentElement,B=se.previousElementSibling.getAttribute("itemid"),te=ae.find(Ye=>Ye.id===B),Te=se.nextElementSibling.getAttribute("itemid"),Ke=ae.find(Ye=>Ye.id===Te);Re.trigger!=="dblclick"&&te&&Ke&&Ke.isExpand&&oe(_e,te,Ke,!1),$("action-click",{prevItem:te,nextItem:Ke},_e)},Y=_e=>{const{itemList:ae}=D,Re=V.value,se=_e.currentTarget.parentElement.parentElement,B=se.previousElementSibling.getAttribute("itemid"),te=ae.find(Ye=>Ye.id===B),Te=se.nextElementSibling.getAttribute("itemid"),Ke=ae.find(Ye=>Ye.id===Te);Re.trigger==="dblclick"&&te&&Ke&&te.isExpand&&oe(_e,te,Ke,!0),$("action-dblclick",{prevItem:te,nextItem:Ke},_e)},Oe=_e=>{const{itemList:ae}=D,Re=V.value,se=_e.currentTarget.parentElement.parentElement,B=se.previousElementSibling.getAttribute("itemid"),te=ae.find(Ye=>Ye.id===B),Te=se.nextElementSibling.getAttribute("itemid"),Ke=ae.find(Ye=>Ye.id===Te);Re.trigger!=="dblclick"&&te&&Ke&&te.isExpand&&oe(_e,te,Ke,!0),$("action-click",{prevItem:te,nextItem:Ke},_e)},ze=()=>{fe()};Object.assign(O,{dispatchEvent:$,setItemExpand:W,toggleItemExpand:Q,getItemExpand:ge,recalculate:fe,reset:T,loadItem:z,reloadItem:Z},{});const me=(_e,ae)=>{const{border:Re,resize:Ie,vertical:ne}=e,{itemList:se}=D,F=x.value,B=V.value,{direction:te}=B,de=n.isBoolean(B.showPrevButton)?B.showPrevButton:se.some(Qe=>Qe.showAction),Te=n.isBoolean(B.showNextButton)?B.showNextButton:te==="next"&&se.some(Qe=>Qe.showAction),Ke=w.value,{immediate:Ye}=Ke;return o("div",{class:["vxe-splitter-panel-handle",ne?"is--vertical":"is--horizontal",Ye?"is-resize--immediate":"is-resize--lazy",{"is--resize":Ie,"is--border":Re}]},[o("div",{class:"vxe-splitter-panel-handle-bar",style:F,onMousedown:ve}),se.length===2?o("div",{class:"vxe-splitter-panel-action-btn-wrapper"},[de&&ae.isExpand?o("div",{class:"vxe-splitter-panel-action-btn",onDblclick:Ee,onClick:re},[o("i",{class:M(_e,ae,!1)})]):Mt(),Te&&_e.isExpand?o("div",{class:"vxe-splitter-panel-action-btn",onDblclick:Y,onClick:Oe},[o("i",{class:M(_e,ae,!0)})]):Mt()]):Mt()])},be=()=>{const{border:_e,padding:ae,resize:Re,vertical:Ie}=e,{itemList:ne}=D,se=p.value,F=w.value,{immediate:B}=F,te=g.value,{autoItems:de}=i.value,Te=[];return ne.forEach((Ke,Ye)=>{const{id:Qe,name:lt,slots:et,renderHeight:ht,resizeHeight:Ot,foldHeight:ut,renderWidth:wt,resizeWidth:mt,foldWidth:Rt,isExpand:Vt}=Ke,he=ne[Ye+1],$e=et?et.default:null,nt={};let ft=Vt?Rt||mt||wt:0,vt=Vt?ut||Ot||ht:0;de.length===1&&(Ie?Ke.height||(vt=0):Ke.width||(ft=0));let v=!0;Ie?vt&&te.length>1&&(v=!1,nt.height=rn(vt)):ft&&te.length>1&&(v=!1,nt.width=rn(ft)),Te.push(o("div",{itemid:Qe,class:["vxe-splitter-panel",Ie?"is--vertical":"is--horizontal",B?"is-resize--immediate":"is-resize--lazy",{[`size--${se}`]:se,"is--resize":Re,"is--padding":ae,"is--border":_e,"is--height":vt,"is--width":ft,"is--visible":Vt,"is--hidden":!Vt,"is--fill":Vt&&v}],style:nt},[o("div",{itemid:Qe,class:"vxe-splitter-panel--wrapper"},[o("div",{class:"vxe-splitter-panel--inner"},$e?A($e,{name:lt,isExpand:Vt}):[])])])),he&&Te.push(me(Ke,he))}),o("div",{class:"vxe-splitter-wrapper"},Te)},Se=()=>{const{vertical:_e,width:ae,height:Re}=e,Ie=p.value,ne=w.value,{immediate:se,showTip:F}=ne,B=a.default,te={};return Re&&(te.height=rn(Re)),ae&&(te.width=rn(ae)),o("div",{ref:r,class:["vxe-splitter",_e?"is--vertical":"is--horizontal",se?"is-resize--immediate":"is-resize--lazy",{[`size--${Ie}`]:Ie}],style:te},[o("div",{class:"vxe-splitter-slots"},B?B({}):[]),be(),o("div",{ref:m,class:["vxe-splitter--resizable-splitter-tip",_e?"is--vertical":"is--horizontal",se?"is-resize--immediate":"is-resize--lazy"]},F?[o("div",{class:"vxe-splitter--resizable-splitter-tip-number"},[o("div",{class:"vxe-splitter--resizable-splitter-number-prev"}),o("div",{class:"vxe-splitter--resizable-splitter-number-next"})])]:[]),o("div",{class:"vxe-splitter--render-vars"},[o("div",{ref:d,class:"vxe-splitter--handle-bar-info"})])])},pe=st(0);Dt(()=>e.items?e.items.length:-1,()=>{pe.value++}),Dt(()=>e.items,()=>{pe.value++}),Dt(pe,()=>{z(e.items||[])}),Dt(()=>D.staticItems,_e=>{const ae=V.value,{showPrevButton:Re,showNextButton:Ie}=ae;e.items&&e.items.length&&To("vxe.error.errConflicts",["<vxe-splitter-panel ...>","items"]),D.itemList=_e||[],(Re||Ie)&&D.itemList.length>2&&To("vxe.error.modelConflicts",["[splitter] action-config.showPrevButton | action-config.showNextButton","<vxe-splitter-panel ...> Only supports 2 panel"]),D.itemList.forEach(ne=>{ne.showAction&&ml("vxe.error.removeProp",["[splitter] showAction"])}),fe()});let Ae;return Ln(()=>{ke(()=>{fe()});const _e=r.value;_e&&(Ae=lu.create(()=>{fe()}),Ae.observe(_e)),V.value.direction&&To("vxe.error.delProp",["[splitter] action-config.direction","action-config.showPrevButton | action-config.showNextButton"]),At.on(O,"resize",ze)}),jn(()=>{Ae&&Ae.disconnect(),At.off(O,"resize")}),md(()=>{fe()}),e.items&&z(e.items),An("$xeSplitter",O),O.renderVN=Se,O},render(){return this.renderVN()}}),vx=Object.assign({},wa,{install(e){e.component(wa.name,wa)}});dn.use(vx);We.component(wa);function bx(e,t,l){const a=e.reactData.staticItems,u=t.parentNode;u&&(a.splice(n.arrayIndexOf(u.children,t),0,l),e.reactData.staticItems=a.slice(0))}function xx(e,t){const l=e.reactData.staticItems,a=n.findIndexOf(l,u=>u.id===t.id);a>-1&&l.splice(a,1),e.reactData.staticItems=l.slice(0)}const Zs=pn({name:"VxeSplitterPanel",props:{name:[Number,String],width:[Number,String],height:[Number,String],minWidth:{type:[Number,String],default:()=>null},minHeight:{type:[Number,String],default:()=>null},showAction:Boolean},emits:[],setup(e,t){const{emit:l,slots:a}=t,u=n.uniqueId(),r=jt("$xeSplitter",null),d=st(),m=ln({id:u,name:e.name,width:e.width,height:e.height,minWidth:e.minWidth,minHeight:e.minHeight,showAction:e.showAction,isExpand:!0,renderWidth:0,resizeWidth:0,foldWidth:0,renderHeight:0,resizeHeight:0,foldHeight:0,slots:a}),p=ln({}),D={},C={},h={refElem:d},S={xID:u,props:e,context:t,reactData:p,internalData:D,getRefMaps:()=>h,getComputeMaps:()=>C};Object.assign(S,{dispatchEvent:(x,k,R)=>{l(x,bn(R,{$splitterPanel:S},k))}},{});const i=()=>o("div",{ref:d});return Dt(()=>e.name,x=>{m.name=x}),Dt(()=>e.width,x=>{m.width=x}),Dt(()=>e.height,x=>{m.height=x}),Dt(()=>e.minWidth,x=>{m.minWidth=x}),Dt(()=>e.minHeight,x=>{m.minHeight=x}),Dt(()=>e.showAction,x=>{m.showAction=x}),Ln(()=>{const x=d.value;r&&x&&bx(r,x,m)}),jn(()=>{r&&xx(r,m)}),An("$xeSplitterItem",S),S.renderVN=i,S},render(){return this.renderVN()}}),yx=Object.assign({},Zs,{install(e){e.component(Zs.name,Zs)}});dn.use(yx);We.component(Zs);const Cx=Object.assign({},wa,{install(e){e.component("VxeSplit",wa)}});dn.use(Cx);We.component(wa);const wx=Object.assign({},Zs,{install(e){e.component("VxeSplitPane",Zs),e.component("VxeSplitItem",Zs)}});dn.use(wx);We.component(Zs);const kc=pn({name:"VxeSlider",props:{modelValue:[String,Number,Array],vertical:Boolean,max:{type:[String,Number],default:()=>U().slider.max},min:{type:[String,Number],default:()=>U().slider.min},step:{type:[String,Number],default:()=>U().slider.step},size:{type:String,default:()=>U().slider.size||U().size},range:{type:Boolean,default:()=>U().slider.range},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null}},emits:["update:modelValue","change","track-dragstart","track-dragover","track-dragend"],setup(e,t){const{emit:l}=t,a=jt("$xeForm",null),u=jt("xeFormItemInfo",null),r=n.uniqueId(),{computeSize:d}=kn(e),m=st(),p=st(),D=st(),C=st(),h=st(),S=ln({startValue:0,endValue:0}),w={refElem:m},V=j(()=>{const{readonly:ve}=e;return ve===null?a?a.props.readonly:!1:ve}),g=j(()=>{const{disabled:ve}=e;return ve===null?a?a.props.disabled:!1:ve}),i=j(()=>n.toNumber(e.max||0)),x=j(()=>n.toNumber(e.min||0)),k={},R={xID:r,props:e,context:t,reactData:S,getRefMaps:()=>w,getComputeMaps:()=>k},O=ve=>{l("update:modelValue",ve)},$=(ve,oe,Ee)=>{l(ve,bn(Ee,{$slider:R},oe))},A={dispatchEvent:$},M=ve=>{const{range:oe}=e,Ee=i.value,re=x.value;return oe?n.floor((ve-re)/n.toNumber(Ee-re)*100):0},T=(ve,oe)=>{const{range:Ee}=e,re=i.value,Y=x.value;return n.floor((oe-(Ee?ve:0)-Y)/n.toNumber(re-Y)*100)},_=()=>{const{modelValue:ve}=e;if(n.isArray(ve)){const[oe,Ee]=n.clone(ve,!0).sort();S.startValue=n.floor(n.toNumber(oe||0)),S.endValue=n.floor(n.toNumber(Ee||0))}else S.startValue=0,S.endValue=n.floor(n.toNumber(ve||0))},z=()=>{const{startValue:ve,endValue:oe}=S,Ee=D.value,re=C.value,Y=h.value;let Oe=0,ze=0;ve>oe?(Oe=M(oe),ze=T(oe,ve)):(Oe=M(ve),ze=T(ve,oe)),Ee&&(Ee.style.left=`${Oe}%`,Ee.style.width=`${ze}%`),re&&(re.style.left=`${Oe}%`),Y&&(Y.style.left=`${n.floor(Oe+ze)}%`)},Z=ve=>{const{range:oe}=e,{startValue:Ee,endValue:re}=S,Y=oe?[Ee,re].sort():re;O(Y),$("change",{value:Y},ve),a&&u&&a.triggerItemEvent(ve,u.itemConfig.field,Y)},J=(ve,oe)=>{const Ee=V.value,re=g.value,Y=i.value,Oe=x.value;Ee||re||(ve.preventDefault(),document.onmousemove=ze=>{ze.preventDefault();const ce=m.value,ue=p.value;if(ce&&ue){const me=ue.getBoundingClientRect(),be=(ze.clientX-me.left)/me.width;oe?S.endValue=n.floor(Math.max(Oe,Math.min(Y,be*(Y-Oe)+Oe))):S.startValue=n.floor(Math.max(Oe,Math.min(Y,be*(Y-Oe)))),$("track-dragover",{startValue:S.startValue,endValue:S.endValue},ze)}z()},document.onmouseup=ze=>{document.onmousemove=null,document.onmouseup=null,$("track-dragend",{startValue:S.startValue,endValue:S.endValue},ze),Z(ze),z()},$("track-dragstart",{startValue:S.startValue,endValue:S.endValue},ve))},W=ve=>{const oe=h.value,Ee=ve.currentTarget;J(ve,oe?oe.offsetLeft<Ee.offsetLeft:!1)},Q=ve=>{const oe=C.value,Ee=ve.currentTarget;J(ve,oe?Ee.offsetLeft>oe.offsetLeft:!0)};Object.assign(R,A,{});const fe=()=>{const{vertical:ve,range:oe}=e,Ee=d.value,re=V.value,Y=g.value;return o("div",{ref:m,class:["vxe-slider",{[`size--${Ee}`]:Ee,"is--vertical":ve,"is--readonly":re,"is--disabled":Y}]},[o("div",{class:"vxe-slider--inner"},[o("div",{ref:p,class:"vxe-slider--bar-wrapper"}),o("div",{ref:D,class:"vxe-slider--bar-track"}),re||!oe?Mt():o("div",{ref:C,class:"vxe-slider--bar-btn vxe-slider--start-btn",onMousedown:W}),re?Mt():o("div",{ref:h,class:"vxe-slider--bar-btn vxe-slider--end-btn",onMousedown:Q})])])};return Dt(()=>e.modelValue,()=>{_()}),Ln(()=>{z()}),_(),R.renderVN=fe,R},render(){return this.renderVN()}}),Ex=Object.assign({},kc,{install(e){e.component(kc.name,kc)}});dn.use(Ex);We.component(kc);const Pc=pn({name:"VxeSteps",props:{},emits:[],setup(e,t){const{emit:l}=t,a=n.uniqueId(),u=st(),r=ln({}),d={refElem:u},m={},p={xID:a,props:e,context:t,reactData:r,getRefMaps:()=>d,getComputeMaps:()=>m};Object.assign(p,{dispatchEvent:(w,V,g)=>{l(w,bn(g,{$steps:p},V))}},{});const S=()=>o("div",{ref:u,class:"vxe-steps"},[]);return p.renderVN=S,p},render(){return this.renderVN()}}),Sx=Object.assign({},Pc,{install(e){e.component(Pc.name,Pc)}});dn.use(Sx);We.component(Pc);const Fc=pn({name:"VxeSwitch",props:{modelValue:[String,Number,Boolean],disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},size:{type:String,default:()=>U().switch.size||U().size},openLabel:String,closeLabel:String,openValue:{type:[String,Number,Boolean],default:!0},closeValue:{type:[String,Number,Boolean],default:!1},openIcon:String,closeIcon:String,openActiveIcon:String,closeActiveIcon:String},emits:["update:modelValue","change","focus","blur"],setup(e,t){const{emit:l}=t,a=jt("$xeForm",null),u=jt("xeFormItemInfo",null),r=n.uniqueId(),{computeSize:d}=kn(e),m=ln({isActivated:!1,hasAnimat:!1,offsetLeft:0}),p={},D={xID:r,props:e,context:t,reactData:m,internalData:p},C=st();let h={};const S=j(()=>{const{disabled:M}=e;return M===null?a?a.props.readonly||a.props.disabled:!1:M}),w=j(()=>{const{readonly:M}=e;return M===null?a?a.props.readonly||a.props.disabled:!1:M}),V=j(()=>ao(e.openLabel)),g=j(()=>ao(e.closeLabel)),i=j(()=>e.modelValue===e.openValue),x=M=>{l("update:modelValue",M)},k=M=>{const T=S.value,_=w.value;if(!(T||_)){const z=i.value;clearTimeout(p.atTimeout);const Z=z?e.closeValue:e.openValue;m.hasAnimat=!0,x(Z),h.dispatchEvent("change",{value:Z},M),a&&u&&a.triggerItemEvent(M,u.itemConfig.field,Z),p.atTimeout=setTimeout(()=>{m.hasAnimat=!1,p.atTimeout=void 0},400)}},R=(M,T,_)=>{l(M,bn(_,{$switch:D},T))},O=M=>{m.isActivated=!0,h.dispatchEvent("focus",{value:e.modelValue},M)},$=M=>{m.isActivated=!1,h.dispatchEvent("blur",{value:e.modelValue},M)};h={dispatchEvent:R,focus(){const M=C.value;return m.isActivated=!0,M&&M.focus(),ke()},blur(){const M=C.value;return M&&M.blur(),m.isActivated=!1,ke()}},Object.assign(D,h);const A=()=>{const{openIcon:M,closeIcon:T,openActiveIcon:_,closeActiveIcon:z}=e,Z=d.value,J=i.value,W=V.value,Q=g.value,ge=S.value,fe=w.value;return o("div",{class:["vxe-switch",J?"is--on":"is--off",{[`size--${Z}`]:Z,"is--disabled":ge,"is--readonly":fe,"is--animat":m.hasAnimat}]},[o("button",{ref:C,class:"vxe-switch--button",type:"button",disabled:ge||fe,onClick:k,onFocus:O,onBlur:$},[o("span",{class:"vxe-switch--label vxe-switch--label-on"},[M?o("i",{class:["vxe-switch--label-icon",M]}):Mt(),W]),o("span",{class:"vxe-switch--label vxe-switch--label-off"},[T?o("i",{class:["vxe-switch--label-icon",T]}):Mt(),Q]),o("span",{class:["vxe-switch--icon"]},_||z?[o("i",{class:J?_:z})]:[])])])};return D.renderVN=A,D},render(){return this.renderVN()}}),Dx=Object.assign(Fc,{install:function(e){e.component(Fc.name,Fc)}});dn.use(Dx);We.component(Fc);function Tx(e,t,l){const a=e.reactData.staticTabs,u=t.parentNode;u&&(a.splice(n.arrayIndexOf(u.children,t),0,l),e.reactData.staticTabs=a.slice(0))}function Mx(e,t){const l=e.reactData.staticTabs,a=n.findTree(l,u=>u.id===t.id,{children:"children"});a&&a.items.splice(a.index,1),e.reactData.staticTabs=l.slice(0)}const Vc=pn({name:"VxeTabPane",props:{title:[String,Number],name:[String,Number],icon:String,titleWidth:[String,Number],titleAlign:[String,Number],preload:Boolean,permissionCode:[String,Number]},emits:[],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),r=st(),d=jt("$xeTabs",null),m=ln({}),p=ln({id:u,title:e.title,name:e.name,icon:e.icon,titleWidth:e.titleWidth,titleAlign:e.titleAlign,preload:e.preload,permissionCode:e.permissionCode,slots:l}),D={refElem:r},C={},h={xID:u,props:e,context:t,reactData:m,getRefMaps:()=>D,getComputeMaps:()=>C};Object.assign(h,{dispatchEvent:(i,x,k)=>{a(i,bn(k,{$tabPane:h},x))}},{}),Dt(()=>e.title,i=>{p.title=i}),Dt(()=>e.name,i=>{p.name=i}),Dt(()=>e.icon,i=>{p.icon=i}),Dt(()=>e.permissionCode,i=>{p.permissionCode=i}),Ln(()=>{const i=r.value;d&&i&&Tx(d,i,p)}),jn(()=>{d&&Mx(d,p)});const g=()=>o("div",{ref:r},[]);return h.renderVN=g,h},render(){return this.renderVN()}}),Ox=Object.assign({},Vc,{install(e){e.component(Vc.name,Vc)}});dn.use(Ox);We.component(Vc);function Ix(){return n.uniqueId("row_")}function zf(){return{fullRowMaps:{}}}const Ac=pn({name:"VxeTableSelect",props:{modelValue:[String,Number,Array],clearable:Boolean,placeholder:{type:String,default:()=>n.eqNull(U().tableSelect.placeholder)?Wt("vxe.base.pleaseSelect"):U().tableSelect.placeholder},readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},multiple:Boolean,className:[String,Function],prefixIcon:String,placement:String,columns:Array,options:Array,optionProps:Object,lazyOptions:Array,zIndex:Number,size:{type:String,default:()=>U().tableSelect.size||U().size},popupConfig:Object,gridConfig:Object,transfer:{type:Boolean,default:null}},emits:["update:modelValue","change","clear","blur","focus","click","form-submit","form-reset","form-collapse","page-change"],setup(e,t){const{emit:l,slots:a}=t,u=We.getComponent("vxe-grid"),r=jt("$xeModal",null),d=jt("$xeDrawer",null),m=jt("$xeTable",null),p=jt("$xeForm",null),D=jt("xeFormItemInfo",null),C=n.uniqueId(),{computeSize:h}=kn(e),S=st(),w=st(),V=st(),g=st(),i=st(),x=ln({initialized:!1,tableColumns:[],fullOptionList:[],panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),k=zf(),R={refElem:S},O=j(()=>{const{readonly:ut}=e;return ut===null?p?p.props.readonly:!1:ut}),$=j(()=>{const{disabled:ut}=e;return ut===null?p?p.props.disabled:!1:ut}),A=j(()=>{const{transfer:ut}=e;if(ut===null){const wt=U().select.transfer;if(n.isBoolean(wt))return wt;if(m||r||d||p)return!0}return ut}),M=j(()=>e.optionProps||{}),T=j(()=>{const ut=W.value;return Object.assign({},ut.rowConfig,{isCurrent:!0})}),_=j(()=>T.value.keyField||"_X_ROW_KEY"),z=j(()=>M.value.label||"label"),Z=j(()=>M.value.value||"value"),J=j(()=>Object.assign({},U().tableSelect.popupConfig,e.popupConfig)),W=j(()=>Object.assign({},U().tableSelect.gridConfig,e.gridConfig,{data:void 0})),Q=j(()=>{const ut=W.value,{pagerConfig:wt,proxyConfig:mt}=ut;if(mt){const Rt=mt.ajax;if(Rt&&Rt.query){const Vt=n.clone(mt,!0),he=Rt.query;if(he){const $e=mt.response||mt.props||{};Object.assign(Vt.ajax,{query(nt,...ft){return Promise.resolve(he(nt,...ft)).then(vt=>{let v=[];if(wt){const L=$e.result;v=(n.isFunction(L)?L({data:vt,$table:null,$grid:null,$gantt:null}):n.get(vt,L||"result"))||[]}else{const L=$e.list;v=(L?n.isFunction(L)?L({data:vt,$table:null,$grid:null,$gantt:null}):n.get(vt,L):vt)||[]}return pe(v||[]),vt})}})}return Object.assign({},ut,{proxyConfig:Vt})}}return ut}),ge=j(()=>{const{modelValue:ut,lazyOptions:wt}=e,{fullOptionList:mt}=x,{fullRowMaps:Rt}=k,Vt=Z.value,he=z.value;return mt?(n.isArray(ut)?ut:[ut]).map($e=>{const nt=Rt[$e];if(nt)return nt.item[he];if(wt){const ft=wt.find(vt=>vt[Vt]===$e);if(ft)return ft[he]}return $e}).join(", "):""}),fe=j(()=>{const ut=J.value,{height:wt,width:mt}=ut,Rt={};return mt&&(Rt.width=rn(mt)),wt&&(Rt.height=rn(wt)),Rt}),ve={},oe={xID:C,props:e,context:t,reactData:x,getRefMaps:()=>R,getComputeMaps:()=>ve},Ee=["form-submit","form-reset","form-collapse","page-change"],re={};Ee.forEach(ut=>{re[ba(n.camelCase(ut))]=wt=>{Y(ut,wt,wt.$event)}});const Y=(ut,wt,mt)=>{l(ut,bn(mt,{$tableSelect:oe},wt))},Oe=ut=>{l("update:modelValue",ut)},ze={dispatchEvent:Y},ce={},ue=ut=>{const wt=_.value,mt=ut[wt];return mt?encodeURIComponent(mt):""},me=ut=>{const{fullRowMaps:wt}=k,mt=[];return(n.eqNull(ut)?[]:n.isArray(ut)?ut:[ut]).forEach(Vt=>{const he=wt[Vt];he&&mt.push(he.item)}),mt},be=ut=>{const{multiple:wt}=e;ke(()=>{const mt=i.value;if(mt){const Rt=me(ut);Rt.length&&(wt?mt.setCheckboxRow(Rt,!0):mt.setRadioRow(Rt[0]))}})},Se=ut=>{if(!ut||!ut.length)return;const{multiple:wt}=e,mt=[];let Rt=!1,Vt=!1;ut.forEach(he=>{!Rt&&he.type==="radio"?Rt=!0:!Vt&&he.type==="checkbox"&&(Vt=!0),mt.push(he)}),wt?Vt||mt.unshift({type:"checkbox",width:70}):Rt||mt.unshift({type:"radio",width:70}),x.tableColumns=mt},pe=ut=>{const{options:wt}=e,mt=_.value,Rt=Z.value,Vt=W.value,{treeConfig:he,pagerConfig:$e}=Vt,nt={},ft={};he||n.arrayEach(ut||wt||[],(vt,v,L)=>{let N=ue(vt);N||(N=Ix()),ft[N]&&To("vxe.error.repeatKey",[`[table-select] ${mt}`,N]),ft[N]=!0;const ie=vt[Rt];nt[ie]&&To("vxe.error.repeatKey",[`[table-select] ${Rt}`,ie]),nt[ie]={item:vt,index:v,items:L,parent:null,nodes:[]}}),x.fullOptionList=ut||wt||[],k.fullRowMaps=$e?Object.assign({},k.fullRowMaps,nt):nt,be(e.modelValue)},Ae=()=>{const{zIndex:ut}=e;ut?x.panelIndex=ut:x.panelIndex<hl()&&(x.panelIndex=fl())},_e=()=>{const{placement:ut}=e,{panelIndex:wt}=x,mt=S.value,Rt=g.value,Vt=A.value,he=()=>{const $e=Qs(mt,Rt,{placement:ut,teleportTo:Vt}),nt=Object.assign($e.style,{zIndex:wt});x.panelStyle=nt,x.panelPlacement=$e.placement};return he(),ke().then(he)},ae=()=>{const{loading:ut}=e,wt=$.value;!ut&&!wt&&(k.vpTimeout&&clearTimeout(k.vpTimeout),k.hpTimeout&&clearTimeout(k.hpTimeout),x.initialized||(x.initialized=!0),x.isActivated=!0,x.isAniVisible=!0,k.vpTimeout=setTimeout(()=>{x.visiblePanel=!0,be(e.modelValue),k.vpTimeout=void 0},10),Ae(),_e())},Re=()=>{x.visiblePanel=!1,k.vpTimeout&&clearTimeout(k.vpTimeout),k.hpTimeout&&clearTimeout(k.hpTimeout),k.hpTimeout=setTimeout(()=>{x.isAniVisible=!1,k.hpTimeout=void 0},350)},Ie=(ut,wt,mt)=>{Oe(wt),wt!==e.modelValue&&(Y("change",{value:wt,row:mt,option:mt},ut),p&&D&&p.triggerItemEvent(ut,D.itemConfig.field,wt))},ne=(ut,wt)=>{Ie(ut,wt,null),Y("clear",{value:wt},ut)},se=(ut,wt)=>{ne(wt,null),Re()},F=ut=>{const{visiblePanel:wt}=x;if(!$.value&&wt){const Rt=g.value;Qn(ut,Rt).flag?_e():Re()}},B=ut=>{const{visiblePanel:wt}=x;if(!$.value){const Rt=S.value,Vt=g.value;x.isActivated=Qn(ut,Rt).flag||Qn(ut,Vt).flag,wt&&!x.isActivated&&Re()}},te=()=>{const{visiblePanel:ut,isActivated:wt}=x;if(ut&&Re(),wt&&(x.isActivated=!1),ut||wt){const mt=w.value;mt&&mt.blur()}},de=()=>{const{visiblePanel:ut}=x;ut&&_e()},Te=ut=>{$.value||x.visiblePanel||(x.triggerFocusPanel=!0,ae(),setTimeout(()=>{x.triggerFocusPanel=!1},150)),Y("focus",{},ut)},Ke=ut=>{Qe(ut),Y("click",{},ut)},Ye=ut=>{x.isActivated=!1,Y("blur",{},ut)},Qe=ut=>{const{$event:wt}=ut;wt.preventDefault(),x.triggerFocusPanel?x.triggerFocusPanel=!1:x.visiblePanel?Re():ae()},lt=ut=>{const{$event:wt,row:mt}=ut,Rt=Z.value,Vt=mt[Rt];Ie(wt,Vt,mt),Re()},et=ut=>{const{$grid:wt,$event:mt,row:Rt}=ut,Vt=Z.value;if(wt){const $e=wt.getCheckboxRecords().map(nt=>nt[Vt]);Ie(mt,$e,Rt)}},ht=ut=>{et(ut)};Object.assign(oe,ze,ce);const Ot=()=>{const{className:ut,options:wt,loading:mt}=e,{initialized:Rt,isActivated:Vt,isAniVisible:he,visiblePanel:$e,tableColumns:nt}=x,ft=h.value,vt=$.value,v=ge.value,L=A.value,N=O.value,ie=J.value,{className:Me}=ie,He=Q.value,Ve=T.value,ye=fe.value,P=a.header,q=a.footer,Pe=a.prefix;return N?o("div",{ref:S,class:["vxe-table-select--readonly",ut]},[o("span",{class:"vxe-table-select-label"},v)]):o("div",{ref:S,class:["vxe-table-select",ut?n.isFunction(ut)?ut({$tableSelect:oe}):ut:"",{[`size--${ft}`]:ft,"is--visible":$e,"is--disabled":vt,"is--loading":mt,"is--active":Vt}]},[o(ss,{ref:w,clearable:e.clearable,placeholder:mt?Wt("vxe.select.loadingText"):e.placeholder,readonly:!0,disabled:vt,type:"text",prefixIcon:e.prefixIcon,suffixIcon:mt?Yt().TABLE_SELECT_LOADED:$e?Yt().TABLE_SELECT_OPEN:Yt().TABLE_SELECT_CLOSE,modelValue:mt?"":v,onClear:se,onClick:Ke,onFocus:Te,onBlur:Ye,onSuffixClick:Qe},Pe?{prefix:()=>Pe({})}:{}),o(ol,{to:"body",disabled:L?!Rt:!0},[o("div",{ref:g,class:["vxe-table--ignore-clear vxe-table-select--panel",Me?n.isFunction(Me)?Me({$tableSelect:oe}):Me:"",{[`size--${ft}`]:ft,"is--transfer":L,"ani--leave":!mt&&he,"ani--enter":!mt&&$e}],placement:x.panelPlacement,style:x.panelStyle},Rt?[o("div",{class:"vxe-table-select--panel-wrapper"},[P?o("div",{class:"vxe-table-select--panel-header"},P({})):Mt(),o("div",{class:"vxe-table-select--panel-body"},[o("div",{ref:V,class:"vxe-table-select-grid--wrapper",style:ye},[u?o(u,Object.assign(Object.assign(Object.assign({},He),re),{class:"vxe-table-select--grid",ref:i,rowConfig:Ve,data:wt,columns:nt.length?nt:He.columns,height:"100%",autoResize:!0,onRadioChange:lt,onCheckboxChange:et,onCheckboxAll:ht}),Object.assign({},a,{header:void 0,footer:void 0,prefixSlot:void 0})):Mt()])]),q?o("div",{class:"vxe-table-select--panel-footer"},q({})):Mt()])]:[])])])};return Dt(()=>e.options,()=>{pe()}),Dt(()=>e.columns,ut=>{Se(ut)}),Dt(()=>e.modelValue,ut=>{be(ut)}),Se(e.columns),pe(),Ln(()=>{const{gridConfig:ut}=e;ut&&ut.proxyConfig&&ut.proxyConfig.autoLoad!==!1&&(x.initialized=!0),At.on(oe,"mousewheel",F),At.on(oe,"mousedown",B),At.on(oe,"blur",te),At.on(oe,"resize",de)}),jn(()=>{At.off(oe,"mousewheel"),At.off(oe,"mousedown"),At.off(oe,"blur"),At.off(oe,"resize"),n.assign(k,zf())}),ke(()=>{u||To("vxe.error.reqComp",["[table-select] vxe-grid"])}),An("$xeTableSelect",oe),oe.renderVN=Ot,oe},render(){return this.renderVN()}}),Rx=Object.assign({},Ac,{install(e){e.component(Ac.name,Ac)}});dn.use(Rx);We.component(Ac);const wi=20,$c=pn({name:"VxeTabs",props:{modelValue:[String,Number,Boolean],options:Array,width:[String,Number],height:[String,Number],destroyOnClose:{type:Boolean,default:()=>U().tabs.destroyOnClose},titleWidth:[String,Number],titleAlign:[String,Number],type:{type:String,default:()=>U().tabs.type},position:{type:String,default:()=>U().tabs.position},showClose:Boolean,showBody:{type:Boolean,default:!0},padding:{type:Boolean,default:()=>U().tabs.padding},trigger:String,beforeChangeMethod:Function,closeConfig:Object,refreshConfig:Object,size:{type:String,default:()=>U().tabs.size||U().size},beforeCloseMethod:Function},emits:["update:modelValue","change","tab-change","tab-change-fail","tab-close","tab-close-fail","tab-click","tab-load"],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),r=jt("$xeTabs",null),{computeSize:d}=kn(e),m=st(),p=st(),D=st(),C=st(),h=ln({staticTabs:[],activeName:null,initNames:[],lintLeft:0,lintTop:0,lintWidth:0,lintHeight:0,scrollbarWidth:0,scrollbarHeight:0,isTabOver:!1,resizeFlag:1,cacheTabMaps:{}}),S={slTimeout:void 0},w={refElem:m},V=j(()=>{const{type:se}=e;return se||"default"}),g=j(()=>{const{position:se}=e;return se||"top"}),i=j(()=>{const se=g.value;return se==="left"||se==="right"}),x=j(()=>{const{lintLeft:se,lintTop:F,lintWidth:B,lintHeight:te}=h;return i.value?{top:`${F}px`,height:`${te}px`}:{left:`${se}px`,width:`${B}px`}}),k=j(()=>{const{width:se,height:F}=e,B={};return se&&(B.width=rn(se)),F&&(B.height=rn(F)),B}),R=j(()=>Object.assign({},U().tabs.closeConfig,e.closeConfig)),O=j(()=>Object.assign({},U().tabs.refreshConfig,e.refreshConfig)),$=j(()=>{const{options:se}=e;return(se||[]).filter(F=>z(F))}),A=j(()=>{const{staticTabs:se}=h;return se.filter(F=>z(F))}),M=j(()=>r?r.reactData.resizeFlag:null),T={},_={xID:u,props:e,context:t,reactData:h,getRefMaps:()=>w,getComputeMaps:()=>T},z=se=>{const{permissionCode:F}=se;return!(F&&!gr.checkVisible(F))},Z=(se,F)=>se&&(n.isString(se)&&(se=l[se]||null),n.isFunction(se))?mn(se(F)):[],J=()=>{const se=i.value,F=p.value,B=D.value,te=C.value;if(F){const{scrollLeft:de,scrollTop:Te,clientWidth:Ke,clientHeight:Ye,scrollWidth:Qe,scrollHeight:lt}=F;B&&((se?Te:de)>0?Uc(B,"scrolling--middle"):xa(B,"scrolling--middle")),te&&((se?Ye<lt-Math.ceil(Te):Ke<Qe-Math.ceil(de))?Uc(te,"scrolling--middle"):xa(te,"scrolling--middle"))}},W=()=>{const se=()=>{const{activeName:F}=h,B=V.value,te=$.value,de=A.value,Te=p.value,Ke=i.value;let Ye=0,Qe=0,lt=0,et=0,ht=0,Ot=0,ut=!1;if(Te){const wt=n.findIndexOf(de.length?de:te,vt=>vt.name===F),{children:mt,offsetWidth:Rt,scrollWidth:Vt,offsetHeight:he,scrollHeight:$e,clientWidth:nt,clientHeight:ft}=Te;if(ht=Rt-nt,Ot=he-ft,Ke){if(ut=$e!==ft,wt>-1){const vt=mt[wt];if(vt){const v=vt.clientHeight,L=vt.clientWidth;B==="card"?(Ye=L,Qe=v,et=vt.offsetTop):B==="border-card"?(Ye=L,Qe=v,et=vt.offsetTop-1):(Qe=Math.max(4,Math.floor(v*.6)),et=vt.offsetTop+Math.floor((v-Qe)/2))}}}else if(ut=Vt!==nt,wt>-1){const vt=mt[wt];if(vt){const v=vt.clientWidth;B==="card"?(Ye=v+1,lt=vt.offsetLeft):B==="border-card"?(Ye=v,lt=vt.offsetLeft-1):(Ye=Math.max(4,Math.floor(v*.6)),lt=vt.offsetLeft+Math.floor((v-Ye)/2))}}}h.scrollbarWidth=ht,h.scrollbarHeight=Ot,h.lintLeft=lt,h.lintTop=et,h.lintWidth=Ye,h.lintHeight=Qe,h.isTabOver=ut,J()};se(),ke(se)},Q=(se,F,B)=>{a(se,bn(B,{$tabs:_},F))},ge=se=>{a("update:modelValue",se)},fe=(se,F)=>{const{initNames:B}=h;return se&&!B.includes(se)?(Q("tab-load",{name:se},F),B.push(se),!0):!1},ve=se=>{let F=null;const B={};if(se&&se.length){let te=!1;F=e.modelValue,se.forEach(de=>{const{name:Te,preload:Ke}=de||{};Te&&(B[`${Te}`]={loading:!1},F===Te&&(te=!0),Ke&&fe(Te,null))}),te||(F=se[0].name,fe(F,null),ge(F))}h.activeName=F,h.cacheTabMaps=B},oe=(se,F)=>{const{trigger:B}=e,te=e.beforeChangeMethod||U().tabs.beforeChangeMethod,{activeName:de}=h,{name:Te}=F,Ke=Te;Q("tab-click",{name:Te},se),B!=="manual"&&Te!==de&&Promise.resolve(!te||te({$tabs:_,name:Te,oldName:de,newName:Te,option:F})).then(Ye=>{Ye?(h.activeName=Te,ge(Ke),fe(Te,se),Q("change",{value:Ke,name:Te,oldName:de,newName:Te,option:F},se),Q("tab-change",{value:Ke,name:Te,oldName:de,newName:Te,option:F},se)):Q("tab-change-fail",{value:Ke,name:Te,oldName:de,newName:Te,option:F},se)}).catch(()=>{Q("tab-change-fail",{value:Ke,name:Te,oldName:de,newName:Te,option:F},se)})},Ee=(se,F)=>{se.stopPropagation();const{activeName:B,cacheTabMaps:te}=h,{name:de}=F,Te=O.value,{queryMethod:Ke}=Te,Ye=de?te[`${de}`]:null;if(Ye)if(Ke){if(Ye.loading)return;Ye.loading=!0,Promise.resolve(Ke({$tabs:_,value:B,name:de,option:F})).finally(()=>{Ye.loading=!1})}else To("vxe.error.notFunc",["refresh-config.queryMethod"])},re=(se,F,B,te)=>{se.stopPropagation();const{activeName:de}=h,Ke=R.value.beforeMethod||e.beforeCloseMethod||U().tabs.beforeCloseMethod,{name:Ye}=F,Qe=de;let lt=Qe;if(de===Ye){const et=B<te.length-1?te[B+1]:te[B-1];lt=et?et.name:null}Promise.resolve(!Ke||Ke({$tabs:_,value:Qe,name:Ye,nextName:lt,option:F})).then(et=>{et?Q("tab-close",{value:Qe,name:Ye,nextName:lt},se):Q("tab-close-fail",{value:Qe,name:Ye,nextName:lt},se)}).catch(()=>{Q("tab-close-fail",{value:Qe,name:Ye,nextName:lt},se)})},Y=(se,F)=>{const{slTimeout:B}=S,te=i.value;let de=te?0:F,Te=te?F:0,Ke=6,Ye=35;B&&(clearTimeout(B),S.slTimeout=void 0);const Qe=()=>{const lt=p.value;if(Ke>0&&(Ke--,lt)){const{clientWidth:et,clientHeight:ht,scrollWidth:Ot,scrollHeight:ut,scrollLeft:wt,scrollTop:mt}=lt;te?(Te=Math.floor(Te/2),se>0?ht+mt<ut&&(lt.scrollTop+=Te,Ye-=4,S.slTimeout=setTimeout(Qe,Ye)):mt>0&&(lt.scrollTop-=Te,Ye-=4,S.slTimeout=setTimeout(Qe,Ye))):(de=Math.floor(de/2),se>0?et+wt<Ot&&(lt.scrollLeft+=de,Ye-=4,S.slTimeout=setTimeout(Qe,Ye)):wt>0&&(lt.scrollLeft-=de,Ye-=4,S.slTimeout=setTimeout(Qe,Ye))),W()}};Qe()},Oe=se=>{const F=i.value,B=p.value;if(B){const{clientWidth:te,clientHeight:de}=B,Te=Math.floor((F?de:te)*.75);Y(se,Te)}},ze=()=>{Oe(-1)},ce=()=>{Oe(1)},ue=se=>{const F=$.value,B=A.value,te=i.value;return ke().then(()=>{const de=p.value;if(de){const Te=n.findIndexOf(B.length?B:F,Ke=>Ke.name===se);if(Te>-1){const{scrollLeft:Ke,scrollTop:Ye,clientWidth:Qe,clientHeight:lt,children:et}=de,ht=et[Te];if(ht)if(te){const Ot=ht.offsetTop,ut=ht.clientHeight,wt=Ot+ut-(Ye+lt);wt>0&&(de.scrollTop+=wt),Ot<Ye&&(de.scrollTop=Ot)}else{const Ot=ht.offsetLeft,ut=ht.clientWidth,wt=Ot+ut-(Ke+Qe);wt>0&&(de.scrollLeft+=wt),Ot<Ke&&(de.scrollLeft=Ot)}}W()}})},me=se=>{const{activeName:F}=h,B=$.value,te=A.value,de=te.length?te:B,Te=n.findIndexOf(de,Ke=>Ke.name===F);if(Te>-1){let Ke=null;if(se?Te<de.length-1&&(Ke=de[Te+1]):Te>0&&(Ke=de[Te-1]),Ke){const Ye=Ke.name,Qe=Ye;h.activeName=Ye,ge(Qe),fe(Ye,null)}}return ke()},be={dispatchEvent:Q,scrollToTab:ue,prev(){return me(!1)},next(){return me(!0)},prevTab(){return ml("vxe.error.delFunc",["[tabs] prevTab","prev"]),be.prev()},nextTab(){return ml("vxe.error.delFunc",["[tabs] nextTab","next"]),be.next()}};Object.assign(_,be,{});const pe=se=>{const{titleWidth:F,titleAlign:B,showClose:te,closeConfig:de,refreshConfig:Te}=e,{activeName:Ke,scrollbarWidth:Ye,scrollbarHeight:Qe,isTabOver:lt,cacheTabMaps:et}=h,ht=V.value,Ot=g.value,ut=i.value,wt=x.value,mt=l.tabPrefix||l["tab-prefix"]||l.prefix,Rt=l.tabSuffix||l["tab-suffix"]||l.suffix||l.extra,Vt=R.value,he=Vt.visibleMethod,$e=O.value,nt=$e.visibleMethod;return o("div",{key:"th",class:["vxe-tabs-header",`type--${ht}`,`pos--${Ot}`]},[mt?o("div",{class:["vxe-tabs-header--prefix",`type--${ht}`,`pos--${Ot}`]},Z(mt,{name:Ke})):Mt(),lt?o("div",{ref:D,class:["vxe-tabs-header--bar vxe-tabs-header--prev-bar",`type--${ht}`,`pos--${Ot}`],onClick:ze},[o("span",{class:ut?Yt().TABS_TAB_BUTTON_TOP:Yt().TABS_TAB_BUTTON_LEFT})]):Mt(),o("div",{class:["vxe-tabs-header--wrapper",`type--${ht}`,`pos--${Ot}`]},[o("div",{ref:p,class:"vxe-tabs-header--item-wrapper",style:ut?{marginRight:`-${Ye+wi}px`,paddingRight:`${wi}px`}:{marginBottom:`-${Qe+wi}px`,paddingBottom:`${wi}px`},onScroll:J},se.map((ft,vt)=>{const{title:v,titleWidth:L,titleAlign:N,icon:ie,name:Me}=ft,He=ft.slots||{},Ve=He.title||He.tab,ye=He.titlePrefix||He["title-prefix"],P=He.titleSuffix||He["title-suffix"],q=L||F,Pe=N||B,qe={$tabs:_,value:Ke,name:Me,option:ft},Ze=Ke===Me,K=Me?et[`${Me}`]:null,xe=K?K.loading:!1;return o("div",{key:`${Me}`,class:["vxe-tabs-header--item",`type--${ht}`,`pos--${Ot}`,Pe?`align--${Pe}`:"",{"is--active":Ze}],style:q?{width:rn(q)}:void 0,onClick(Ne){oe(Ne,ft)}},[o("div",{class:"vxe-tabs-header--item-inner"},[o("div",{class:"vxe-tabs-header--item-content"},[ie?o("span",{class:"vxe-tabs-header--item-icon"},[o("i",{class:ie})]):Mt(),ye?o("span",{class:"vxe-tabs-header--item-prefix"},Z(ye,{name:Me,title:v})):Mt(),o("span",{class:"vxe-tabs-header--item-name"},Ve?Z(Ve,{name:Me,title:v}):`${v}`),P?o("span",{class:"vxe-tabs-header--item-suffix"},Z(P,{name:Me,title:v})):Mt()]),(Xo(Te)||$e.enabled)&&(!nt||nt(qe))?o("div",{class:["vxe-tabs-header--refresh-btn",{"is--active":Ze,"is--loading":xe,"is--disabled":xe}],onClick(Ne){Ee(Ne,ft)}},[o("i",{class:xe?Yt().TABS_TAB_REFRESH_LOADING:Yt().TABS_TAB_REFRESH})]):Mt(),(te||Xo(de)||Vt.enabled)&&(!he||he(qe))?o("div",{class:["vxe-tabs-header--close-btn",{"is--active":Ze}],onClick(Ne){re(Ne,ft,vt,se)}},[o("i",{class:Yt().TABS_TAB_CLOSE})]):Mt()])])}).concat([o("span",{key:"line",class:["vxe-tabs-header--active-line",`type--${ht}`,`pos--${Ot}`],style:wt})]))]),lt?o("div",{ref:C,class:["vxe-tabs-header--bar vxe-tabs-header--next-bar",`type--${ht}`,`pos--${Ot}`],onClick:ce},[o("span",{class:ut?Yt().TABS_TAB_BUTTON_BOTTOM:Yt().TABS_TAB_BUTTON_RIGHT})]):Mt(),Rt?o("div",{class:["vxe-tabs-header--suffix",`type--${ht}`,`pos--${Ot}`]},Z(Rt,{name:Ke})):Mt()])},Ae=se=>{const{initNames:F,activeName:B}=h,{name:te,slots:de}=se,Te=de?de.default:null;return te&&F.includes(te)?o("div",{key:`${te}`,class:["vxe-tabs-pane--item",{"is--visible":B===te}]},Te?Z(Te,{name:te}):[]):Mt()},_e=se=>{const{destroyOnClose:F}=e,{activeName:B}=h;if(F){const te=se.find(de=>de.name===B);return[te?Ae(te):Mt()]}return se.map(te=>Ae(te))},ae=se=>{const{height:F,padding:B,showBody:te}=e,{activeName:de,cacheTabMaps:Te}=h,Ke=d.value,Ye=V.value,Qe=g.value,lt=O.value,{showLoading:et}=lt,ht=l.header,Ot=l.footer;if(!te)return Mt();const ut=de?Te[`${de}`]:null,wt=ut?ut.loading:!1,mt={name:de};return o("div",{key:"tb",class:["vxe-tabs-pane--wrapper",`type--${Ye}`,`pos--${Qe}`,{"is--content":te}]},[ht?o("div",{class:"vxe-tabs-pane--header"},Z(ht,mt)):Mt(),o("div",{class:["vxe-tabs-pane--body",`type--${Ye}`,`pos--${Qe}`,{[`size--${Ke}`]:Ke,"is--padding":B,"is--height":F}]},_e(se)),Ot?o("div",{class:"vxe-tabs-pane--footer"},Z(Ot,mt)):Mt(),et&&wt?Mt():o(Ol,{class:"vxe-tabs--loading",modelValue:wt})])},Re=()=>{const{height:se,padding:F,trigger:B}=e,{activeName:te}=h,de=d.value,Te=$.value,Ke=A.value,Ye=V.value,Qe=g.value,lt=k.value,et=l.default,ht=et?Ke:Te,Ot=[o("div",{key:"ts",class:"vxe-tabs-slots"},et?et({name:te}):[])];return Qe==="right"||Qe==="bottom"?Ot.push(ae(ht),pe(ht)):Ot.push(pe(ht),ae(ht)),o("div",{ref:m,class:["vxe-tabs",`pos--${Qe}`,`vxe-tabs--${Ye}`,`trigger--${B==="manual"?"trigger":"default"}`,{[`size--${de}`]:de,"is--padding":F,"is--height":se}],style:lt},Ot)};Dt(()=>e.position,()=>{h.resizeFlag++}),Dt(()=>e.modelValue,se=>{fe(se,null),h.activeName=se}),Dt(()=>h.activeName,se=>{ue(se)});const Ie=st(0);Dt(()=>e.options?e.options.length:-1,()=>{Ie.value++}),Dt(()=>e.options,()=>{Ie.value++}),Dt(Ie,()=>{ve(e.options),h.resizeFlag++});const ne=st(0);return Dt(()=>h.staticTabs?h.staticTabs.length:-1,()=>{ne.value++}),Dt(()=>h.staticTabs,()=>{ne.value++}),Dt(ne,()=>{ve(h.staticTabs),h.resizeFlag++}),Dt(M,()=>{h.resizeFlag++}),Dt(()=>h.resizeFlag,()=>{ke(()=>{W()})}),Ln(()=>{W(),At.on(_,"resize",W)}),jn(()=>{At.off(_,"resize")}),An("$xeTabs",_),fe(e.modelValue,null),ve(h.staticTabs.length?h.staticTabs:e.options),_.renderVN=Re,_},render(){return this.renderVN()}}),kx=Object.assign({},$c,{install(e){e.component($c.name,$c)}});dn.use(kx);We.component($c);const Nc=pn({name:"VxeTag",props:{border:{type:Boolean,default:()=>U().tag.border},visible:{type:Boolean,default:null},status:String,title:[String,Number],icon:String,closeIcon:{type:String,default:()=>U().tag.closeIcon},content:[String,Number],round:Boolean,closable:{type:Boolean,default:()=>U().tag.closable},color:String,loading:Boolean,size:{type:String,default:()=>U().tag.size||U().size}},emits:["click","dblclick","close","update:visible"],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),{computeSize:r}=kn(e),d=st(),m=ln({showTag:e.visible!==!1}),p={refElem:d},D={},C={xID:u,props:e,context:t,reactData:m,getRefMaps:()=>p,getComputeMaps:()=>D},h=(O,$,A)=>{a(O,bn(A,{$tag:C},$))},S={dispatchEvent:h},w={},V=()=>{m.showTag=e.visible!==!1},g=O=>{const{loading:$}=e;$||h("click",{},O)},i=O=>{const{loading:$}=e;$||h("dblclick",{},O)},x=O=>{const{loading:$}=e;if(!$){const A=!m.showTag;m.showTag=A,a("update:visible",A),h("close",{visible:A},O)}};Object.assign(C,S,w);const k=()=>{const{icon:O,content:$,closable:A,closeIcon:M,loading:T}=e,_=l.default,z=l.icon,Z=l.closeIcon||l["close-icon"];return[z||O?o("span",{class:"vxe-tag--icon"},z?z({}):[o("i",{class:O})]):Mt(),o("span",{class:"vxe-tag--content"},_?_({}):n.toValueString($)),T||A?o("span",{class:T?"vxe-tag--loading":"vxe-tag--close",onClick:x},!T&&Z?Z({}):[o("i",{class:T?Yt().TAG_LOADING:M||Yt().TAG_CLOSE})]):Mt()]},R=()=>{const{status:O,color:$,title:A,round:M,border:T,loading:_}=e,{showTag:z}=m,Z=r.value;return z?o("span",{ref:d,class:["vxe-tag",{[`size--${Z}`]:Z,[`theme--${O}`]:O&&!$,[`color--${$}`]:$&&!O,"is--round":M,"is--border":T,"is--loading":_}],title:A,onClick:g,onDblclick:i},k()):Mt()};return Dt(()=>e.visible,()=>{V()}),V(),C.renderVN=R,C},render(){return this.renderVN()}}),Px=Object.assign({},Nc,{install(e){e.component(Nc.name,Nc)}});dn.use(Px);We.component(Nc);const Lc=pn({name:"VxeTextEllipsis",props:{href:String,target:String,content:[String,Number],lineClamp:[String,Number],status:String,title:[String,Number],loading:Boolean,offsetLength:[String,Number],routerLink:Object,underline:{type:Boolean,default:()=>U().textEllipsis.underline},permissionCode:[String,Number],size:{type:String,default:()=>U().textEllipsis.size||U().size}},emits:["click"],setup(e,t){const{emit:l}=t,a=n.uniqueId(),{computeSize:u}=kn(e),{computePermissionInfo:r}=vr(e),d=st(),m=st(),p=ln({resizeObserver:null,visibleLen:0}),D={refElem:d},C=j(()=>n.toNumber(e.lineClamp)),h=j(()=>n.toValueString(e.content)),S=j(()=>e.offsetLength?n.toNumber(e.offsetLength):0),w=j(()=>{const{visibleLen:_}=p,z=C.value,Z=h.value,J=S.value;return z>1&&Z.length>_?`${Z.slice(0,Math.max(1,_-3+J))}...`:Z}),V={},g={xID:a,props:e,context:t,reactData:p,getRefMaps:()=>D,getComputeMaps:()=>V},i=(_,z,Z)=>{l(_,bn(Z,{$textEllipsis:g},z))},x=_=>{const z=d.value,Z=m.value;if(z&&Z){let J=12;try{J=Math.max(10,n.toNumber(getComputedStyle(Z).fontSize))}catch{}const W=h.value;let Q=Math.floor(_/J),ge=W.slice(0,Q);Z.textContent=ge,p.visibleLen=ge.length;let fe=0;for(;_>Z.clientWidth&&fe<30;){fe++;const ve=Math.floor((_-Z.clientWidth)/J);if(ve)Q+=ve,ge=W.slice(0,Q),Z.textContent=ge,p.visibleLen=ge.length;else break}Z.textContent="",Z.style.display="",Z.style.position="",Z.style.top="",Z.style.left=""}},k=()=>{const _=d.value,z=m.value,Z=h.value,J=C.value;if(_&&z){const W=_.clientWidth;z.style.display="block",z.style.position="absolute",z.style.top="-3000px",z.style.left="-3000px",z.textContent=Z;const Q=z.offsetWidth,ge=Math.floor(W*J);ge>Q?p.visibleLen=Z.length:x(ge)}else p.visibleLen=Z.length},R={dispatchEvent:i},O=()=>{l("click",{})},$=()=>{const{resizeObserver:_}=p,z=C.value;if(!_){const Z=d.value;if(Z&&z>1&&window.ResizeObserver){const J=new window.ResizeObserver(n.throttle(()=>{k()},300,{leading:!0,trailing:!0}));J.observe(Z),p.resizeObserver=J}}};Object.assign(g,R,{});const M=()=>{const{routerLink:_,href:z,target:Z,title:J}=e,W=w.value;return _?o(Uo("router-link"),{class:"vxe-text-ellipsis--link",title:J,target:Z,to:_},{default(){return M()}}):z?o("a",{class:"vxe-text-ellipsis--link",href:z,target:Z,title:J},W):o("span",{class:"vxe-text-ellipsis--content"},W)},T=()=>{const{loading:_,status:z,title:Z,underline:J}=e,W=r.value,Q=u.value,ge=C.value;return W.visible?o("div",{ref:d,class:["vxe-text-ellipsis",ge>1?"is--multi":"is--single",{[`size--${Q}`]:Q,[`theme--${z}`]:z,"is--underline":J,"is--loading":_}],title:Z,onClick:O},[o("span",{ref:m,class:"vxe-text-ellipsis--reality"}),M()]):Mt()};return Dt(()=>e.content,()=>{k()}),Dt(()=>e.lineClamp,()=>{$(),k()}),Ln(()=>{$(),k()}),rs(()=>{const{resizeObserver:_}=p,z=d.value,Z=m.value;Z&&(Z.textContent=""),_&&(z&&_.unobserve(z),_.disconnect(),p.resizeObserver=null)}),g.renderVN=T,g},render(){return this.renderVN()}}),Fx=Object.assign({},Lc,{install(e){e.component(Lc.name,Lc)}});dn.use(Fx);We.component(Lc);const Vx=Object.assign({},ar,{install(e){e.component(ar.name,ar)}});dn.use(Vx);We.component(ar);let bs;const Bc=pn({name:"VxeTextarea",props:{modelValue:[String,Number],className:String,immediate:{type:Boolean,default:!0},name:String,readonly:{type:Boolean,default:null},editable:{type:Boolean,default:!0},disabled:{type:Boolean,default:null},placeholder:String,maxLength:[String,Number],rows:{type:[String,Number],default:null},cols:{type:[String,Number],default:null},showWordCount:Boolean,countMethod:Function,autosize:[Boolean,Object],form:String,resize:{type:String,default:()=>U().textarea.resize},size:{type:String,default:()=>U().textarea.size||U().size},maxlength:[String,Number]},emits:["update:modelValue","input","keydown","keyup","click","change","focus","blur","lazy-change"],setup(e,t){const{emit:l}=t,a=jt("$xeForm",null),u=jt("xeFormItemInfo",null),r=n.uniqueId(),{computeSize:d}=kn(e),m=ln({inputValue:e.modelValue}),p=st(),D=st(),C={refElem:p,refTextarea:D},h={xID:r,props:e,context:t,reactData:m,getRefMaps:()=>C};let S={};const w=j(()=>{const{readonly:W}=e;return W===null?a?a.props.readonly:!1:W}),V=j(()=>{const{disabled:W}=e;return W===null?a?a.props.disabled:!1:W}),g=j(()=>{const{editable:W}=e;return w.value||!W}),i=j(()=>{const{placeholder:W}=e;if(W)return ao(W);const Q=U().textarea.placeholder;return Q?ao(Q):Wt("vxe.base.pleaseInput")}),x=j(()=>{const{maxLength:W,maxlength:Q}=e;return W||Q}),k=j(()=>n.getSize(m.inputValue)),R=j(()=>{const W=k.value,Q=x.value;return Q&&W>n.toNumber(Q)}),O=j(()=>Object.assign({minRows:1,maxRows:10},U().textarea.autosize,e.autosize)),$=()=>{const{size:W,autosize:Q}=e,{inputValue:ge}=m;if(Q){bs||(bs=document.createElement("div")),bs.parentNode||document.body.appendChild(bs);const fe=D.value;if(!fe)return;const ve=getComputedStyle(fe);bs.className=["vxe-textarea--autosize",W?`size--${W}`:""].join(" "),bs.style.width=`${fe.clientWidth}px`,bs.style.padding=ve.padding,bs.innerText=(""+(ge||"　")).replace(/\n$/,`
　`)}},A=()=>{e.autosize&&ke(()=>{const W=O.value,{minRows:Q,maxRows:ge}=W,fe=D.value;if(!fe)return;const ve=bs.clientHeight,oe=getComputedStyle(fe),Ee=n.toNumber(oe.lineHeight),re=n.toNumber(oe.paddingTop),Y=n.toNumber(oe.paddingBottom),Oe=n.toNumber(oe.borderTopWidth),ze=n.toNumber(oe.borderBottomWidth),ce=re+Y+Oe+ze,ue=(ve-ce)/Ee,me=ue&&/[0-9]/.test(""+ue)?ue:Math.floor(ue)+1;let be=me;me<Q?be=Q:me>ge&&(be=ge),fe.style.height=`${be*Ee+ce}px`})},M=W=>{const Q=m.inputValue;h.dispatchEvent(W.type,{value:Q},W)},T=(W,Q)=>{m.inputValue=W,l("update:modelValue",W),n.toValueString(e.modelValue)!==W&&(S.dispatchEvent("change",{value:W},Q),a&&u&&a.triggerItemEvent(Q,u.itemConfig.field,W))},_=W=>{const{immediate:Q}=e,fe=W.target.value;m.inputValue=fe,Q&&T(fe,W),h.dispatchEvent("input",{value:fe},W),A()},z=W=>{const{immediate:Q}=e;Q?M(W):T(m.inputValue,W),h.dispatchEvent("lazy-change",{value:m.inputValue},W)},Z=W=>{const{immediate:Q}=e,{inputValue:ge}=m;Q||T(ge,W),h.dispatchEvent("blur",{value:ge},W)};S={dispatchEvent(W,Q,ge){l(W,bn(ge,{$textarea:h},Q))},focus(){return D.value.focus(),ke()},blur(){return D.value.blur(),ke()}},Object.assign(h,S),Dt(()=>e.modelValue,W=>{m.inputValue=W,$()}),Dt(O,()=>{$(),A()}),ke(()=>{const{autosize:W}=e;W&&($(),A())});const J=()=>{const{className:W,resize:Q,autosize:ge,showWordCount:fe,countMethod:ve,rows:oe,cols:Ee}=e,{inputValue:re}=m,Y=d.value,Oe=V.value,ze=R.value,ce=k.value,ue=g.value,me=w.value,be=i.value,Se=x.value;return me?o("div",{ref:p,class:["vxe-textarea--readonly",W]},re):o("div",{ref:p,class:["vxe-textarea",W,{[`size--${Y}`]:Y,"is--autosize":ge,"is--count":fe,"is--disabled":Oe,"is--rows":!n.eqNull(oe),"is--cols":!n.eqNull(Ee)}],spellcheck:!1},[o("textarea",{ref:D,class:"vxe-textarea--inner",value:re,name:e.name,placeholder:be,maxlength:Se,readonly:ue,disabled:Oe,rows:oe,cols:Ee,style:Q?{resize:Q}:null,onInput:_,onChange:z,onKeydown:M,onKeyup:M,onClick:M,onFocus:M,onBlur:Z}),fe?o("span",{class:["vxe-textarea--count",{"is--error":ze}]},ve?`${ve({value:re})}`:`${ce}${Se?`/${Se}`:""}`):null])};return h.renderVN=J,h},render(){return this.renderVN()}}),Ax=Object.assign(Bc,{install:function(e){e.component(Bc.name,Bc)}});dn.use(Ax);We.component(Bc);const _r=pn({name:"VxeTip",props:{title:{type:[String,Number],default:()=>U().tip.title},content:[String,Number],status:String,icon:{type:String,default:()=>U().tip.icon},permissionCode:[String,Number],size:{type:String,default:()=>U().tip.size||U().size}},emits:[],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),{computeSize:r}=kn(e),{computePermissionInfo:d}=vr(e),m=st(),p=ln({}),D={refElem:m},C={},h={xID:u,props:e,context:t,reactData:p,getRefMaps:()=>D,getComputeMaps:()=>C};Object.assign(h,{dispatchEvent:(i,x,k)=>{a(i,bn(k,{$tip:h},x))}},{});const g=()=>{const{status:i,content:x,icon:k,title:R}=e,O=l.default,$=l.title,A=l.icon,M=d.value,T=r.value;return M.visible?o("div",{ref:m,class:["vxe-tip",{[`size--${T}`]:T,[`theme--${i}`]:i,"has--title":!!($||R)}]},[A||k?o("div",{class:"vxe-tip--icon"},A?mn(A({})):[o("i",{class:k})]):Mt(),o("div",{class:"vxe-tip--body"},[$||R?o("div",{class:"vxe-tip--title"},$?mn($({})):n.toValueString(R)):Mt(),o("div",{class:"vxe-tip--content"},O?mn(O({})):n.toValueString(x))])]):Mt()};return h.renderVN=g,h},render(){return this.renderVN()}}),$x=Object.assign({},_r,{install(e){e.component(_r.name,_r),e.component("VxeTipsComponent",_r)}});dn.use($x);We.component(_r);const Nx=Object.assign({},Xs,{install(e){e.component(Xs.name,Xs)}});dn.use(Nx);We.component(Xs);function zs(e){return n.eqNull(e)?"":encodeURIComponent(`${e}`)}function Ws(e){return e&&decodeURIComponent(`${e}`)}function Gg(e,t){let l=1;if(!t)return l;const a=e.props,{transform:u}=a,r=e.reactData,{updateExpandedFlag:d}=r,m=e.internalData,{treeExpandedMaps:p}=m,{computeChildrenField:D,computeMapChildrenField:C}=e.getComputeMaps(),h=D.value,S=C.value,w=t[u?S:h];if(w&&d&&p[e.getNodeId(t)])for(let V=0;V<w.length;V++)l+=Gg(e,w[V]);return l}function Lx(e,t,l){const a=e.internalData,{scrollYStore:u}=a,{rowHeight:r}=u;let d=1;return l&&(d=Gg(e,l)),(r||28)*d-(l?1:12)}function Hf(){return n.uniqueId("node_")}function _f(){return{treeFullData:[],afterTreeList:[],afterVisibleList:[],nodeMaps:{},selectCheckboxMaps:{},indeterminateRowMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0},lastScrollTime:0}}const ei=pn({name:"VxeTree",props:{data:Array,autoResize:{type:Boolean,default:()=>U().tree.autoResize},height:[String,Number],maxHeight:{type:[String,Number],default:()=>U().tree.maxHeight},minHeight:{type:[String,Number],default:()=>U().tree.minHeight},loading:Boolean,loadingConfig:Object,accordion:{type:Boolean,default:()=>U().tree.accordion},childrenField:{type:String,default:()=>U().tree.childrenField},valueField:{type:String,default:()=>U().tree.valueField},keyField:{type:String,default:()=>U().tree.keyField},parentField:{type:String,default:()=>U().tree.parentField},titleField:{type:String,default:()=>U().tree.titleField},hasChildField:{type:String,default:()=>U().tree.hasChildField},mapChildrenField:{type:String,default:()=>U().tree.mapChildrenField},transform:Boolean,isCurrent:Boolean,isHover:Boolean,expandAll:Boolean,expandNodeKeys:Array,showLine:{type:Boolean,default:()=>U().tree.showLine},trigger:String,indent:{type:Number,default:()=>U().tree.indent},showRadio:{type:Boolean,default:()=>U().tree.showRadio},checkNodeKey:{type:[String,Number],default:()=>U().tree.checkNodeKey},radioConfig:Object,showCheckbox:{type:Boolean,default:()=>U().tree.showCheckbox},checkNodeKeys:{type:Array,default:()=>U().tree.checkNodeKeys},checkboxConfig:Object,nodeConfig:Object,lazy:Boolean,toggleMethod:Function,loadMethod:Function,showIcon:{type:Boolean,default:!0},iconOpen:{type:String,default:()=>U().tree.iconOpen},iconClose:{type:String,default:()=>U().tree.iconClose},iconLoaded:{type:String,default:()=>U().tree.iconLoaded},filterValue:[String,Number],filterConfig:Object,size:{type:String,default:()=>U().tree.size||U().size},virtualYConfig:Object},emits:["update:modelValue","update:checkNodeKey","update:checkNodeKeys","node-click","node-dblclick","current-change","radio-change","checkbox-change","load-success","load-error","scroll"],setup(e,t){const{emit:l,slots:a}=t,u=n.uniqueId(),{computeSize:r}=kn(e),d=st(),m=st(),p=st(),D=st(),C=st(),h=ln({parentHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,currentNode:null,scrollYLoad:!1,bodyHeight:0,topSpaceHeight:0,selectRadioKey:zs(e.checkNodeKey),treeList:[],updateExpandedFlag:1,updateCheckboxFlag:1}),S=_f(),w={refElem:d},V=j(()=>e.titleField||"title"),g=j(()=>e.keyField||"id"),i=j(()=>{const K=g.value;return e.valueField||K}),x=j(()=>e.parentField||"parentId"),k=j(()=>e.childrenField||"children"),R=j(()=>e.mapChildrenField||"mapChildren"),O=j(()=>e.hasChildField||"hasChild"),$=j(()=>Object.assign({},U().tree.virtualYConfig,e.virtualYConfig)),A=j(()=>{const K=z.value,{isCurrent:xe}=K;return n.isBoolean(xe)?xe:e.isCurrent}),M=j(()=>{const K=z.value,{isHover:xe}=K;return n.isBoolean(xe)?xe:e.isHover}),T=j(()=>Object.assign({showIcon:!0},U().tree.radioConfig,e.radioConfig)),_=j(()=>Object.assign({showIcon:!0},U().tree.checkboxConfig,e.checkboxConfig)),z=j(()=>Object.assign({},U().tree.nodeConfig,e.nodeConfig)),Z=j(()=>Object.assign({},U().tree.loadingConfig,e.loadingConfig)),J=j(()=>{const{customHeight:K,customMinHeight:xe,customMaxHeight:Ne}=h,Ge={};return K&&(Ge.height=rn(K)),xe&&(Ge.minHeight=rn(xe)),Ne&&(Ge.maxHeight=rn(Ne)),Ge}),W=j(()=>Object.assign({},U().tree.filterConfig,e.filterConfig)),Q={computeChildrenField:k,computeMapChildrenField:R,computeRadioOpts:T,computeCheckboxOpts:_,computeNodeOpts:z},ge={xID:u,props:e,context:t,internalData:S,reactData:h,getRefMaps:()=>w,getComputeMaps:()=>Q},fe=K=>{const xe=i.value,Ne=n.get(K,xe);return zs(Ne)},ve=K=>{const{updateExpandedFlag:xe}=h,{treeExpandedMaps:Ne}=S,Ge=fe(K);return!!(xe&&Ne[Ge])},oe=K=>{const{selectRadioKey:xe}=h;return xe===K},Ee=K=>oe(fe(K)),re=K=>{const{updateCheckboxFlag:xe}=h,{selectCheckboxMaps:Ne}=S;return!!(xe&&Ne[K])},Y=K=>re(fe(K)),Oe=K=>{const{updateCheckboxFlag:xe}=h,{indeterminateRowMaps:Ne}=S;return!!(xe&&Ne[K])},ze=K=>Oe(fe(K)),ce=K=>{l("update:checkNodeKeys",K)},ue=K=>{l("update:checkNodeKey",K)},me=(K,xe)=>{const{nodeMaps:Ne}=S;if(K){n.isArray(K)||(K=[K]);const Ge=[];K.forEach(ot=>{const it=zs(ot),Tt=Ne[it];Tt&&Ge.push(Tt.item)}),be(Ge,xe)}return ke()},be=(K,xe)=>{const{transform:Ne}=e,{selectCheckboxMaps:Ge}=S,ot=R.value,it=k.value,Tt=_.value,{checkStrictly:zt}=Tt,_t=Fe=>{const X=fe(Fe);xe?Ge[X]||(Ge[X]=Fe):Ge[X]&&delete Ge[X]};zt?K.forEach(_t):n.eachTree(K,_t,{children:Ne?ot:it}),h.updateCheckboxFlag++,ft()},Se=K=>{S.selectCheckboxMaps={},me(K,!0)},pe=(K,xe,Ne)=>{xe?Ne[K]||(Ne[K]=!0):Ne[K]&&delete Ne[K]},Ae=(K,xe,Ne)=>{l(K,bn(Ne,{$tree:ge},xe))},_e=()=>{const K=d.value;return K?K.parentElement:null},ae=K=>{const{parentHeight:xe}=h,Ne=e[K];let Ge=0;return Ne&&(Ne==="100%"||Ne==="auto"?Ge=xe:(qc(Ne)?Ge=Math.floor((n.toInteger(Ne)||1)/100*xe):Ge=n.toNumber(Ne),Ge=Math.max(40,Ge))),Ge},Re=()=>{h.customHeight=ae("height"),h.customMinHeight=ae("minHeight"),h.customMaxHeight=ae("maxHeight"),h.scrollYLoad&&!(h.customHeight||h.customMinHeight)&&(h.customHeight=300)},Ie=K=>{const xe=i.value;return Promise.resolve(K.map(Ne=>{const Ge=Object.assign({},Ne);let ot=fe(Ge);return ot||(ot=Hf(),n.set(Ge,xe,ot)),Ge}))},ne=()=>{const{treeFullData:K}=S,xe=i.value,Ne=k.value,Ge={};n.eachTree(K,(ot,it,Tt,zt,_t,Fe)=>{let X=fe(ot);X||(X=Hf(),n.set(ot,xe,X)),Ge[X]={item:ot,index:it,items:Tt,parent:_t,nodes:Fe,level:Fe.length,treeIndex:it,lineCount:0,treeLoaded:!1}},{children:Ne}),S.nodeMaps=Ge},se=()=>{const{transform:K}=e,{afterTreeList:xe,nodeMaps:Ne}=S,Ge=k.value,ot=R.value;n.eachTree(xe,(it,Tt,zt)=>{const _t=fe(it),Fe=Ne[_t];if(Fe)Fe.items=zt,Fe.treeIndex=Tt;else{const X={item:it,index:Tt,items:zt,parent,nodes:[],level:0,treeIndex:Tt,lineCount:0,treeLoaded:!1};Ne[_t]=X}},{children:K?ot:Ge})},F=()=>{const{transform:K,filterValue:xe}=e,{treeFullData:Ne,lastFilterValue:Ge}=S,ot=V.value,it=k.value,Tt=R.value,zt=W.value,{autoExpandAll:_t,beforeFilterMethod:Fe,filterMethod:X,afterFilterMethod:Ce}=zt;let at=Ne,gt=at,St="";if(xe||xe===0){St=`${xe}`;const bt=X?xt=>X({$tree:ge,node:xt,filterValue:St}):xt=>String(xt[ot]).toLowerCase().indexOf(St)>-1,yt={$tree:ge,filterValue:St};Fe&&Fe(yt),K?(gt=n.searchTree(Ne,bt,{original:!0,isEvery:!0,children:it,mapChildren:Tt}),at=gt):at=Ne.filter(bt),S.lastFilterValue=St,ke(()=>{_t?ge.setAllExpandNode(!0).then(()=>{Ce&&Ce(yt)}):Ce&&Ce(yt)})}else{if(K&&(gt=n.searchTree(Ne,()=>!0,{original:!0,isEvery:!0,children:it,mapChildren:Tt}),at=gt,Ge)){const bt={$tree:ge,filterValue:St};Fe&&Fe(bt),ke(()=>{_t?ge.clearAllExpandNode().then(()=>{Ce&&Ce(bt)}):Ce&&Ce(bt)})}S.lastFilterValue=""}S.afterVisibleList=at,S.afterTreeList=gt,se()},B=()=>{const{transform:K}=e,{afterTreeList:xe,treeExpandedMaps:Ne}=S,Ge=R.value,ot={};if(K){const it=[];return n.eachTree(xe,(Tt,zt,_t,Fe,X)=>{const Ce=fe(Tt),at=fe(X);(!X||ot[at]&&Ne[at])&&(ot[Ce]=1,it.push(Tt))},{children:Ge}),Ke(it),S.afterVisibleList=it,it}return S.afterVisibleList},te=K=>{const{scrollYLoad:xe}=h,{scrollYStore:Ne}=S;let Ge=S.afterVisibleList;K&&(F(),Ge=B());const ot=xe?Ge.slice(Ne.startIndex,Ne.endIndex):Ge.slice(0);h.treeList=ot},de=n.debounce(()=>te(!0),350,{trailing:!0}),Te=K=>{const{expandAll:xe,expandNodeKeys:Ne,transform:Ge}=e,{initialized:ot,scrollYStore:it}=S,Tt=g.value,zt=x.value,_t=k.value,Fe=Ge?n.toArrayTree(K,{key:Tt,parentKey:zt,mapChildren:_t}):K?K.slice(0):[];S.treeFullData=Fe,Object.assign(it,{startIndex:0,endIndex:1,visibleSize:0});const X=Ke(Fe);return ne(),te(!0),X&&(e.height||e.maxHeight||To("vxe.error.reqProp",["[tree] height | max-height | virtual-y-config.enabled=false"])),lt().then(()=>{ot||K&&K.length&&(S.initialized=!0,xe?ge.setAllExpandNode(!0):Ne&&Ne.length&&ge.setExpandByNodeId(Ne,!0),me(e.checkNodeKeys||[],!0)),Re(),ht()})},Ke=K=>{const{transform:xe}=e,Ne=$.value,Ge=K||S.treeFullData,ot=!!xe&&!!Ne.enabled&&Ne.gt>-1&&(Ne.gt===0||Ne.gt<Ge.length);return h.scrollYLoad=ot,ot},Ye=()=>{const{scrollYLoad:K}=h,{scrollYStore:xe,afterVisibleList:Ne}=S;h.bodyHeight=K?Ne.length*xe.rowHeight:0,h.topSpaceHeight=K?Math.max(xe.startIndex*xe.rowHeight,0):0},Qe=()=>{te(),Ye()},lt=()=>ke().then(()=>{const{scrollYLoad:K}=h,{scrollYStore:xe}=S,Ne=C.value,Ge=$.value;let ot=0,it;if(Ne&&(it||(it=Ne.children[0])),it&&(ot=it.offsetHeight),ot=Math.max(20,ot),xe.rowHeight=ot,K){const Tt=D.value,zt=Math.max(8,Tt?Math.ceil(Tt.clientHeight/ot):0),_t=Math.max(0,Math.min(2,n.toNumber(Ge.oSize)));xe.offsetSize=_t,xe.visibleSize=zt,xe.endIndex=Math.max(xe.startIndex,zt+_t,xe.endIndex),Qe()}else Ye()}),et=(K,xe)=>{const Ne=D.value;return K&&(n.isNumber(K)||(xe=K.top,K=K.left)),Ne&&(n.isNumber(K)&&(Ne.scrollLeft=K),n.isNumber(xe)&&(Ne.scrollTop=xe)),h.scrollYLoad?new Promise(Ge=>{setTimeout(()=>{ke(()=>{Ge()})},50)}):ke()},ht=()=>{const{lastScrollLeft:K,lastScrollTop:xe}=S;return mt().then(()=>{if(K||xe)return S.lastScrollLeft=0,S.lastScrollTop=0,scrollTo(K,xe)})},Ot=()=>{const{scrollYStore:K}=S,{rowHeight:xe}=K,Ne=d.value;if(Ne&&Ne.clientWidth&&Ne.clientHeight){const Ge=_e(),ot=m.value,it=p.value,Tt=ot?ot.clientHeight:0,zt=it?it.clientHeight:0;if(Ge){const _t=fv(Ge);h.parentHeight=Math.max(Tt+zt+xe,Ge.clientHeight-_t-Tt-zt)}return Re(),lt().then(()=>{Re(),Ye()})}return ke()},ut=()=>{const{scrollYStore:K}=S,{startIndex:xe,endIndex:Ne,visibleSize:Ge,offsetSize:ot,rowHeight:it}=K,Tt=D.value;if(!Tt)return;const zt=Tt.scrollTop,_t=Math.floor(zt/it),Fe=Math.max(0,_t-1-ot),X=_t+Ge+ot;(_t<=xe||_t>=Ne-Ge-1)&&(xe!==Fe||Ne!==X)&&(K.startIndex=Fe,K.endIndex=X,Qe())},wt=K=>{const xe=K.target,Ne=xe.scrollTop,Ge=xe.scrollLeft,ot=Ge!==S.lastScrollLeft,it=Ne!==S.lastScrollTop;S.lastScrollTop=Ne,S.lastScrollLeft=Ge,h.scrollYLoad&&ut(),S.lastScrollTime=Date.now(),Ae("scroll",{scrollLeft:Ge,scrollTop:Ne,isX:ot,isY:it},K)},mt=()=>{const K=D.value;return K&&(K.scrollTop=0,K.scrollLeft=0),S.lastScrollTop=0,S.lastScrollLeft=0,ke()},Rt=(K,xe)=>{const{showRadio:Ne,showCheckbox:Ge,trigger:ot}=e,it=T.value,Tt=_.value,zt=A.value;let _t=!1,Fe=!1,X=!1,Ce=!1;zt?(_t=!0,v(K,xe)):h.currentNode&&(h.currentNode=null),ot==="node"&&(Ce=!0,nt(K,xe)),Ne&&it.trigger==="node"&&(Fe=!0,L(K,xe)),Ge&&Tt.trigger==="node"&&(X=!0,vt(K,xe)),Ae("node-click",{node:xe,triggerCurrent:_t,triggerRadio:Fe,triggerCheckbox:X,triggerExpand:Ce},K)},Vt=(K,xe)=>{Ae("node-dblclick",{node:xe},K)},he=K=>{const xe=_.value,{loadMethod:Ne}=e,{checkStrictly:Ge}=xe;return new Promise(ot=>{if(Ne){const{nodeMaps:it}=S,Tt=fe(K),zt=it[Tt];S.treeExpandLazyLoadedMaps[Tt]=!0,Promise.resolve(Ne({$tree:ge,node:K})).then(_t=>{const{treeExpandLazyLoadedMaps:Fe}=S;if(zt.treeLoaded=!0,Fe[Tt]&&(Fe[Tt]=!1),n.isArray(_t)||(_t=[]),_t)return ge.loadChildrenNode(K,_t).then(X=>{const{treeExpandedMaps:Ce}=S;return X.length&&!Ce[Tt]&&(Ce[Tt]=!0),h.updateExpandedFlag++,!Ge&&ge.isCheckedByCheckboxNodeId(Tt)&&be(X,!0),Ae("load-success",{node:K,data:_t},new Event("load-success")),ke()});Ae("load-success",{node:K,data:_t},new Event("load-success"))}).catch(_t=>{const{treeExpandLazyLoadedMaps:Fe}=S;zt.treeLoaded=!1,Fe[Tt]&&(Fe[Tt]=!1),Ae("load-error",{node:K,data:_t},new Event("load-error"))}).finally(()=>(B(),te(),Ot()))}else ot()})},$e=(K,xe)=>{const{lazy:Ne,accordion:Ge,toggleMethod:ot}=e,{treeExpandLazyLoadedMaps:it,treeExpandedMaps:Tt}=S,{nodeMaps:zt}=S,_t=k.value,Fe=O.value,X=[];let Ce=ot?K.filter(at=>ot({$tree:ge,expanded:xe,node:at})):K;if(Ge){Ce=Ce.length?[Ce[Ce.length-1]]:[];const at=fe(Ce[0]),gt=zt[at];gt&&gt.items.forEach(St=>{const bt=fe(St);Tt[bt]&&delete Tt[bt]})}return xe?Ce.forEach(at=>{const gt=fe(at);if(!Tt[gt]){const St=zt[gt];Ne&&at[Fe]&&!St.treeLoaded&&!it[gt]?X.push(he(at)):at[_t]&&at[_t].length&&(Tt[gt]=!0)}}):Ce.forEach(at=>{const gt=fe(at);Tt[gt]&&delete Tt[gt]}),h.updateExpandedFlag++,B(),te(),Promise.all(X).then(()=>Ot())},nt=(K,xe)=>{const{lazy:Ne}=e,{treeExpandedMaps:Ge,treeExpandLazyLoadedMaps:ot}=S,it=fe(xe),Tt=!Ge[it];K.stopPropagation(),(!Ne||!ot[it])&&$e([xe],Tt)},ft=()=>{const{transform:K}=e,{selectCheckboxMaps:xe,indeterminateRowMaps:Ne,afterTreeList:Ge}=S,ot=k.value,it=R.value,Tt=_.value,{checkStrictly:zt,checkMethod:_t}=Tt;if(!zt){const Fe={},X=[];n.eachTree(Ge,Ce=>{const at=fe(Ce),gt=Ce[ot];gt&&gt.length&&!Fe[at]&&(Fe[at]=1,X.unshift([Ce,at,gt]))},{children:K?it:ot}),X.forEach(Ce=>{const at=Ce[0],gt=Ce[1],St=Ce[2];let bt=0,yt=0,xt=0;const Ct=St.length;St.forEach(_t?tn=>{const Qt=fe(tn),vn=xe[Qt];_t({$tree:ge,node:tn})?(vn?bt++:Ne[Qt]&&yt++,xt++):vn?bt++:Ne[Qt]&&yt++}:tn=>{const Qt=fe(tn);xe[Qt]?bt++:Ne[Qt]&&yt++,xt++});let $t=!1;Ct>0?xt>0?$t=(bt>0||yt>0)&&bt>=xt:bt>0&&bt>=xt||xe[gt]?$t=!0:$t=!1:$t=xe[gt];const on=!$t&&(bt>0||yt>0);$t?(xe[gt]=at,Ne[gt]&&delete Ne[gt]):(xe[gt]&&delete xe[gt],on?Ne[gt]=at:Ne[gt]&&delete Ne[gt])}),h.updateCheckboxFlag++}},vt=(K,xe)=>{K.preventDefault(),K.stopPropagation();const{transform:Ne}=e,{selectCheckboxMaps:Ge}=S,ot=k.value,it=R.value,Tt=_.value,{checkStrictly:zt,checkMethod:_t}=Tt;let Fe=!!_t;if(_t&&(Fe=!_t({$tree:ge,node:xe})),Fe)return;const X=fe(xe);let Ce=!1;Ge[X]?delete Ge[X]:(Ce=!0,Ge[X]=xe),zt||n.eachTree(n.get(xe,Ne?it:ot),St=>{const bt=fe(St);Ce?Ge[bt]||(Ge[bt]=!0):Ge[bt]&&delete Ge[bt]},{children:Ne?it:ot}),h.updateCheckboxFlag++,ft();const gt=n.keys(Ge).map(Ws);ce(gt),Ae("checkbox-change",{node:xe,value:gt,checked:Ce},K)},v=(K,xe)=>{K.preventDefault();const Ne=z.value,{currentMethod:Ge,trigger:ot}=Ne,it=k.value,Tt=n.get(xe,it),zt=Tt&&Tt.length;let _t=!!Ge;if(ot==="child"){if(zt)return}else if(ot==="parent"&&!zt)return;if(Ge&&(_t=!Ge({node:xe})),_t)return;const Fe=!0;h.currentNode=xe,Ae("current-change",{node:xe,checked:Fe},K)},L=(K,xe)=>{K.preventDefault(),K.stopPropagation();const Ne=T.value,{checkMethod:Ge}=Ne;let ot=!!Ge;if(Ge&&(ot=!Ge({$tree:ge,node:xe})),ot)return;const it=!0,Tt=fe(xe),zt=Ws(Tt);h.selectRadioKey=Tt,ue(zt),Ae("radio-change",{node:xe,value:zt,checked:it},K)},N=()=>{const K=d.value;!K||!K.clientWidth||Ot()},ie={dispatchEvent:Ae,getNodeId:fe,getNodeById(K){const{nodeMaps:xe}=S;if(K){const Ne=xe[K];if(Ne)return Ne.item}return null},loadData(K){return Te(K||[])},reloadData(K){return Te(K||[])},clearCurrentNode(){return h.currentNode=null,ke()},getCurrentNodeId(){const{currentNode:K}=h;return K?Ws(fe(K)):null},getCurrentNode(){const{currentNode:K}=h,{nodeMaps:xe}=S;if(K){const Ne=xe[fe(K)];if(Ne)return Ne.item}return null},setCurrentNodeId(K){const{nodeMaps:xe}=S,Ne=xe[zs(K)];return h.currentNode=Ne?Ne.item:null,ke()},setCurrentNode(K){return h.currentNode=K,ke()},clearRadioNode(){return h.selectRadioKey=null,ue(null),ke()},getRadioNodeId(){return h.selectRadioKey||null},getRadioNode(){const{selectRadioKey:K}=h,{nodeMaps:xe}=S;if(K){const Ne=xe[K];if(Ne)return Ne.item}return null},setRadioNodeId(K){return h.selectRadioKey=zs(K),ue(K),ke()},setRadioNode(K){if(K){const xe=fe(K);h.selectRadioKey=xe,ue(Ws(xe))}else ue(null);return ke()},setCheckboxNode(K,xe){return K&&(n.isArray(K)||(K=[K]),be(K,xe)),ce(ge.getCheckboxNodeIds()),ke()},setCheckboxByNodeId(K,xe){return me(K,xe),ce(ge.getCheckboxNodeIds()),ke()},getCheckboxNodeIds(){const{selectCheckboxMaps:K}=S,xe=[];return n.each(K,(Ne,Ge)=>{xe.push(Ws(Ge))}),xe},getCheckboxNodes(){const{nodeMaps:K,selectCheckboxMaps:xe}=S,Ne=[];return n.each(xe,(Ge,ot)=>{const it=K[ot];it&&Ne.push(it.item)}),Ne},clearCheckboxNode(){return S.indeterminateRowMaps={},S.selectCheckboxMaps={},h.updateCheckboxFlag++,ce([]),ft(),ke().then(()=>({checkNodeKeys:[],checkNodes:[]}))},setAllCheckboxNode(K){const{transform:xe}=e,Ne={},Ge=k.value,ot=R.value,it=[],Tt=[];return K&&n.eachTree(S.afterTreeList,zt=>{const _t=fe(zt);it.push(_t),Tt.push(zt),Ne[_t]=!0},{children:xe?ot:Ge}),S.indeterminateRowMaps={},S.selectCheckboxMaps=Ne,h.updateCheckboxFlag++,ft(),ke().then(()=>({checkNodeKeys:it,checkNodes:Tt}))},clearExpandNode(){return ie.clearAllExpandNode()},clearAllExpandNode(){const{nodeMaps:K,scrollYStore:xe}=S;return n.each(K,Ne=>{Ne.treeLoaded=!1}),S.treeExpandedMaps={},h.updateExpandedFlag++,h.topSpaceHeight=0,xe.startIndex=0,xe.endIndex=1,B(),te(),Ot()},setExpandByNodeId(K,xe){const{treeExpandedMaps:Ne}=S;return K&&(n.isArray(K)||(K=[K]),K.forEach(Ge=>{const ot=zs(Ge);pe(ot,xe,Ne)}),h.updateExpandedFlag++),B(),te(),Ot()},getExpandNodeIds(){const{treeExpandedMaps:K}=S,xe=[];return n.each(K,(Ne,Ge)=>{xe.push(Ws(Ge))}),xe},getExpandNodes(){const{nodeMaps:K,treeExpandedMaps:xe}=S,Ne=[];return n.each(xe,(Ge,ot)=>{const it=K[ot];it&&Ne.push(it.item)}),Ne},setExpandNode(K,xe){const{treeExpandedMaps:Ne}=S;return K&&(n.isArray(K)||(K=[K]),K.forEach(Ge=>{const ot=fe(Ge);pe(ot,xe,Ne)}),h.updateExpandedFlag++),B(),te(),Ot()},toggleExpandByNodeId(K){const{treeExpandedMaps:xe}=S;return K&&(n.isArray(K)||(K=[K]),K.forEach(Ne=>{const Ge=zs(Ne);pe(Ge,!xe[`${Ge}`],xe)}),h.updateExpandedFlag++),B(),te(),Ot()},toggleExpandNode(K){const{treeExpandedMaps:xe}=S;return K&&(n.isArray(K)||(K=[K]),K.forEach(Ne=>{const Ge=fe(Ne);pe(Ge,!xe[Ge],xe)}),h.updateExpandedFlag++),B(),te(),Ot()},setAllExpandNode(K){const{transform:xe}=e,{scrollYLoad:Ne}=h,{scrollYStore:Ge,treeExpandedMaps:ot}=S,it=k.value,Tt=R.value;return K?n.eachTree(S.afterTreeList,zt=>{const _t=n.get(zt,it);if(_t&&_t.length){const X=fe(zt);ot[X]=!0}},{children:xe?Tt:it}):S.treeExpandedMaps={},h.updateExpandedFlag++,h.topSpaceHeight=0,Ge.startIndex=0,Ge.endIndex=1,B(),te(),Ot().then(()=>(Ne&&ut(),Ot()))},reloadExpandNode(K){const{lazy:xe}=e;return xe?(ie.clearExpandLoaded(K),he(K)):Ot()},clearExpandLoaded(K){const{lazy:xe}=e,{nodeMaps:Ne}=S;if(xe){const Ge=Ne[fe(K)];Ge&&(Ge.treeLoaded=!1)}return Ot()},loadChildrenNode(K,xe){const{lazy:Ne,transform:Ge}=e,{nodeMaps:ot}=S;if(!Ne)return Promise.resolve([]);const it=k.value,Tt=R.value,zt=ot[fe(K)],_t=zt?zt.level:0,Fe=zt?zt.nodes:[];return Ie(xe).then(X=>(n.eachTree(X,(Ce,at,gt,St,bt,yt)=>{const xt=fe(Ce);ot[xt]={item:Ce,index:-1,items:gt,parent:bt||zt.item,nodes:Fe.concat(yt),level:_t+yt.length,treeIndex:-1,lineCount:0,treeLoaded:!1}},{children:it}),K[it]=X,Ge&&(K[Tt]=X),se(),X))},isExpandByNode:ve,isCheckedByRadioNodeId:oe,isCheckedByRadioNode:Ee,isCheckedByCheckboxNodeId:re,isIndeterminateByCheckboxNode:ze,isCheckedByCheckboxNode:Y,getCheckboxIndeterminateNodes(){const{nodeMaps:K,indeterminateRowMaps:xe}=S,Ne=[];return n.each(xe,(Ge,ot)=>{const it=K[ot];it&&Ne.push(it.item)}),Ne},recalculate:Ot,scrollTo:et,scrollToNode(K){return ge.scrollToNodeId(fe(K))},scrollToNodeId(K){const{transform:xe}=e,{scrollYStore:Ne,afterTreeList:Ge}=S,ot=k.value,it=R.value,Tt=D.value;if(K&&Tt)if(xe){const zt=n.findTree(Ge,_t=>fe(_t)===K,{children:xe?it:ot});if(zt)return ge.setExpandNode(zt.nodes,!0).then(()=>{const _t=n.findIndexOf(S.afterVisibleList,Fe=>fe(Fe)===K);if(_t>-1){const Fe=Math.max(0,(_t-1)*Ne.rowHeight);return et(Tt.scrollLeft,Fe)}})}else{const zt=Tt.querySelector(`.vxe-tree--node-wrapper[nodeid="${K}"]`);if(zt)return et(Tt.scrollLeft,zt.offsetTop)}return Ot()},clearScroll:mt};Object.assign(ge,ie,{});const He=(K,xe,Ne)=>{const{showRadio:Ge}=e,ot=T.value,{showIcon:it,checkMethod:Tt,visibleMethod:zt}=ot,_t=!zt||zt({$tree:ge,node:K});let Fe=!!Tt;return Ge&&it&&_t?(Tt&&(Fe=!Tt({$tree:ge,node:K})),o("div",{class:["vxe-tree--radio-option",{"is--checked":Ne,"is--disabled":Fe}],onClick:X=>{Fe||L(X,K)}},[o("span",{class:["vxe-radio--icon",Ne?Yt().RADIO_CHECKED:Yt().RADIO_UNCHECKED]})])):Mt()},Ve=(K,xe,Ne)=>{const{showCheckbox:Ge}=e,ot=_.value,{showIcon:it,checkMethod:Tt,visibleMethod:zt}=ot,_t=Oe(xe),Fe=!zt||zt({$tree:ge,node:K});let X=!!Tt;return Ge&&it&&Fe?(Tt&&(X=!Tt({$tree:ge,node:K})),o("div",{class:["vxe-tree--checkbox-option",{"is--checked":Ne,"is--indeterminate":_t,"is--disabled":X}],onClick:Ce=>{X||vt(Ce,K)}},[o("span",{class:["vxe-checkbox--icon",_t?Yt().CHECKBOX_INDETERMINATE:Ne?Yt().CHECKBOX_CHECKED:Yt().CHECKBOX_UNCHECKED]})])):Mt()},ye=(K,xe)=>{const{lazy:Ne,showRadio:Ge,showCheckbox:ot,showLine:it,indent:Tt,iconOpen:zt,iconClose:_t,iconLoaded:Fe,showIcon:X}=e,{currentNode:Ce,selectRadioKey:at,updateExpandedFlag:gt}=h,{afterTreeList:St,nodeMaps:bt,treeExpandedMaps:yt,treeExpandLazyLoadedMaps:xt}=S,Ct=k.value,$t=V.value,on=O.value,tn=n.get(K,Ct),Qt=tn&&tn.length,vn=a.icon,Xn=a.title,Zn=a.extra,Co=gt&&yt[xe],Wn=bt[xe],ro=n.get(K,$t),po=Wn.level;let wo=!1;Ge&&(wo=xe===String(at));let Jn=!1;ot&&(Jn=re(xe));let _n=!1,io=!1,Ro=!1;Ne&&(io=!!xt[xe],_n=K[on],Ro=!!Wn.treeLoaded);const Vo=Wn.items[Wn.treeIndex-1],Eo={node:K,isExpand:Co};return o("div",{key:xe,class:["vxe-tree--node-wrapper",`node--level-${po}`],nodeid:xe},[o("div",{class:["vxe-tree--node-item",{"is--current":Ce&&xe===fe(Ce),"is-radio--checked":wo,"is-checkbox--checked":Jn}],style:{paddingLeft:`${(po-1)*(Tt||1)}px`},onClick(Nn){Rt(Nn,K)},onDblclick(Nn){Vt(Nn,K)}},[it?o("div",{class:"vxe-tree--node-line-wrapper"},[o("div",{class:"vxe-tree--node-line",style:{height:`${fe(St[0])===xe?1:Lx(ge,K,Vo)}px`}})]):Mt(),o("div",{class:"vxe-tree--node-item-switcher"},X&&(Ne?Ro?Qt:_n:Qt)?[o("div",{class:"vxe-tree--node-item-icon",onClick(Nn){nt(Nn,K)}},vn?mn(vn(Eo)):[o("i",{class:io?Fe||Yt().TREE_NODE_LOADED:Co?zt||Yt().TREE_NODE_OPEN:_t||Yt().TREE_NODE_CLOSE})])]:[]),He(K,xe,wo),Ve(K,xe,Jn),o("div",{class:"vxe-tree--node-item-inner"},[o("div",{class:"vxe-tree--node-item-title"},Xn?mn(Xn(Eo)):`${ro}`),Zn?o("div",{class:"vxe-tree--node-item-extra"},mn(Zn(Eo))):Mt()])])])},P=K=>{const{transform:xe}=e,{treeExpandedMaps:Ne}=S,Ge=k.value;if(!K.length)return[o("div",{class:"vxe-tree--empty-placeholder"},Wt("vxe.tree.searchEmpty"))];const ot=[];return K.forEach(xe?it=>{const Tt=fe(it);ot.push(ye(it,Tt))}:it=>{const Tt=fe(it);ot.push(ye(it,Tt));const zt=n.get(it,Ge);zt&&zt.length&&Ne[Tt]&&ot.push(...P(zt))}),ot},q=()=>{const{loading:K,trigger:xe,showLine:Ne}=e,{bodyHeight:Ge,topSpaceHeight:ot,treeList:it}=h,Tt=r.value,zt=T.value,_t=_.value,Fe=Z.value,X=M.value,Ce=J.value,at=a.loading,gt=a.header,St=a.footer;return o("div",{ref:d,class:["vxe-tree",{[`size--${Tt}`]:Tt,"show--line":Ne,"checkbox--highlight":_t.highlight,"radio--highlight":zt.highlight,"node--hover":X,"node--trigger":xe==="node","is--loading":K}]},[gt?o("div",{ref:m,class:"vxe-tree--header-wrapper"},gt({$tree:ge})):Mt(),o("div",{ref:D,class:"vxe-tree--node-list-wrapper",style:Ce,onScroll:wt},[o("div",{class:"vxe-tree--y-space",style:{height:Ge?`${Ge}px`:""}}),o("div",{ref:C,class:"vxe-tree--node-list-body",style:{transform:`translateY(${ot}px)`}},P(it))]),St?o("div",{ref:p,class:"vxe-tree--footer-wrapper"},St({$tree:ge})):Mt(),o(Ol,{class:"vxe-tree--loading",modelValue:K,icon:Fe.icon,text:Fe.text},at?{default:()=>at({$tree:ge})}:{})])},Pe=st(0);Dt(()=>e.data?e.data.length:0,()=>{Pe.value++}),Dt(()=>e.data,()=>{Pe.value++}),Dt(Pe,()=>{Te(e.data||[])}),Dt(()=>e.checkNodeKey,K=>{h.selectRadioKey=zs(K)});const qe=st(0);Dt(()=>e.checkNodeKeys?e.checkNodeKeys.length:0,()=>{qe.value++}),Dt(()=>e.checkNodeKeys,()=>{qe.value++}),Dt(qe,()=>{Se(e.checkNodeKeys||[])}),Dt(()=>e.filterValue,()=>{de(new Event("filter"))});const Ze=st(0);return Dt(()=>e.height,()=>{Ze.value++}),Dt(()=>e.minHeight,()=>{Ze.value++}),Dt(()=>e.maxHeight,()=>{Ze.value++}),Dt(Ze,()=>{Ot()}),Ln(()=>{if(e.autoResize){const K=d.value,xe=_e(),Ne=lu.create(()=>{e.autoResize&&Ot()});K&&Ne.observe(K),xe&&Ne.observe(xe),S.resizeObserver=Ne}At.on(ge,"resize",N)}),jn(()=>{const{resizeObserver:K}=S;K&&K.disconnect(),At.off(ge,"resize"),n.assign(S,_f())}),Te(e.data||[]),ge.renderVN=q,ge},render(){return this.renderVN()}}),Bx=Object.assign({},ei,{install(e){e.component(ei.name,ei)}});dn.use(Bx);We.component(ei);function zx(){return n.uniqueId("node_")}function jf(){return{fullOptionList:[],fullNodeMaps:{}}}const zc=pn({name:"VxeTreeSelect",props:{modelValue:[String,Number,Array],clearable:Boolean,placeholder:{type:String,default:()=>n.eqNull(U().treeSelect.placeholder)?Wt("vxe.base.pleaseSelect"):U().treeSelect.placeholder},readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},filterable:Boolean,filterConfig:Object,multiple:Boolean,className:[String,Function],popupClassName:[String,Function],prefixIcon:String,placement:String,lazyOptions:Array,options:Array,optionProps:Object,zIndex:Number,size:{type:String,default:()=>U().treeSelect.size||U().size},remote:Boolean,remoteConfig:Function,popupConfig:Object,treeConfig:Object,virtualYConfig:Object,autoClose:{type:Boolean,default:()=>U().treeSelect.autoClose},showTotalButoon:{type:Boolean,default:()=>U().treeSelect.showTotalButoon},showCheckedButoon:{type:Boolean,default:()=>U().treeSelect.showCheckedButoon},showClearButton:{type:Boolean,default:()=>U().treeSelect.showClearButton},showExpandButton:{type:Boolean,default:()=>U().treeSelect.showExpandButton},transfer:{type:Boolean,default:null},remoteMethod:Function},emits:["update:modelValue","change","all-change","clear","blur","focus","click","node-click"],setup(e,t){const{emit:l,slots:a}=t,u=jt("$xeModal",null),r=jt("$xeDrawer",null),d=jt("$xeTable",null),m=jt("$xeForm",null),p=jt("xeFormItemInfo",null),D=n.uniqueId(),{computeSize:C}=kn(e),h=st(),S=st(),w=st(),V=st(),g=st(),i=st(),x=ln({initialized:!1,searchValue:"",searchLoading:!1,panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),k=jf(),R={refElem:h},O=j(()=>{const{readonly:v}=e;return v===null?m?m.props.readonly:!1:v}),$=j(()=>{const{disabled:v}=e;return v===null?m?m.props.disabled:!1:v}),A=j(()=>{const{transfer:v}=e;if(v===null){const L=U().select.transfer;if(n.isBoolean(L))return L;if(d||u||r||m)return!0}return v}),M=j(()=>Object.assign({},U().treeSelect.popupConfig,e.popupConfig)),T=j(()=>Object.assign({},U().treeSelect.treeConfig,e.treeConfig,{data:void 0})),_=j(()=>{const v=T.value;return Object.assign({isHover:!0},v.nodeConfig)}),z=j(()=>{const v=T.value;return Object.assign({showIcon:!!v.showCheckbox},v.checkboxConfig,{trigger:"node"})}),Z=j(()=>{const v=T.value;return Object.assign({showIcon:!!v.showRadio},v.radioConfig,{trigger:"node"})}),J=j(()=>e.optionProps||{}),W=j(()=>T.value.keyField||"id"),Q=j(()=>J.value.label||"label"),ge=j(()=>J.value.value||"value"),fe=j(()=>J.value.children||"children"),ve=j(()=>J.value.parent||"parentField"),oe=j(()=>J.value.hasChild||"hasChild"),Ee=j(()=>Object.assign({},U().treeSelect.virtualYConfig,e.virtualYConfig)),re=j(()=>Object.assign({},U().treeSelect.remoteConfig,e.remoteConfig)),Y=j(()=>{const v=T.value;return Object.assign({},v.filterConfig,e.filterConfig)}),Oe=j(()=>{const{modelValue:v,lazyOptions:L}=e,{fullNodeMaps:N}=k,ie=ge.value,Me=Q.value;return(n.eqNull(v)?[]:n.isArray(v)?v:[v]).map(Ve=>{const ye=N[Ve];if(ye)return ye.item[Me];if(L){const P=L.find(q=>q[ie]===Ve);if(P)return P[Me]}return Ve}).join(", ")}),ze=j(()=>{const v=M.value,{height:L,width:N}=v,ie={};return N&&(ie.width=rn(N)),L&&(ie.height=rn(L),ie.maxHeight=rn(L)),ie}),ce={},ue={xID:D,props:e,context:t,reactData:x,internalData:k,getRefMaps:()=>R,getComputeMaps:()=>ce},me=(v,L,N)=>{l(v,bn(N,{$treeSelect:ue},L))},be=v=>{l("update:modelValue",v)},Se={dispatchEvent:me},pe=v=>{const L=W.value,N=v[L];return N?encodeURIComponent(N):""},Ae=()=>{const{options:v}=e,L=T.value,N=W.value,ie=fe.value,Me=ge.value,{transform:He}=L,Ve={},ye={},P=(q,Pe,qe,Ze,K,xe)=>{let Ne=pe(q);Ne||(Ne=zx()),ye[Ne]&&To("vxe.error.repeatKey",[`[tree-select] ${N}`,Ne]),ye[Ne]=!0;const Ge=q[Me];Ve[Ge]&&To("vxe.error.repeatKey",[`[tree-select] ${Me}`,Ge]),Ve[Ge]={item:q,index:Pe,items:qe,parent:K,nodes:xe}};v&&(He?v.forEach((q,Pe,qe)=>{P(q,Pe,qe,[],null,[])}):n.eachTree(v,P,{children:ie})),k.fullOptionList=v||[],k.fullNodeMaps=Ve},_e=()=>{const{zIndex:v}=e;v?x.panelIndex=v:x.panelIndex<hl()&&(x.panelIndex=fl())},ae=()=>{const{placement:v}=e,{panelIndex:L}=x,N=h.value,ie=g.value,Me=A.value,He=()=>{const Ve=Qs(N,ie,{placement:v,teleportTo:Me}),ye=Object.assign(Ve.style,{zIndex:L});x.panelStyle=ye,x.panelPlacement=Ve.placement};return He(),ke().then(He)},Re=()=>{const{loading:v,remote:L,filterable:N}=e,{fullOptionList:ie}=k,Me=$.value,He=re.value;!v&&!Me&&(clearTimeout(k.hpTimeout),x.initialized||(x.initialized=!0),x.isActivated=!0,x.isAniVisible=!0,N&&L&&He.enabled&&He.autoLoad&&!ie.length&&mt(),setTimeout(()=>{x.visiblePanel=!0,et()},10),_e(),ae())},Ie=()=>{x.visiblePanel=!1,k.hpTimeout=setTimeout(()=>{x.isAniVisible=!1},350)},ne=(v,L,N)=>{const ie=n.isArray(L)?L.map(Ws):Ws(L);be(ie),ie!==e.modelValue&&(me("change",{value:ie,node:N,option:N},v),m&&p&&m.triggerItemEvent(v,p.itemConfig.field,ie))},se=(v,L)=>{ne(v,L,null),me("clear",{value:L},v)},F=(v,L)=>{se(L,null),Ie()},B=v=>{const{$event:L}=v,{multiple:N,autoClose:ie}=e,Me=i.value;N&&Me&&Me.setAllCheckboxNode(!0).then(({checkNodeKeys:He,checkNodes:Ve})=>{ne(L,He,Ve[0]),me("all-change",{value:He},L),ie&&Ie()})},te=v=>{const{$event:L}=v,{multiple:N,autoClose:ie}=e,Me=i.value;if(Me){const He=N?[]:null;Me.clearCheckboxNode().then(()=>{ie&&Ie()}),ne(L,He,null),me("clear",{value:He},L)}},de=()=>{const v=i.value;v&&v.setAllExpandNode(!0)},Te=()=>{const v=i.value;v&&v.clearAllExpandNode()},Ke=v=>{const{visiblePanel:L}=x;if(!$.value&&L){const ie=g.value;Qn(v,ie).flag?ae():Ie()}},Ye=v=>{const{visiblePanel:L}=x;if(!$.value){const ie=h.value,Me=g.value;x.isActivated=Qn(v,ie).flag||Qn(v,Me).flag,L&&!x.isActivated&&Ie()}},Qe=()=>{const{visiblePanel:v,isActivated:L}=x;if(v&&Ie(),L&&(x.isActivated=!1),v||L){const N=S.value;N&&N.blur()}},lt=()=>{const{visiblePanel:v}=x;v&&ae()},et=()=>{e.filterable&&ke(()=>{const v=w.value;v&&v.focus()})},ht=v=>{$.value||x.visiblePanel||(x.triggerFocusPanel=!0,Re(),setTimeout(()=>{x.triggerFocusPanel=!1},150)),me("focus",{},v)},Ot=v=>{Rt(v),me("click",{},v)},ut=v=>{x.isActivated=!1,me("blur",{},v)},wt=v=>{x.searchValue=v},mt=()=>{const{modelValue:v,remote:L,remoteMethod:N}=e,{searchValue:ie}=x,Me=re.value,He=Me.queryMethod||N;L&&He&&Me.enabled&&(x.searchLoading=!0,Promise.resolve(He({$treeSelect:ue,searchValue:ie,value:v})).then(()=>ke()).catch(()=>ke()).finally(()=>{x.searchLoading=!1}))},Rt=v=>{const{$event:L}=v;L.preventDefault(),x.triggerFocusPanel?x.triggerFocusPanel=!1:x.visiblePanel?Ie():Re()},Vt=v=>{const{$event:L}=v;me("node-click",v,L)},he=v=>{const{value:L,$event:N,node:ie}=v;ne(N,L,ie),Ie()},$e=v=>{const{value:L,$event:N,node:ie}=v;ne(N,L,ie)},nt=()=>{Ae()};Object.assign(ue,Se,{});const vt=()=>{const{className:v,modelValue:L,multiple:N,options:ie,loading:Me,filterable:He,showTotalButoon:Ve,showCheckedButoon:ye,showClearButton:P,showExpandButton:q}=e,{initialized:Pe,isActivated:qe,isAniVisible:Ze,visiblePanel:K,searchValue:xe}=x,Ne=C.value,Ge=$.value,ot=Oe.value,it=A.value,Tt=O.value,zt=ze.value,_t=a.header,Fe=a.footer,X=a.prefix,Ce=M.value,at=Ce.className||e.popupClassName,gt=T.value,St=_.value,bt=z.value,yt=Z.value,xt=W.value,Ct=Q.value,$t=ge.value,on=fe.value,tn=ve.value,Qt=oe.value,vn=Ee.value,Xn=Y.value;if(Tt)return o("div",{ref:h,class:["vxe-tree-select--readonly",v]},[o("span",{class:"vxe-tree-select-label"},ot)]);const Zn=n.eqNull(L)?[]:n.isArray(L)?L:[L];return o("div",{ref:h,class:["vxe-tree-select",v?n.isFunction(v)?v({$treeSelect:ue}):v:"",{[`size--${Ne}`]:Ne,"is--filterable":He,"is--visible":K,"is--disabled":Ge,"is--loading":Me,"is--active":qe}]},[o(ss,{ref:S,clearable:e.clearable,placeholder:Me?Wt("vxe.select.loadingText"):e.placeholder,readonly:!0,disabled:Ge,type:"text",prefixIcon:e.prefixIcon,suffixIcon:Me?Yt().TREE_SELECT_LOADED:K?Yt().TREE_SELECT_OPEN:Yt().TREE_SELECT_CLOSE,modelValue:Me?"":ot,title:ot,onClear:F,onClick:Ot,onFocus:ht,onBlur:ut,onSuffixClick:Rt},X?{prefix:()=>X({})}:{}),o(ol,{to:"body",disabled:it?!Pe:!0},[o("div",{ref:g,class:["vxe-table--ignore-clear vxe-tree-select--panel",at?n.isFunction(at)?at({$treeSelect:ue}):at:"",{[`size--${Ne}`]:Ne,"is--transfer":it,"ani--leave":!Me&&Ze,"ani--enter":!Me&&K}],placement:x.panelPlacement,style:x.panelStyle},Pe?[o("div",{class:"vxe-tree-select--panel-wrapper"},[He?o("div",{class:"vxe-tree-select--panel-search"},[o(ss,{ref:w,class:"vxe-tree-select-search--input",modelValue:xe,clearable:!0,disabled:!1,readonly:!1,placeholder:Wt("vxe.treeSelect.search"),prefixIcon:Yt().INPUT_SEARCH,"onUpdate:modelValue":wt})]):Mt(),Ve||ye&&N||P||q||_t?o("div",{class:"vxe-tree-select--panel-header"},_t?_t({}):[o("div",{class:"vxe-tree-select--header-button"},[Ve?o("div",{class:"vxe-tree-select--header-total"},Wt("vxe.treeSelect.total",[Zn.length])):Mt(),o("div",{class:"vxe-tree-select--header-btns"},[ye&&N?o(lo,{content:Wt("vxe.treeSelect.allChecked"),mode:"text",onClick:B}):Mt(),P?o(lo,{content:Wt("vxe.treeSelect.clearChecked"),mode:"text",onClick:te}):Mt(),q?o(lo,{content:Wt("vxe.treeSelect.allExpand"),mode:"text",onClick:de}):Mt(),q?o(lo,{content:Wt("vxe.treeSelect.clearExpand"),mode:"text",onClick:Te}):Mt()])])]):Mt(),o("div",{class:"vxe-tree-select--panel-body"},[o("div",{ref:V,class:"vxe-tree-select-tree--wrapper",style:zt},[o(ei,{ref:i,class:"vxe-tree-select--tree",height:Ce.height?"100%":gt.height,minHeight:gt.minHeight,maxHeight:Ce.height?"":gt.maxHeight,autoResize:!0,data:ie,indent:gt.indent,showRadio:!N,radioConfig:yt,checkNodeKey:N?null:L,showCheckbox:!!N,checkNodeKeys:N?L:null,checkboxConfig:bt,titleField:Ct,valueField:$t,keyField:xt,childrenField:gt.childrenField||on,parentField:gt.parentField||tn,hasChildField:gt.hasChildField||Qt,accordion:gt.accordion,expandAll:gt.expandAll,expandNodeKeys:gt.expandNodeKeys,nodeConfig:St,lazy:gt.lazy,loadMethod:gt.loadMethod,toggleMethod:gt.toggleMethod,transform:gt.transform,trigger:gt.trigger,showIcon:gt.showIcon,showLine:gt.showLine,iconOpen:gt.iconOpen,iconLoaded:gt.iconLoaded,iconClose:gt.iconClose,filterValue:xe,filterConfig:Xn,virtualYConfig:vn,onNodeClick:Vt,onRadioChange:he,onCheckboxChange:$e,onLoadSuccess:nt})])]),Fe?o("div",{class:"vxe-tree-select--panel-footer"},Fe({})):Mt()])]:[])])])};return Dt(()=>e.options,()=>{Ae()}),Ae(),Ln(()=>{At.on(ue,"mousewheel",Ke),At.on(ue,"mousedown",Ye),At.on(ue,"blur",Qe),At.on(ue,"resize",lt)}),jn(()=>{At.off(ue,"mousewheel"),At.off(ue,"mousedown"),At.off(ue,"blur"),At.off(ue,"resize"),n.assign(k,jf())}),An("$xeTreeSelect",ue),ue.renderVN=vt,ue},render(){return this.renderVN()}}),Hx=Object.assign({},zc,{install(e){e.component(zc.name,zc)}});dn.use(Hx);We.component(zc);let Na=null,xs=null;function _x(e){const t=e.name,l=n.lastIndexOf(t,"."),a=t.substring(l+1,t.length).toLowerCase();return{filename:t.substring(0,l),type:a}}const Yg=e=>{const t=Object.assign({},e);return new Promise((l,a)=>{xs||(xs=document.createElement("input"),xs.name="file",xs.type="file"),Na||(Na=document.createElement("form"),Na.style.display="none",Na.appendChild(xs),document.body.appendChild(Na));const u=t.types||[],r=!u.length||u.some(d=>d==="*");xs.multiple=!!t.multiple,xs.accept=r?"":`.${u.join(", .")}`,xs.onchange=d=>{const m=d.target,p=Array.from(m.files||[]),D=p[0];let C="";if(!r)for(let h=0;h<p.length;h++){const{type:S}=_x(p[h]);if(!n.includes(u,S)){C=S;break}}C?(t.message!==!1&&We.modal&&We.modal.message({content:Wt("vxe.error.notType",[C]),status:"error"}),a({status:!1,files:p,file:D})):l({status:!0,files:p,file:D})},Na.reset(),xs.click()})};function jx(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}const Wx=e=>{const t=Object.assign({type:""},e),{filename:l,type:a,content:u}=t,r=a?`${l}.${a}`:`${l}`;if(window.Blob){const d=u instanceof Blob?u:jx(n.toValueString(u),t),m=window.navigator;if(m.msSaveBlob)m.msSaveBlob(d,r);else{const p=URL.createObjectURL(d),D=document.createElement("a");D.target="_blank",D.download=r,D.href=p,document.body.appendChild(D),D.click(),requestAnimationFrame(()=>{D.parentNode&&D.parentNode.removeChild(D),URL.revokeObjectURL(p)})}return Promise.resolve()}return Promise.reject(new Error(Wt("vxe.error.notExp")))},Hc=pn({name:"VxeUpload",props:{modelValue:[Array,String,Object],showList:{type:Boolean,default:()=>U().upload.showList},moreConfig:Object,readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},autoSubmit:{type:Boolean,default:()=>U().upload.autoSubmit},mode:{type:String,default:()=>U().upload.mode},imageTypes:{type:Array,default:()=>n.clone(U().upload.imageTypes,!0)},imageConfig:{type:Object,default:()=>n.clone(U().upload.imageConfig,!0)},imageStyle:{type:Object,default:()=>n.clone(U().upload.imageStyle,!0)},fileTypes:{type:Array,default:()=>n.clone(U().upload.fileTypes,!0)},dragSort:Boolean,dragToUpload:{type:Boolean,default:()=>n.clone(U().upload.dragToUpload,!0)},pasteToUpload:{type:Boolean,default:()=>n.clone(U().upload.pasteToUpload,!0)},keyField:String,singleMode:Boolean,urlMode:Boolean,multiple:Boolean,limitSize:{type:[String,Number],default:()=>U().upload.limitSize},showLimitSize:{type:Boolean,default:()=>U().upload.showLimitSize},limitSizeText:{type:[String,Number,Function],default:()=>U().upload.limitSizeText},limitCount:{type:[String,Number],default:()=>U().upload.limitCount},showLimitCount:{type:Boolean,default:()=>U().upload.showLimitCount},limitCountText:{type:[String,Number,Function],default:()=>U().upload.limitCountText},nameField:{type:String,default:()=>U().upload.nameField},typeField:{type:String,default:()=>U().upload.typeField},urlField:{type:String,default:()=>U().upload.urlField},sizeField:{type:String,default:()=>U().upload.sizeField},showErrorStatus:{type:Boolean,default:()=>U().upload.showErrorStatus},showProgress:{type:Boolean,default:()=>U().upload.showProgress},progressText:{type:[String,Number,Function],default:()=>U().upload.progressText},showSubmitButton:Boolean,autoHiddenButton:{type:Boolean,default:()=>U().upload.autoHiddenButton},showUploadButton:{type:Boolean,default:()=>U().upload.showUploadButton},buttonText:{type:[String,Number,Function],default:()=>U().upload.buttonText},buttonIcon:{type:String,default:()=>U().upload.buttonIcon},showButtonText:{type:Boolean,default:()=>U().upload.showButtonText},showButtonIcon:{type:Boolean,default:()=>U().upload.showButtonIcon},showRemoveButton:{type:Boolean,default:()=>U().upload.showRemoveButton},showDownloadButton:{type:Boolean,default:()=>U().upload.showDownloadButton},showPreview:{type:Boolean,default:()=>U().upload.showPreview},showTip:{type:Boolean,default:()=>null},maxSimultaneousUploads:{type:Number,default:()=>U().upload.maxSimultaneousUploads},tipText:[String,Number,Function],hintText:String,previewMethod:Function,uploadMethod:Function,beforeRemoveMethod:Function,removeMethod:Function,beforeDownloadMethod:Function,downloadMethod:Function,getUrlMethod:Function,getThumbnailUrlMethod:Function,size:{type:String,default:()=>U().upload.size||U().size}},emits:["update:modelValue","add","remove","remove-fail","download","download-fail","upload-success","upload-error","sort-dragend"],setup(e,t){const{emit:l,slots:a}=t,u=jt("$xeForm",null),r=jt("xeFormItemInfo",null),d=jt("$xeTable",null),m=n.uniqueId(),{computeSize:p}=kn(e),D=st(),C=st(),h=st(),S=st(),w=ln({isDragUploadStatus:!1,showMorePopup:!1,isActivated:!1,fileList:[],fileCacheMaps:{},isDragMove:!1,dragIndex:-1,dragTipText:""}),V={imagePreviewTypes:["jpg","jpeg","png","gif"],prevDragIndex:-1},g={refElem:D},i=j(()=>{const{readonly:ye}=e;return ye===null?u?u.props.readonly:!1:ye}),x=j(()=>{const{disabled:ye}=e;return ye===null?u?u.props.disabled:!1:ye}),k=j(()=>e.keyField||"_X_KEY"),R=j(()=>e.mode==="image"),O=j(()=>e.nameField||"name"),$=j(()=>e.typeField||"type"),A=j(()=>e.urlField||"url"),M=j(()=>e.sizeField||"size"),T=j(()=>n.toNumber(e.limitSize)*1024*1024),_=j(()=>e.multiple?n.toNumber(e.limitCount):1),z=j(()=>{const{multiple:ye}=e,{fileList:P}=w,q=_.value;return ye?q?P.length>=q:!0:P.length>=1}),Z=j(()=>{const ye=n.toNumber(e.limitSize);return ye?ye>1048576?`${ye/1048576}T`:ye>1024?`${ye/1024}G`:`${ye}M`:""}),J=j(()=>{const{showTip:ye,tipText:P}=e;if(n.isBoolean(ye))return ye;const q=U().upload.showTip;return n.isBoolean(q)?q:!!P}),W=j(()=>{const{limitSize:ye,fileTypes:P,multiple:q,limitCount:Pe}=e,qe=e.tipText||e.hintText,Ze=R.value,K=Z.value;if(n.isString(qe))return qe;if(n.isFunction(qe))return`${qe({})}`;const xe=[];return Ze?(q&&Pe&&xe.push(Wt("vxe.upload.imgCountHint",[Pe])),ye&&K&&xe.push(Wt("vxe.upload.imgSizeHint",[K]))):(P&&P.length&&xe.push(Wt("vxe.upload.fileTypeHint",[P.join("/")])),ye&&K&&xe.push(Wt("vxe.upload.fileSizeHint",[K])),q&&Pe&&xe.push(Wt("vxe.upload.fileCountHint",[Pe]))),xe.join(Wt("vxe.base.comma"))}),Q=j(()=>Object.assign({},e.imageConfig||e.imageStyle)),ge=j(()=>{const ye=Q.value,{width:P,height:q}=ye,Pe={};return P&&(Pe.width=rn(P)),q&&(Pe.height=rn(q)),Pe}),fe=j(()=>Object.assign({showMoreButton:!0},e.moreConfig)),ve={},oe={xID:m,props:e,context:t,reactData:w,internalData:V,getRefMaps:()=>g,getComputeMaps:()=>ve},Ee=()=>n.uniqueId(),re=ye=>{const P=k.value;return ye[P]},Y=()=>{const{modelValue:ye,multiple:P}=e,q=i.value,Pe=k.value,qe=O.value,Ze=$.value,K=A.value,xe=M.value,Ne=ye?(ye?n.isArray(ye)?ye:[ye]:[]).map(Ge=>{if(!Ge||n.isString(Ge)){const it=`${Ge||""}`,Tt=n.parseUrl(Ge),zt=(Tt?Tt.searchQuery[qe]:"")||Oe(it);return{[qe]:zt,[Ze]:(Tt?Tt.searchQuery[Ze]:"")||ze(zt),[K]:it,[xe]:n.toNumber(Tt?Tt.searchQuery[xe]:0)||0,[Pe]:Ee()}}const ot=Ge[qe]||"";return Ge[qe]=ot,Ge[Ze]=Ge[Ze]||ze(ot),Ge[K]=Ge[K]||"",Ge[xe]=Ge[xe]||0,Ge[Pe]=Ge[Pe]||Ee(),Ge}):[];w.fileList=q||P?Ne:Ne.slice(0,1)},Oe=ye=>decodeURIComponent(`${ye||""}`).split("/").pop()||"",ze=ye=>{const P=ye.lastIndexOf(".");return P>0?ye.substring(P+1).toLowerCase():""},ce=(ye,P,q)=>{l(ye,bn(q,{$upload:oe},P))},ue=ye=>{l("update:modelValue",ye)},me=ye=>{const{singleMode:P,urlMode:q}=e,Pe=A.value,qe=O.value;let Ze=ye?ye.slice(0):[];q&&(Ze=Ze.map(K=>{const xe=K[Pe];return xe&&!n.parseUrl(xe).searchQuery[qe]&&xe.indexOf("blob:")===-1?`${xe}${xe.indexOf("?")===-1?"?":"&"}${qe}=${encodeURIComponent(K[qe]||"")}`:xe})),ue(P?Ze[0]||null:Ze)},be=ye=>{const P=e.getThumbnailUrlMethod||U().upload.getThumbnailUrlMethod;return P?P({$upload:oe,option:ye}):Se(ye)},Se=ye=>{const P=e.getUrlMethod||U().upload.getUrlMethod,q=A.value;return P?P({$upload:oe,option:ye}):ye[q]},pe=ye=>{const{imageTypes:P,showDownloadButton:q}=e,Pe=$.value,qe=e.beforeDownloadMethod||U().upload.beforeDownloadMethod,{imagePreviewTypes:Ze}=V;Ze.concat(P||[]).some(K=>`${K}`.toLowerCase()===`${ye[Pe]}`.toLowerCase())&&We.previewImage&&We.previewImage({urlList:[Se(ye)],showDownloadButton:q,beforeDownloadMethod:qe?()=>qe({$upload:oe,option:ye}):void 0})},Ae=(ye,P)=>{const q=e.previewMethod||U().upload.previewMethod;e.showPreview&&(q?q({$upload:oe,option:P}):pe(P))},_e=(ye,P,q)=>{const{showDownloadButton:Pe}=e,{fileList:qe}=w,Ze=e.beforeDownloadMethod||U().upload.beforeDownloadMethod;e.showPreview&&We.previewImage&&We.previewImage({urlList:qe.map(K=>Se(K)),activeIndex:q,showDownloadButton:Pe,beforeDownloadMethod:Ze?({index:K})=>Ze({$upload:oe,option:qe[K]}):void 0})},ae=(ye,P)=>{const{showErrorStatus:q}=e,Pe=re(ye),qe=e.uploadMethod||U().upload.uploadMethod;if(qe)return Promise.resolve(qe({$upload:oe,file:P,option:ye,updateProgress(Ze){const{fileCacheMaps:K}=w,xe=K[re(ye)];xe&&(xe.percent=Math.max(0,Math.min(99,n.toNumber(Ze))))}})).then(Ze=>{const{fileCacheMaps:K}=w,xe=K[Pe];xe&&(xe.percent=100,xe.status="success"),Object.assign(ye,Ze),ce("upload-success",{option:ye,data:Ze},null)}).catch(Ze=>{const{fileCacheMaps:K}=w,xe=K[Pe];xe&&(xe.status="error"),q?Object.assign(ye,Ze):w.fileList=w.fileList.filter(Ne=>re(Ne)!==Pe),ce("upload-error",{option:ye,data:Ze},null)}).finally(()=>{const{fileCacheMaps:Ze}=w,K=Ze[Pe];K&&(K.loading=!1)});{const{fileCacheMaps:Ze}=w,K=Ze[Pe];K&&(K.loading=!1)}return Promise.resolve()},Re=ye=>{const{uploadMethod:P,urlMode:q}=e,{fileCacheMaps:Pe}=w,qe=re(ye),Ze=Pe[qe];if((P||U().upload.uploadMethod)&&Ze){const xe=Ze.file;Ze.loading=!0,Ze.status="pending",Ze.percent=0,ae(ye,xe).then(()=>{q&&me(w.fileList)})}},Ie=(ye,P)=>{const{multiple:q,urlMode:Pe,showLimitSize:qe,limitSizeText:Ze,showLimitCount:K,limitCountText:xe,autoSubmit:Ne}=e,{fileList:Ge}=w,ot=e.uploadMethod||U().upload.uploadMethod,it=k.value,Tt=O.value,zt=$.value,_t=A.value,Fe=M.value,X=T.value,Ce=_.value,at=Z.value;let gt=ye;if(q&&Ce){if(K&&Ge.length>=Ce){We.modal&&We.modal.notification({title:Wt("vxe.modal.errTitle"),status:"error",content:xe?`${n.isFunction(xe)?xe({maxCount:Ce}):xe}`:Wt("vxe.upload.overCountErr",[Ce])});return}const xt=gt.length-(Ce-Ge.length);if(K&&xt>0){const Ct=gt.slice(Ce-Ge.length);xe?We.modal.notification({title:Wt("vxe.modal.errTitle"),status:"error",content:`${n.isFunction(xe)?xe({maxCount:Ce}):xe}`}):We.modal&&We.modal.notification({title:Wt("vxe.modal.errTitle"),status:"error",width:null,slots:{default(){return o("div",{class:"vxe-upload--file-message-over-error"},[o("div",{},Wt("vxe.upload.overCountExtraErr",[Ce,xt])),o("div",{class:"vxe-upload--file-message-over-extra"},Ct.map(($t,on)=>o("div",{key:on,class:"vxe-upload--file-message-over-extra-item"},$t.name)))])}}})}gt=gt.slice(0,Ce-Ge.length)}if(qe&&X){for(let xt=0;xt<ye.length;xt++)if(ye[0].size>X){We.modal&&We.modal.notification({title:Wt("vxe.modal.errTitle"),status:"error",content:Ze?`${n.isFunction(Ze)?Ze({maxSize:X}):Ze}`:Wt("vxe.upload.overSizeErr",[at])});return}}const St=Object.assign({},w.fileCacheMaps),bt=q?Ge:[],yt=[];gt.forEach(xt=>{const{name:Ct}=xt,$t=Ee(),on={[Tt]:Ct,[zt]:ze(Ct),[Fe]:xt.size,[_t]:URL.createObjectURL(xt),[it]:$t};ot&&(St[$t]={file:xt,loading:!!Ne,status:"pending",percent:0});const tn=ln(on);ot&&Ne&&yt.push(ae(tn,xt)),bt.push(tn)}),w.fileList=bt,w.fileCacheMaps=St,bt.forEach(xt=>{ce("add",{option:xt},P)}),Promise.all(Pe?yt:[]).then(()=>{me(bt),u&&r&&u.triggerItemEvent(P,r.itemConfig.field,bt)})},ne=ye=>{const{multiple:P,imageTypes:q,fileTypes:Pe}=e,qe=x.value,Ze=R.value;return qe?Promise.resolve({status:!1,files:[],file:null}):Yg({multiple:P,types:Ze?q:Pe}).then(K=>(Ie(K.files,ye),K))},se=ye=>{ne(ye).catch(()=>{})},F=(ye,P,q)=>{const{fileList:Pe}=w;Pe.splice(q,1),me(Pe),u&&r&&u.triggerItemEvent(ye,r.itemConfig.field,Pe),ce("remove",{option:P},ye)},B=(ye,P,q)=>{const Pe=e.beforeRemoveMethod||U().upload.beforeRemoveMethod,qe=e.removeMethod||U().upload.removeMethod;Promise.resolve(Pe?Pe({$upload:oe,option:P}):!0).then(Ze=>{Ze?qe?Promise.resolve(qe({$upload:oe,option:P})).then(()=>{F(ye,P,q)}).catch(K=>K):F(ye,P,q):ce("remove-fail",{option:P},ye)})},te=(ye,P)=>{ce("download",{option:P},ye)},de=(ye,P)=>{const q=e.beforeDownloadMethod||U().upload.beforeDownloadMethod,Pe=e.downloadMethod||U().upload.downloadMethod;Promise.resolve(q?q({$upload:oe,option:P}):!0).then(qe=>{qe?Pe?Promise.resolve(Pe({$upload:oe,option:P})).then(()=>{te(ye,P)}).catch(Ze=>Ze):te(ye,P):ce("download-fail",{option:P},ye)})},Te=ye=>{const P=ye.currentTarget,{clientX:q,clientY:Pe}=ye;if(P){const{x:qe,y:Ze,height:K,width:xe}=P.getBoundingClientRect();(q<qe||q>qe+xe||Pe<Ze||Pe>Ze+K)&&(w.isDragUploadStatus=!1)}},Ke=ye=>{const P=ye.dataTransfer;if(P){const{items:q}=P;q&&q.length&&(ye.preventDefault(),w.isDragUploadStatus=!0)}},Ye=(ye,P)=>{const{imageTypes:q,fileTypes:Pe}=e,{imagePreviewTypes:qe}=V;if(R.value){const K=qe.concat(q&&q.length?q:[]);P=P.filter(xe=>{const Ne=`${xe.type.split("/")[1]||""}`.toLowerCase();return!!K.some(Ge=>`${Ge}`.toLowerCase()===Ne)})}else if(Pe&&Pe.length){const K=[];if(P.forEach(xe=>{const Ne=ze(xe.name);Pe.some(Ge=>`${Ge}`.toLowerCase()===Ne)||K.push(Ne)}),K.length){We.modal&&We.modal.message({content:Wt("vxe.error.notType",[K.join(", ")]),status:"error"});return}}if(!P.length){We.modal&&We.modal.notification({title:Wt("vxe.modal.errTitle"),status:"error",content:Wt("vxe.upload.uploadTypeErr")});return}Ie(P,ye)},Qe=ye=>{const P=ye.dataTransfer;if(P){const{items:q}=P;if(q&&q.length){ye.preventDefault();const Pe=lt(q);Pe.length&&Ye(ye,Pe)}}w.isDragUploadStatus=!1},lt=ye=>{const P=[];return n.arrayEach(ye,q=>{const Pe=q.getAsFile();Pe&&P.push(Pe)}),P},et=()=>{const ye=i.value,P=R.value;We.modal&&We.modal.open({title:Wt(ye?"vxe.upload.morePopup.readTitle":`vxe.upload.morePopup.${P?"imageTitle":"fileTitle"}`),width:660,height:500,escClosable:!0,showMaximize:!0,resize:!0,maskClosable:!0,slots:{default(){const{showErrorStatus:q,dragToUpload:Pe,dragSort:qe}=e,{isActivated:Ze,isDragMove:K,isDragUploadStatus:xe,dragIndex:Ne}=w,{fileList:Ge}=w,ot=x.value,it={};return Pe&&Ne===-1&&(it.onDragover=Ke,it.onDragleave=Te,it.onDrop=Qe),o("div",Object.assign({ref:C,class:["vxe-upload--more-popup",{"is--readonly":ye,"is--disabled":ot,"is--active":Ze,"show--error":q,"is--drag":xe}]},it),[P?qe?o(Ja,{name:`vxe-upload--drag-list${K?"":"-disabled"}`,tag:"div",class:"vxe-upload--image-more-list"},{default:()=>N(Ge,!0).concat(ie(!0))}):o("div",{class:"vxe-upload--image-more-list"},N(Ge,!0).concat(ie(!0))):o("div",{class:"vxe-upload--file-more-list"},[v(!0),qe?o(Ja,{name:`vxe-upload--drag-list${K?"":"-disabled"}`,tag:"div",class:"vxe-upload--file-list"},{default:()=>vt(Ge,!1)}):o("div",{class:"vxe-upload--file-list"},vt(Ge,!0))]),qe?o("div",{ref:S,class:"vxe-upload--drag-line"}):Mt(),xe?o("div",{class:"vxe-upload--drag-placeholder"},Wt("vxe.upload.dragPlaceholder")):Mt()])}},onShow(){w.showMorePopup=!0},onHide(){w.showMorePopup=!1}})},ht=(ye,P,q)=>{const{showMorePopup:Pe}=w,qe=D.value,Ze=C.value,K=Pe?Ze:qe;if(!K)return;const xe=K.getBoundingClientRect(),Ne=h.value,Ge=S.value,ot=Pe?Ge:Ne;if(ot){const it=P.getBoundingClientRect();ot.style.display="block",ot.style.top=`${Math.max(1,it.y-xe.y)}px`,ot.style.left=`${Math.max(1,it.x-xe.x)}px`,ot.style.height=`${it.height}px`,ot.style.width=`${it.width-1}px`,ot.setAttribute("drag-pos",q)}},Ot=()=>{const ye=h.value,P=S.value;ye&&(ye.style.display=""),P&&(P.style.display="")},ut=ye=>{ye.stopPropagation(),ye.dataTransfer&&ye.dataTransfer.setDragImage(uv(),0,0);const P=ye.currentTarget,q=P.parentElement,Pe=n.findIndexOf(Array.from(q.children),qe=>P===qe);w.isDragMove=!0,w.dragIndex=Pe,setTimeout(()=>{w.isDragMove=!1},500)},wt=ye=>{ye.stopPropagation(),ye.preventDefault();const{dragIndex:P}=w;if(P===-1)return;const q=R.value,Pe=ye.currentTarget,qe=Pe.parentElement,Ze=n.findIndexOf(Array.from(qe.children),xe=>Pe===xe);let K="";if(q?K=ye.clientX-Pe.getBoundingClientRect().x<Pe.clientWidth/2?"left":"right":K=ye.clientY-Pe.getBoundingClientRect().y<Pe.clientHeight/2?"top":"bottom",P===Ze){ht(ye,Pe,K);return}ht(ye,Pe,K),V.prevDragIndex=Ze,V.prevDragPos=K},mt=ye=>{const{fileList:P,dragIndex:q}=w,{prevDragIndex:Pe,prevDragPos:qe}=V,Ze=q,K=Pe,xe=qe==="bottom"||qe==="right"?1:0,Ne=P[Ze],Ge=P[K];if(Ne&&Ge){P.splice(Ze,1);const it=n.findIndexOf(P,Tt=>Ge===Tt)+xe;P.splice(it,0,Ne),ce("sort-dragend",{oldItem:Ne,newItem:Ge,dragPos:qe,offsetIndex:xe,_index:{newIndex:it,oldIndex:Ze}},ye)}Ot(),w.dragIndex=-1},Rt=ye=>{d&&ye.stopPropagation(),w.isActivated=!0},Vt=ye=>{const{pasteToUpload:P}=e,{isActivated:q}=w;if(!q||!P)return;const Pe=ye.clipboardData||ye.originalEvent.clipboardData;if(!Pe)return;const{items:qe}=Pe;if(!qe)return;const Ze=lt(qe);Ze.length&&(ye.preventDefault(),Ye(ye,Ze))},he=ye=>{const P=D.value,q=C.value;let Pe=Qn(ye,P).flag;if(!Pe&&q){const qe=q.parentElement||q,Ze=qe&&qe.parentElement;Pe=Qn(ye,Ze).flag}w.isActivated=Pe},$e=()=>{w.isActivated=!1};Object.assign(oe,{dispatchEvent:ce,choose(){return ne(null)},submit(ye){const{maxSimultaneousUploads:P}=e,q=n.toNumber(P||1)||1,{fileList:Pe,fileCacheMaps:qe}=w,Ze=Pe.filter(Ne=>{const Ge=re(Ne),ot=qe[Ge];return ot&&(ot.status==="pending"||ye&&ot.status==="error")}),K=Ne=>{const Ge=re(Ne),ot=qe[Ge];if(ot){const it=ot.file;if(it&&(ot.status==="pending"||ye&&ot.status==="error"))return ot.loading=!0,ot.percent=0,ae(Ne,it).then(xe)}return xe()},xe=()=>{if(Ze.length){const Ne=Ze[0];return Ze.splice(0,1),K(Ne).then(xe)}return Promise.resolve()};return Promise.all(Ze.splice(0,q).map(K)).then(()=>{})}},{});const vt=(ye,P)=>{const{showRemoveButton:q,showDownloadButton:Pe,showProgress:qe,progressText:Ze,showPreview:K,showErrorStatus:xe,dragSort:Ne,autoSubmit:Ge,showSubmitButton:ot}=e,{fileCacheMaps:it}=w,Tt=x.value,zt=i.value,_t=O.value,Fe=$.value,X=a.corner,Ce={};return Ne&&ye.length>1&&(Ce.onDragstart=ut,Ce.onDragover=wt,Ce.onDragend=mt),ye.map((at,gt)=>{const St=re(at),bt=it[St];let yt=!1,xt=!1,Ct=!1;const $t=`${at[_t]||""}`;return bt&&(yt=bt.loading,xt=bt.status==="error",Ct=bt.status==="pending"),o("div",Object.assign({key:Ne?St:gt,class:["vxe-upload--file-item",{"is--preview":K,"is--loading":yt,"is--pending":Ct,"is--error":xt}],fileid:St,draggable:Ne?!0:null},Ce),[o("div",{class:"vxe-upload--file-item-icon"},[o("i",{class:Yt()[`UPLOAD_FILE_TYPE_${`${at[Fe]}`.toLocaleUpperCase()}`]||Yt().UPLOAD_FILE_TYPE_DEFAULT})]),o("div",{class:"vxe-upload--file-item-name",title:$t,onClick(on){!yt&&!xt&&Ae(on,at)}},$t),yt?o("div",{class:"vxe-upload--file-item-loading-icon"},[o("i",{class:Yt().UPLOAD_LOADING})]):Mt(),qe&&yt&&bt?o("div",{class:"vxe-upload--file-item-loading-text"},Ze?n.toFormatString(`${n.isFunction(Ze)?Ze({}):Ze}`,{percent:bt.percent}):Wt("vxe.upload.uploadProgress",[bt.percent])):Mt(),!yt&&(xt&&xe||Ct&&ot&&!Ge)?o("div",{class:"vxe-upload--file-item-rebtn"},[o(lo,{icon:xt?Yt().UPLOAD_IMAGE_RE_UPLOAD:Yt().UPLOAD_IMAGE_UPLOAD,mode:"text",status:"primary",content:Wt(xt?"vxe.upload.reUpload":"vxe.upload.manualUpload"),onClick(){Re(at)}})]):Mt(),o("div",{class:"vxe-upload--file-item-btn-wrapper"},[X?o("div",{class:"vxe-upload--file-item-corner"},mn(X({option:at,isMoreView:P,readonly:zt}))):Mt(),Pe&&!(yt||Ct)?o("div",{class:"vxe-upload--file-item-download-btn",onClick(on){de(on,at)}},[o("i",{class:Yt().UPLOAD_FILE_DOWNLOAD})]):Mt(),q&&!zt&&!Tt&&!yt?o("div",{class:"vxe-upload--file-item-remove-btn",onClick(on){B(on,at,gt)}},[o("i",{class:Yt().UPLOAD_FILE_REMOVE})]):Mt()])])})},v=ye=>{const{showUploadButton:P,buttonText:q,buttonIcon:Pe,showButtonText:qe,showButtonIcon:Ze,autoHiddenButton:K}=e,xe=x.value,Ne=i.value,Ge=J.value,ot=W.value,it=z.value,Tt=a.default,zt=a.tip||a.hint;return Ne||!P?Mt():o("div",{class:"vxe-upload--file-action"},[K&&it?Mt():o("div",{class:"vxe-upload--file-action-btn",onClick:se},Tt?mn(Tt({$upload:oe})):[o(lo,{class:"vxe-upload--file-action-button",content:ye||qe?q?`${n.isFunction(q)?q({}):q}`:Wt("vxe.upload.fileBtnText"):"",icon:Ze?Pe||Yt().UPLOAD_FILE_ADD:"",disabled:xe})]),Ge&&(ot||zt)?o("div",{class:"vxe-upload--file-action-tip"},zt?mn(zt({$upload:oe})):`${ot}`):Mt()])},L=()=>{const{showList:ye,moreConfig:P,dragSort:q}=e,{fileList:Pe,isDragMove:qe}=w,Ze=fe.value,{maxCount:K,showMoreButton:xe,layout:Ne}=Ze,Ge=Ne==="horizontal";let ot=Pe,it=0;return K&&Pe.length>K&&(it=Pe.length-K,ot=Pe.slice(0,K)),o("div",{key:"all",class:"vxe-upload--file-wrapper"},ye?[xe&&P&&Ge?Mt():v(!0),ot.length||xe&&Ge?o("div",{class:["vxe-upload--file-list-wrapper",{"is--horizontal":Ge}]},[ot.length?q?o(Ja,{name:`vxe-upload--drag-list${qe?"":"-disabled"}`,tag:"div",class:"vxe-upload--file-list"},{default:()=>vt(ot,!1)}):o("div",{class:"vxe-upload--file-list"},vt(ot,!1)):Mt(),xe&&it?o("div",{class:"vxe-upload--file-over-more"},[o(lo,{mode:"text",content:Wt("vxe.upload.moreBtnText",[Pe.length]),status:"primary",onClick:et})]):Mt(),xe&&P&&Ge?v(!1):Mt()]):Mt()]:[v(!1)])},N=(ye,P)=>{const{showRemoveButton:q,showProgress:Pe,progressText:qe,showPreview:Ze,showErrorStatus:K,dragSort:xe,autoSubmit:Ne,showSubmitButton:Ge}=e,{fileCacheMaps:ot}=w,it=x.value,Tt=i.value,zt=Q.value,_t=ge.value,Fe=a.corner,X={onMousedown:Rt};return xe&&ye.length>1&&(X.onDragstart=ut,X.onDragover=wt,X.onDragend=mt),ye.map((Ce,at)=>{const gt=re(Ce),St=ot[gt];let bt=!1,yt=!1,xt=!1;return St&&(bt=St.loading,yt=St.status==="error",xt=St.status==="pending"),o("div",Object.assign({key:xe?gt:at,class:["vxe-upload--image-item",{"is--preview":Ze,"is--circle":zt.circle,"is--loading":bt,"is--pending":xt,"is--error":yt}],fileid:gt,draggable:xe?!0:null},X),[o("div",{class:"vxe-upload--image-item-box",style:P?null:_t,onClick(Ct){!bt&&!yt&&_e(Ct,Ce,at)}},[bt&&St?o("div",{class:"vxe-upload--image-item-loading"},[o("div",{class:"vxe-upload--image-item-loading-icon"},[o("i",{class:Yt().UPLOAD_LOADING})]),Pe?o("div",{class:"vxe-upload--image-item-loading-text"},qe?n.toFormatString(`${n.isFunction(qe)?qe({}):qe}`,{percent:St.percent}):Wt("vxe.upload.uploadProgress",[St.percent])):Mt()]):Mt(),o("div",{class:"vxe-upload--image-item-img-wrapper",title:Wt("vxe.upload.viewItemTitle")},[o("img",{class:"vxe-upload--image-item-img",src:be(Ce)})]),!bt&&(yt&&K||xt&&Ge&&!Ne)?o("div",{class:"vxe-upload--image-item-rebtn"},[o(lo,{icon:yt?Yt().UPLOAD_IMAGE_RE_UPLOAD:Yt().UPLOAD_IMAGE_UPLOAD,mode:"text",status:"primary",content:Wt(yt?"vxe.upload.reUpload":"vxe.upload.manualUpload"),onClick(){Re(Ce)}})]):Mt(),o("div",{class:"vxe-upload--image-item-btn-wrapper",onClick(Ct){Ct.stopPropagation()}},[Fe?o("div",{class:"vxe-upload--file-item-corner"},mn(Fe({option:Ce,isMoreView:P,readonly:Tt}))):Mt(),q&&!Tt&&!it&&!bt?o("div",{class:"vxe-upload--image-item-remove-btn",onClick(Ct){Ct.stopPropagation(),B(Ct,Ce,at)}},[o("i",{class:Yt().UPLOAD_IMAGE_REMOVE})]):Mt()])])])})},ie=ye=>{const{showUploadButton:P,buttonText:q,buttonIcon:Pe,showButtonText:qe,showButtonIcon:Ze,autoHiddenButton:K}=e,xe=i.value,Ne=J.value,Ge=W.value,ot=z.value,it=ge.value,Tt=a.default,zt=a.tip||a.hint;return xe||!P||K&&ot?Mt():o("div",{key:"action",class:"vxe-upload--image-action"},[o("div",{class:"vxe-upload--image-action-btn",onClick:se},Tt?Tt({$upload:oe}):[o("div",{class:"vxe-upload--image-action-box",style:ye?null:it},[Ze?o("div",{class:"vxe-upload--image-action-icon"},[o("i",{class:Pe||Yt().UPLOAD_IMAGE_ADD})]):Mt(),ye||qe?o("div",{class:"vxe-upload--image-action-content"},q?`${n.isFunction(q)?q({}):q}`:Wt("vxe.upload.imgBtnText")):Mt(),Ne&&(Ge||zt)?o("div",{class:"vxe-upload--image-action-hint"},zt?mn(zt({$upload:oe})):`${Ge}`):Mt()])])])},Me=()=>{const{showList:ye,dragSort:P}=e,{fileList:q,isDragMove:Pe}=w,qe=fe.value,{maxCount:Ze,showMoreButton:K}=qe;let xe=q,Ne=0;return Ze&&q.length>Ze&&(Ne=q.length-Ze,xe=q.slice(0,Ze)),o("div",{key:"image",class:"vxe-upload--image-wrapper"},ye?[P?o(Ja,{name:`vxe-upload--drag-list${Pe?"":"-disabled"}`,tag:"div",class:"vxe-upload--image-list"},{default:()=>N(xe,!1).concat([K&&Ne?o("div",{key:"om",class:"vxe-upload--image-over-more"},[o(lo,{mode:"text",content:Wt("vxe.upload.moreBtnText",[q.length]),status:"primary",onClick:et})]):Mt(),ie(!1)])}):o("div",{class:"vxe-upload--image-list"},N(xe,!1).concat([K&&Ne?o("div",{class:"vxe-upload--image-over-more"},[o(lo,{mode:"text",content:Wt("vxe.upload.moreBtnText",[q.length]),status:"primary",onClick:et})]):Mt(),ie(!1)]))]:[o("div",{class:"vxe-upload--image-list"},[ie(!1)])])},He=()=>{const{showErrorStatus:ye,dragToUpload:P,pasteToUpload:q,dragSort:Pe}=e,{isDragUploadStatus:qe,showMorePopup:Ze,isActivated:K,dragIndex:xe}=w,Ne=p.value,Ge=x.value,ot=i.value,it=R.value,Tt={onMousedown:Rt};return P&&xe===-1&&(Tt.onDragover=Ke,Tt.onDragleave=Te,Tt.onDrop=Qe),o("div",Object.assign({ref:D,class:["vxe-upload",{[`size--${Ne}`]:Ne,"is--active":K,"is--readonly":ot,"is--disabled":Ge,"is--paste":q,"show--error":ye,"is--drag":qe}]},Tt),[it?Me():L(),Pe?o("div",{ref:h,class:"vxe-upload--drag-line"}):Mt(),qe&&!Ze?o("div",{class:"vxe-upload--drag-placeholder"},Wt("vxe.upload.dragPlaceholder")):Mt()])},Ve=st(0);return Dt(()=>e.modelValue?e.modelValue.length:0,()=>{Ve.value++}),Dt(()=>e.modelValue,()=>{Ve.value++}),Dt(Ve,()=>{Y()}),Ln(()=>{e.multiple&&e.singleMode&&To("vxe.error.errConflicts",["[upload] multiple","single-mode"]),e.imageStyle&&ml("vxe.error.delProp",["[upload] image-style","image-config"]),e.dragSort&&bg(),At.on(oe,"paste",Vt),At.on(oe,"mousedown",he),At.on(oe,"blur",$e)}),jn(()=>{w.isDragUploadStatus=!1,At.off(oe,"paste"),At.off(oe,"mousedown"),At.off(oe,"blur")}),Y(),oe.renderVN=He,oe},render(){return this.renderVN()}}),Gx=Object.assign({},Hc,{install(e){e.component(Hc.name,Hc)}});dn.use(Gx);We.component(Hc);We.saveFile=Wx;We.readFile=Yg;let La=null,ws=null;const Hu={};function Yx(){return La||(La=document.createElement("canvas"),La.style.position="absolute",La.style.top="0",La.style.left="0"),La}function _u(e){if(e){const t=e.parentNode;t&&t.removeChild(e)}}function qx(e,t){const l=`${t}_${e}`;if(!Hu[l]){ws||(ws=document.createElement("span")),ws.parentNode||document.body.append(ws),ws.textContent=e,ws.style.fontSize=rn(t);const a=ws.offsetWidth,u=ws.offsetHeight;Hu[l]={width:a,height:u}}return Hu[l]}function Ux(e){let t=0,l=0;return e.forEach(a=>{t=Math.max(a.width,t),l=Math.max(a.height,l)}),{contentWidth:t,contentHeight:l}}function Kx(e,t){const{gap:l}=t,[a=0,u=0]=l?n.isArray(l)?l:[l,l]:[],r=e+n.toNumber(a),d=e+n.toNumber(u);return{canvasWidth:r,canvasHeight:d}}function er(e,t,l){return(e.font?e.font[t]:"")||(l.font?l.font[t]:"")}function ju(e,t,l){const{offset:a}=l,u=n.toValueString(e.textContent),r=n.toNumber(er(e,"fontSize",l)||t)||14,[d=0,m=0]=a?n.isArray(a)?a:[a,a]:[],{width:p,height:D}=qx(u,r);return{text:u,fontSize:r,font:e.font,width:p+n.toNumber(d),height:D+n.toNumber(m)}}function Xx(e,t,l){const a=er(t,"fontWeight",l);e.fillStyle=`${er(t,"color",l)||"rgba(0, 0, 0, 0.15)"}`,e.font=[er(t,"fontStyle",l)||"normal",a==="bold"||a==="bolder"?"bold":"",rn(t.fontSize),er(t,"fontFamily",l)||"sans-serif"].join(" ")}function Zx(e,t,l){const a=Object.assign({},l),{rotate:u}=a,r=n.toNumber(u),d=(n.isArray(e)?e:[e]).map(m=>m?m.textContent?ju(m,t,a):ju({textContent:`${m}`},t,a):ju({textContent:""},t,a));return _u(ws),new Promise(m=>{const p=Yx();p.parentNode||document.body.append(p);const D=p.getContext("2d");if(D&&d.length){const{contentWidth:C,contentHeight:h}=Ux(d),{canvasWidth:S,canvasHeight:w}=Kx(C,a);p.width=S,p.height=w;const V=(S-C)/2,g=(w-h)/2,i=V+C/2,x=g+h/2;D.save(),D.translate(i,x),D.rotate(r*Math.PI/180),D.translate(-i,-x);let k=0;d.forEach(R=>{const O=er(R,"align",a);Xx(D,R,a),D.fillText(R.text,V+(O==="center"?(C-R.width)/2:0),g+(h+h)/2+k,C),k+=R.height}),D.restore(),m(p.toDataURL()),_u(p)}else m(""),_u(p)})}const _c=pn({name:"VxeWatermark",props:{width:String,height:String,imageUrl:String,rotate:{type:[Number,String],default:()=>U().watermark.rotate},gap:{type:[Array,Number,String],default:()=>n.clone(U().watermark.gap,!0)},content:[String,Array],font:Object,offset:Object,zIndex:[String,Number]},emits:[],setup(e,t){const{emit:l}=t,a=n.uniqueId(),u=st(),r=ln({markUrl:""}),d={refElem:u},m=j(()=>n.assign({},n.clone(U().watermark.font,!0),e.font)),p=j(()=>{const{width:i,height:x,zIndex:k}=e,{markUrl:R}=r,O={};return i&&(O.width=rn(i)),x&&(O.height=rn(x)),R&&(O.backgroundImage=`url(${R})`),k&&(O.zIndex=k),O}),D={},C={xID:a,props:e,context:t,reactData:r,getRefMaps:()=>d,getComputeMaps:()=>D},S={dispatchEvent:(i,x,k)=>{l(i,bn(k,{$watermark:C},x))}},w=()=>{const{content:i,gap:x,rotate:k,offset:R}=e,O=u.value,$=m.value;O&&i&&Zx(i,getComputedStyle(O).fontSize,{font:$,rotate:k,gap:x,offset:R}).then(A=>{r.markUrl=A})};Object.assign(C,S,{});const g=()=>{const i=p.value;return o("div",{ref:u,class:"vxe-watermark",style:i})};return Dt(()=>e.imageUrl,()=>{w()}),Dt(()=>e.content,()=>{w()}),Dt(()=>e.gap,()=>{w()}),Dt(()=>e.rotate,()=>{w()}),Dt(()=>e.width,()=>{w()}),Dt(()=>e.height,()=>{w()}),Dt(()=>e.font,()=>{w()}),Ln(()=>{w(),At.on(C,"resize",n.throttle(()=>{w()},300,{trailing:!0,leading:!0}))}),jn(()=>{At.off(C,"resize")}),C.renderVN=g,C},render(){return this.renderVN()}}),Jx=Object.assign({},_c,{install(e){e.component(_c.name,_c)}});dn.use(Jx);We.component(_c);const Qx={load(e){return au(),Wl.globalWatermark=Object.assign({},e),Promise.resolve()},clear(){return Wl.globalWatermark=null,Promise.resolve()}};We.watermark=Qx;const{setI18n:ey,setLanguage:ty,setTheme:ny,setConfig:Cw}=We,qg="zh-CN";ey(qg,iv);ty(qg);ny("light");const{getConfig:Ug}=We;function En(e){return e&&e.enabled!==!1}function Hl(e){return e==null||e===""}function Kg(e){const t=e.name,l=n.lastIndexOf(t,"."),a=t.substring(l+1,t.length).toLowerCase();return{filename:t.substring(0,l),type:a}}function Xg(){return Ta.getNext()}function Zg(){return Ta.getCurrent()}function tr(e){return e&&e.children&&e.children.length>0}function as(e,t){if(n.eqNull(e))return"";const l=Ug().translate;return`${l?l(""+e,t):e}`}function Go(e,t){return""+(Hl(e)?t?Ug().emptyCell:"":e)}function ns(e){return e===""||n.eqNull(e)}const Jg="4.17.7";We.version=Jg;We.tableVersion=Jg;We.setConfig({emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,resizeConfig:{},resizableConfig:{dragMode:"auto",showDragTip:!0,isSyncAutoHeight:!0,isSyncAutoWidth:!0,minHeight:18},radioConfig:{strict:!0},rowDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},columnDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},headerTooltipConfig:{enterable:!0},footerTooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single",theme:"beautify"},columnConfig:{autoOptions:{isCalcHeader:!0,isCalcBody:!0,isCalcFooter:!0},maxFixedSize:4},cellConfig:{padding:!0},headerCellConfig:{height:"unset"},footerCellConfig:{height:"unset"},menuConfig:{destroyOnClose:!0},customConfig:{allowVisible:!0,allowResizable:!0,allowFixed:!0,allowSort:!0,showFooter:!0,placement:"top-right",storeOptions:{visible:!0,resizable:!0,sort:!0,fixed:!0},modalOptions:{showMaximize:!0,mask:!0,lockView:!0,resize:!0,escClosable:!0},drawerOptions:{mask:!0,lockView:!0,escClosable:!0,resize:!0}},sortConfig:{showIcon:!0,allowClear:!0,allowBtn:!0,iconLayout:"vertical"},filterConfig:{destroyOnClose:!0,multiple:!0,showIcon:!0},floatingFilterConfig:{},aggregateConfig:{padding:!0,rowField:"id",parentField:"_X_ROW_PARENT_KEY",childrenField:"_X_ROW_CHILDREN",mapChildrenField:"_X_ROW_CHILD_LIST",indent:20,showIcon:!0,maxGroupSize:4,showAggFuncTitle:!0},treeConfig:{padding:!0,rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0,showRootLine:!0},expandConfig:{showIcon:!0,mode:"fixed"},editConfig:{showIcon:!0,showAsterisk:!0,autoFocus:!0},importConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},printConfig:{},mouseConfig:{extension:!0},keyboardConfig:{isAll:!0,isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0,selectCellByBody:!0,extendDirection:{top:!0,left:!0,bottom:!0,right:!0}},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},virtualXConfig:{gt:24,preSize:1,oSize:0},virtualYConfig:{gt:100,preSize:1,oSize:0},scrollbarConfig:{x:{visible:!0},y:{visible:!0}}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,showLoading:!0,showResponseMsg:!0,showActionMsg:!0,response:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{},gantt:{}});const $n="vxe-table-icon-";We.setIcon({TABLE_SORT_ASC:$n+"caret-up",TABLE_SORT_DESC:$n+"caret-down",TABLE_FILTER_NONE:$n+"funnel",TABLE_FILTER_MATCH:$n+"funnel",TABLE_EDIT:$n+"edit",TABLE_TITLE_PREFIX:$n+"question-circle-fill",TABLE_TITLE_SUFFIX:$n+"question-circle-fill",TABLE_TREE_LOADED:$n+"spinner roll",TABLE_TREE_OPEN:$n+"caret-right rotate90",TABLE_TREE_CLOSE:$n+"caret-right",TABLE_EXPAND_LOADED:$n+"spinner roll",TABLE_EXPAND_OPEN:$n+"arrow-right rotate90",TABLE_EXPAND_CLOSE:$n+"arrow-right",TABLE_CHECKBOX_CHECKED:$n+"checkbox-checked-fill",TABLE_CHECKBOX_UNCHECKED:$n+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:$n+"checkbox-indeterminate-fill",TABLE_CHECKBOX_DISABLED_UNCHECKED:$n+"checkbox-unchecked-fill",TABLE_RADIO_CHECKED:$n+"radio-checked-fill",TABLE_RADIO_UNCHECKED:$n+"radio-unchecked",TABLE_RADIO_DISABLED_UNCHECKED:$n+"radio-unchecked-fill",TABLE_CUSTOM_SORT:$n+"drag-handle",TABLE_MENU_OPTIONS:$n+"arrow-right",TABLE_DRAG_ROW:$n+"drag-handle",TABLE_DRAG_COLUMN:$n+"drag-handle",TABLE_DRAG_STATUS_ROW:$n+"sort",TABLE_DRAG_STATUS_SUB_ROW:$n+"add-sub",TABLE_DRAG_STATUS_AGG_GROUP:$n+"grouping",TABLE_DRAG_STATUS_AGG_VALUES:$n+"values",TABLE_DRAG_STATUS_COLUMN:$n+"swap",TABLE_DRAG_DISABLED:$n+"no-drop",TABLE_ROW_GROUP_OPEN:$n+"arrow-right rotate90",TABLE_ROW_GROUP_CLOSE:$n+"arrow-right",TABLE_AGGREGATE_GROUPING:$n+"grouping",TABLE_AGGREGATE_VALUES:$n+"values",TABLE_AGGREGATE_SORT:$n+"drag-handle",TABLE_AGGREGATE_DELETE:$n+"close",TOOLBAR_TOOLS_REFRESH:$n+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:$n+"repeat roll",TOOLBAR_TOOLS_IMPORT:$n+"upload",TOOLBAR_TOOLS_EXPORT:$n+"download",TOOLBAR_TOOLS_PRINT:$n+"print",TOOLBAR_TOOLS_FULLSCREEN:$n+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:$n+"minimize",TOOLBAR_TOOLS_CUSTOM:$n+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:$n+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:$n+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:$n+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:$n+"fixed-right-fill"});We.setTheme;We.getTheme;We.setConfig;We.getConfig;We.setIcon;We.getIcon;We.setLanguage;We.setI18n;We.getI18n;We.globalEvents;We.globalResize;We.renderer;We.validators;We.menus;We.formats;We.commands;We.interceptor;We.clipboard;We.log;We.hooks;We.use;const oy=e=>We.setConfig(e);We.setup=oy;const ly=e=>We.setConfig(e);We.config=ly;const sy=(e,t)=>We.getI18n(e,t);We.t=sy;const ay=(e,t)=>as(e,t);We._t=ay;const Il=tu,{log:Qg}=We,em="table v4.17.7",cn=Qg.create("warn",em),en=Qg.create("error",em),{getI18n:ry,formats:Wf,renderer:iy}=We;class dd{constructor(t,l,{renderHeader:a,renderCell:u,renderFooter:r,renderData:d}={}){const m=t.props,p=t.xeGrid,D=t.xeGantt,C=p||D,{field:h,editRender:S,filterRender:w}=l,V=l.colId||n.uniqueId("col_"),g=l.formatter,i=n.isBoolean(l.visible)?l.visible:!0,x=En(w)?iy.get(w.name):null,k=x?x.createTableFilterOptions:null,R=Xc(l.filters,V),O=["seq","checkbox","radio","expand","html"];if(l.type&&O.indexOf(l.type)===-1&&cn("vxe.error.errProp",[`type=${l.type}`,O.join(", ")]),(n.isBoolean(l.cellRender)||l.cellRender&&!n.isObject(l.cellRender))&&cn("vxe.error.errProp",[`column.cell-render=${l.cellRender}`,"column.cell-render={}"]),(n.isBoolean(l.editRender)||l.editRender&&!n.isObject(l.editRender))&&cn("vxe.error.errProp",[`column.edit-render=${l.editRender}`,"column.edit-render={}"]),l.type==="expand"){const{treeConfig:$}=m,{computeTreeOpts:A}=t.getComputeMaps(),M=A.value;$&&(M.showLine||M.line)&&en("vxe.error.errConflicts",["tree-config.showLine","column.type=expand"])}if(g){if(n.isString(g)){const $=Wf.get(g)||n[g];(!$||!n.isFunction($.tableCellFormatMethod||$.cellFormatMethod))&&en("vxe.error.notFormats",[g])}else if(n.isArray(g)){const $=Wf.get(g[0])||n[g[0]];(!$||!n.isFunction($.tableCellFormatMethod||$.cellFormatMethod))&&en("vxe.error.notFormats",[g[0]])}}if(l.aggFunc&&!t.handlePivotTableAggregateData&&l.aggFunc!==!0&&en("vxe.error.errProp",[`column.agg-func=${l.aggFunc}`,"column.agg-func=true"]),h&&S&&(S.startField&&`${S.startField}`.indexOf(h)>=0&&en("vxe.error.modelConflicts",[`field=${h}`,`edit-render.startField=${S.startField}`]),S.endField&&`${S.endField}`.indexOf(h)>=0&&en("vxe.error.modelConflicts",[`field=${h}`,`edit-render.endField=${S.endField}`])),Object.assign(this,{type:l.type,property:l.field,field:h,title:l.title,width:l.width,minWidth:l.minWidth,maxWidth:l.maxWidth,resizable:l.resizable,fixed:l.fixed,align:l.align,headerAlign:l.headerAlign,footerAlign:l.footerAlign,showOverflow:l.showOverflow,showHeaderOverflow:l.showHeaderOverflow,showFooterOverflow:l.showFooterOverflow,className:l.className,headerClassName:l.headerClassName,footerClassName:l.footerClassName,formatter:g,headerFormatter:l.headerFormatter,footerFormatter:l.footerFormatter,padding:l.padding,verticalAlign:l.verticalAlign,sortable:l.sortable,sortBy:l.sortBy,sortType:l.sortType,filters:R,filterMultiple:n.isBoolean(l.filterMultiple)?l.filterMultiple:!0,filterMethod:l.filterMethod,filterResetMethod:l.filterResetMethod,filterRecoverMethod:l.filterRecoverMethod,filterRender:w,floatingFilters:l.floatingFilters,rowGroupNode:l.rowGroupNode,treeNode:l.treeNode,dragSort:l.dragSort,rowResize:l.rowResize,cellType:l.cellType,cellRender:l.cellRender,editRender:S,contentRender:l.contentRender,headerExportMethod:l.headerExportMethod,exportMethod:l.exportMethod,footerExportMethod:l.footerExportMethod,titleHelp:l.titleHelp,titlePrefix:l.titlePrefix,titleSuffix:l.titleSuffix,aggFunc:l.aggFunc,params:l.params,id:V,parentId:null,visible:i,defaultParentId:null,halfVisible:!1,defaultVisible:i,defaultFixed:l.fixed,defaultAggGroup:l.aggGroup,defaultAggFunc:l.aggFunc,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderAggFn:"",renderFixed:"",renderVisible:!1,renderWidth:0,renderHeight:0,renderResizeWidth:0,renderAutoWidth:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:a||l.renderHeader,renderCell:u||l.renderCell,renderFooter:r||l.renderFooter,renderData:d,slots:l.slots}),k&&(!R||!R.length)&&(this.filters=Xc(k({$table:t,column:this}),V)),C){const{computeProxyOpts:$}=C.getComputeMaps(),A=$.value;A.beforeColumn&&A.beforeColumn({$table:t,$grid:p,$gantt:D,column:this})}}getTitle(){return as(this.title||(this.type==="seq"?ry("vxe.table.seqTitle"):""))}getKey(){const{type:t}=this;return this.field||(t?`type=${t}`:null)}update(t,l){t!=="filters"&&(t==="field"&&(this.property=l),this[t]=l)}}const Wu={};let nr;function tm(){return nr||(nr=new Image,nr.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),nr}function fd(){return nr||tm()}function Ys(e,t){return e?n.isFunction(e)?e(t):e:""}function nm(e){return Wu[e]||(Wu[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),Wu[e]}function pd(e){return e&&/^\d+(px)?$/.test(e)}function Xa(e){return e&&/^\d+%$/.test(e)}function Ss(e,t){return!!(e&&e.className&&e.className.match&&e.className.match(nm(t)))}function nl(e,t){e&&Ss(e,t)&&(e.className=e.className.replace(nm(t),""))}function Dl(e,t){e&&!Ss(e,t)&&(nl(e,t),e.className=`${e.className} ${t}`)}function ti(e){return e.ctrlKey||e.metaKey}function Js(e,t="px"){return n.isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function ys(e,t){return e?e.querySelector(t):null}function ru(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function Vr(e){return e?e.offsetHeight:0}function gd(e){if(e){const t=getComputedStyle(e),l=n.toNumber(t.paddingTop),a=n.toNumber(t.paddingBottom);return l+a}return 0}function oo(e,t){e&&(e.scrollTop=t)}function uo(e,t){e&&(e.scrollLeft=t)}function Nd(e,t){const l=t.type==="html"?e.innerText:e.textContent;e.getAttribute("title")!==l&&e.setAttribute("title",l)}function Gf(e,t,l){let a=e;if(!t||!t.length)return!1;const[u,r,d]=t;for(;a;){if(u===a||r&&a===r||d&&a===d)return!0;if(l&&a===l)return!1;a=a.parentElement}return!1}function Yn(e,t,l,a){let u,r=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;r&&r.nodeType&&r!==document;){if(l&&Ss(r,l)&&(!a||a(r)))u=r;else if(r===t)return{flag:l?!!u:!0,container:t,targetElem:u};r=r.parentNode}return{flag:!1}}function jc(e){const t=e.getBoundingClientRect(),l=t.top,a=t.left,{scrollTop:u,scrollLeft:r,visibleHeight:d,visibleWidth:m}=ru();return{boundingTop:l,top:u+l,boundingLeft:a,left:r+a,visibleHeight:d,visibleWidth:m}}const Yf="scrollIntoViewIfNeeded",qf="scrollIntoView";function cy(e){e&&(e[Yf]?e[Yf]():e[qf]&&e[qf]())}function uy(e,t){e&&e.dispatchEvent(new Event(t))}function Uf(){return{tZindex:0,currKeyField:"",isCurrDeepKey:!1,elemStore:{},scrollXStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},scrollYStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterGroupFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableFullGroupData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},fullDataRowIdData:{},visibleDataRowIdData:{},sourceDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},mergeHeaderList:[],mergeHeaderMaps:{},mergeHeaderCellMaps:{},mergeBodyList:[],mergeBodyMaps:{},mergeBodyCellMaps:{},mergeFooterList:[],mergeFooterMaps:{},mergeFooterCellMaps:{},rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},rowGroupExpandedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},selectCheckboxMaps:{},pendingRowMaps:{},insertRowMaps:{},removeRowMaps:{},cvCacheMaps:{},tHeaderHeight:0,tBodyHeight:0,tFooterHeight:0,teleportToWrapperElem:null,popupToWrapperElem:null,inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1}}const om=(e,t)=>{const l=[];return e.forEach(a=>{a.parentId=t?t.id:null,a.visible&&(a.children&&a.children.length&&a.children.some(u=>u.visible)?(l.push(a),l.push(...om(a.children,a))):l.push(a))}),l},dy=e=>{let t=1;const l=(r,d)=>{if(d&&(r.level=d.level+1,t<r.level&&(t=r.level)),r.children&&r.children.length&&r.children.some(m=>m.visible)){let m=0;r.children.forEach(p=>{p.visible&&(l(p,r),m+=p.colSpan)}),r.colSpan=m}else r.colSpan=1};e.forEach(r=>{r.level=1,l(r)});const a=[];for(let r=0;r<t;r++)a.push([]);return om(e).forEach(r=>{r.children&&r.children.length&&r.children.some(d=>d.visible)?r.rowSpan=1:r.rowSpan=t-r.level+1,a[r.level-1].push(r)}),a};function fy(e){const t=e.length,l=e[0].reduce((r,d)=>r+d.colSpan,0),a=[],u=[];for(let r=0;r<t;r++){const d=[],m=[];for(let p=0;p<l;p++)d.push(!1),m.push("");a.push(d),u.push(m)}for(let r=0;r<t;r++){let d=0;for(const m of e[r]){const{colSpan:p,rowSpan:D}=m;let C=-1;for(let h=d;h<=l-p;h++){let S=!0;for(let w=0;w<p;w++)if(a[r][h+w]){S=!1;break}if(S){C=h;break}}if(C===-1){for(let h=0;h<=l-p;h++){let S=!0;for(let w=0;w<p;w++)if(a[r][h+w]){S=!1;break}if(S){C=h;break}}if(C===-1)break}for(let h=r;h<r+D;h++)for(let S=C;S<C+p;S++)a[h][S]=!0,u[h][S]=m;d=C+p}}return u}function Ar(e,t,l){const a=e.internalData;return t||l?(a.intoRunScroll=!1,a.inVirtualScroll=!1,a.inWheelScroll=!1,a.inHeaderScroll=!1,a.inBodyScroll=!1,a.inFooterScroll=!1,a.scrollRenderType="",e.scrollTo(t,l)):e.clearScroll()}function ni(){return n.uniqueId("row_")}function py(e){return e.indexOf(".")>-1}function Ba(e){const{currKeyField:t}=e.internalData;return t}function Zt(e,t){const l=e.internalData,{isCurrDeepKey:a,currKeyField:u}=l;return t?iu((a?Ld:Bd)(t,u)):""}function Kf(e){const t=e.internalData,{isCurrDeepKey:l,currKeyField:a}=t,u=l?gy:my;return{rowKey:a,handleUpdateRowId(r){return r?u(r,a):""}}}function Do(e){const t=e.internalData,{isCurrDeepKey:l,currKeyField:a}=t,u=l?Ld:Bd;return{rowKey:a,handleGetRowId(r){return r?iu(u(r,a)):""}}}function iu(e){return n.eqNull(e)?"":encodeURIComponent(e)}function Ld(e,t){return n.get(e,t)}function gy(e,t){let l=iu(Ld(e,t));return ns(l)&&(l=ni(),n.set(e,t,l)),l}function Bd(e,t){return e[t]}function my(e,t){let l=iu(Bd(e,t));return ns(l)&&(l=ni(),e[t]=l),l}function ho(e,t){return t?n.isString(t)||n.isNumber(t)?e.getColumnByField(`${t}`):t:null}function Xf(e,t){if(t){const l=n.isString(t)||n.isNumber(t)?t:Zt(e,t);return e.getRowById(l)}return null}function Sl(e,t,l,a){return e.resizeHeight||t.height||l.height||e.height||a}function Zf(e){if(e){const t=getComputedStyle(e),l=n.toNumber(t.paddingLeft),a=n.toNumber(t.paddingRight);return l+a}return 0}function Hs(e){if(e){const t=getComputedStyle(e),l=n.toNumber(t.marginLeft),a=n.toNumber(t.marginRight);return e.offsetWidth+l+a}return 0}function Xc(e,t){return e&&(n.isArray(e)?e.map(({label:l,value:a,data:u,resetValue:r,checked:d})=>({label:l,value:a,data:u,resetValue:r,checked:!!d,_checked:!!d,_colId:t})):[])}function Jf(e){return e.map((t,l)=>l%2===0?Number(t)+1:".").join("")}function $o(e,t){return n.get(e,t.field)}function _l(e,t,l){return n.set(e,t.field,l)}function hn(e){if(e){const t=e.value;if(t)return t.$el||t}return null}function si(e){return e==="unset"?0:e||0}function Qf(e){const{$table:t,column:l,cell:a}=e,u=t.props,r=t.internalData,{computeResizableOpts:d}=t.getComputeMaps(),m=d.value,{minWidth:p}=m;if(p){const $=n.isFunction(p)?p(e):p;if($!=="auto")return Math.max(1,n.toNumber($))}const{elemStore:D}=r,{showHeaderOverflow:C}=u,{showHeaderOverflow:h,minWidth:S}=l,w=n.isUndefined(h)||n.isNull(h)?C:h,x=w==="title"||(w===!0||w==="tooltip")||w==="ellipsis",k=n.floor((n.toNumber(getComputedStyle(a).fontSize)||14)*1.8),R=Zf(a)+Zf(ys(a,".vxe-cell"));let O=k+R;if(x){const $=Hs(ys(a,".vxe-cell--drag-handle")),A=Hs(ys(a,".vxe-cell--checkbox")),M=Hs(ys(a,".vxe-cell--required-icon")),T=Hs(ys(a,".vxe-cell--edit-icon")),_=Hs(ys(a,".vxe-cell-title-prefix-icon")),z=Hs(ys(a,".vxe-cell-title-suffix-icon")),Z=Hs(ys(a,".vxe-cell--sort")),J=Hs(ys(a,".vxe-cell--filter"));O+=$+A+M+T+_+z+J+Z}if(S){const $=hn(D["main-body-scroll"]);if($){if(Xa(S)){const M=($.clientWidth-1)/100;return Math.max(O,Math.floor(n.toInteger(S)*M))}else if(pd(S))return Math.max(O,n.toInteger(S))}}return O}function Wc(e){return e&&(e.constructor===dd||e instanceof dd)}function oi(e){const t=[];return e.forEach(l=>{t.push(...l.children&&l.children.length?oi(l.children):[l])}),t}function hy(e,t,l){return Wc(t)?t:ln(new dd(e,t,l))}function lm(e,t,l){Object.keys(t).forEach(a=>{Dt(()=>t[a],u=>{l.update(a,u),e&&(a==="filters"?(e.setFilter(l,u),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(a)&&e.handleRefreshColumnQueue())})})}function sm(e,t,l,a){const{reactData:u}=e,{staticColumns:r}=u,d=t.parentNode,m=a?a.columnConfig:null,p=m?m.children:r;d&&p&&(l.defaultParentId=m?m.id:null,p.splice(n.arrayIndexOf(d.children,t),0,l),u.staticColumns=r.slice(0))}function am(e,t){const{reactData:l}=e,{staticColumns:a}=l,u=n.findTree(a,r=>r.id===t.id,{children:"children"});u&&u.items.splice(u.index,1),l.staticColumns=a.slice(0)}function ep(e,t){const{internalData:l}=e,{fullColumnIdData:a}=l;if(!t)return null;let u=t.parentId;for(;a[u];){const r=a[u].column;if(u=r.parentId,!u)return r}return t}function rm(e){const{children:t}=e;return t&&t.length?rm(n.first(t)):e}function vy(e){const{children:t}=e;return t&&t.length?rm(n.last(t)):e}function by(e){const{props:t,internalData:l}=e;l.initStatus=!1;const a=[e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow()];return e.clearFilter&&a.push(e.clearFilter()),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&a.push(e.clearSelected()),e.clearCellAreas&&t.mouseConfig&&a.push(e.clearCellAreas(),e.clearCopyCellArea()),Promise.all(a).then(()=>e.clearScroll())}function xy(e){return e.clearFilter&&e.clearFilter(),by(e)}function tp(e,t){const l=e.props,a=e.reactData,u=e.internalData,{computeLeftFixedWidth:r,computeRightFixedWidth:d,computeRowOpts:m,computeCellOpts:p,computeDefaultRowHeight:D}=e.getComputeMaps(),{showOverflow:C}=l,{scrollYLoad:h,scrollYTop:S}=a,{elemStore:w,afterFullData:V,fullAllDataRowIdData:g,isResizeCellHeight:i}=u,x=m.value,k=p.value,R=D.value,O=r.value,$=d.value,A=hn(w["main-body-scroll"]),M=Zt(e,t);if(A){const T=A.clientHeight,_=A.scrollTop,z=A.querySelector(`[rowid="${M}"]`);if(z){const Z=z.offsetTop+(h?S:0),J=z.clientHeight;if(Z<_||Z>_+T)return e.scrollTo(null,Z);if(Z+J>=T+_)return e.scrollTo(null,_+J)}else if(h){if(!(i||k.height||x.height)&&C)return e.scrollTo(null,(e.findRowIndexOf(V,t)-1)*R);const J=g[M]||{},W=J.resizeHeight||k.height||x.height||J.height||R,Q=J.oTop;return Q<_?e.scrollTo(null,Q-O-1):e.scrollTo(null,Q+W-(T-$-1))}}return Promise.resolve()}function np(e,t,l){const a=e.reactData,u=e.internalData,{computeLeftFixedWidth:r,computeRightFixedWidth:d}=e.getComputeMaps(),{scrollXLoad:m,scrollXLeft:p}=a,{elemStore:D,visibleColumn:C}=u,h=r.value,S=d.value,w=hn(D["main-body-scroll"]);if(t.fixed)return Promise.resolve();if(w){const V=w.clientWidth,g=w.scrollLeft;let i=null;if(l){const x=Zt(e,l);i=w.querySelector(`[rowid="${x}"] .${t.id}`)}if(i||(i=w.querySelector(`.${t.id}`)),i){const x=i.offsetLeft+(m?p:0),k=i.clientWidth;if(x<g+h)return e.scrollTo(x-h-1);if(x+k-g>V-S)return e.scrollTo(x+k-(V-S-1))}else if(m){let x=0;const k=t.renderWidth;for(let R=0;R<C.length;R++){const O=C[R];if(O===t||O.id===t.id)break;x+=O.renderWidth}return x<g?e.scrollTo(x-h-1):e.scrollTo(x+k-(V-S-1))}}return Promise.resolve()}function jl(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function im(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function cm(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function yy(e){switch(e.name){case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return!0}return!1}function Po(e){return e==null?[]:n.isArray(e)?e:[e]}const{getI18n:$r,getIcon:fo,renderer:jr,formats:op,renderEmptyElement:qs}=We;function Cy(e){const{$table:t,column:l}=e,a=l.titlePrefix||l.titleHelp;return a?o("span",{class:["vxe-cell-title-prefix-icon",a.iconStatus?`theme--${a.iconStatus}`:""],onMouseenter(u){t.triggerHeaderTitleEvent(u,a,e)},onMouseleave(u){t.handleTargetLeaveEvent(u)}},[o("i",{class:a.icon||fo().TABLE_TITLE_PREFIX})]):qs(t)}function wy(e){const{$table:t,column:l}=e,a=l.titleSuffix;return a?o("span",{class:["vxe-cell-title-suffix-icon",a.iconStatus?`theme--${a.iconStatus}`:""],onMouseenter(u){t.triggerHeaderTitleEvent(u,a,e)},onMouseleave(u){t.handleTargetLeaveEvent(u)}},[o("i",{class:a.icon||fo().TABLE_TITLE_SUFFIX})]):qs(t)}function lp(e){const{$table:t,column:l}=e,{context:a}=t,u=a.slots,r=t.props,{slots:d}=l,{dragConfig:m}=r,{computeRowDragOpts:p}=t.getComputeMaps(),D=p.value,{icon:C,trigger:h,disabledMethod:S}=D,w=S||(m?m.rowDisabledMethod:null),V=w&&w(e),g=(d?d.rowDragIcon||d["row-drag-icon"]:null)||u.rowDragIcon||u["row-drag-icon"],i={};return h!=="cell"&&(i.onMousedown=x=>{V||t.handleCellDragMousedownEvent(x,e)},i.onMouseup=t.handleCellDragMouseupEvent),o("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":V}]},i),g?t.callSlot(g,e):[o("i",{class:C||(m?m.rowIcon:"")||fo().TABLE_DRAG_ROW})])}function jo(e,t){const{$table:l,column:a,level:u}=e,{dragSort:r}=a,d=l.props,{treeConfig:m,dragConfig:p}=d,{computeRowOpts:D,computeRowDragOpts:C,computeTreeOpts:h}=l.getComputeMaps(),S=D.value,w=C.value,V=h.value,{showIcon:g,isPeerDrag:i,isCrossDrag:x,visibleMethod:k}=w,R=k||(p?p.rowVisibleMethod:null),O=[];return r&&S.drag&&(g||p&&p.showRowIcon)&&(!R||R(e))&&(m?V.transform&&(i||x||!u)&&O.push(lp(e)):O.push(lp(e))),O.concat(n.isArray(t)?t:[t])}function Ey(e){const{$table:t,column:l}=e,{context:a}=t,u=a.slots,{slots:r}=l,{computeColumnOpts:d,computeColumnDragOpts:m}=t.getComputeMaps(),p=d.value,D=m.value,{showIcon:C,icon:h,trigger:S,isPeerDrag:w,isCrossDrag:V,visibleMethod:g,disabledMethod:i}=D;if(p.drag&&C&&(!g||g(e))&&!l.fixed&&(w||V||!l.parentId)){const x=i&&i(e),k=(r?r.columnDragIcon||r["column-drag-icon"]:null)||u.columnDragIcon||u["column-drag-icon"],R={};return S!=="cell"&&(R.onMousedown=O=>{x||t.handleHeaderCellDragMousedownEvent(O,e)},R.onMouseup=t.handleHeaderCellDragMouseupEvent),o("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":x}]},R),k?t.callSlot(k,e):[o("i",{class:h||fo().TABLE_DRAG_COLUMN})])}return qs(t)}function Kl(e,t){return[Cy(e),Ey(e),...n.isArray(t)?t:[t],wy(e)]}function Sy(e,t){return e.type==="html"&&n.isString(t)?o("span",{key:"ch",innerHTML:t}):o("span",{key:"ct"},Po(t))}function _s(e,t){const{$table:l,column:a}=e,u=l.props,r=l.reactData,{computeHeaderTooltipOpts:d}=l.getComputeMaps(),{showHeaderOverflow:m}=u,{isRowGroupStatus:p}=r,{showHeaderOverflow:D,slots:C}=a,h=C?C.title:null,w=d.value.showAll,V=n.eqNull(D)?m:D,g=V==="title",i=V===!0||V==="tooltip",x={};(g||i||w)&&(x.onMouseenter=R=>{r.isDragResize||(g?Nd(R.currentTarget,a):(i||w)&&l.triggerHeaderTooltipEvent(R,e))}),(i||w)&&(x.onMouseleave=R=>{r.isDragResize||(i||w)&&l.handleTargetLeaveEvent(R)});const k=Sy(a,t);return[o("span",Object.assign({class:"vxe-cell--title"},x),p&&a.aggFunc&&l.getPivotTableAggregateRenderColTitles?l.getPivotTableAggregateRenderColTitles(a,k):h?l.callSlot(h,e):[k])]}function Dy(e){const{$table:t,column:l,_columnIndex:a,items:u,row:r}=e,{slots:d,editRender:m,cellRender:p,footerFormatter:D}=l,C=m||p,h=d?d.footer:null;if(h)return t.callSlot(h,e);let S="";n.isArray(u)?S=u[a]:S=n.get(r,l.field);const w=Object.assign(e,{itemValue:S});if(D){if(n.isFunction(D))return[o("span",{class:"vxe-cell--label"},`${D(w)}`)];const V=n.isArray(D),g=V?op.get(D[0]):op.get(D),i=g?g.tableFooterCellFormatMethod:null;return i?[o("span",{class:"vxe-cell--label"},`${V?i(w,...D.slice(1)):i(w)}`)]:[o("span",{class:"vxe-cell--label"},"")]}if(C){const V=jr.get(C.name);if(V){const g=V.renderTableFooter||V.renderFooter;if(g)return Po(g(C,w))}}return[o("span",{class:"vxe-cell--label"},Go(S,1))]}function sp(e){const{$table:t,row:l,column:a}=e;return Go(t.getCellLabel(l,a),1)}function Ty(e){const{column:t,row:l,$table:a}=e,u=a.props,r=a.reactData,{isRowGroupStatus:d}=r,{editConfig:m}=u,{type:p,treeNode:D,rowGroupNode:C,editRender:h}=t,{computeEditOpts:S,computeCheckboxOpts:w,computeAggregateOpts:V}=a.getComputeMaps(),g=V.value,{mode:i}=g,x=w.value,k=S.value,R=D||d&&(i==="column"?t.field===l.groupField:C);switch(p){case"seq":return R?wn.renderDeepIndexCell(e):wn.renderSeqCell(e);case"radio":return R?wn.renderDeepRadioCell(e):wn.renderRadioCell(e);case"checkbox":return x.checkField?R?wn.renderDeepSelectionCellByProp(e):wn.renderCheckboxCellByProp(e):R?wn.renderDeepSelectionCell(e):wn.renderCheckboxCell(e);case"expand":return wn.renderExpandCell(e);case"html":return R?wn.renderDeepHTMLCell(e):wn.renderHTMLCell(e)}return m&&En(k)&&h?k.mode==="cell"?R?wn.renderDeepCellEdit(e):wn.renderCellEdit(e):R?wn.renderDeepRowEdit(e):wn.renderRowEdit(e):R?wn.renderDeepCell(e):wn.renderDefaultCell(e)}function My(e){const{column:t,$table:l}=e,a=l.props,{computeEditOpts:u}=l.getComputeMaps(),{editConfig:r}=a,d=u.value,{type:m,filters:p,sortable:D,editRender:C}=t;switch(m){case"seq":return wn.renderSeqHeader(e);case"radio":return wn.renderRadioHeader(e);case"checkbox":return wn.renderCheckboxHeader(e);case"html":if(p&&D)return wn.renderSortAndFilterHeader(e);if(D)return wn.renderSortHeader(e);if(p)return wn.renderFilterHeader(e);break}return r&&En(d)&&C?wn.renderEditHeader(e):p&&D?wn.renderSortAndFilterHeader(e):D?wn.renderSortHeader(e):p?wn.renderFilterHeader(e):wn.renderDefaultHeader(e)}function Oy(e){return wn.renderDefaultFooter(e)}const wn={createColumn(e,t){const{type:l}=t,a={renderHeader:My,renderCell:Ty,renderFooter:Oy};return l==="expand"&&(a.renderData=wn.renderExpandData),hy(e,t,a)},renderHeaderTitle(e){const{$table:t,column:l}=e,{slots:a,editRender:u,cellRender:r}=l,d=u||r,m=a?a.header:null;if(m)return _s(e,t.callSlot(m,e));if(d){const p=jr.get(d.name);if(p){const D=p.renderTableHeader||p.renderHeader;if(D)return _s(e,Po(D(d,e)))}}return _s(e,Go(l.getTitle(),1))},renderDefaultHeader(e){return Kl(e,wn.renderHeaderTitle(e))},renderDefaultCell(e){const{$table:t,row:l,column:a}=e,u=t.props,r=t.reactData,d=t.internalData,{isRowGroupStatus:m}=r,{editConfig:p}=u,{field:D,slots:C,editRender:h,cellRender:S,rowGroupNode:w,aggFunc:V,formatter:g}=a,i=p&&En(h)?h:En(S)?S:null,x=C?C.default:null,k=C?C.groupContent||C["group-content"]:null;let R="";if(m&&D&&l.isAggregate){const $=l,{fullColumnFieldData:A}=d,{computeAggregateOpts:M}=t.getComputeMaps(),T=M.value,{mode:_,showTotal:z,totalMethod:Z,countFields:J,contentMethod:W,mapChildrenField:Q}=T,ge=T.calcValuesMethod||T.countMethod||T.aggregateMethod,fe=$.groupField,ve=$.groupContent,oe=Q?$[Q]||[]:[],Ee=$.childCount,re=A[fe]||{},Y={$table:t,groupField:fe,groupColumn:re?re.column:null,column:a,groupValue:ve,childList:oe,childCount:Ee,aggValue:null,children:oe,totalValue:Ee};if(k)return jo(e,t.callSlot(k,Object.assign({groupField:fe,groupContent:ve,childList:oe,childCount:Ee},e)));(_==="column"?D===$.groupField:w)?(R=ve,W&&(R=`${W(Y)}`),z&&(R=$r("vxe.table.rowGroupContentTotal",[R,Z?Z(Y):Ee,Ee]))):t.getPivotTableAggregateCellAggValue?R=t.getPivotTableAggregateCellAggValue(e):(V===!0||J&&J.includes(D))&&ge&&(Y.aggValue=Ee,R=`${ge(Y)}`)}else{if(x)return jo(e,t.callSlot(x,e));if(i&&!g){const $=jr.get(i.name);if($){const A=$.renderTableCell||$.renderCell,M=$.renderTableDefault||$.renderDefault,T=h?A:M;if(T)return jo(e,Po(T(i,Object.assign({$type:h?"edit":"cell"},e))))}}R=t.getCellLabel(l,a)}const O=h?h.placeholder:"";return jo(e,[o("span",{class:"vxe-cell--label"},[h&&ns(R)?o("span",{class:"vxe-cell--placeholder"},Go(as(O),1)):o("span",Go(R,1))])])},renderDeepCell(e){return wn.renderDeepNodeBtn(e,wn.renderDefaultCell(e))},renderDefaultFooter(e){return Dy(e)},renderRowGroupBtn(e,t){const{$table:l}=e,a=l.reactData,u=l.internalData,{row:r,level:d}=e,{computeAggregateOpts:m}=l.getComputeMaps(),{rowGroupExpandedFlag:p}=a,{rowGroupExpandedMaps:D}=u,C=m.value,{mode:h,padding:S,indent:w}=C,V=Zt(l,r),g=!!p&&!!D[V];return o("div",{class:["vxe-row-group--tree-node",{"is--expanded":g}],style:h!=="column"&&S&&w?{paddingLeft:`${d*w}px`}:void 0},[r.isAggregate?o("span",{class:"vxe-row-group--node-btn",onClick(i){l.triggerRowGroupExpandEvent(i,e)}},[o("i",{class:g?fo().TABLE_ROW_GROUP_OPEN:fo().TABLE_ROW_GROUP_CLOSE})]):qs(l),o("div",{class:"vxe-row-group-cell"},t)])},renderTreeNodeBtn(e,t){const{$table:l,isHidden:a}=e,u=l.reactData,r=l.internalData,{row:d,column:m,level:p}=e,{slots:D}=m,C=D?D.icon:null;if(C)return l.callSlot(C,e);const{computeTreeOpts:h}=l.getComputeMaps(),{treeExpandedFlag:S}=u,{fullAllDataRowIdData:w,treeExpandedMaps:V,treeExpandLazyLoadedMaps:g}=r,i=h.value,{padding:x,indent:k,lazy:R,trigger:O,iconLoaded:$,showIcon:A,iconOpen:M,iconClose:T}=i,_=i.children||i.childrenField,z=i.hasChild||i.hasChildField,Z=d[_],J=Z&&Z.length;let W=!1,Q=!1,ge=!1,fe=!1;const ve={};if(!a){const oe=Zt(l,d);if(Q=!!S&&!!V[oe],R){const Ee=w[oe];ge=!!g[oe],W=d[z],fe=!!Ee.treeLoaded}}return(!O||O==="default")&&(ve.onClick=oe=>{l.triggerTreeExpandEvent(oe,e)}),o("div",{class:["vxe-cell--tree-node",{"is--active":Q}],style:x&&k?{paddingLeft:`${p*k}px`}:void 0},[A&&(R?fe?J:J||W:J)?[o("div",Object.assign({class:"vxe-cell--tree-btn"},ve),[o("i",{class:ge?$||fo().TABLE_TREE_LOADED:Q?M||fo().TABLE_TREE_OPEN:T||fo().TABLE_TREE_CLOSE})])]:null,o("div",{class:"vxe-tree-cell"},t)])},renderDeepNodeBtn(e,t){const{$table:l,row:a,column:u}=e,{rowGroupNode:r}=u,d=l.reactData,{rowGroupList:m}=d;if(m.length){const{computeAggregateOpts:p}=l.getComputeMaps(),D=p.value,{mode:C}=D;if(C==="column"?u.field===a.groupField:r)return[wn.renderRowGroupBtn(e,t)]}return[wn.renderTreeNodeBtn(e,t)]},renderSeqHeader(e){const{$table:t,column:l}=e,{slots:a}=l,u=a?a.header:null;return Kl(e,_s(e,u?t.callSlot(u,e):Go(l.getTitle(),1)))},renderSeqCell(e){const{$table:t,column:l}=e,a=t.props,{treeConfig:u}=a,{computeSeqOpts:r}=t.getComputeMaps(),d=r.value,{slots:m}=l,p=m?m.default:null;if(p)return jo(e,t.callSlot(p,e));const{seq:D}=e,C=d.seqMethod;return jo(e,[o("span",`${Go(C?C(e):u?D:(d.startIndex||0)+D,1)}`)])},renderDeepIndexCell(e){return wn.renderDeepNodeBtn(e,wn.renderSeqCell(e))},renderRadioHeader(e){const{$table:t,column:l}=e,{slots:a}=l,u=a?a.header:null,r=a?a.title:null;return Kl(e,_s(e,u?t.callSlot(u,e):[o("span",{class:"vxe-radio--label"},r?t.callSlot(r,e):Go(l.getTitle(),1))]))},renderRadioCell(e){const{$table:t,column:l,isHidden:a}=e,u=t.reactData,{computeRadioOpts:r}=t.getComputeMaps(),{selectRadioRow:d}=u,m=r.value,{slots:p}=l,{labelField:D,checkMethod:C,visibleMethod:h}=m,{row:S}=e,w=p?p.default:null,V=p?p.radio:null,g=t.eqRow(S,d),i=!h||h({$table:t,row:S});let x=!!C,k;a||(k={onClick($){!x&&i&&t.triggerRadioRowEvent($,e)}},C&&(x=!C({$table:t,row:S})));const R=Object.assign(Object.assign({},e),{checked:g,disabled:x,visible:i});if(V)return jo(e,t.callSlot(V,R));const O=[];return i&&O.push(o("span",{class:["vxe-radio--icon",g?fo().TABLE_RADIO_CHECKED:x?fo().TABLE_RADIO_DISABLED_UNCHECKED:fo().TABLE_RADIO_UNCHECKED]})),(w||D)&&O.push(o("span",{class:"vxe-radio--label"},w?t.callSlot(w,R):n.get(S,D))),jo(e,[o("span",Object.assign({class:["vxe-cell--radio",{"is--checked":g,"is--disabled":x}]},k),O)])},renderDeepRadioCell(e){return wn.renderDeepNodeBtn(e,wn.renderRadioCell(e))},renderCheckboxHeader(e){const{$table:t,column:l,isHidden:a}=e,u=t.reactData,{computeIsAllCheckboxDisabled:r,computeCheckboxOpts:d}=t.getComputeMaps(),{isAllSelected:m,isIndeterminate:p}=u,D=r.value,{slots:C}=l,h=C?C.header:null,S=C?C.title:null,w=d.value,{checkStrictly:V,showHeader:g,headerTitle:i}=w,x=l.getTitle(),k={};a||(k.onClick=O=>{D||t.triggerCheckAllEvent(O,!m)});const R=Object.assign(Object.assign({},e),{checked:m,disabled:D,indeterminate:p});return h?Kl(e,_s(R,t.callSlot(h,R))):(V?!g:g===!1)?Kl(e,_s(R,[o("span",{class:"vxe-checkbox--label"},S?t.callSlot(S,R):x)])):Kl(e,_s(R,[o("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":m,"is--disabled":D,"is--indeterminate":p}],title:n.eqNull(i)?$r("vxe.table.allTitle"):`${i||""}`},k),[o("span",{class:["vxe-checkbox--icon",p?fo().TABLE_CHECKBOX_INDETERMINATE:m?fo().TABLE_CHECKBOX_CHECKED:D?fo().TABLE_CHECKBOX_DISABLED_UNCHECKED:fo().TABLE_CHECKBOX_UNCHECKED]})].concat(S||x?[o("span",{class:"vxe-checkbox--label"},S?t.callSlot(S,R):x)]:[]))]))},renderCheckboxCell(e){const{$table:t,row:l,column:a,isHidden:u}=e,r=t.props,d=t.reactData,m=t.internalData,{treeConfig:p}=r,{updateCheckboxFlag:D,isRowGroupStatus:C}=d,{selectCheckboxMaps:h,treeIndeterminateRowMaps:S}=m,{computeCheckboxOpts:w,computeAggregateOpts:V}=t.getComputeMaps(),g=V.value,{mapChildrenField:i}=g,x=w.value,{labelField:k,checkMethod:R,visibleMethod:O}=x,{slots:$}=a,A=$?$.default:null,M=$?$.checkbox:null;let T=!1,_=!1,z=!0,Z=!1;const J={};if(!u){const ge=Zt(t,l);if(_=!!D&&!!h[ge],R&&C&&t.isAggregateRecord(l)){const fe=l[i||""];(!fe||!fe.length||fe.every(ve=>!R({$table:t,row:ve})))&&(Z=!0)}else z=!O||O({$table:t,row:l}),Z=R?!R({$table:t,row:l}):!!R;(p||C)&&(T=!!S[ge]),J.onClick=fe=>{!Z&&z&&t.triggerCheckRowEvent(fe,e,!_)}}const W=Object.assign(Object.assign({},e),{checked:_,disabled:Z,visible:z,indeterminate:T});if(M)return jo(e,t.callSlot(M,W));const Q=[];return z&&Q.push(o("span",{class:["vxe-checkbox--icon",T?fo().TABLE_CHECKBOX_INDETERMINATE:_?fo().TABLE_CHECKBOX_CHECKED:Z?fo().TABLE_CHECKBOX_DISABLED_UNCHECKED:fo().TABLE_CHECKBOX_UNCHECKED]})),(A||k)&&Q.push(o("span",{class:"vxe-checkbox--label"},A?t.callSlot(A,W):n.get(l,k))),jo(e,[o("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":_,"is--disabled":Z,"is--indeterminate":T,"is--hidden":!z}]},J),Q)])},renderDeepSelectionCell(e){return wn.renderDeepNodeBtn(e,wn.renderCheckboxCell(e))},renderCheckboxCellByProp(e){const{$table:t,row:l,column:a,isHidden:u}=e,r=t.props,d=t.reactData,m=t.internalData,{treeConfig:p}=r,{updateCheckboxFlag:D,isRowGroupStatus:C}=d,{treeIndeterminateRowMaps:h}=m,{computeCheckboxOpts:S,computeAggregateOpts:w}=t.getComputeMaps(),V=w.value,{mapChildrenField:g}=V,i=S.value,{labelField:x,checkField:k,checkMethod:R,visibleMethod:O}=i,$=i.indeterminateField||i.halfField,{slots:A}=a,M=A?A.default:null,T=A?A.checkbox:null;let _=!1,z=!1,Z=!0,J=!1;const W={};if(!u){const fe=Zt(t,l);if(z=!!D&&n.get(l,k),R&&C&&t.isAggregateRecord(l)){const ve=l[g||""];(!ve||!ve.length||ve.every(oe=>!R({$table:t,row:oe})))&&(J=!0)}else Z=!O||O({$table:t,row:l}),J=R?!R({$table:t,row:l}):!!R;(p||C)&&(_=!!h[fe]),W.onClick=ve=>{!J&&Z&&t.triggerCheckRowEvent(ve,e,!z)}}const Q=Object.assign(Object.assign({},e),{checked:z,disabled:J,visible:Z,indeterminate:_});if(T)return jo(e,t.callSlot(T,Q));const ge=[];return Z&&(ge.push(o("span",{class:["vxe-checkbox--icon",_?fo().TABLE_CHECKBOX_INDETERMINATE:z?fo().TABLE_CHECKBOX_CHECKED:J?fo().TABLE_CHECKBOX_DISABLED_UNCHECKED:fo().TABLE_CHECKBOX_UNCHECKED]})),(M||x)&&ge.push(o("span",{class:"vxe-checkbox--label"},M?t.callSlot(M,Q):n.get(l,x)))),jo(e,[o("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":z,"is--disabled":J,"is--indeterminate":$&&!z?l[$]:_,"is--hidden":!Z}]},W),ge)])},renderDeepSelectionCellByProp(e){return wn.renderDeepNodeBtn(e,wn.renderCheckboxCellByProp(e))},renderExpandCell(e){const{$table:t,isHidden:l,row:a,column:u}=e,r=t.reactData,d=t.internalData,{isRowGroupStatus:m}=r,{rowExpandedMaps:p,rowExpandLazyLoadedMaps:D}=d,{computeExpandOpts:C}=t.getComputeMaps(),h=C.value,{lazy:S,labelField:w,iconLoaded:V,showIcon:g,iconOpen:i,iconClose:x,visibleMethod:k}=h,{slots:R}=u,O=R?R.default:null,$=R?R.icon:null;let A=!1,M=!1;if(m&&a.isAggregate)return jo(e,[]);if($)return jo(e,t.callSlot($,e));if(!l){const T=Zt(t,a);A=!!p[T],S&&(M=!!D[T])}return jo(e,[g&&(!k||k(e))?o("span",{class:["vxe-table--expanded",{"is--active":A}],onMousedown(T){T.stopPropagation()},onClick(T){t.triggerRowExpandEvent(T,e)}},[o("i",{class:["vxe-table--expand-btn",M?V||fo().TABLE_EXPAND_LOADED:A?i||fo().TABLE_EXPAND_OPEN:x||fo().TABLE_EXPAND_CLOSE]})]):qs(t),O||w?o("span",{class:"vxe-table--expand-label"},O?t.callSlot(O,e):n.get(a,w)):qs(t)])},renderExpandData(e){const{$table:t,column:l}=e,{slots:a,contentRender:u}=l,r=a?a.content:null;if(r)return t.callSlot(r,e);if(u){const d=jr.get(u.name);if(d){const m=d.renderTableExpand||d.renderExpand;if(m)return Po(m(u,e))}}return[]},renderHTMLCell(e){const{$table:t,column:l}=e,{slots:a}=l,u=a?a.default:null;return u?jo(e,t.callSlot(u,e)):jo(e,[o("span",{class:"vxe-cell--html",innerHTML:sp(e)})])},renderDeepHTMLCell(e){return wn.renderDeepNodeBtn(e,wn.renderHTMLCell(e))},renderSortAndFilterHeader(e){return Kl(e,wn.renderHeaderTitle(e).concat(wn.renderSortIcon(e).concat(wn.renderFilterIcon(e))))},renderSortHeader(e){return Kl(e,wn.renderHeaderTitle(e).concat(wn.renderSortIcon(e)))},renderSortIcon(e){const{$table:t,column:l}=e,{computeSortOpts:a}=t.getComputeMaps(),u=a.value,{showIcon:r,allowBtn:d,ascTitle:m,descTitle:p,iconLayout:D,iconAsc:C,iconDesc:h,iconVisibleMethod:S}=u,{order:w,slots:V}=l;if(r&&(!S||S(e))){const g=V?V.sort:null;return g?Po(t.callSlot(g,e)):[o("span",{class:["vxe-cell--sort",`vxe-cell--sort-${D}-layout`]},[o("i",{class:["vxe-sort--asc-btn",C||fo().TABLE_SORT_ASC,{"sort--active":w==="asc"}],title:n.eqNull(m)?$r("vxe.table.sortAsc"):`${m||""}`,onClick:d?i=>{i.stopPropagation(),t.triggerSortEvent(i,l,"asc")}:void 0}),o("i",{class:["vxe-sort--desc-btn",h||fo().TABLE_SORT_DESC,{"sort--active":w==="desc"}],title:n.eqNull(p)?$r("vxe.table.sortDesc"):`${p||""}`,onClick:d?i=>{i.stopPropagation(),t.triggerSortEvent(i,l,"desc")}:void 0})])]}return[]},renderFilterHeader(e){return Kl(e,wn.renderHeaderTitle(e).concat(wn.renderFilterIcon(e)))},renderFilterIcon(e){const{$table:t,column:l,hasFilter:a}=e,u=t.reactData,{filterStore:r}=u,{computeFilterOpts:d}=t.getComputeMaps(),m=d.value,{showIcon:p,iconNone:D,iconMatch:C,iconVisibleMethod:h}=m;return p&&(!h||h(e))?[o("span",{class:["vxe-cell--filter",{"is--active":r.visible&&r.column===l}],onClick(S){t.triggerFilterEvent&&t.triggerFilterEvent(S,e.column,e)}},[o("i",{class:["vxe-filter--btn",a?C||fo().TABLE_FILTER_MATCH:D||fo().TABLE_FILTER_NONE],title:$r("vxe.table.filter")})])]:[]},renderEditHeader(e){const{$table:t,column:l}=e,a=t.props,{computeEditOpts:u}=t.getComputeMaps(),{editConfig:r,editRules:d}=a,m=u.value,{sortable:p,filters:D,editRender:C}=l;let h=!1;if(d){const w=n.get(d,l.field);w&&(h=w.some(V=>V.required))}let S=[];if(En(r)){const{showAsterisk:w,showIcon:V,icon:g}=m;S=[h&&w?o("span",{class:"vxe-cell--required-icon"},[o("i")]):qs(t),En(C)&&V?o("span",{class:"vxe-cell--edit-icon"},n.isFunction(g)?Po(g({})):[o("i",{class:g||fo().TABLE_EDIT})]):qs(t)]}return Kl(e,S.concat(wn.renderHeaderTitle(e)).concat(p?wn.renderSortIcon(e):[]).concat(D?wn.renderFilterIcon(e):[]))},renderRowEdit(e){const{$table:t,column:l}=e,a=t.reactData,{editStore:u}=a,{actived:r}=u,{editRender:d}=l;return wn.runRenderer(e,En(d)&&r&&r.row===e.row)},renderDeepRowEdit(e){return wn.renderDeepNodeBtn(e,wn.renderRowEdit(e))},renderCellEdit(e){const{$table:t,column:l}=e,a=t.reactData,{editStore:u}=a,{actived:r}=u,{editRender:d}=l;return wn.runRenderer(e,En(d)&&r&&r.row===e.row&&r.column===e.column)},renderDeepCellEdit(e){return wn.renderDeepNodeBtn(e,wn.renderCellEdit(e))},runRenderer(e,t){const{$table:l,row:a,column:u}=e,r=l.reactData,{isRowGroupStatus:d}=r,{slots:m,field:p,editRender:D,formatter:C}=u,h=m?m.default:null,S=m?m.groupContent||m["group-content"]:null,w=m?m.edit:null,V=jr.get(D.name),g=V?V.renderTableEdit||V.renderEdit:null,i=Object.assign({$type:"",isEdit:t},e);if(t)return i.$type="edit",w?l.callSlot(w,i):g?Po(g(D,i)):[];if(d&&p&&a.isAggregate){const x=a,{computeAggregateOpts:k}=l.getComputeMaps(),R=k.value,{mapChildrenField:O}=R,$=x.groupField,A=x.groupContent,M=O?x[O]||[]:[],T=x.childCount;if(S)return jo(e,l.callSlot(S,Object.assign({groupField:$,groupContent:A,childList:M,childCount:T},e)))}else if(h)return jo(e,l.callSlot(h,i));return C?jo(e,[o("span",{class:"vxe-cell--label"},sp(i))]):wn.renderDefaultCell(i)}},um={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],headerFormatter:[Function,Array,String],footerFormatter:[Function,Array,String],padding:{type:Boolean,default:null},verticalAlign:{type:String,default:null},sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,floatingFilters:Object,rowGroupNode:Boolean,treeNode:Boolean,dragSort:Boolean,rowResize:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,aggFunc:[String,Boolean],params:Object},Us=Il({name:"VxeColumn",props:um,setup(e,{slots:t}){const l=st(),a=jt("$xeTable",null),u=jt("$xeColgroup",null);if(!a)return()=>zn();const r=wn.createColumn(a,e);r.slots=t;const d=()=>o("div",{ref:l}),m={columnConfig:r,renderVN:d};return lm(a,e,r),Ln(()=>{const p=l.value;p&&sm(a,p,r,u)}),jn(()=>{am(a,r)}),An("$xeColumn",m),An("$xeGrid",null),An("$xeGantt",null),d}}),Iy=Object.assign({},Us,{install(e){e.component(Us.name,Us),e.component("VxeTableColumn",Us)}});We.dynamicApp&&(We.dynamicApp.component(Us.name,Us),We.dynamicApp.component("VxeTableColumn",Us));We.component(Us);const Ks=Il({name:"VxeColgroup",props:um,setup(e,{slots:t}){const l=st(),a=jt("$xeTable",null),u=jt("$xeColgroup",null);if(!a)return()=>zn();const r=wn.createColumn(a,e),d={};t.header&&(d.header=t.header),r.slots=d,r.children=[],lm(a,e,r),Ln(()=>{const D=l.value;D&&sm(a,D,r,u)}),jn(()=>{am(a,r)});const m=()=>o("div",{ref:l},t.default?t.default():[]);return An("$xeColgroup",{columnConfig:r}),An("$xeGrid",null),An("$xeGantt",null),m}}),Ry=Object.assign({},Ks,{install(e){e.component(Ks.name,Ks),e.component("VxeTableColgroup",Ks)}});We.dynamicApp&&(We.dynamicApp.component(Ks.name,Ks),We.dynamicApp.component("VxeTableColgroup",Ks));We.component(Ks);const{getConfig:Io}=We,Zc={id:[String,Function],data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>null},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>Io().table.resizable},stripe:{type:Boolean,default:()=>Io().table.stripe},border:{type:[Boolean,String],default:()=>Io().table.border},padding:{type:Boolean,default:null},round:{type:Boolean,default:()=>Io().table.round},size:{type:String,default:()=>Io().table.size||Io().size},fit:{type:Boolean,default:()=>Io().table.fit},loading:Boolean,align:{type:String,default:()=>Io().table.align},headerAlign:{type:String,default:()=>Io().table.headerAlign},footerAlign:{type:String,default:()=>Io().table.footerAlign},showHeader:{type:Boolean,default:()=>Io().table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>Io().table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>Io().table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>Io().table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>Io().table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],showCustomHeader:{type:Boolean,default:()=>Io().table.showCustomHeader},mergeHeaderCells:Array,mergeCells:Array,mergeFooterCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>Io().table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>Io().table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>Io().table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>Io().table.rowId},zIndex:Number,emptyText:{type:String,default:()=>Io().table.emptyText},keepSource:{type:Boolean,default:()=>Io().table.keepSource},autoResize:{type:Boolean,default:()=>Io().table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,currentColumnConfig:Object,cellConfig:Object,headerCellConfig:Object,footerCellConfig:Object,rowConfig:Object,aggregateConfig:Object,rowGroupConfig:Object,currentRowConfig:Object,dragConfig:Object,rowDragConfig:Object,columnDragConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,floatingFilterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,headerTooltipConfig:Object,footerTooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,virtualXConfig:Object,virtualYConfig:Object,scrollbarConfig:Object,animat:{type:Boolean,default:()=>Io().table.animat},delayHover:{type:Number,default:()=>Io().table.delayHover},params:Object},{getConfig:ap}=We,ky=Object.assign(Object.assign({},Zc),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>ap().grid.size||ap().size}}),zd=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","columns-change","data-change","footer-data-change","current-change","current-row-change","current-row-disabled","current-column-change","current-column-disabled","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","cell-backspace-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","clear-all-sort","filter-change","filter-visible","clear-filter","clear-all-filter","resizable-change","column-resizable-change","row-resizable-change","toggle-row-group-expand","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","row-dragstart","row-dragover","row-dragend","row-remove-dragend","row-insert-dragend","column-dragstart","column-dragover","column-dragend","enter-append-row","edit-actived","edit-activated","edit-disabled","valid-error","scroll","scroll-boundary","custom","custom-visible-change","custom-visible-all","custom-fixed-change","custom-sort-change","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-selection","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-extension-fill","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],Py=[...zd,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],Jc="row--drag-move",dm="col--drag-move";function Ei(e,t){n.arrayEach(e,l=>{l.style.transform=`translateY(${t}px)`}),requestAnimationFrame(()=>{n.arrayEach(e,l=>{Dl(l,Jc),l.style.transform=""})})}function Fy(e,t){setTimeout(()=>{e&&n.arrayEach(e.querySelectorAll(t.map(l=>`${l}.${Jc}`).join(",")),l=>nl(l,Jc))},500)}function rp(e,t){n.arrayEach(e,l=>{l.style.transform=`translateX(${t}px)`}),requestAnimationFrame(()=>{n.arrayEach(e,l=>{Dl(l,dm),l.style.transform=""})})}function Vy(e,t){setTimeout(()=>{e&&n.arrayEach(e.querySelectorAll(t.map(l=>`${l}.${Jc}`).join(",")),l=>nl(l,dm))},500)}const Ay=ln({row:null});function $y(){return Ay}const{getI18n:Ny,renderer:ip,renderEmptyElement:Nr}=We,cp="table",Si="body",up=Il({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:""}},setup(e){const t=jt("$xeTable",{}),{xID:l,props:a,context:u,reactData:r,internalData:d}=t,{computeEditOpts:m,computeMouseOpts:p,computeCellOffsetWidth:D,computeAreaOpts:C,computeDefaultRowHeight:h,computeEmptyOpts:S,computeTooltipOpts:w,computeRadioOpts:V,computeExpandOpts:g,computeTreeOpts:i,computeCheckboxOpts:x,computeCellOpts:k,computeValidOpts:R,computeRowOpts:O,computeColumnOpts:$,computeRowDragOpts:A,computeResizableOpts:M,computeVirtualXOpts:T,computeVirtualYOpts:_,computeIsBodyRenderOptimize:z}=t.getComputeMaps(),Z=st(),J=st(),W=st(),Q=st(),ge=st(),fe=st(),ve=st(),oe=st(),Ee=()=>{const{delayHover:ce}=a,{lastScrollTime:ue,isDragResize:me}=r;return!!(me||ue&&Date.now()<ue+ce)},re=(ce,ue,me)=>{const{column:be}=ue,{treeConfig:Se}=a,pe=k.value,Ae=O.value,_e=h.value,ae=i.value,{slots:Re,treeNode:Ie}=be,{fullAllDataRowIdData:ne}=d;if(Se&&Ie&&(ae.showLine||ae.line)){if(Re&&Re.line)return t.callSlot(Re.line,ue);const se=ne[ce];let F=0,B=null,te=null,de="";if(se&&(F=se.level,B=se.items[se.treeIndex-1],te=se.parent),!F&&!ae.showRootLine)return[];if(B)de=`${(ne[Zt(t,B)]||{}).lineHeight||0}px`;else if(F&&te){const Te=ne[Zt(t,te)]||{};de=`calc(-1em + ${Math.floor(me/2+Sl(Te,pe,Ae,_e)/2)}px)`}return[o("div",{key:"tl",class:"vxe-tree--line-wrapper"},[o("div",{class:"vxe-tree--line",style:{height:de,bottom:`-${Math.floor(me/2)}px`,left:`calc(${F*ae.indent}px + 1em)`}})])]}return[]},Y=(ce,ue,me,be,Se,pe,Ae,_e,ae,Re,Ie,ne,se)=>{const F=t.xeGrid,B=t.xeGantt,{columnKey:te,resizable:de,showOverflow:Te,border:Ke,height:Ye,treeConfig:Qe,cellClassName:lt,cellStyle:et,align:ht,spanMethod:Ot,mouseConfig:ut,editConfig:wt,editRules:mt,tooltipConfig:Rt,padding:Vt}=a,{tableData:he,tableColumn:$e,dragRow:nt,overflowX:ft,overflowY:vt,currentColumn:v,scrollXLoad:L,scrollYLoad:N,mergeBodyFlag:ie,calcCellHeightFlag:Me,resizeHeightFlag:He,resizeWidthFlag:Ve,editStore:ye,isAllOverflow:P,validErrorMaps:q}=r,{fullAllDataRowIdData:Pe,fullColumnIdData:qe,mergeBodyCellMaps:Ze,visibleColumn:K,afterFullData:xe,mergeBodyList:Ne,scrollXStore:Ge,scrollYStore:ot}=d,it=k.value,Tt=R.value,zt=x.value,_t=m.value,Fe=w.value,X=M.value,Ce=T.value,at=_.value,{isAllColumnDrag:gt,isAllRowDrag:St}=X,bt=O.value,yt=A.value,xt=h.value,Ct=Me?it.height||bt.height:0,{disabledMethod:$t,isCrossDrag:on,isPeerDrag:tn}=yt,Qt=$.value,vn=p.value,Xn=C.value,Zn=D.value,{selectCellToRow:Co}=Xn,{type:Wn,cellRender:ro,editRender:po,align:wo,showOverflow:Jn,className:_n,treeNode:io,rowResize:Ro,padding:Vo,verticalAlign:Eo,slots:Nn}=Re,{verticalAlign:Mn}=it,{actived:ll}=ye,vl=Pe[ue]||{},sl=Re.id,bl=qe[sl]||{},ea=po||ro,Rl=ea?ip.get(ea.name):null,Ma=Rl?Rl.tableCellClassName||Rl.cellClassName:null,Ts=Rl?Rl.tableCellStyle||Rl.cellStyle:"",Ms=Fe.showAll,Oa=bl.index,is=bl._index,cs=En(po),Ia=He?vl.resizeHeight:0;let Zo=ft&&(me?Re.fixed!==me:!!Re.fixed);const br=n.eqNull(Vo)?Vt===null?it.padding:Vt:Vo,y=n.eqNull(Jn)?Te:Jn,Os=y==="ellipsis",Nl=y==="title",to=y===!0||y==="tooltip",pl=P||Nl||to||Os,Ra=n.isBoolean(Re.resizable)?Re.resizable:Qt.resizable||de,ka=!!Ct,Is=Ia>0;let Rs;const xl={},us=wo||(Rl?Rl.tableCellAlign:"")||ht,ta=n.eqNull(Eo)?Mn:Eo,kl=q[`${ue}:${sl}`],Pa=mt&&Tt.showMessage&&(Tt.message==="default"?Ye||he.length>1:Tt.message==="inline"),yl={colid:sl},ko={$table:t,$grid:F,$gantt:B,isEdit:!1,seq:ce,rowid:ue,row:pe,rowIndex:Ae,$rowIndex:_e,_rowIndex:ae,column:Re,columnIndex:Oa,$columnIndex:Ie,_columnIndex:is,fixed:me,source:cp,type:Si,isHidden:!!Zo,level:Se,visibleData:xe,data:he,items:se};let ds=!1,Fa=!1;bt.drag&&(ds=yt.trigger==="row"||Re.dragSort&&yt.trigger==="cell"),ds&&(Fa=!!($t&&$t(ko))),(Nl||to||Ms||Rt)&&(xl.onMouseover=Gt=>{Ee()||(Nl?Nd(Gt.currentTarget,Re):(to||Ms)&&t.triggerBodyTooltipEvent(Gt,ko)),t.dispatchEvent("cell-mouseenter",Object.assign({cell:Gt.currentTarget},ko),Gt)}),(to||Ms||Rt)&&(xl.onMouseleave=Gt=>{Ee()||(to||Ms)&&t.handleTargetLeaveEvent(Gt),t.dispatchEvent("cell-mouseleave",Object.assign({cell:Gt.currentTarget},ko),Gt)}),(ds||zt.range||ut)&&(xl.onMousedown=Gt=>{t.triggerCellMousedownEvent(Gt,ko)}),ds&&(xl.onMouseup=t.triggerCellMouseupEvent),xl.onClick=Gt=>{t.triggerCellClickEvent(Gt,ko)},xl.onDblclick=Gt=>{t.triggerCellDblclickEvent(Gt,ko)};let Gl=!1,ks=1,Ps=1;if(ie&&Ne.length){const Gt=Ze[`${ae}:${is}`];if(Gt){const{rowspan:Kt,colspan:It}=Gt;if(!Kt||!It)return Nr(t);Kt>1&&(Gl=!0,Ps=Kt,yl.rowspan=Kt),It>1&&(Gl=!0,ks=It,yl.colspan=It)}}else if(Ot){const{rowspan:Gt=1,colspan:Kt=1}=Ot(ko)||{};if(!Gt||!Kt)return Nr(t);Gt>1&&(Gl=!0,Ps=Gt,yl.rowspan=Gt),Kt>1&&(Gl=!0,ks=Kt,yl.colspan=Kt)}Zo&&Gl&&(yl.colspan>1||yl.rowspan>1)&&(Zo=!1),!Zo&&wt&&(po||ro)&&(_t.showStatus||_t.showUpdateStatus)&&(Rs=t.isUpdateByRow(pe,Re.field));const ri=!pl&&(N||L);let Fs=Sl(vl,it,bt,xt);const le=Ie===ne.length-1,ct=!Re.resizeWidth&&(Re.minWidth==="auto"||Re.width==="auto");let Et=!1;if(Gl||(!nt||Zt(t,nt)!==ue)&&(vt&&N&&he.length>16&&!Qe&&!at.immediate&&(ae<ot.visibleStartIndex-ot.preloadSize||ae>ot.visibleEndIndex+ot.preloadSize)||ft&&L&&$e.length>10&&!Ce.immediate&&!Re.fixed&&(is<Ge.visibleStartIndex-Ge.preloadSize||is>Ge.visibleEndIndex+Ge.preloadSize))&&(Et=!0),Ps>1){const Gt=xe[ae+Ps-1];if(Gt){const Kt=Pe[Zt(t,Gt)];Kt&&(Fs+=Kt.oTop+Sl(Kt,it,bt,xt)-vl.oTop-Sl(vl,it,bt,xt))}}const Nt={};if(pl&&Ve){let Gt=0;if(ks>1)for(let Kt=1;Kt<ks;Kt++){const It=K[Oa+Kt];It&&(Gt+=It.renderWidth)}Nt.width=`${Re.renderWidth+Gt-Zn}px`}N||L||pl||ka||Is?Nt.height=`${Fs}px`:Nt.minHeight=`${Fs}px`;const Ut=[];if(Zo&&P)Ut.push(o("div",{key:"tc",class:["vxe-cell",{"c--title":Nl,"c--tooltip":to,"c--ellipsis":Os}],style:Nt}));else if(Qe&&Ut.push(...re(ue,ko,Fs)),Ut.push(o("div",{key:"tc",class:["vxe-cell",{"c--title":Nl,"c--tooltip":to,"c--ellipsis":Os}],style:Nt,title:Nl?t.getCellLabel(pe,Re):null},Et?[]:[o("div",{colid:sl,rowid:ue,class:"vxe-cell--wrapper vxe-body-cell--wrapper"},Re.renderCell(ko))])),Pa&&kl){const Gt=kl.rule,Kt=Nn?Nn.valid:null,It=Object.assign(Object.assign(Object.assign({},ko),kl),{rule:kl});Ut.push(o("div",{key:"tcv",class:["vxe-cell--valid-error-tip",Ys(Tt.className,It)],style:Gt&&Gt.maxWidth?{width:`${Gt.maxWidth}px`}:null},[o("div",{class:`vxe-cell--valid-error-wrapper vxe-cell--valid-error-theme-${Tt.theme||"normal"}`},[Kt?t.callSlot(Kt,It):[o("span",{class:"vxe-cell--valid-error-msg"},kl.content)]])]))}let Jt=!1;return ut&&vn.area&&!is&&Co&&(Jt=!0),!Zo&&Ra&&gt&&Ut.push(o("div",{key:"tcc",class:["vxe-cell--col-resizable",{"is--line":!Ke||Ke==="none"}],onMousedown:Gt=>t.handleColResizeMousedownEvent(Gt,me,ko),onDblclick:Gt=>t.handleColResizeDblclickEvent(Gt,ko)})),(Ro||St)&&bt.resizable&&Ut.push(o("div",{key:"tcr",class:"vxe-cell--row-resizable",onMousedown:Gt=>t.handleRowResizeMousedownEvent(Gt,ko),onDblclick:Gt=>t.handleRowResizeDblclickEvent(Gt,ko)})),o("td",Object.assign(Object.assign(Object.assign({class:["vxe-table--column vxe-body--column",sl,ta?`col--vertical-${ta}`:"",us?`col--${us}`:"",Wn?`col--${Wn}`:"",{"col--last":le,"col--tree-node":io,"col--edit":cs,"col--ellipsis":pl,"col--cs-height":ka,"col--rs-height":Is,"col--to-row":Jt,"col--auto-height":ri,"fixed--width":!ct,"fixed--hidden":Zo,"is--padding":br,"is--progress":Zo&&P||Et,"is--drag-cell":ds&&(on||tn||!Se),"is--drag-disabled":Fa,"col--dirty":Rs,"col--active":wt&&cs&&ll.row===pe&&(ll.column===Re||_t.mode==="row"),"col--valid-error":!!kl,"col--current":v===Re},Ys(Ma,ko),Ys(_n,ko),Ys(lt,ko)],key:te||L||N||Qt.useKey||bt.useKey||Qt.drag?sl:Ie},yl),{style:Object.assign({},n.isFunction(Ts)?Ts(ko):Ts,n.isFunction(et)?et(ko):et)}),xl),be&&Zo?[]:Ut)},Oe=(ce,ue,me,be)=>{const Se=t.xeGrid,pe=t.xeGantt,{stripe:Ae,rowKey:_e,highlightHoverRow:ae,rowClassName:Re,rowStyle:Ie,editConfig:ne,treeConfig:se}=a,{hasFixedColumn:F,treeExpandedFlag:B,scrollXLoad:te,scrollYLoad:de,isAllOverflow:Te,rowExpandedFlag:Ke,expandColumn:Ye,selectRadioRow:Qe,pendingRowFlag:lt,rowExpandHeightFlag:et,isRowGroupStatus:ht}=r,{fullAllDataRowIdData:Ot,fullColumnIdData:ut,treeExpandedMaps:wt,pendingRowMaps:mt,rowExpandedMaps:Rt}=d,Vt=x.value,he=V.value,$e=i.value,nt=m.value,ft=O.value,vt=$.value,{transform:v,seqMode:L}=$e,N=$e.children||$e.childrenField,ie=[],{handleGetRowId:Me}=Do(t),He=se||ht;return me.forEach((Ve,ye)=>{const P=Me(Ve),q=Ot[P]||{};let Pe=ye,qe=0,Ze=-1,K=-1;const xe=ht&&Ve.isAggregate,Ne={};(ft.isHover||ae)&&(Ne.onMouseover=X=>{Ee()||t.triggerHoverEvent(X,{row:Ve,rowIndex:Pe})},Ne.onMouseleave=()=>{Ee()||t.clearHoverRow()}),q&&(Pe=q.index,K=q._index,qe=q.level,Ze=q.seq,xe||se&&v&&L==="increasing"?Ze=q._index+1:se&&L==="fixed"&&(Ze=q._tIndex+1));const Ge={$table:t,seq:Ze,rowid:P,fixed:ce,type:Si,level:qe,row:Ve,rowIndex:Pe,$rowIndex:ye,_rowIndex:K},ot=Ye&&!!Ke&&!!Rt[P];let it=!1,Tt=[],zt=!1;ne&&(zt=t.isInsertByRow(Ve)),se&&!de&&!v&&(Tt=Ve[N],it=!!B&&Tt&&Tt.length>0&&!!wt[P]),ft.drag&&!ht&&(!se||v)&&(Ne.onDragstart=t.handleRowDragDragstartEvent,Ne.onDragend=t.handleRowDragDragendEvent,Ne.onDragover=t.handleRowDragDragoverEvent);const _t=["vxe-body--row",He?`row--level-${qe}`:"",{"row--stripe":Ae&&(K+1)%2===0,"is--new":zt,"is--expand-row":ot,"is--expand-tree":it,"row--new":zt&&(nt.showStatus||nt.showInsertStatus),"row--radio":he.highlight&&t.eqRow(Qe,Ve),"row--checked":Vt.highlight&&t.isCheckedByCheckboxRow(Ve),"row--pending":!!lt&&!!mt[P],"row--group":xe},Ys(Re,Ge)],Fe=be.map((X,Ce)=>Y(Ze,P,ce,ue,qe,Ve,Pe,ye,K,X,Ce,be,me));if(ie.push(o("tr",Object.assign({class:_t,rowid:P,style:Ie?n.isFunction(Ie)?Ie(Ge):Ie:null,key:_e||te||de||ft.useKey||ft.drag||vt.drag||ht||se?P:ye},Ne),Fe)),ot){const X=g.value,{height:Ce,padding:at,mode:gt}=X;if(gt==="fixed")ie.push(o("tr",{class:"vxe-body--row-expanded-place",key:`expand_${P}`,rowid:P},[o("td",{class:"vxe-body--row-expanded-place-column",colspan:be.length,style:{height:`${et?q.expandHeight||Ce:0}px`}})]));else{const St={};Ce&&(St.height=`${Ce}px`),se&&(St.paddingLeft=`${qe*$e.indent+30}px`);const{showOverflow:bt}=Ye||{},yt=Ye.id,xt=ut[yt]||{},Ct=n.eqNull(bt)?Te:bt;let $t=-1,on=-1,tn=-1;xt&&($t=xt.index,on=xt.$index,tn=xt._index);const Qt={$table:t,$grid:Se,$gantt:pe,seq:Ze,column:Ye,columnIndex:$t,$columnIndex:on,_columnIndex:tn,fixed:ce,source:cp,type:Si,level:qe,row:Ve,rowid:P,rowIndex:Pe,$rowIndex:ye,_rowIndex:K,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};ie.push(o("tr",{class:["vxe-body--expanded-row",{"is--padding":at}],key:`expand_${P}`},[o("td",{class:["vxe-body--expanded-column",{"fixed--hidden":ce&&!F,"col--ellipsis":Ct}],colspan:be.length},[o("div",{class:["vxe-body--expanded-cell",{"is--ellipsis":Ce}],style:St},[Ye.renderData(Qt)])])]))}}it&&ie.push(...Oe(ce,ue,Tt,be))}),ie};return Ln(()=>{ke(()=>{const{fixedType:ce}=e,{elemStore:ue}=d,me=`${ce||"main"}-body-`;ue[`${me}wrapper`]=Z,ue[`${me}scroll`]=J,ue[`${me}table`]=W,ue[`${me}colgroup`]=Q,ue[`${me}list`]=ge,ue[`${me}xSpace`]=fe,ue[`${me}ySpace`]=ve,ue[`${me}emptyBlock`]=oe})}),jn(()=>{const{fixedType:ce}=e,{elemStore:ue}=d,me=`${ce||"main"}-body-`;ue[`${me}wrapper`]=null,ue[`${me}scroll`]=null,ue[`${me}table`]=null,ue[`${me}colgroup`]=null,ue[`${me}list`]=null,ue[`${me}xSpace`]=null,ue[`${me}ySpace`]=null,ue[`${me}emptyBlock`]=null}),()=>{const{slots:ce}=u,ue=t.xeGrid,me=t.xeGantt,{fixedColumn:be,fixedType:Se,tableColumn:pe}=e,{mouseConfig:Ae}=a,{isGroup:_e,tableData:ae,isColLoading:Re,overflowX:Ie,scrollXLoad:ne,scrollYLoad:se,dragRow:F,dragCol:B}=r,{visibleColumn:te,fullAllDataRowIdData:de,fullColumnIdData:Te}=d,Ke=S.value,Ye=p.value,Qe=z.value;let lt=ae,et=pe;const ht=Qe;if(!Re&&(Se||!Ie)&&(et=te),Se&&ht&&(et=be||[]),se&&F&&lt.length>2){const mt=de[Zt(t,F)];if(mt){const Rt=mt._index,Vt=lt[0],he=lt[lt.length-1],$e=de[Zt(t,Vt)],nt=de[Zt(t,he)];if($e&&nt){const ft=$e._index,vt=nt._index;Rt<ft?lt=[F].concat(lt):Rt>vt&&(lt=lt.concat([F]))}}}if(!Se&&!_e&&ne&&B&&et.length>2){const mt=Te[B.id];if(mt){const Rt=mt._index,Vt=et[0],he=et[et.length-1],$e=Te[Vt.id],nt=Te[he.id];if($e&&nt){const ft=$e._index,vt=nt._index;Rt<ft?et=[B].concat(et):Rt>vt&&(et=et.concat([B]))}}}let Ot;const ut=ce?ce.empty:null,wt={$table:t,$grid:ue,$gantt:me};if(ut)Ot=t.callSlot(ut,wt);else{const mt=Ke.name?ip.get(Ke.name):null,Rt=mt?mt.renderTableEmpty||mt.renderTableEmptyView||mt.renderEmpty:null;Rt?Ot=Po(Rt(Ke,wt)):Ot=a.emptyText||Ny("vxe.table.emptyText")}return o("div",{ref:Z,class:["vxe-table--body-wrapper",Se?`fixed-${Se}--wrapper`:"body--wrapper"],xid:l},[o("div",{ref:J,class:"vxe-table--body-inner-wrapper",onScroll(mt){t.triggerBodyScrollEvent(mt,Se)}},[Se?Nr(t):o("div",{ref:fe,class:"vxe-body--x-space"}),o("div",{ref:ve,class:"vxe-body--y-space"}),o("table",{ref:W,class:"vxe-table--body",xid:l,cellspacing:0,cellpadding:0,border:0,xvm:ht?"1":null},[o("colgroup",{ref:Q},et.map((mt,Rt)=>o("col",{name:mt.id,key:Rt,style:{width:`${mt.renderWidth}px`}}))),o("tbody",{ref:ge},Oe(Se,ht,lt,et))]),o("div",{class:"vxe-table--checkbox-range"}),Ae&&Ye.area?o("div",{class:"vxe-table--cell-area",xid:l},[o("span",{class:"vxe-table--cell-main-area"},Ye.extension?[o("span",{class:"vxe-table--cell-main-area-btn",onMousedown(mt){t.triggerCellAreaExtendMousedownEvent&&t.triggerCellAreaExtendMousedownEvent(mt,{$table:t,fixed:Se,type:Si})}})]:[]),o("span",{class:"vxe-table--cell-clip-area"}),o("span",{class:"vxe-table--cell-extend-area"}),o("span",{class:"vxe-table--cell-multi-area"}),o("span",{class:"vxe-table--cell-active-area"}),o("span",{class:"vxe-table--cell-row-status-area"})]):Nr(t),Se?Nr(t):o("div",{class:"vxe-table--empty-block",ref:oe},[o("div",{class:"vxe-table--empty-content"},Ot)])])])}}}),{renderer:Gu,renderEmptyElement:Yu}=We,dp="table",qu="header";function fm(e){const{children:t}=e;return t&&t.length?fm(t[0]):e}function pm(e){const{children:t}=e;return t&&t.length?pm(t[t.length-1]):e}const fp=Il({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=jt("$xeTable",{}),{xID:l,props:a,reactData:u,internalData:r}=t,{computeColumnOpts:d,computeColumnDragOpts:m,computeCellOpts:p,computeMouseOpts:D,computeHeaderCellOpts:C,computeDefaultRowHeight:h,computeVirtualXOpts:S,computeFloatingFilterOpts:w,computeIsHeaderRenderOptimize:V}=t.getComputeMaps(),g=st([]),i=st(),x=st(),k=st(),R=st(),O=st(),$=st(),A=st(),M=()=>{const{showCustomHeader:J}=a,{collectColumn:W,visibleColumn:Q}=r,{tableGroupColumn:ge}=e,{isGroup:fe}=u;let ve=fe?dy(ge):[],oe=[];J&&ve.length>1&&(oe=fy(ve),ve=oe),g.value=ve,t.dispatchEvent("columns-change",{visibleColgroups:oe,collectColumn:W,visibleColumn:Q},null)},T=(J,W,Q,ge,fe)=>{const ve=t.xeGrid,oe=t.xeGantt,{fixedType:Ee}=e,{resizable:re,columnKey:Y,showCustomHeader:Oe,headerCellClassName:ze,headerCellStyle:ce,showHeaderOverflow:ue,headerAlign:me,align:be,mouseConfig:Se}=a,{currentColumn:pe,dragCol:Ae,scrollXLoad:_e,scrollYLoad:ae,overflowX:Re,mergeHeadFlag:Ie,tableColumn:ne}=u,{fullColumnIdData:se,scrollXStore:F,mergeHeaderList:B,mergeHeaderCellMaps:te}=r,de=S.value,Te=d.value,Ke=m.value,Ye=p.value,Qe=h.value,lt=C.value,et=si(lt.height)||Qe,{disabledMethod:ht,isCrossDrag:Ot,isPeerDrag:ut}=Ke,wt=ge===Q.length-1;return fe.map((mt,Rt)=>{const{type:Vt,showHeaderOverflow:he,headerAlign:$e,align:nt,filters:ft,headerClassName:vt,editRender:v,cellRender:L}=mt,N=mt.id,ie=se[N]||{},Me=v||L,He=Me?Gu.get(Me.name):null,Ve=mt.children&&mt.children.length,ye=Re&&!Ve&&(Ee?mt.fixed!==Ee:!!mt.fixed),P=n.isBoolean(lt.padding)?lt.padding:Ye.padding,q=n.eqNull(he)?ue:he,Pe=$e||(He?He.tableHeaderCellAlign:"")||me||nt||(He?He.tableCellAlign:"")||be,qe=q==="ellipsis",Ze=q==="title",K=q===!0||q==="tooltip",xe=Ze||K||qe;let Ne=!1,Ge=null;ft&&(Ge=ft[0],Ne=ft.some(xt=>xt.checked));const ot=ie.index,it=ie._index,Tt={$table:t,$grid:ve,$gantt:oe,$rowIndex:ge,column:mt,columnIndex:ot,$columnIndex:Rt,_columnIndex:it,firstFilterOption:Ge,fixed:Ee,source:dp,type:qu,isHidden:ye,hasFilter:Ne},zt={colid:N};let _t=!1;if(Oe||(zt.colspan=mt.colSpan>1?mt.colSpan:null,zt.rowspan=mt.rowSpan>1?mt.rowSpan:null),Ie&&B.length&&(Oe||wt)){const xt=te[`${ge}:${Oe?Rt:it}`];if(xt){const{rowspan:Ct,colspan:$t}=xt;if(!Ct||!$t)return null;Ct>1&&(_t=!0,zt.rowspan=Ct),$t>1&&(_t=!0,zt.colspan=$t)}}const Fe={onClick:xt=>t.triggerHeaderCellClickEvent(xt,Tt),onDblclick:xt=>t.triggerHeaderCellDblclickEvent(xt,Tt)},X=Te.drag&&Ke.trigger==="cell";let Ce=!1;X&&(Ce=!!(ht&&ht(Tt))),(Se||X)&&(Fe.onMousedown=xt=>t.triggerHeaderCellMousedownEvent(xt,Tt)),Te.drag&&(Fe.onDragstart=t.handleHeaderCellDragDragstartEvent,Fe.onDragend=t.handleHeaderCellDragDragendEvent,Fe.onDragover=t.handleHeaderCellDragDragoverEvent,X&&(Fe.onMouseup=t.handleHeaderCellDragMouseupEvent));const at=Rt===fe.length-1,gt=n.isBoolean(mt.resizable)?mt.resizable:Te.resizable||re,St=!mt.resizeWidth&&(mt.minWidth==="auto"||mt.width==="auto");let bt=!1;W&&Re&&!J&&!_t&&(!Ae||Ae.id!==N)&&_e&&ne.length>10&&!mt.fixed&&!de.immediate&&(it<F.visibleStartIndex-F.preloadSize||it>F.visibleEndIndex+F.preloadSize)&&(bt=!0);const yt={};if(xe?yt.height=`${et}px`:yt.minHeight=`${et}px`,!Oe){if(Ve&&!wt){const xt=fm(mt),Ct=pm(mt);if(xt&&Ct&&xt.id!==Ct.id){const $t=se[xt.id],on=se[Ct.id];$t&&on&&(yt.width=`${on.oLeft-$t.oLeft+Ct.renderWidth}px`)}}}return o("th",Object.assign(Object.assign(Object.assign({class:["vxe-table--column vxe-header--column",N,ye?"fixed--hidden":"fixed--visible",{[`col--${Pe}`]:Pe,[`col--${Vt}`]:Vt,"col--last":at,"col--fixed":mt.fixed,"col--group":Ve,"col--ellipsis":xe,"fixed--width":!St,"is--padding":P,"is--sortable":mt.sortable,"col--filter":!!ft,"is--filter-active":Ne,"is--drag-active":Te.drag&&!mt.fixed&&!Ce&&(Ot||ut||!mt.parentId),"is--drag-disabled":Te.drag&&Ce,"col--current":pe===mt},vt?n.isFunction(vt)?vt(Tt):vt:"",ze?n.isFunction(ze)?ze(Tt):ze:""],style:ce?n.isFunction(ce)?ce(Tt):ce:null},zt),Fe),{key:Oe?`${N}${Rt}`:Y||_e||ae||Te.useKey||Te.drag||Ve?N:Rt}),[o("div",{class:["vxe-cell",{"c--title":Ze,"c--tooltip":K,"c--ellipsis":qe}],style:yt},bt||W&&ye?[]:[o("div",{colid:N,class:"vxe-cell--wrapper vxe-header-cell--wrapper"},mt.renderHeader(Tt))]),!ye&&gt&&(!Oe||wt)?o("div",{class:"vxe-cell--col-resizable",onMousedown:xt=>t.handleColResizeMousedownEvent(xt,Ee,Tt),onDblclick:xt=>t.handleColResizeDblclickEvent(xt,Tt)}):Yu(t)])})},_=(J,W)=>{const Q=t.xeGrid,ge=t.xeGantt,{fixedType:fe}=e,{showHeaderOverflow:ve,headerAlign:oe,align:Ee}=a,{currentColumn:re,overflowX:Y}=u,{fullColumnIdData:Oe}=r,ze=p.value,ce=h.value,ue=C.value,me=si(ue.height)||ce;return W.map((be,Se)=>{const{type:pe,showHeaderOverflow:Ae,headerAlign:_e,align:ae,filters:Re,editRender:Ie,cellRender:ne,floatingFilters:se,filterRender:F,slots:B}=be,te=be.id,de=Oe[te]||{},Te=Ie||ne,Ke=B?B.floatingFilter||B["floating-filter"]:null,Ye=Te?Gu.get(Te.name):null,Qe=En(F)?Gu.get(F.name):null,lt=Qe?Qe.renderTableFloatingFilter:null,et=Y&&(fe?be.fixed!==fe:!!be.fixed),ht=n.isBoolean(ue.padding)?ue.padding:ze.padding,Ot=n.eqNull(Ae)?ve:Ae,ut=_e||(Ye?Ye.tableHeaderCellAlign:"")||oe||ae||(Ye?Ye.tableCellAlign:"")||Ee,wt=Ot==="ellipsis",mt=Ot==="title",Rt=Ot===!0||Ot==="tooltip",Vt=mt||Rt||wt;let he=!1,$e=null;Re&&($e=Re[0],he=Re.some(Me=>Me.checked));const nt=de.index,ft=de._index,vt={$table:t,$grid:Q,$gantt:ge,column:be,columnIndex:nt,$columnIndex:Se,_columnIndex:ft,option:$e,fixed:fe,source:dp,type:qu,isHidden:et,hasFilter:he},v={colid:te},L=Se===W.length-1,N=!be.resizeWidth&&(be.minWidth==="auto"||be.width==="auto"),ie={};return Vt?ie.height=`${me}px`:ie.minHeight=`${me}px`,o("th",Object.assign({class:["vxe-table--column vxe-header--column",te,et?"fixed--hidden":"fixed--visible",{[`col--${ut}`]:ut,[`col--${pe}`]:pe,"col--last":L,"col--fixed":be.fixed,"col--ellipsis":Vt,"fixed--width":!N,"is--padding":ht,"is--sortable":be.sortable,"col--current":re===be}],key:te},v),[o("div",{class:["vxe-cell",{"c--title":mt,"c--tooltip":Rt,"c--ellipsis":wt}],style:ie},J&&et&&!se?[]:[o("div",{colid:te,class:"vxe-cell--wrapper vxe-header-cell--wrapper"},Ke?t.callSlot(Ke,vt):lt&&$e?Po(lt(F,{$table:t,option:$e,column:be,columnIndex:nt,$columnIndex:Se})):[])])])})},z=(J,W,Q)=>{const{fixedType:ge,fixedColumn:fe}=e,{headerRowClassName:ve,headerRowStyle:oe}=a,{visibleColumn:Ee}=r,re=w.value,Y=Q.map((Oe,ze)=>{const ce={$table:t,$rowIndex:ze,fixed:ge,type:qu};return o("tr",{key:ze,class:["vxe-header--row",ve?n.isFunction(ve)?ve(ce):ve:""],style:oe?n.isFunction(oe)?oe(ce):oe:null},T(J,W,Q,ze,Oe))});return re.enabled&&Y.push(o("tr",{key:"ff",class:["vxe-header--row"]},_(W,W&&ge?fe:Ee))),Y},Z=()=>{const{fixedType:J,fixedColumn:W,tableColumn:Q}=e,{mouseConfig:ge}=a,{isGroup:fe,isColLoading:ve,overflowX:oe,scrollXLoad:Ee,dragCol:re}=u,{visibleColumn:Y,fullColumnIdData:Oe}=r,ze=D.value,ce=V.value;let ue=g.value||[],me=Q;const be=ce;if(fe?me=Y:((!be||!ve&&(J||!oe))&&(me=Y),J&&be&&(me=W||[]),ue=[me]),!J&&!fe&&Ee&&re&&me.length>2){const Se=Oe[re.id];if(Se){const pe=Se._index,Ae=me[0],_e=me[me.length-1],ae=Oe[Ae.id],Re=Oe[_e.id];if(ae&&Re){const Ie=ae._index,ne=Re._index;pe<Ie?(me=[re].concat(me),ue=[[re].concat(ue[0])].concat(ue.slice(1))):pe>ne&&(me=me.concat([re]),ue=[ue[0].concat([re])].concat(ue.slice(1)))}}}return o("div",{ref:i,class:["vxe-table--header-wrapper",J?`fixed-${J}--wrapper`:"body--wrapper"],xid:l},[o("div",{ref:x,class:"vxe-table--header-inner-wrapper",onScroll(Se){t.triggerHeaderScrollEvent(Se,J)}},[J?Yu(t):o("div",{ref:$,class:"vxe-body--x-space"}),o("table",{ref:k,class:"vxe-table--header",xid:l,cellspacing:0,cellpadding:0,border:0,xvm:be?"1":null},[o("colgroup",{ref:R},me.map((Se,pe)=>o("col",{name:Se.id,key:pe,style:{width:`${Se.renderWidth}px`}}))),o("thead",{ref:O},z(fe,be,ue))]),ge&&ze.area?o("div",{class:"vxe-table--cell-area",xid:l},[o("span",{class:"vxe-table--cell-main-area"}),o("span",{class:"vxe-table--cell-clip-area"}),o("span",{class:"vxe-table--cell-extend-area"}),o("span",{class:"vxe-table--cell-multi-area"}),o("span",{class:"vxe-table--cell-active-area"}),o("span",{class:"vxe-table--cell-col-status-area"})]):Yu(t)])])};return Dt(()=>e.tableColumn,M),Ln(()=>{ke(()=>{const{fixedType:J}=e,{internalData:W}=t,{elemStore:Q}=W,ge=`${J||"main"}-header-`;Q[`${ge}wrapper`]=i,Q[`${ge}scroll`]=x,Q[`${ge}table`]=k,Q[`${ge}colgroup`]=R,Q[`${ge}list`]=O,Q[`${ge}xSpace`]=$,Q[`${ge}repair`]=A,M()})}),jn(()=>{const{fixedType:J}=e,{internalData:W}=t,{elemStore:Q}=W,ge=`${J||"main"}-header-`;Q[`${ge}wrapper`]=null,Q[`${ge}scroll`]=null,Q[`${ge}table`]=null,Q[`${ge}colgroup`]=null,Q[`${ge}list`]=null,Q[`${ge}xSpace`]=null,Q[`${ge}repair`]=null}),Z}}),{renderer:Ly,renderEmptyElement:pp}=We,By="table",gp="footer",mp=Il({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const t=jt("$xeTable",{}),{xID:l,props:a,reactData:u,internalData:r}=t,{computeFooterTooltipOpts:d,computeColumnOpts:m,computeCellOpts:p,computeFooterCellOpts:D,computeDefaultRowHeight:C,computeResizableOpts:h,computeVirtualXOpts:S,computeIsFooterRenderOptimize:w}=t.getComputeMaps(),V=st(),g=st(),i=st(),x=st(),k=st(),R=st(),O=(M,T,_,z,Z,J)=>{const W=t.xeGrid,Q=t.xeGantt,{fixedType:ge}=e,{resizable:fe,border:ve,footerCellClassName:oe,footerCellStyle:Ee,footerAlign:re,footerSpanMethod:Y,align:Oe,columnKey:ze,showFooterOverflow:ce}=a,{scrollXLoad:ue,scrollYLoad:me,overflowX:be,currentColumn:Se,mergeFootFlag:pe}=u,{fullColumnIdData:Ae,mergeFooterList:_e,mergeFooterCellMaps:ae,scrollXStore:Re}=r,Ie=S.value,ne=d.value,se=h.value,{isAllColumnDrag:F}=se,B=m.value,te=C.value,de=p.value,Te=D.value,Ke=si(Te.height)||te;return T.map((Ye,Qe)=>{const{type:lt,showFooterOverflow:et,footerAlign:ht,align:Ot,footerClassName:ut,editRender:wt,cellRender:mt}=Ye,Rt=Ye.id,Vt=Ae[Rt]||{},he=wt||mt,$e=he?Ly.get(he.name):null,nt=ne.showAll,ft=be&&(ge?Ye.fixed!==ge:!!Ye.fixed),vt=n.isBoolean(Te.padding)?Te.padding:de.padding,v=n.eqNull(et)?ce:et,L=ht||($e?$e.tableFooterCellAlign:"")||re||Ot||($e?$e.tableCellAlign:"")||Oe,N=v==="ellipsis",ie=v==="title",Me=v===!0||v==="tooltip",He=ie||Me||N,Ve=n.isBoolean(Ye.resizable)?Ye.resizable:B.resizable||fe,ye={colid:Rt},P={},q=Vt.index,Pe=Vt._index,Ze={$table:t,$grid:W,$gantt:Q,row:z,rowIndex:J,_rowIndex:J,$rowIndex:Z,column:Ye,columnIndex:q,$columnIndex:Qe,_columnIndex:Pe,itemIndex:Pe,items:z,fixed:ge,source:By,type:gp,data:_};(ie||Me||nt)&&(P.onMouseenter=it=>{ie?Nd(it.currentTarget,Ye):(Me||nt)&&t.triggerFooterTooltipEvent(it,Ze)}),(Me||nt)&&(P.onMouseleave=it=>{(Me||nt)&&t.handleTargetLeaveEvent(it)}),P.onClick=it=>{t.dispatchEvent("footer-cell-click",Object.assign({cell:it.currentTarget},Ze),it)},P.onDblclick=it=>{t.dispatchEvent("footer-cell-dblclick",Object.assign({cell:it.currentTarget},Ze),it)};let K=!1;if(pe&&_e.length){const it=ae[`${J}:${Pe}`];if(it){const{rowspan:Tt,colspan:zt}=it;if(!Tt||!zt)return null;Tt>1&&(K=!0,ye.rowspan=Tt),zt>1&&(K=!0,ye.colspan=zt)}}else if(Y){const{rowspan:it=1,colspan:Tt=1}=Y(Ze)||{};if(!it||!Tt)return null;it>1&&(ye.rowspan=it),Tt>1&&(ye.colspan=Tt)}const xe=Qe===T.length-1,Ne=!Ye.resizeWidth&&(Ye.minWidth==="auto"||Ye.width==="auto");let Ge=!1;M&&be&&!K&&ue&&T.length>10&&!Ye.fixed&&!Ie.immediate&&(Pe<Re.visibleStartIndex-Re.preloadSize||Pe>Re.visibleEndIndex+Re.preloadSize)&&(Ge=!0);const ot={};return He?ot.height=`${Ke}px`:ot.minHeight=`${Ke}px`,o("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-table--column vxe-footer--column",Ye.id,{[`col--${L}`]:L,[`col--${lt}`]:lt,"col--last":xe,"fixed--width":!Ne,"fixed--hidden":ft,"is--padding":vt,"col--ellipsis":He,"col--current":Se===Ye},Ys(ut,Ze),Ys(oe,Ze)]},ye),{style:Ee?n.isFunction(Ee)?Ee(Ze):Ee:null}),P),{key:ze||ue||me||B.useKey||B.drag?Ye.id:Qe}),[o("div",{class:["vxe-cell",{"c--title":ie,"c--tooltip":Me,"c--ellipsis":N}],style:ot},Ge?[]:[o("div",{colid:Rt,class:"vxe-cell--wrapper vxe-footer-cell--wrapper"},Ye.renderFooter(Ze))]),!ft&&Ve&&F?o("div",{class:["vxe-cell--col-resizable",{"is--line":!ve||ve==="none"}],onMousedown:it=>t.handleColResizeMousedownEvent(it,ge,Ze),onDblclick:it=>t.handleColResizeDblclickEvent(it,Ze)}):pp(t)])})},$=(M,T)=>{const{fixedType:_,footerTableData:z}=e,{footerRowClassName:Z,footerRowStyle:J}=a;return z.map((W,Q)=>{const ge=Q,fe={$table:t,row:W,_rowIndex:ge,$rowIndex:Q,fixed:_,type:gp};return o("tr",{key:Q,class:["vxe-footer--row",Z?n.isFunction(Z)?Z(fe):Z:""],style:J?n.isFunction(J)?J(fe):J:null},O(M,T,z,W,Q,ge))})},A=()=>{const{fixedType:M,fixedColumn:T,tableColumn:_}=e,{visibleColumn:z,fullColumnIdData:Z}=r,{isGroup:J,isColLoading:W,overflowX:Q,scrollXLoad:ge,dragCol:fe}=u,ve=w.value;let oe=_;const Ee=ve;if((!Ee||!W&&(M||!Q))&&(oe=z),M&&Ee&&(oe=T||[]),!M&&!J&&ge&&fe&&oe.length>2){const re=Z[fe.id];if(re){const Y=re._index,Oe=oe[0],ze=oe[oe.length-1],ce=Z[Oe.id],ue=Z[ze.id];if(ce&&ue){const me=ce._index,be=ue._index;Y<me?oe=[fe].concat(oe):Y>be&&(oe=oe.concat([fe]))}}}return o("div",{ref:V,class:["vxe-table--footer-wrapper",M?`fixed-${M}--wrapper`:"body--wrapper"],xid:l},[o("div",{ref:g,class:"vxe-table--footer-inner-wrapper",onScroll(re){t.triggerFooterScrollEvent(re,M)}},[M?pp(t):o("div",{ref:R,class:"vxe-body--x-space"}),o("table",{ref:i,class:"vxe-table--footer",xid:l,cellspacing:0,cellpadding:0,border:0,xvm:Ee?"1":null},[o("colgroup",{ref:x},oe.map((re,Y)=>o("col",{name:re.id,key:Y,style:{width:`${re.renderWidth}px`}}))),o("tfoot",{ref:k},$(Ee,oe))])])])};return Ln(()=>{ke(()=>{const{fixedType:M}=e,{elemStore:T}=r,_=`${M||"main"}-footer-`;T[`${_}wrapper`]=V,T[`${_}scroll`]=g,T[`${_}table`]=i,T[`${_}colgroup`]=x,T[`${_}list`]=k,T[`${_}xSpace`]=R})}),jn(()=>{const{fixedType:M}=e,{elemStore:T}=r,_=`${M||"main"}-footer-`;T[`${_}wrapper`]=null,T[`${_}scroll`]=null,T[`${_}table`]=null,T[`${_}colgroup`]=null,T[`${_}list`]=null,T[`${_}xSpace`]=null}),A}}),{getI18n:go,getIcon:Fo,renderEmptyElement:eo}=We;function hp(){return{}}const zy=Il({name:"TableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(e,t){const l=n.uniqueId(),a=We.getComponent("VxeModal"),u=We.getComponent("VxeDrawer"),r=We.getComponent("VxeButton"),d=We.getComponent("VxeNumberInput"),m=We.getComponent("VxeRadioGroup"),p=jt("$xeTable",{}),{props:D,reactData:C,internalData:h}=p,{computeCustomOpts:S,computeColumnDragOpts:w,computeColumnOpts:V,computeIsMaxFixedColumn:g,computeResizableOpts:i}=p.getComputeMaps(),x=st(),k=st(),R=st(),O=st(),$=st(),A=ln({dragCol:null,dragGroupField:null,dragAggFnCol:null,dragTipText:""});let M=hp();const T={refElem:x,refBodyWrapperElem:k,refCustomBodyElem:R,refDragLineElem:O,refDragTipElem:$},_={},z=ne=>{const{customStore:se}=e;se.activeWrapper=!0,p.customOpenEvent(ne)},Z=ne=>{const{customStore:se}=e;se.activeWrapper=!1,setTimeout(()=>{!se.activeBtn&&!se.activeWrapper&&p.customCloseEvent(ne)},300)},J=({$event:ne})=>{C.isCustomStatus=!0,p.saveCustom(),p.closeCustom(),p.emitCustomEvent("confirm",ne),p.emitCustomEvent("close",ne)},W=({$event:ne})=>{p.closeCustom(),p.emitCustomEvent("close",ne)},Q=({$event:ne})=>{p.cancelCustom(),p.closeCustom(),p.emitCustomEvent("cancel",ne),p.emitCustomEvent("close",ne)},ge=ne=>{p.resetCustom(!0),p.closeCustom(),p.emitCustomEvent("reset",ne),p.emitCustomEvent("close",ne)},fe=({$event:ne})=>{We.modal?We.modal.confirm({content:go("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then(se=>{se==="confirm"&&ge(ne)}):ge(ne)},ve=ne=>{const{customColumnList:se}=C,F=n.findTree(se,B=>B===ne);if(F&&F.parent){const{parent:B}=F;B.children&&B.children.length&&(B.renderVisible=B.children.every(te=>te.renderVisible),B.halfVisible=!B.renderVisible&&B.children.some(te=>te.renderVisible||te.halfVisible),ve(B))}},oe=(ne,se)=>{const F=!ne.renderVisible;S.value.immediate?(n.eachTree([ne],te=>{te.visible=F,te.renderVisible=F,te.halfVisible=!1}),C.isCustomStatus=!0,p.handleCustom(),p.saveCustomStore("update:visible")):n.eachTree([ne],te=>{te.renderVisible=F,te.halfVisible=!1}),ve(ne),p.checkCustomStatus(),p.dispatchEvent("custom-visible-change",{column:ne,checked:F},se)},Ee=ne=>{S.value.immediate&&ne.renderResizeWidth!==ne.renderWidth&&(ne.resizeWidth=ne.renderResizeWidth,ne.renderWidth=ne.renderResizeWidth,C.isCustomStatus=!0,p.handleCustom(),p.saveCustomStore("update:width"))},re=(ne,se,F)=>{const B=g.value,te=S.value;let de=null;te.immediate?(ne.renderFixed===se?(de="",n.eachTree([ne],Te=>{Te.fixed="",Te.renderFixed=""})):(!B||ne.renderFixed)&&(de=se,n.eachTree([ne],Te=>{Te.fixed=se,Te.renderFixed=se})),C.isCustomStatus=!0,p.handleCustom(),p.saveCustomStore("update:fixed")):ne.renderFixed===se?(de="",n.eachTree([ne],Te=>{Te.renderFixed=""})):(!B||ne.renderFixed)&&(de=se,n.eachTree([ne],Te=>{Te.renderFixed=se})),de!==null&&p.dispatchEvent("custom-fixed-change",{column:ne,fixed:de},F)},Y=ne=>{const{customStore:se}=C,F=!se.isAll;p.toggleCustomAllCheckbox(),p.dispatchEvent("custom-visible-all",{checked:F},ne)},Oe=(ne,se,F,B)=>{const te=k.value;if(!te)return;const de=R.value;if(!de)return;const{prevDragToChild:Te}=M,Ke=te.getBoundingClientRect(),Ye=de.getBoundingClientRect(),Qe=O.value;if(se){if(Qe)if(F){const et=se.getBoundingClientRect();Qe.style.display="block",Qe.style.left=`${Math.max(0,Ye.x-Ke.x)}px`,Qe.style.top=`${Math.max(1,et.y+te.scrollTop-Ke.y)}px`,Qe.style.height=`${et.height}px`,Qe.style.width=`${et.width}px`,Qe.setAttribute("drag-pos",B),Qe.setAttribute("drag-to-child",Te?"y":"n")}else Qe.style.display=""}else Qe&&(Qe.style.display="node");const lt=$.value;lt&&(lt.style.display="block",lt.style.top=`${Math.min(te.clientHeight+te.scrollTop-lt.clientHeight,ne.clientY+te.scrollTop-Ke.y)}px`,lt.style.left=`${Math.min(te.clientWidth+te.scrollLeft-lt.clientWidth,ne.clientX+te.scrollLeft-Ke.x)}px`,lt.setAttribute("drag-status",F?Te?"sub":"normal":"disabled"))},ze=()=>{const{dragCol:ne}=A,se=w.value,{tooltipMethod:F}=se;let B="";F?B=`${F({$table:p,column:ne})||""}`:B=go("vxe.custom.cstmDragTarget",[ne&&ne.type!=="html"?ne.getTitle():""]),A.dragTipText=B},ce=()=>{const ne=$.value,se=O.value;ne&&(ne.style.display=""),se&&(se.style.display="")},ue=ne=>{const te=ne.currentTarget.parentElement.parentElement.parentElement,de=te.getAttribute("colid"),Te=p.getColumnById(de);te.draggable=!0,A.dragCol=Te,A.dragGroupField=null,A.dragAggFnCol=null,ze(),Dl(te,"active--drag-origin")},me=ne=>{const te=ne.currentTarget.parentElement.parentElement.parentElement;ce(),te.draggable=!1,A.dragCol=null,A.dragGroupField=null,A.dragAggFnCol=null,nl(te,"active--drag-origin")},be=ne=>{ne.dataTransfer&&ne.dataTransfer.setDragImage(fd(),0,0),M.prevDragGroupField=null,M.prevDragAggFnColid=null},Se=ne=>{const{mouseConfig:se}=D,{customColumnList:F}=C,{collectColumn:B}=h,te=S.value,{immediate:de}=te,Te=ne.currentTarget,Ke=w.value,{isCrossDrag:Ye,isSelfToChildDrag:Qe,isToChildDrag:lt,dragEndMethod:et}=Ke,{dragCol:ht}=A,{prevDragCol:Ot,prevDragGroupField:ut,prevDragAggFnColid:wt,prevDragPos:mt,prevDragToChild:Rt}=M,Vt=mt==="bottom"?1:0;if(ut||wt)p.handlePivotTableAggregatePanelDragendEvent&&p.handlePivotTableAggregatePanelDragendEvent(ne);else if(Ot&&ht&&Ot!==ht){const he=ht,$e=Ot;Promise.resolve(et?et({oldColumn:he,newColumn:$e,dragColumn:he,dragPos:mt,dragToChild:!!Rt,offsetIndex:Vt}):!0).then(nt=>{if(!nt)return;let ft=-1,vt=-1;const v={};n.eachTree([he],ie=>{v[ie.id]=ie});let L=!1;if(de){if(he.parentId&&$e.parentId){if(!Ye)return;if(v[$e.id]&&(L=!0,!(Ye&&Qe))){We.modal&&We.modal.message({status:"error",content:go("vxe.error.treeDragChild")});return}}else if(he.parentId){if(!Ye)return}else if($e.parentId){if(!Ye)return;if(v[$e.id]&&(L=!0,!(Ye&&Qe))){We.modal&&We.modal.message({status:"error",content:go("vxe.error.treeDragChild")});return}}const ie=n.findTree(B,He=>He.id===he.id);if(L&&Ye&&Qe){if(ie){const{items:He,index:Ve}=ie,ye=he.children||[];ye.forEach(P=>{P.parentId=he.parentId}),He.splice(Ve,1,...ye),he.children=[]}}else if(ie){const{items:He,index:Ve,parent:ye}=ie;He.splice(Ve,1),ye||(ft=Ve)}const Me=n.findTree(B,He=>He.id===$e.id);if(Me){const{items:He,index:Ve,parent:ye}=Me;Ye&&lt&&Rt?(he.parentId=$e.id,$e.children=($e.children||[]).concat([he])):(he.parentId=$e.parentId,He.splice(Ve+Vt,0,he)),ye||(vt=Ve)}n.eachTree(B,(He,Ve,ye,P,q)=>{if(!q){const Pe=Ve+1;He.renderSortNumber=Pe}})}else ft=n.findIndexOf(F,ie=>ie.id===he.id),F.splice(ft,1),vt=n.findIndexOf(F,ie=>ie.id===$e.id),F.splice(vt+Vt,0,he);se&&(p.clearSelected&&p.clearSelected(),p.clearCellAreas&&(p.clearCellAreas(),p.clearCopyCellArea()));const N={oldColumn:he,newColumn:$e,dragColumn:he,dragPos:mt,offsetIndex:Vt,_index:{newIndex:vt,oldIndex:ft}};p.dispatchEvent("custom-sort-change",N,ne),p.dispatchEvent("column-dragend",N,ne),de&&(C.customColumnList=B.slice(0),p.handleColDragSwapColumn())}).catch(()=>{})}ce(),A.dragCol=null,A.dragGroupField=null,A.dragAggFnCol=null,M.prevDragGroupField=null,M.prevDragAggFnColid=null,Te.draggable=!1,Te.removeAttribute("drag-pos"),nl(Te,"active--drag-target"),nl(Te,"active--drag-origin")},pe=ne=>{const se=S.value,{immediate:F}=se,B=w.value,{isCrossDrag:te,isToChildDrag:de}=B,Te=ne.currentTarget,Ke=ti(ne),Ye=Te.getAttribute("colid"),Qe=p.getColumnById(Ye),{dragCol:lt}=A;if(M.prevDragGroupField=null,M.prevDragAggFnColid=null,Qe&&(te||Qe.level===1)){ne.preventDefault();const ht=ne.clientY-Te.getBoundingClientRect().y<Te.clientHeight/2?"top":"bottom";if(!lt||lt&&lt.id===Qe.id||!te&&Qe.level>1||!F&&Qe.level>1){Oe(ne,Te,!1,ht);return}M.prevDragToChild=!!(te&&de&&Ke&&F),M.prevDragCol=Qe,M.prevDragPos=ht,Oe(ne,Te,!0,ht)}},Ae=()=>{const{dragTipText:ne}=A,se=w.value;return o("div",{},[o("div",{ref:O,class:["vxe-table-custom-popup--drag-line",{"is--guides":se.showGuidesStatus}]}),o("div",{ref:$,class:"vxe-table-custom-popup--drag-tip"},[o("div",{class:"vxe-table-custom-popup--drag-tip-wrapper"},[o("div",{class:"vxe-table-custom-popup--drag-tip-status"},[o("span",{class:["vxe-table-custom-popup--drag-tip-normal-status",Fo().TABLE_DRAG_STATUS_ROW]}),o("span",{class:["vxe-table-custom-popup--drag-tip-sub-status",Fo().TABLE_DRAG_STATUS_SUB_ROW]}),o("span",{class:["vxe-table-custom-popup--drag-tip-group-status",Fo().TABLE_DRAG_STATUS_AGG_GROUP]}),o("span",{class:["vxe-table-custom-popup--drag-tip-values-status",Fo().TABLE_DRAG_STATUS_AGG_VALUES]}),o("span",{class:["vxe-table-custom-popup--drag-tip-disabled-status",Fo().TABLE_DRAG_DISABLED]})]),o("div",{class:"vxe-table-custom-popup--drag-tip-content"},`${ne||""}`)])])])},_e=()=>{const ne=p.xeGrid,se=p.xeGantt,F=p.props,{customStore:B}=e,{treeConfig:te,rowGroupConfig:de,aggregateConfig:Te}=F,{isCustomStatus:Ke,customColumnList:Ye}=C,Qe=S.value,{immediate:lt}=Qe,et=w.value,{maxHeight:ht}=B,{checkMethod:Ot,visibleMethod:ut,allowVisible:wt,allowSort:mt,allowFixed:Rt,trigger:Vt,placement:he}=Qe,$e=g.value,{isCrossDrag:nt}=et,ft=Qe.slots||{},vt=ft.header,v=ft.top,L=ft.bottom,N=ft.default,ie=ft.footer,Me=[],He={},Ve=B.isAll,ye=B.isIndeterminate;Vt==="hover"&&(He.onMouseenter=z,He.onMouseleave=Z);const P={$table:p,$grid:ne,$gantt:se,columns:Ye,isAllChecked:Ve,isAllIndeterminate:ye,isCustomStatus:Ke};return n.eachTree(Ye,(q,Pe,qe,Ze,K)=>{if(ut?ut({$table:p,column:q}):!0){const Ne=q.renderVisible,Ge=q.halfVisible,ot=q.children&&q.children.length,it=Go(q.getTitle(),1),Tt=Ot?!Ot({$table:p,column:q}):!1,zt=!Ne;Me.push(o("li",{key:q.id,colid:q.id,class:["vxe-table-custom--option",`level--${q.level}`,{"is--hidden":Tt||zt,"is--group":ot}],onDragstart:be,onDragend:Se,onDragover:pe},[wt?o("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":Ne,"is--indeterminate":Ge,"is--disabled":Tt}],title:go("vxe.custom.setting.colVisible"),onClick:_t=>{Tt||oe(q,_t)}},[o("span",{class:["vxe-checkbox--icon",Ge?Fo().TABLE_CHECKBOX_INDETERMINATE:Ne?Fo().TABLE_CHECKBOX_CHECKED:Fo().TABLE_CHECKBOX_UNCHECKED]})]):eo(p),o("div",{class:"vxe-table-custom--name-option"},[mt&&(nt&&lt||q.level===1)?o("div",{class:"vxe-table-custom--sort-option"},[o("span",Object.assign({class:["vxe-table-custom--sort-btn",{"is--disabled":Tt||zt}],title:go("vxe.custom.setting.sortHelpTip")},Tt||zt?{}:{onMousedown:ue,onMouseup:me}),[o("i",{class:Fo().TABLE_CUSTOM_SORT})])]):eo(p),q.type==="html"?o("div",{key:"1",class:"vxe-table-custom--checkbox-label",innerHTML:it}):o("div",{key:"0",class:"vxe-table-custom--checkbox-label"},it)]),!K&&Rt?o("div",{class:"vxe-table-custom--fixed-option"},[r?o(r,{mode:"text",icon:q.renderFixed==="left"?Fo().TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:Fo().TOOLBAR_TOOLS_FIXED_LEFT,status:q.renderFixed==="left"?"primary":"",disabled:Tt||zt||$e&&!q.renderFixed,title:go(q.renderFixed==="left"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:({$event:_t})=>{re(q,"left",_t)}}):eo(p),r?o(r,{mode:"text",icon:q.renderFixed==="right"?Fo().TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:Fo().TOOLBAR_TOOLS_FIXED_RIGHT,status:q.renderFixed==="right"?"primary":"",disabled:Tt||zt||$e&&!q.renderFixed,title:go(q.renderFixed==="right"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:({$event:_t})=>{re(q,"right",_t)}}):eo(p)]):eo(p)]))}}),o("div",{ref:x,key:"simple",class:["vxe-table-custom-wrapper",`placement--${he}`,{"is--active":B.visible}],style:ht&&!["left","right"].includes(he||"")?{maxHeight:`${ht}px`}:{}},B.visible?[o("div",{ref:k,class:"vxe-table-custom-simple--body-wrapper"},[!te&&(Te||de)&&p.getPivotTableAggregateSimplePanel?o(p.getPivotTableAggregateSimplePanel(),{customStore:B}):eo(p),o("div",{ref:R,class:"vxe-table-custom--handle-wrapper"},[o("div",{class:"vxe-table-custom--header"},vt?p.callSlot(vt,P):[o("ul",{class:"vxe-table-custom--panel-list"},[o("li",{class:"vxe-table-custom--option"},[wt?o("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":Ve,"is--indeterminate":ye}],title:go("vxe.table.allTitle"),onClick:Y},[o("span",{class:["vxe-checkbox--icon",ye?Fo().TABLE_CHECKBOX_INDETERMINATE:Ve?Fo().TABLE_CHECKBOX_CHECKED:Fo().TABLE_CHECKBOX_UNCHECKED]}),o("span",{class:"vxe-checkbox--label"},go("vxe.toolbar.customAll"))]):o("span",{class:"vxe-checkbox--label"},go("vxe.table.customTitle"))])])]),o("div",{class:"vxe-table-custom--body"},[v?o("div",{class:"vxe-table-custom--panel-top"},p.callSlot(v,P)):eo(p),N?o("div",{class:"vxe-table-custom--panel-body"},p.callSlot(N,P)):o(Ja,Object.assign({class:"vxe-table-custom--panel-list",name:"vxe-table-custom--list",tag:"ul"},He),{default:()=>Me}),L?o("div",{class:"vxe-table-custom--panel-bottom"},p.callSlot(L,P)):eo(p)]),Qe.showFooter?o("div",{class:"vxe-table-custom--footer"},ie?p.callSlot(ie,P):[o("div",{class:"vxe-table-custom--footer-buttons"},[r?o(r,{mode:"text",content:Qe.resetButtonText||go("vxe.table.customRestore"),disabled:!Ke,onClick:fe}):eo(p),lt?r?o(r,{mode:"text",content:Qe.closeButtonText||go("vxe.table.customClose"),onClick:W}):eo(p):r?o(r,{mode:"text",content:Qe.cancelButtonText||go("vxe.table.customCancel"),onClick:Q}):eo(p),lt?eo(p):r?o(r,{mode:"text",status:"primary",content:Qe.confirmButtonText||go("vxe.table.customConfirm"),onClick:J}):eo(p)])]):null]),Ae()])]:[])},ae=()=>{const ne=p.xeGrid,se=p.xeGantt,{customStore:F}=e,{treeConfig:B,rowGroupConfig:te,aggregateConfig:de,resizable:Te}=D,{isCustomStatus:Ke,customColumnList:Ye}=C,Qe=S.value,{immediate:lt}=Qe,et=w.value,{mode:ht,modalOptions:Ot,drawerOptions:ut,allowVisible:wt,allowSort:mt,allowFixed:Rt,allowResizable:Vt,checkMethod:he,visibleMethod:$e}=Qe,nt=V.value,{maxFixedSize:ft}=nt,vt=i.value,{minWidth:v,maxWidth:L}=vt,N=Object.assign({},Ot),ie=Object.assign({},ut),Me=g.value,{isCrossDrag:He}=et,Ve=Qe.slots||{},ye=Ve.header,P=Ve.top,q=Ve.bottom,Pe=Ve.default,qe=Ve.footer,Ze=[],K=F.isAll,xe=F.isIndeterminate,Ne={$table:p,$grid:ne,$gantt:se,columns:Ye,isAllChecked:K,isAllIndeterminate:xe,isCustomStatus:Ke};n.eachTree(Ye,(ot,it,Tt,zt,_t)=>{if($e?$e({$table:p,column:ot}):!0){let X=0,Ce=0;if(Vt){const Ct={$table:p,column:ot,columnIndex:it,$columnIndex:it,$rowIndex:-1};v&&(X=n.toNumber(n.isFunction(v)?v(Ct):v)),L&&(Ce=n.toNumber(n.isFunction(L)?L(Ct):L))}const at=ot.renderVisible,gt=ot.halfVisible,St=Go(ot.getTitle(),1),bt=ot.children&&ot.children.length,yt=he?!he({$table:p,column:ot}):!1,xt=!at;Ze.push(o("tr",{key:ot.id,colid:ot.id,class:[`vxe-table-custom-popup--row level--${ot.level}`,{"is--group":bt}],onDragstart:be,onDragend:Se,onDragover:pe},[wt?o("td",{class:"vxe-table-custom-popup--column-item col--visible"},[o("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":at,"is--indeterminate":gt,"is--disabled":yt}],title:go("vxe.custom.setting.colVisible"),onClick:Ct=>{yt||oe(ot,Ct)}},[o("span",{class:["vxe-checkbox--icon",gt?Fo().TABLE_CHECKBOX_INDETERMINATE:at?Fo().TABLE_CHECKBOX_CHECKED:Fo().TABLE_CHECKBOX_UNCHECKED]})])]):eo(p),o("td",{class:"vxe-table-custom-popup--column-item col--name"},[o("div",{class:"vxe-table-custom-popup--name"},[mt?He&&lt||ot.level===1?o("div",Object.assign({class:["vxe-table-custom-popup--column-sort-btn",{"is--disabled":yt||xt}],title:go("vxe.custom.setting.sortHelpTip")},yt||xt?{}:{onMousedown:ue,onMouseup:me}),[o("i",{class:Fo().TABLE_CUSTOM_SORT})]):o("div",{class:"vxe-table-custom-popup--column-sort-placeholder"}):eo(p),ot.type==="html"?o("div",{key:"1",class:"vxe-table-custom-popup--title",innerHTML:St}):o("div",{key:"0",class:"vxe-table-custom-popup--title",title:St},St)])]),Vt?o("td",{class:"vxe-table-custom-popup--column-item col--resizable"},[ot.children&&ot.children.length||!(n.isBoolean(ot.resizable)?ot.resizable:nt.resizable||Te)?o("span","-"):d?o(d,{type:"integer",immediate:!1,disabled:yt||xt,modelValue:ot.renderResizeWidth,min:X||void 0,max:Ce||void 0,"onUpdate:modelValue"(Ct){const $t=Math.max(0,Number(Ct));ot.renderResizeWidth=$t},onChange(){Ee(ot)}}):eo(p)]):eo(p),Rt?o("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[_t?o("span","-"):m?o(m,{modelValue:ot.renderFixed||"",type:"button",size:"mini",disabled:yt||xt,options:[{label:go("vxe.custom.setting.fixedLeft"),value:"left",disabled:yt||xt||Me},{label:go("vxe.custom.setting.fixedUnset"),value:"",disabled:yt||xt},{label:go("vxe.custom.setting.fixedRight"),value:"right",disabled:yt||xt||Me}],onChange({label:Ct,$event:$t}){re(ot,Ct,$t)}}):eo(p)]):eo(p)]))}});const Ge={default:()=>o("div",{ref:k,class:"vxe-table-custom-popup--body-wrapper"},Pe?p.callSlot(Pe,Ne):[o("div",{ref:R,class:"vxe-table-custom-popup--handle-wrapper"},[P?o("div",{class:"vxe-table-custom-popup--table-top"},p.callSlot(P,Ne)):eo(p),o("div",{class:"vxe-table-custom-popup--table-wrapper"},[o("table",{},[o("colgroup",{},[wt?o("col",{class:"vxe-table-custom-popup--table-col-seq"}):eo(p),o("col",{class:"vxe-table-custom-popup--table-col-title"}),Vt?o("col",{class:"vxe-table-custom-popup--table-col-width"}):eo(p),Rt?o("col",{class:"vxe-table-custom-popup--table-col-fixed"}):eo(p)]),o("thead",{},[o("tr",{},[wt?o("th",{},[o("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":K,"is--indeterminate":xe}],title:go("vxe.table.allTitle"),onClick:Y},[o("span",{class:["vxe-checkbox--icon",xe?Fo().TABLE_CHECKBOX_INDETERMINATE:K?Fo().TABLE_CHECKBOX_CHECKED:Fo().TABLE_CHECKBOX_UNCHECKED]}),o("span",{class:"vxe-checkbox--label"},go("vxe.toolbar.customAll"))])]):eo(p),o("th",{},go("vxe.custom.setting.colTitle")),Vt?o("th",{},go("vxe.custom.setting.colResizable")):eo(p),Rt?o("th",{},go(`vxe.custom.setting.${ft?"colFixedMax":"colFixed"}`,[ft])):eo(p)])]),o(Ja,{class:"vxe-table-custom--panel-list",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>Ze})])]),q?o("div",{class:"vxe-table-custom-popup--table-bottom"},p.callSlot(q,Ne)):eo(p),Ae()]),!B&&(de||te)&&p.getPivotTableAggregatePopupPanel?o(p.getPivotTableAggregatePopupPanel(),{customStore:F}):eo(p)]),footer:()=>qe?p.callSlot(qe,Ne):o("div",{class:"vxe-table-custom-popup--footer"},[r?o(r,{content:Qe.resetButtonText||go("vxe.custom.cstmRestore"),disabled:!Ke,onClick:fe}):eo(p),lt?r?o(r,{content:Qe.closeButtonText||go("vxe.table.customClose"),onClick:W}):eo(p):r?o(r,{content:Qe.cancelButtonText||go("vxe.table.customCancel"),onClick:Q}):eo(p),lt?eo(p):r?o(r,{status:"primary",content:Qe.confirmButtonText||go("vxe.custom.cstmConfirm"),onClick:J}):eo(p)])};return ye&&(Ge.header=()=>p.callSlot(ye,Ne)),ht==="drawer"?u?o(u,{key:"drawer",className:["vxe-table-custom-drawer-wrapper","vxe-table--ignore-clear",ie.className||""].join(" "),modelValue:F.visible,title:ie.title||go("vxe.custom.cstmTitle"),width:ie.width||Math.min(880,Math.floor(document.documentElement.clientWidth*.6)),position:ie.position,resize:!!ie.resize,escClosable:!!ie.escClosable,maskClosable:!!ie.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(ot){F.visible=ot}},Ge):eo(p):a?o(a,{key:"modal",className:["vxe-table-custom-modal-wrapper","vxe-table--ignore-clear",N.className||""].join(" "),modelValue:F.visible,title:N.title||go("vxe.custom.cstmTitle"),width:N.width||Math.min(880,document.documentElement.clientWidth),minWidth:N.minWidth||700,height:N.height||Math.min(680,document.documentElement.clientHeight),minHeight:N.minHeight||400,showZoom:N.showZoom,showMaximize:N.showMaximize,showMinimize:N.showMinimize,mask:N.mask,lockView:N.lockView,resize:N.resize,escClosable:!!N.escClosable,maskClosable:!!N.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(ot){F.visible=ot}},Ge):eo(p)},Re=()=>{const ne=S.value;return["modal","drawer","popup"].includes(`${ne.mode}`)?ae():_e()};ke(()=>{const ne=S.value,{mode:se}=ne;!a&&se==="modal"&&en("vxe.error.reqComp",["vxe-modal"]),!u&&se==="drawer"&&en("vxe.error.reqComp",["vxe-drawer"]),r||en("vxe.error.reqComp",["vxe-button"]),d||en("vxe.error.reqComp",["vxe-number-input"]),m||en("vxe.error.reqComp",["vxe-radio-group"])});const Ie={xID:l,props:e,context:t,reactData:A,internalData:M,xeTable:p,getRefMaps:()=>T,getComputeMaps:()=>_,renderVN:Re};return jn(()=>{M=hp()}),An("$xeTableCustomPanel",Ie),Ie},render(){return this.renderVN()}}),{getI18n:Di,getIcon:Lr,renderer:vp,renderEmptyElement:Hy}=We,_y=Il({name:"VxeTableFilterPanel",props:{filterStore:{type:Object,default:()=>({})}},setup(e,t){const l=n.uniqueId(),a=jt("$xeTable",{}),{reactData:u,internalData:r,getComputeMaps:d}=a,{computeFilterOpts:m}=d(),p=st(),D={refElem:p},C={xID:l,props:e,context:t,getRefMaps:()=>D},h=j(()=>{const{filterStore:M}=e,{column:T}=M;return T&&T.filters&&T.filters.some(_=>_.checked)}),S=(M,T)=>{const{filterStore:_}=e,{column:z}=_;z&&z.filters&&z.filters.forEach(Z=>{Z._checked=T,Z.checked=T}),_.isAllSelected=T,_.isIndeterminate=!1},w=M=>{const{filterStore:T}=e;M||cn("vxe.error.delFunc",["confirmFilter","saveFilterPanelByEvent"]),a.handleFilterConfirmFilter(M||new Event("click"),T.column||null)},V=(M,T,_)=>{a.handleFilterChangeRadioOption(M,T,_)},g=M=>{const{filterStore:T}=e;a.handleFilterResetFilter(M,T.column||null)},i=(M,T,_)=>{a.handleFilterChangeMultipleOption(M,T,_)},x=(M,T,_)=>{a.handleFilterChangeOption(M,T,_)},k=(M,T)=>{const{filterStore:_}=e,{column:z}=_;z&&z.filterMultiple?S(M,T):g(M)};Object.assign(C,{changeRadioOption:V,changeMultipleOption:i,changeAllOption:k,changeOption:x,confirmFilter:w,resetFilter:g});const O=(M,T)=>{const{filterStore:_}=e,{column:z,maxHeight:Z}=_;if(!z)return[];const{filterMultiple:J,filters:W,slots:Q}=z,ge=W||[],fe=Q?Q.filter:null,ve=Object.assign({},r._currFilterParams,{option:ge[0],$panel:C,$table:a}),oe=T?T.renderTableFilter||T.renderFilter:null;if(fe)return[o("div",{class:"vxe-table--filter-template",style:Z?{maxHeight:Js(Z)}:{}},a.callSlot(fe,ve))];if(M&&oe)return[o("div",{class:"vxe-table--filter-template",style:Z?{maxHeight:Js(Z)}:{}},Po(oe(M,ve)))];const Ee=J?_.isAllSelected:!ge.some(Y=>Y._checked),re=J&&_.isIndeterminate;return[o("ul",{class:"vxe-table--filter-header"},[o("li",{class:["vxe-table--filter-option",{"is--checked":Ee,"is--indeterminate":re}],title:Di(J?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:Y=>{k(Y,!_.isAllSelected)}},(J?[o("span",{class:["vxe-checkbox--icon",re?Lr().TABLE_CHECKBOX_INDETERMINATE:Ee?Lr().TABLE_CHECKBOX_CHECKED:Lr().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([o("span",{class:"vxe-checkbox--label"},Di("vxe.table.allFilter"))]))]),o("ul",{class:"vxe-table--filter-body",style:Z?{maxHeight:Js(Z)}:{}},ge.map(Y=>{const Oe=Y._checked;return o("li",{class:["vxe-table--filter-option",{"is--checked":Y._checked}],title:Y.label,onClick:ze=>{x(ze,!Y._checked,Y)}},(J?[o("span",{class:["vxe-checkbox--icon",Oe?Lr().TABLE_CHECKBOX_CHECKED:Lr().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([o("span",{class:"vxe-checkbox--label"},Go(Y.label,1))]))}))]},$=()=>{const{filterStore:M}=e,{column:T}=M;if(!T)return[];const _=m.value,z=h.value,{filterRender:Z,filterMultiple:J}=T,W=En(Z)?vp.get(Z.name):null,Q=!z&&!M.isAllSelected&&!M.isIndeterminate;return(W?!(W.showTableFilterFooter===!1||W.showFilterFooter===!1||W.isFooter===!1):J)?[o("div",{class:"vxe-table--filter-footer"},[o("button",{class:{"is--disabled":Q},disabled:Q,onClick:w},_.confirmButtonText||Di("vxe.table.confirmFilter")),o("button",{onClick:g},_.resetButtonText||Di("vxe.table.resetFilter"))])]:[]},A=()=>{const{filterStore:M}=e,{initStore:T}=u,{visible:_,column:z}=M;if(!z)return Hy(C);const Z=z?z.filterRender:null,J=Z&&En(Z)?vp.get(Z.name):null,W=J?J.tableFilterClassName||J.filterClassName:"",Q=Object.assign({},r._currFilterParams,{$panel:C,$table:a}),ge=a.props,{computeSize:fe}=a.getComputeMaps(),ve=fe.value,oe=m.value,{transfer:Ee,destroyOnClose:re,className:Y}=oe;return o(ol,{to:"body",disabled:!Ee},[o("div",{ref:p,class:["vxe-table--filter-wrapper","filter--prevent-default",Y,Ys(W,Q),{[`size--${ve}`]:ve,"is--animat":ge.animat,"is--multiple":z.filterMultiple,"is--active":_}],style:M.style},T.filter&&(!re||_)&&z?O(Z,J).concat($()):[])])};return C.renderVN=A,C},render(){return this.renderVN()}}),{getI18n:fa,getIcon:jy,renderEmptyElement:za}=We,Wy=Il({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=We.getComponent("VxeModal"),l=We.getComponent("VxeButton"),a=We.getComponent("VxeSelect"),u=jt("$xeTable",{}),{computeImportOpts:r}=u.getComputeMaps(),d=ln({loading:!1}),m=st(),p=j(()=>{const{storeData:x}=e;return`${x.filename}.${x.type}`}),D=j(()=>{const{storeData:x}=e;return x.file&&x.type}),C=j(()=>{const{storeData:x}=e,{type:k,typeList:R}=x;if(k){const O=n.find(R,$=>k===$.value);return O?O.label:"*.*"}return`*.${R.map(O=>O.value).join(", *.")}`}),h=()=>{const{storeData:x}=e;Object.assign(x,{filename:"",sheetName:"",type:""})},S=()=>{const{storeData:x,defaultOptions:k}=e;u.readFile(k).then(R=>{const{file:O}=R;Object.assign(x,Kg(O),{file:O})}).catch(R=>R)},w=()=>{ke(()=>{const x=m.value;x&&x.focus()})},V=()=>{const{storeData:x}=e;x.visible=!1},g=()=>{const{storeData:x,defaultOptions:k}=e,R=r.value;d.loading=!0,u.importByFile(x.file,Object.assign({},R,k)).then(()=>{d.loading=!1,x.visible=!1}).catch(()=>{d.loading=!1})},i=()=>{const x=u.xeGrid,k=u.xeGantt,{defaultOptions:R,storeData:O}=e,$=p.value,A=D.value,M=C.value,T=R.slots||{},_=T.top,z=T.bottom,Z=T.default,J=T.footer;return t?o(t,{id:"VXE_IMPORT_MODAL",modelValue:O.visible,title:fa("vxe.import.impTitle"),className:"vxe-table-export-popup-wrapper",width:540,minWidth:360,minHeight:240,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:d.loading,"onUpdate:modelValue"(W){O.visible=W},onShow:w},{default:()=>{const W={$table:u,$grid:x,$gantt:k,options:R,params:R.params};return o("div",{class:"vxe-table-export--panel"},[_?o("div",{class:"vxe-table-export--panel-top"},u.callSlot(_,W)):za(u),o("div",{class:"vxe-table-export--panel-body"},Z?u.callSlot(Z,W):[o("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[o("tbody",[o("tr",[o("td",fa("vxe.import.impFile")),o("td",[A?o("div",{class:"vxe-table-export--selected--file",title:$},[o("span",$),o("i",{class:jy().INPUT_CLEAR,onClick:h})]):o("button",{ref:m,class:"vxe-table-export--select--file",onClick:S},fa("vxe.import.impSelect"))])]),o("tr",[o("td",fa("vxe.import.impType")),o("td",M)]),o("tr",[o("td",fa("vxe.import.impMode")),o("td",[a?o(a,{modelValue:R.mode,options:O.modeList,"onUpdate:modelValue"(Q){R.mode=Q}}):za(u)])])])])]),z?o("div",{class:"vxe-table-export--panel-bottom"},u.callSlot(z,W)):za(u)])},footer(){const W={$table:u,$grid:x,$gantt:k,options:R,params:R.params};return o("div",{class:"vxe-table-export--panel-footer"},J?u.callSlot(J,W):[o("div",{class:"vxe-table-export--panel-btns"},[l?o(l,{content:fa("vxe.import.impCancel"),onClick:V}):za(u),l?o(l,{status:"primary",disabled:!A||d.loading,content:fa("vxe.import.impConfirm"),onClick:g}):za(u)])])}}):za(u)};return ke(()=>{t||en("vxe.error.reqComp",["vxe-modal"]),l||en("vxe.error.reqComp",["vxe-button"]),a||en("vxe.error.reqComp",["vxe-select"])}),i}}),{getI18n:xo,getIcon:Ha,renderEmptyElement:Wo}=We,Gy=Il({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=We.getComponent("VxeModal"),l=We.getComponent("VxeButton"),a=We.getComponent("VxeSelect"),u=We.getComponent("VxeInput"),r=We.getComponent("VxeCheckbox"),d=jt("$xeTable",{}),{computeExportOpts:m,computePrintOpts:p}=d.getComputeMaps(),D=ln({isAll:!1,isIndeterminate:!1,loading:!1}),C=st(),h=st(),S=st(),w=j(()=>{const{storeData:J}=e;return J.columns.every(W=>W.checked)}),V=j(()=>{const{defaultOptions:J}=e;return["html","xml","xlsx","pdf"].indexOf(J.type)>-1}),g=j(()=>{const{storeData:J,defaultOptions:W}=e;return!W.original&&W.mode==="current"&&(J.isPrint||["html","xlsx"].indexOf(W.type)>-1)}),i=j(()=>{const{defaultOptions:J}=e;return!J.original&&["xlsx"].indexOf(J.type)>-1}),x=J=>{const{storeData:W}=e,Q=n.findTree(W.columns,ge=>ge===J);if(Q&&Q.parent){const{parent:ge}=Q;ge.children&&ge.children.length&&(ge.checked=ge.children.every(fe=>fe.checked),ge.halfChecked=!ge.checked&&ge.children.some(fe=>fe.checked||fe.halfChecked),x(ge))}},k=()=>{const{storeData:J}=e,W=J.columns;D.isAll=W.every(Q=>Q.disabled||Q.checked),D.isIndeterminate=!D.isAll&&W.some(Q=>!Q.disabled&&(Q.checked||Q.halfChecked))},R=J=>{const W=!J.checked;n.eachTree([J],Q=>{Q.checked=W,Q.halfChecked=!1}),x(J),k()},O=()=>{const{storeData:J}=e,W=!D.isAll;n.eachTree(J.columns,Q=>{Q.disabled||(Q.checked=W,Q.halfChecked=!1)}),D.isAll=W,k()},$=()=>{ke(()=>{const J=h.value,W=S.value,Q=C.value,ge=J||W||Q;ge&&ge.focus()}),k()},A=()=>{const{storeData:J,defaultOptions:W}=e,{hasMerge:Q,columns:ge}=J,fe=w.value,ve=g.value,oe=n.searchTree(ge,Ee=>Ee.checked,{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},W,{columns:oe,isMerge:Q&&ve&&fe?W.isMerge:!1})},M=()=>{const{storeData:J}=e,W=p.value;J.visible=!1,d.print(Object.assign({},W,A()))},T=()=>{const{storeData:J}=e,W=m.value;D.loading=!0,d.exportData(Object.assign({},W,A())).then(()=>{D.loading=!1,J.visible=!1}).catch(()=>{D.loading=!1})},_=()=>{const{storeData:J}=e;J.visible=!1},z=()=>{const{storeData:J}=e;J.isPrint?M():T()},Z=()=>{const J=d.xeGrid,W=d.xeGantt,{defaultOptions:Q,storeData:ge}=e,{isAll:fe,isIndeterminate:ve}=D,{hasTree:oe,hasMerge:Ee,isPrint:re,hasColgroup:Y,columns:Oe}=ge,{isHeader:ze}=Q,ce=[],ue=w.value,me=V.value,be=g.value,Se=i.value,pe=Q.slots||{},Ae=pe.top,_e=pe.bottom,ae=pe.default,Re=pe.footer,Ie=pe.parameter;return n.eachTree(Oe,ne=>{const se=Go(ne.getTitle(),1),F=ne.children&&ne.children.length,B=ne.checked,te=ne.halfChecked,de=ne.type==="html";ce.push(o("li",{key:ne.id,class:["vxe-table-export--panel-column-option",`level--${ne.level}`,{"is--group":F,"is--checked":B,"is--indeterminate":te,"is--disabled":ne.disabled}],title:de?"":se,onClick:()=>{ne.disabled||R(ne)}},[o("span",{class:["vxe-checkbox--icon",te?Ha().TABLE_CHECKBOX_INDETERMINATE:B?Ha().TABLE_CHECKBOX_CHECKED:Ha().TABLE_CHECKBOX_UNCHECKED]}),de?o("span",{key:"1",class:"vxe-checkbox--label",innerHTML:se}):o("span",{key:"0",class:"vxe-checkbox--label"},se)]))}),t?o(t,{id:"VXE_EXPORT_MODAL",modelValue:ge.visible,title:xo(re?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,minWidth:500,minHeight:400,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:D.loading,"onUpdate:modelValue"(ne){ge.visible=ne},onShow:$},{default:()=>{const ne={$table:d,$grid:J,$gantt:W,options:Q,columns:Oe,params:Q.params},se=Q.mode==="empty";return o("div",{class:"vxe-table-export--panel"},[Ae?o("div",{class:"vxe-table-export--panel-top"},d.callSlot(Ae,ne)):Wo(d),o("div",{class:"vxe-table-export--panel-body"},ae?d.callSlot(ae,ne):[o("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[o("tbody",[[re?Wo(d):o("tr",[o("td",xo("vxe.export.expName")),o("td",[u?o(u,{ref:h,modelValue:Q.filename,type:"text",clearable:!0,placeholder:xo("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(F){Q.filename=F}}):Wo(d)])]),re?Wo(d):o("tr",[o("td",xo("vxe.export.expType")),o("td",[a?o(a,{modelValue:Q.type,options:ge.typeList,"onUpdate:modelValue"(F){Q.type=F}}):Wo(d)])]),re||me?o("tr",[o("td",xo("vxe.export.expSheetName")),o("td",[u?o(u,{ref:S,modelValue:Q.sheetName,type:"text",clearable:!0,placeholder:xo("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(F){Q.sheetName=F}}):Wo(d)])]):Wo(d),o("tr",[o("td",xo("vxe.export.expMode")),o("td",[a?o(a,{modelValue:Q.mode,options:ge.modeList.map(F=>({value:F.value,label:xo(F.label)})),"onUpdate:modelValue"(F){Q.mode=F}}):Wo(d)])]),o("tr",[o("td",[xo("vxe.export.expColumn")]),o("td",[o("div",{class:"vxe-table-export--panel-column"},[o("ul",{class:"vxe-table-export--panel-column-header"},[o("li",{class:["vxe-table-export--panel-column-option",{"is--checked":fe,"is--indeterminate":ve}],title:xo("vxe.table.allTitle"),onClick:O},[o("span",{class:["vxe-checkbox--icon",ve?Ha().TABLE_CHECKBOX_INDETERMINATE:fe?Ha().TABLE_CHECKBOX_CHECKED:Ha().TABLE_CHECKBOX_UNCHECKED]}),o("span",{class:"vxe-checkbox--label"},xo("vxe.export.expCurrentColumn"))])]),o("ul",{class:"vxe-table-export--panel-column-body"},ce)])])]),o("tr",[o("td",xo("vxe.export.expOpts")),Ie?o("td",[o("div",{class:"vxe-table-export--panel-option-row"},d.callSlot(Ie,ne))]):o("td",[o("div",{class:"vxe-table-export--panel-option-row"},[r?o(r,{modelValue:se||ze,disabled:se,title:xo("vxe.export.expHeaderTitle"),content:xo("vxe.export.expOptHeader"),"onUpdate:modelValue"(F){Q.isHeader=F}}):Wo(d),r?o(r,{modelValue:ze?Q.isTitle:!1,disabled:!ze,title:xo("vxe.export.expTitleTitle"),content:xo("vxe.export.expOptTitle"),"onUpdate:modelValue"(F){Q.isTitle=F}}):Wo(d),r?o(r,{modelValue:ze&&Y&&be?Q.isColgroup:!1,title:xo("vxe.export.expColgroupTitle"),disabled:!ze||!Y||!be,content:xo("vxe.export.expOptColgroup"),"onUpdate:modelValue"(F){Q.isColgroup=F}}):Wo(d)]),o("div",{class:"vxe-table-export--panel-option-row"},[r?o(r,{modelValue:se?!1:Q.original,disabled:se,title:xo("vxe.export.expOriginalTitle"),content:xo("vxe.export.expOptOriginal"),"onUpdate:modelValue"(F){Q.original=F}}):Wo(d),r?o(r,{modelValue:Ee&&be&&ue?Q.isMerge:!1,title:xo("vxe.export.expMergeTitle"),disabled:se||!Ee||!be||!ue,content:xo("vxe.export.expOptMerge"),"onUpdate:modelValue"(F){Q.isMerge=F}}):Wo(d),re||!r?Wo(d):o(r,{modelValue:Se?Q.useStyle:!1,disabled:!Se,title:xo("vxe.export.expUseStyleTitle"),content:xo("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(F){Q.useStyle=F}}),r?o(r,{modelValue:oe?Q.isAllExpand:!1,disabled:se||!oe,title:xo("vxe.export.expAllExpandTitle"),content:xo("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(F){Q.isAllExpand=F}}):Wo(d)]),o("div",{class:"vxe-table-export--panel-option-row"},[r?o(r,{modelValue:Q.isFooter,disabled:!ge.hasFooter,title:xo("vxe.export.expFooterTitle"),content:xo("vxe.export.expOptFooter"),"onUpdate:modelValue"(F){Q.isFooter=F}}):Wo(d)])])])]])])]),_e?o("div",{class:"vxe-table-export--panel-bottom"},d.callSlot(_e,ne)):Wo(d)])},footer(){const ne={$table:d,$grid:J,$gantt:W,options:Q,columns:Oe,params:Q.params};return o("div",{class:"vxe-table-export--panel-footer"},Re?d.callSlot(Re,ne):[o("div",{class:"vxe-table-export--panel-btns"},[l?o(l,{content:xo("vxe.export.expCancel"),onClick:_}):Wo(d),l?o(l,{ref:C,status:"primary",content:xo(re?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:z}):Wo(d)])])}}):Wo(d)};return ke(()=>{t||en("vxe.error.reqComp",["vxe-modal"]),l||en("vxe.error.reqComp",["vxe-button"]),a||en("vxe.error.reqComp",["vxe-select"]),u||en("vxe.error.reqComp",["vxe-input"]),r||en("vxe.error.reqComp",["vxe-checkbox"])}),Z}}),{getIcon:Yy,renderEmptyElement:_a}=We,qy=Il({name:"VxeTableMenuPanel",setup(e,t){const l=n.uniqueId(),a=jt("$xeTable",{}),{reactData:u}=a,r=st(),d={refElem:r},m={xID:l,props:e,context:t,getRefMaps:()=>d},p=()=>{const{ctxMenuStore:D}=u,{computeMenuOpts:C}=a.getComputeMaps(),h=C.value,{transfer:S,destroyOnClose:w}=h,{visible:V,list:g,className:i}=D;return o(ol,{to:"body",disabled:!S},[o("div",{ref:r,class:["vxe-table--context-menu-wrapper",i,{"is--visible":V}],style:D.style},!w||V?g.map((x,k)=>x.every(R=>R.visible===!1)?_a(a):o("ul",{class:"vxe-context-menu--option-wrapper",key:k},x.map((R,O)=>{const $=R.children&&R.children.some(Z=>Z.visible!==!1),A=Object.assign({},R.prefixConfig),M=A.icon||R.prefixIcon,T=Object.assign({},R.suffixConfig),_=T.icon||R.suffixIcon,z=as(R.name);return R.visible===!1?_a(a):o("li",{class:[R.className,{"link--disabled":R.disabled,"link--active":R===D.selected}],key:`${k}_${O}`},[o("a",{class:"vxe-context-menu--link",onClick(Z){a.ctxMenuLinkEvent(Z,R)},onMouseover(Z){a.ctxMenuMouseoverEvent(Z,R)},onMouseout(Z){a.ctxMenuMouseoutEvent(Z,R)}},[o("div",{class:["vxe-context-menu--link-prefix",A.className||""]},[M&&n.isFunction(M)?o("span",{},Po(M({}))):o("i",{class:M}),A.content?o("span",{},`${A.content}`):_a(a)]),o("div",{class:"vxe-context-menu--link-content",title:z},z),o("div",{class:["vxe-context-menu--link-suffix",T.className||""]},[_&&n.isFunction(_)?o("span",{},Po(_({}))):o("i",{class:_||($?Yy().TABLE_MENU_OPTIONS:"")}),T.content?o("span",`${T.content}`):_a(a)])]),$&&R.children?o("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":R===D.selected&&D.showChild}]},R.children.map((Z,J)=>{const W=Object.assign({},Z.prefixConfig),Q=W.icon||Z.prefixIcon,ge=Object.assign({},Z.suffixConfig),fe=ge.icon||Z.suffixIcon,ve=as(Z.name);return Z.visible===!1?null:o("li",{class:[Z.className,{"link--disabled":Z.disabled,"link--active":Z===D.selectChild}],key:`${k}_${O}_${J}`},[o("a",{class:"vxe-context-menu--link",onClick(oe){a.ctxMenuLinkEvent(oe,Z)},onMouseover(oe){a.ctxMenuMouseoverEvent(oe,R,Z)},onMouseout(oe){a.ctxMenuMouseoutEvent(oe,R)}},[o("div",{class:["vxe-context-menu--link-prefix",W.className||""]},[Q&&n.isFunction(Q)?o("span",{},Po(Q({}))):o("i",{class:Q}),W.content?o("span",`${W.content}`):_a(a)]),o("div",{class:"vxe-context-menu--link-content",title:ve},ve),o("div",{class:["vxe-context-menu--link-suffix",ge.className||""]},[fe&&n.isFunction(fe)?o("span",{},Po(fe({}))):o("i",{class:fe}),ge.content?o("span",`${ge.content}`):_a(a)])])])})):null])}))):[])])};return m.renderVN=p,m},render(){return this.renderVN()}}),{renderer:bp,hooks:Uy}=We,xp=["openFilter","setFilter","clearFilter","saveFilter","saveFilterByEvent","saveFilterPanel","saveFilterPanelByEvent","resetFilter","resetFilterByEvent","resetFilterPanel","resetFilterPanelByEvent","getCheckedFilters","updateFilterOptionStatus"];Uy.add("tableFilterModule",{setupTable(e){const t=e.xeGrid,l=e.xeGantt,a=t||l,{props:u,reactData:r,internalData:d}=e,{refElem:m,refTableFilter:p}=e.getRefMaps(),{computeFilterOpts:D,computeMouseOpts:C}=e.getComputeMaps(),h={checkFilterOptions(){const{filterStore:w}=r,{column:V}=w;if(V){const g=V.filters||[];w.isAllSelected=g.every(i=>i._checked),w.isIndeterminate=!w.isAllSelected&&g.some(i=>i._checked)}},triggerFilterEvent(w,V,g){const{initStore:i,filterStore:x}=r,{elemStore:k}=d;if(x.column===V&&x.visible)x.visible=!1;else{const R=m.value,{scrollTop:O,scrollLeft:$,visibleHeight:A,visibleWidth:M}=ru(),T=D.value,{transfer:_}=T,z=R.getBoundingClientRect(),Z=w.currentTarget,J=V?V.filterRender:null,W=J&&En(J)?bp.get(J.name):null;e.handleFilterOptions(V),d._currFilterParams=g,x.style=null,x.visible=!0,i.filter=!0,ke(()=>{if(!hn(k["main-header-scroll"]))return;const ge=p.value,fe=ge?ge.getRefMaps().refElem.value:null;if(!fe)return;const ve=Z.getBoundingClientRect(),oe=fe.querySelector(".vxe-table--filter-header"),Ee=fe.querySelector(".vxe-table--filter-footer"),re=fe.offsetWidth,Y=re/2;let Oe=0,ze=0,ce=0;if(_)Oe=ve.left-Y+$,ze=ve.top+Z.clientHeight+O,ce=Math.min(Math.max(z.height,Math.floor(A/2)),Math.max(80,A-ze-(oe?oe.clientHeight:0)-(Ee?Ee.clientHeight:0)-28)),Oe<16?Oe=16:Oe>M-re-16&&(Oe=M-re-16);else if(Oe=ve.left-z.left-Y,ze=ve.top-z.top+Z.clientHeight,ce=Math.max(40,R.clientHeight-ze-(oe?oe.clientHeight:0)-(Ee?Ee.clientHeight:0)-14),Oe<1?Oe=1:Oe>R.clientWidth-re-1&&(Oe=R.clientWidth-re-1),a){const ue=a.getRefMaps().refElem.value;if(ue){const me=ue.getBoundingClientRect();ze+=z.top-me.top}}x.style={top:Js(ze),left:Js(Oe)},W&&!W.tableFilterAutoHeight&&(ce=0),x.maxHeight=ce})}e.dispatchEvent("filter-visible",{column:V,field:V.field,property:V.field,filterList:e.getCheckedFilters(),visible:x.visible},w)},handleClearFilter(w){if(w){const{filters:V,filterRender:g}=w;if(V){const i=En(g)?bp.get(g.name):null,x=w.filterResetMethod||(i?i.tableFilterResetMethod||i.filterResetMethod:null);V.forEach(k=>{k._checked=!1,k.checked=!1,x||(k.data=n.clone(k.resetValue,!0))}),x&&x({options:V,column:w,$table:e})}}},handleColumnConfirmFilter(w,V){const{mouseConfig:g}=u,{scrollXLoad:i,scrollYLoad:x}=r,k=D.value,R=C.value,{field:O,filters:$}=w,A=$||[],M=[],T=[];A.forEach(Z=>{Z.checked&&(M.push(Z.value),T.push(Z.data))});const _=e.getCheckedFilters(),z={$table:e,$event:V,column:w,field:O,property:O,values:M,datas:T,filters:_,filterList:_};return k.remote||(e.handleTableData(!0),e.checkSelectionStatus()),g&&R.area&&e.handleFilterEvent&&e.handleFilterEvent(V,z),V&&e.dispatchEvent("filter-change",z,V),e.closeFilter(),e.updateFooter().then(()=>{const{scrollXLoad:Z,scrollYLoad:J}=r;if(i||Z||x||J)return(i||Z)&&e.updateScrollXSpace(),(x||J)&&e.updateScrollYSpace(),e.refreshScroll()}).then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>{setTimeout(()=>e.recalculate(),50)})},confirmFilterEvent(w,V){V&&e.handleColumnConfirmFilter(V,w)},handleFilterChangeRadioOption(w,V,g){const{filterStore:i}=r,{column:x}=i;x&&((x.filters||[]).forEach(R=>{R._checked=!1}),g._checked=V,e.checkFilterOptions(),e.handleFilterConfirmFilter(w,x))},handleFilterChangeMultipleOption(w,V,g){g._checked=V,e.checkFilterOptions()},handleFilterChangeOption(w,V,g){const{filterStore:i}=r,{fullColumnIdData:x}=d;let k=i.column;if(!k){const R=x[g._colId];R&&(k=R.column,i.column=k)}k&&(k.filterMultiple?e.handleFilterChangeMultipleOption(w,V,g):e.handleFilterChangeRadioOption(w,V,g))},handleFilterConfirmFilter(w,V){V&&((V.filters||[]).forEach(i=>{i.checked=i._checked}),e.confirmFilterEvent(w,V))},handleFilterResetFilter(w,V){V&&(e.handleClearFilter(V),e.confirmFilterEvent(w,V),w&&e.dispatchEvent("clear-filter",{filterList:[]},w))}};return Object.assign(Object.assign({},{openFilter(w){const V=ho(e,w);if(V&&V.filters){const{elemStore:g}=d,{fixed:i}=V;return e.scrollToColumn(V).then(()=>{const x=hn(g[`${i||"main"}-header-wrapper`]||g["main-header-wrapper"]);if(x){const k=x.querySelector(`.vxe-header--column.${V.id} .vxe-cell--filter`);uy(k,"click")}})}return ke()},setFilter(w,V,g){const{filterStore:i}=r,x=ho(e,w);if(x&&x.filters){if(x.filters=Xc(V||[],x.id),g)return e.handleColumnConfirmFilter(x,null);i.visible&&e.handleFilterOptions(x)}return ke()},clearFilter(w){const{filterStore:V}=r,{tableFullColumn:g}=d,i=D.value;let x;return w?(x=ho(e,w),x&&e.handleClearFilter(x)):g.forEach(e.handleClearFilter),(!w||x!==V.column)&&Object.assign(V,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),i.remote?ke():e.updateData()},saveFilter(w){if(w){const V=ho(e,w);e.handleFilterConfirmFilter(null,V)}return ke()},saveFilterByEvent(w,V){if(V){const g=ho(e,V);e.handleFilterConfirmFilter(w,g)}return ke()},resetFilter(w){if(w){const V=ho(e,w);e.handleFilterResetFilter(null,V)}return ke()},resetFilterByEvent(w,V){if(V){const g=ho(e,V);e.handleFilterResetFilter(w,g)}return ke()},saveFilterPanel(){const{filterStore:w}=r;return e.handleFilterConfirmFilter(null,w.column||null),ke()},saveFilterPanelByEvent(w){const{filterStore:V}=r;return e.handleFilterConfirmFilter(w,V.column||null),ke()},resetFilterPanel(){const{filterStore:w}=r;return e.handleFilterResetFilter(null,w.column||null),ke()},resetFilterPanelByEvent(w){const{filterStore:V}=r;return e.handleFilterResetFilter(w,V.column||null),ke()},getCheckedFilters(){const{tableFullColumn:w}=d,V=[];return w.forEach(g=>{const{field:i,filters:x}=g,k=x||[],R=[],O=[];k&&(k.forEach($=>{$.checked&&(R.push($.value),O.push($.data))}),R.length&&V.push({column:g,field:i,property:i,values:R,datas:O}))}),V},updateFilterOptionStatus(w,V){return w._checked=V,w.checked=V,ke()}}),h)},setupGrid(e){return e.extendTableMethods(xp)},setupGantt(e){return e.extendTableMethods(xp)}});const{menus:Ky,hooks:Xy,globalEvents:Ti,GLOBAL_EVENT_KEYS:Mi}=We,yp=["closeMenu"];Xy.add("tableMenuModule",{setupTable(e){const{xID:t,props:l,reactData:a,internalData:u}=e,{refElem:r,refTableFilter:d,refTableMenu:m}=e.getRefMaps(),{computeMouseOpts:p,computeIsContentMenu:D,computeMenuOpts:C}=e.getComputeMaps(),h=e.xeGrid,S=e.xeGantt,w=h||S;let V={},g={};const i=(x,k,R)=>{const{ctxMenuStore:O}=a,$=D.value,A=C.value,M=A[k],{transfer:T,visibleMethod:_}=A;if(M){const{options:z,disabled:Z}=M;Z?x.preventDefault():$&&z&&z.length&&(R.options=z,e.preventEvent(x,"event.showMenu",R,()=>{if(!_||_(R)){x.preventDefault(),e.updateZindex();const J=w?w.getRefMaps().refElem.value:r.value;if(!J)return;const W=J.getBoundingClientRect(),{scrollTop:Q,scrollLeft:ge,visibleHeight:fe,visibleWidth:ve}=ru();let oe=x.clientY-W.y,Ee=x.clientX-W.x;T&&(oe=x.clientY+Q,Ee=x.clientX+ge);const re=()=>{u._currMenuParams=R,Object.assign(O,{visible:!0,list:z,selected:null,selectChild:null,showChild:!1,style:{zIndex:u.tZindex,top:`${oe}px`,left:`${Ee}px`}}),ke(()=>{const ue=m.value.getRefMaps().refElem.value,me=ue.clientHeight,be=ue.clientWidth,{boundingTop:Se,boundingLeft:pe}=jc(ue),Ae=Se+me-fe,_e=pe+be-ve;Ae>-10&&(O.style.top=`${Math.max(Q+2,oe-me-2)}px`),_e>-10&&(O.style.left=`${Math.max(ge+2,Ee-be-2)}px`)})},{keyboard:Y,row:Oe,column:ze}=R;Y&&Oe&&ze?e.scrollToRow(Oe,ze).then(()=>{const ce=e.getCellElement(Oe,ze);if(ce){const{boundingTop:ue,boundingLeft:me}=jc(ce);oe=ue+Q+Math.floor(ce.offsetHeight/2),Ee=me+ge+Math.floor(ce.offsetWidth/2)}re()}):re()}else V.closeMenu()}))}e.closeFilter()};return V={closeMenu(){return Object.assign(a.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),ke()}},g={moveCtxMenu(x,k,R,O,$,A){let M;const T=n.findIndexOf(A,_=>k[R]===_);if(O)$&&tr(k.selected)?k.showChild=!0:(k.showChild=!1,k.selectChild=null);else if(Ti.hasKey(x,Mi.ARROW_UP)){for(let _=T-1;_>=0;_--)if(A[_].visible!==!1){M=A[_];break}k[R]=M||A[A.length-1]}else if(Ti.hasKey(x,Mi.ARROW_DOWN)){for(let _=T+1;_<A.length;_++)if(A[_].visible!==!1){M=A[_];break}k[R]=M||A[0]}else k[R]&&(Ti.hasKey(x,Mi.ENTER)||Ti.hasKey(x,Mi.SPACEBAR))&&e.ctxMenuLinkEvent(x,k[R])},handleOpenMenuEvent:i,handleGlobalContextmenuEvent(x){const k=e.xeGrid,R=e.xeGantt,{mouseConfig:O,menuConfig:$}=l,{editStore:A,ctxMenuStore:M}=a,{visibleColumn:T}=u,_=d.value,z=m.value,Z=p.value,J=C.value,W=r.value,{selected:Q}=A,ge=["header","body","footer"];if(En($)){if(M.visible&&z&&Yn(x,z.getRefMaps().refElem.value).flag){x.preventDefault();return}if(u._keyCtx){const fe="body",ve={source:"table",type:fe,$table:e,$grid:k,$gantt:R,keyboard:!0,columns:T.slice(0),$event:x};if(O&&Z.area){const oe=e.getActiveCellArea();if(oe&&oe.row&&oe.column){ve.row=oe.row,ve.column=oe.column,i(x,fe,ve);return}}else if(O&&Z.selected&&Q.row&&Q.column){ve.row=Q.row,ve.column=Q.column,i(x,fe,ve);return}}for(let fe=0;fe<ge.length;fe++){const ve=ge[fe],oe=Yn(x,W,`vxe-${ve}--column`,re=>re.parentNode.parentNode.parentNode.getAttribute("xid")===t),Ee={source:"table",type:ve,$table:e,$grid:k,$gantt:R,columns:T.slice(0),$event:x};if(oe.flag){const re=oe.targetElem,Y=e.getColumnNode(re),Oe=Y?Y.item:null;let ze=`${ve}-`;if(Oe&&Object.assign(Ee,{column:Oe,columnIndex:e.getColumnIndex(Oe),cell:re}),ve==="body"){const ue=e.getRowNode(re.parentNode),me=ue?ue.item:null;ze="",me&&(Ee.row=me,Ee.rowIndex=e.getRowIndex(me))}const ce=`${ze}cell-menu`;i(x,ve,Ee),e.dispatchEvent(ce,Ee,x);return}else if(Yn(x,W,`vxe-table--${ve}-wrapper`,re=>re.getAttribute("xid")===t).flag){J.trigger==="cell"?x.preventDefault():i(x,ve,Ee);return}}}_&&!Yn(x,_.getRefMaps().refElem.value).flag&&e.closeFilter(),V.closeMenu()},ctxMenuMouseoverEvent(x,k,R){const O=x.currentTarget,{ctxMenuStore:$}=a;x.preventDefault(),x.stopPropagation(),$.selected=k,$.selectChild=R,R||($.showChild=tr(k),$.showChild&&ke(()=>{const A=O.nextElementSibling;if(A){const{boundingTop:M,boundingLeft:T,visibleHeight:_,visibleWidth:z}=jc(O),Z=M+O.offsetHeight,J=T+O.offsetWidth;let W="",Q="";J+A.offsetWidth>z-10&&(W="auto",Q=`${O.offsetWidth}px`);let ge="",fe="";Z+A.offsetHeight>_-10&&(ge="auto",fe="0"),A.style.left=W,A.style.right=Q,A.style.top=ge,A.style.bottom=fe}}))},ctxMenuMouseoutEvent(x,k){const{ctxMenuStore:R}=a;k.children||(R.selected=null),R.selectChild=null},ctxMenuLinkEvent(x,k){const R=e.xeGrid,O=e.xeGantt;if(!k.disabled&&(k.code||!k.children||!k.children.length)){const $=Ky.get(k.code),A=Object.assign({},u._currMenuParams,{menu:k,$table:e,$grid:R,$gantt:O,$event:x}),M=$?$.tableMenuMethod||$.menuMethod:null;M&&M(A,x),e.dispatchEvent("menu-click",A,x),V.closeMenu()}}},Object.assign(Object.assign({},V),g)},setupGrid(e){return e.extendTableMethods(yp)},setupGantt(e){return e.extendTableMethods(yp)}});const{getConfig:Zy,renderer:Jy,hooks:Qy,getI18n:Cs}=We,Cp=["insert","insertAt","insertNextAt","insertChild","insertChildAt","insertChildNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getEditCell","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"];Qy.add("tableEditModule",{setupTable(e){const{props:t,reactData:l,internalData:a}=e,{refElem:u}=e.getRefMaps(),{computeMouseOpts:r,computeEditOpts:d,computeCheckboxOpts:m,computeTreeOpts:p,computeValidOpts:D}=e.getComputeMaps(),C=n.browse();let h={},S={};const w=(M,T)=>{const{model:_,editRender:z}=T;z&&(_.value=$o(M,T),_.update=!1)},V=(M,T)=>{const{model:_,editRender:z}=T;z&&_.update&&(_l(M,T,_.value),_.update=!1,_.value=null)},g=()=>{const M=u.value;if(M){const T=M.querySelector(".col--selected");T&&nl(T,"col--selected")}},i=()=>{const{editStore:M,tableColumn:T}=l,_=d.value,{actived:z}=M,{row:Z,column:J}=z;(Z||J)&&(_.mode==="row"?T.forEach(W=>V(Z,W)):V(Z,J))},x=(M,T)=>{const{tableFullTreeData:_,afterFullData:z,fullDataRowIdData:Z,fullAllDataRowIdData:J}=a,W=p.value,{rowField:Q,parentField:ge,mapChildrenField:fe}=W,ve=W.children||W.childrenField,oe=T?"push":"unshift";M.forEach(Ee=>{const re=Ee[ge],Y=Zt(e,Ee),Oe=re?n.findTree(_,ze=>re===ze[Q],{children:fe}):null;if(Oe){const{item:ze}=Oe,ce=J[Zt(e,ze)],ue=ce?ce.level:0;let me=ze[ve],be=ze[fe];n.isArray(me)||(me=ze[ve]=[]),n.isArray(be)||(be=ze[fe]=[]),me[oe](Ee),be[oe](Ee);const Se={row:Ee,rowid:Y,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:me,parent:ze,level:ue+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};Z[Y]=Se,J[Y]=Se}else{re&&cn("vxe.error.unableInsert"),z[oe](Ee),_[oe](Ee);const ze={row:Ee,rowid:Y,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:_,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};Z[Y]=ze,J[Y]=ze}})},k=(M,T,_)=>{const{treeConfig:z}=t,{isRowGroupStatus:Z}=l,{tableFullTreeData:J,afterFullData:W,mergeBodyList:Q,tableFullData:ge,fullDataRowIdData:fe,fullAllDataRowIdData:ve,insertRowMaps:oe,removeRowMaps:Ee}=a,re=p.value,{transform:Y,parentField:Oe,rowField:ze,mapChildrenField:ce}=re,ue=re.children||re.childrenField;n.isArray(M)||(M=[M]);const me=ln(e.defineField(M.map(pe=>Object.assign(z&&Y?{[ce]:[],[ue]:[]}:{},pe))));let be=[];if(z&&Y&&(be=n.toArrayTree(me,{key:ze,parentKey:Oe,children:ue})),n.eqNull(T))if(z&&Y)x(me,!1);else if(Z){if(z)throw new Error(Cs("vxe.error.noTree",["insert"]));cn(Cs("vxe.error.noGroup",["remove"]))}else me.forEach(pe=>{const Ae=Zt(e,pe),_e={row:pe,rowid:Ae,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:W,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};fe[Ae]=_e,ve[Ae]=_e,W.unshift(pe),ge.unshift(pe)}),Q.forEach(pe=>{const{row:Ae}=pe;Ae>=0&&(pe.row=Ae+me.length)});else if(T===-1)if(z&&Y)x(me,!0);else if(Z){if(z)throw new Error(Cs("vxe.error.noTree",["insert"]));cn(Cs("vxe.error.noGroup",["remove"]))}else me.forEach(pe=>{const Ae=Zt(e,pe),_e={row:pe,rowid:Ae,seq:-1,index:-1,_index:-1,treeIndex:-1,_tIndex:-1,$index:-1,items:W,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};fe[Ae]=_e,ve[Ae]=_e,W.push(pe),ge.push(pe)});else if(z&&Y){const pe=n.findTree(J,Ae=>T[ze]===Ae[ze],{children:ce});if(pe){const{parent:Ae}=pe,_e=Ae?Ae[ce]:J,ae=ve[Zt(e,Ae)],Re=ae?ae.level:0;if(be.forEach((Ie,ne)=>{Ae?Ie[Oe]!==Ae[ze]&&(en("vxe.error.errProp",[`${Oe}=${Ie[Oe]}`,`${Oe}=${Ae[ze]}`]),Ie[Oe]=Ae[ze]):Ie[Oe]!==null&&(n.eqNull(Ie[Oe])||en("vxe.error.errProp",[`${Oe}=${Ie[Oe]}`,"null"]),Ie[Oe]=null);let se=pe.index+ne;_&&(se=se+1),_e.splice(se,0,Ie)}),n.eachTree(be,Ie=>{const ne=Zt(e,Ie),se={row:Ie,rowid:ne,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:_e,parent:Ae,level:Re+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};Ie[ue]&&(Ie[ce]=Ie[ue]),fe[ne]=se,ve[ne]=se},{children:ue}),Ae){const Ie=n.findTree(J,ne=>T[ze]===ne[ze],{children:ue});if(Ie){const ne=Ie.items;let se=Ie.index;_&&(se=se+1),ne.splice(se,0,...be)}}}else cn("vxe.error.unableInsert"),x(me,!0)}else if(Z){if(z)throw new Error(Cs("vxe.error.noTree",["insert"]));cn(Cs("vxe.error.noGroup",["remove"]))}else{if(z)throw new Error(Cs("vxe.error.noTree",["insert"]));let pe=-1;if(n.isNumber(T)?T<W.length&&(pe=T):pe=e.findRowIndexOf(W,T),_&&(pe=Math.min(W.length,pe+1)),pe===-1)throw new Error(Cs("vxe.error.unableInsert"));W.splice(pe,0,...me);const Ae=e.findRowIndexOf(ge,T);Ae>-1?ge.splice(Ae+(_?1:0),0,...me):ge.push(...me),Q.forEach(_e=>{const{row:ae,rowspan:Re}=_e;ae>=pe?_e.row=ae+me.length:(_?ae+Re>=pe:ae+Re>pe)&&(_e.rowspan=Re+me.length)})}const Se=pe=>{const Ae=Zt(e,pe);Ee[Ae]?(delete Ee[Ae],oe[Ae]&&delete oe[Ae]):oe[Ae]=pe};return z&&Y?n.eachTree(be,Se,{children:ce}):me.forEach(Se),l.removeRowFlag++,l.insertRowFlag++,e.cacheRowMap(!1),e.updateScrollYStatus(),e.handleTableData(z&&Y),z&&Y||e.updateAfterDataIndex(),e.updateFooter(),e.handleUpdateBodyMerge(),e.checkSelectionStatus(),l.scrollYLoad&&e.updateScrollYSpace(),ke().then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>({row:me.length?me[me.length-1]:null,rows:me}))},R=(M,T,_,z)=>{const{treeConfig:Z}=t,J=p.value,{transform:W,rowField:Q,parentField:ge}=J;return Z&&W?(n.isArray(M)||(M=[M]),k(M.map(fe=>Object.assign({},fe,{[ge]:T[Q]})),_,z)):(en("vxe.error.errProp",["tree-config.transform=false","tree-config.transform=true"]),Promise.resolve({row:null,rows:[]}))},O=(M,T)=>{const{editStore:_}=l,{actived:z,focused:Z}=_,{row:J,column:W}=z,Q=D.value;if(J||W){if(T&&Zt(e,T)!==Zt(e,J))return ke();i(),z.args=null,z.row=null,z.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:J,rowIndex:e.getRowIndex(J),$rowIndex:e.getVMRowIndex(J),column:W,columnIndex:e.getColumnIndex(W),$columnIndex:e.getVMColumnIndex(W)},M||null)}return Z.row=null,Z.column=null,Q.autoClear&&(Q.msgMode!=="full"||Zy().cellVaildMode==="obsolete")&&e.clearValidate?e.clearValidate():ke().then(()=>e.updateCellAreas())},$=(M,T,_,z)=>{const Z=e.xeGrid,J=e.xeGantt,{editConfig:W,mouseConfig:Q}=t,{editStore:ge,tableColumn:fe}=l,ve=d.value,{mode:oe}=ve,{actived:Ee,focused:re}=ge,{row:Y,column:Oe}=M,{editRender:ze}=Oe,ce=M.cell||e.getCellElement(Y,Oe),ue=ve.beforeEditMethod||ve.activeMethod;if(M.cell=ce,ce&&En(W)&&En(ze)&&!e.isPendingByRow(Y)&&!e.isAggregateRecord(Y)){if(Ee.row!==Y||oe==="cell"&&Ee.column!==Oe){let me="edit-disabled";if(!ue||ue(Object.assign(Object.assign({},M),{$table:e,$grid:Z,$gantt:J}))){Q&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),Ee.column&&O(T),me="edit-activated",Oe.renderHeight=ce.offsetHeight,Ee.args=M,Ee.row=Y,Ee.column=Oe,oe==="row"?fe.forEach(Se=>w(Y,Se)):w(Y,Oe);const be=ve.afterEditMethod;ke(()=>{_&&e.handleFocus(M,T),be&&be(Object.assign(Object.assign({},M),{$table:e,$grid:Z,$gantt:J}))})}e.dispatchEvent(me,{row:Y,rowIndex:e.getRowIndex(Y),$rowIndex:e.getVMRowIndex(Y),column:Oe,columnIndex:e.getColumnIndex(Oe),$columnIndex:e.getVMColumnIndex(Oe)},T),me==="edit-activated"&&e.dispatchEvent("edit-actived",{row:Y,rowIndex:e.getRowIndex(Y),$rowIndex:e.getVMRowIndex(Y),column:Oe,columnIndex:e.getColumnIndex(Oe),$columnIndex:e.getVMColumnIndex(Oe)},T)}else{const{column:me}=Ee;if(Q&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),me!==Oe){const{model:be}=me;be.update&&_l(Y,me,be.value),e.clearValidate&&e.clearValidate(Y,Oe)}Oe.renderHeight=ce.offsetHeight,Ee.args=M,Ee.column=Oe,z&&setTimeout(()=>{e.handleFocus(M,T)})}re.column=null,re.row=null,e.focus()}return ke()},A=(M,T,_)=>{const{editConfig:z}=t,Z=n.isString(T)?e.getColumnByField(T):T;return M&&Z&&En(z)&&En(Z.editRender)&&!e.isAggregateRecord(M)?Promise.resolve(_?e.scrollToRow(M,Z):null).then(()=>{const J=e.getCellElement(M,Z);return J&&($({row:M,rowIndex:e.getRowIndex(M),column:Z,columnIndex:e.getColumnIndex(Z),cell:J,$table:e},null,_,_),a._lastCallTime=Date.now()),ke()}):ke()};return h={insert(M){return k(M,null)},insertAt(M,T){return k(M,T)},insertNextAt(M,T){return k(M,T,!0)},insertChild(M,T){return R(M,T,null)},insertChildAt(M,T,_){return R(M,T,_)},insertChildNextAt(M,T,_){return R(M,T,_,!0)},remove(M){const{treeConfig:T}=t,{editStore:_,isRowGroupStatus:z}=l,{tableFullTreeData:Z,selectCheckboxMaps:J,afterFullData:W,mergeBodyList:Q,tableFullData:ge,pendingRowMaps:fe,insertRowMaps:ve,removeRowMaps:oe}=a,Ee=m.value,re=p.value,{transform:Y,mapChildrenField:Oe}=re,ze=re.children||re.childrenField,{actived:ce}=_,{checkField:ue}=Ee;let me=[];return M?n.isArray(M)||(M=[M]):M=ge,M.forEach(be=>{if(!e.isInsertByRow(be)){const Se=Zt(e,be);oe[Se]=be}}),ue||(M.forEach(be=>{const Se=Zt(e,be);J[Se]&&delete J[Se]}),l.updateCheckboxFlag++),ge===M?(M=me=ge.slice(0),a.tableFullData=[],a.afterFullData=[],e.clearMergeCells()):T&&Y?M.forEach(be=>{const Se=Zt(e,be),pe=n.findTree(Z,ae=>Se===Zt(e,ae),{children:Oe});if(pe){const ae=pe.items.splice(pe.index,1);me.push(ae[0])}const Ae=n.findTree(Z,ae=>Se===Zt(e,ae),{children:ze});Ae&&Ae.items.splice(Ae.index,1);const _e=e.findRowIndexOf(W,be);_e>-1&&W.splice(_e,1)}):z?cn(Cs("vxe.error.noGroup",["remove"])):M.forEach(be=>{const Se=e.findRowIndexOf(ge,be);if(Se>-1){const Ae=ge.splice(Se,1);me.push(Ae[0])}const pe=e.findRowIndexOf(W,be);pe>-1&&(Q.forEach(Ae=>{const{row:_e,rowspan:ae}=Ae;_e>pe?Ae.row=_e-1:_e+ae>pe&&(Ae.rowspan=ae-1)}),W.splice(pe,1))}),ce.row&&e.findRowIndexOf(M,ce.row)>-1&&h.clearEdit(),M.forEach(be=>{const Se=Zt(e,be);ve[Se]&&delete ve[Se],fe[Se]&&delete fe[Se]}),l.removeRowFlag++,l.insertRowFlag++,l.pendingRowFlag++,e.cacheRowMap(!1),e.handleTableData(T&&Y),e.updateFooter(),e.handleUpdateBodyMerge(),T&&Y||e.updateAfterDataIndex(),e.checkSelectionStatus(),l.scrollYLoad&&e.updateScrollYSpace(),ke().then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>({row:me.length?me[me.length-1]:null,rows:me}))},removeCheckboxRow(){return h.remove(e.getCheckboxRecords()).then(M=>(e.clearCheckboxRow(),M))},removeRadioRow(){const M=e.getRadioRecord();return h.remove(M||[]).then(T=>(e.clearRadioRow(),T))},removeCurrentRow(){const M=e.getCurrentRecord();return h.remove(M||[]).then(T=>(e.clearCurrentRow(),T))},getRecordset(){const M=h.getRemoveRecords(),T=e.getPendingRecords(),_=M.concat(T),z=h.getUpdateRecords().filter(Z=>!_.some(J=>e.eqRow(J,Z)));return{insertRecords:h.getInsertRecords(),removeRecords:M,updateRecords:z,pendingRecords:T}},getInsertRecords(){const{fullAllDataRowIdData:M,insertRowMaps:T}=a,_=[];return n.each(T,(z,Z)=>{M[Z]&&_.push(z)}),_},getRemoveRecords(){const{removeRowMaps:M}=a,T=[];return n.each(M,_=>{T.push(_)}),T},getUpdateRecords(){const{keepSource:M,treeConfig:T}=t,{tableFullData:_}=a,z=p.value;return M?(i(),T?n.filterTree(_,Z=>e.isUpdateByRow(Z),z):_.filter(Z=>e.isUpdateByRow(Z))):[]},getActiveRecord(){cn("vxe.error.delFunc",["getActiveRecord","getEditCell"]);const{editStore:M}=l,{fullAllDataRowIdData:T}=a,{args:_,row:z}=M.actived;return _&&z&&T[Zt(e,z)]?Object.assign({},_,{row:z}):null},getEditRecord(){cn("vxe.error.delFunc",["getEditRecord","getEditCell"]);const{editStore:M}=l,{fullAllDataRowIdData:T}=a,{args:_,row:z}=M.actived;return _&&z&&T[Zt(e,z)]?Object.assign({},_,{row:z}):null},getEditCell(){const{editStore:M}=l,{row:T,column:_}=M.actived;return _&&T?{row:T,rowIndex:e.getRowIndex(T),column:_,columnIndex:e.getColumnIndex(_)}:null},getSelectedCell(){const{editStore:M}=l,{row:T,column:_}=M.selected;return T&&_?{row:T,column:_}:null},clearActived(M){return cn("vxe.error.delFunc",["clearActived","clearEdit"]),e.clearEdit(M)},clearEdit(M){return O(null,M)},clearSelected(){const{editStore:M}=l,{selected:T}=M;return T.row=null,T.column=null,g(),ke()},isActiveByRow(M){return cn("vxe.error.delFunc",["isActiveByRow","isEditByRow"]),e.isEditByRow(M)},isEditByRow(M){const{editStore:T}=l;return T.actived.row===M},setActiveRow(M){return cn("vxe.error.delFunc",["setActiveRow","setEditRow"]),h.setEditRow(M)},setEditRow(M,T){const{visibleColumn:_}=a;let z=n.find(_,J=>En(J.editRender)),Z=!1;return T&&(Z=!0,T!==!0&&(z=n.isString(T)?e.getColumnByField(T):T)),A(M,z,Z)},setActiveCell(M,T){return cn("vxe.error.delFunc",["setActiveCell","setEditCell"]),h.setEditCell(M,T)},setEditCell(M,T){return A(M,T,!0)},setSelectCell(M,T){const{tableData:_}=l,z=d.value,Z=n.isString(T)?e.getColumnByField(T):T;if(M&&Z&&z.trigger!=="manual"){const J=e.findRowIndexOf(_,M);if(J>-1&&Z){const W=e.getCellElement(M,Z),Q={row:M,rowIndex:J,column:Z,columnIndex:e.getColumnIndex(Z),cell:W};e.handleSelected(Q,{})}}return ke()}},S={handleEdit(M,T){return $(M,T,!0,!0)},handleActived(M,T){return S.handleEdit(M,T)},handleClearEdit:O,handleFocus(M){const{row:T,column:_,cell:z}=M,{editRender:Z}=_,J=d.value;if(En(Z)){const W=Jy.get(Z.name);let Q=Z.autofocus||Z.autoFocus,ge=Z.autoSelect||Z.autoselect,fe;if(J.autoFocus&&(!Q&&W&&(Q=W.tableAutoFocus||W.tableAutofocus||W.autofocus),!ge&&W&&(ge=W.tableAutoSelect||W.autoselect),n.isFunction(Q)?fe=Q(M):Q&&(Q===!0?fe=z.querySelector("input,textarea"):fe=z.querySelector(Q),fe&&fe.focus())),fe){if(ge)fe.select();else if(C.msie){const ve=fe.createTextRange();ve.collapse(!1),ve.select()}}else J.autoPos&&(_.fixed||e.scrollToRow(T,_))}},handleSelected(M,T){const{mouseConfig:_}=t,{editStore:z}=l,Z=r.value,J=d.value,{actived:W,selected:Q}=z,{row:ge,column:fe}=M,ve=_&&Z.selected;return ve&&(Q.row!==ge||Q.column!==fe)&&(W.row!==ge||J.mode==="cell"&&W.column!==fe)&&(O(T),e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),Q.args=M,Q.row=ge,Q.column=fe,ve&&S.addCellSelectedClass(),e.focus(),T&&e.dispatchEvent("cell-selected",M,T)),ke()},addCellSelectedClass(){const{editStore:M}=l,{selected:T}=M,{row:_,column:z}=T;if(g(),_&&z){const Z=e.getCellElement(_,z);Z&&Dl(Z,"col--selected")}}},Object.assign(Object.assign({},h),S)},setupGrid(e){return e.extendTableMethods(Cp)},setupGantt(e){return e.extendTableMethods(Cp)}});const eC='body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function tC(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}function nC(e,t){const{style:l}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>',`<style>${eC}</style>`,l?`<style>${l}</style>`:"","</head>",`<body>${t}</body>`,"</html>"].join("")}const{getI18n:Xl,hooks:oC,renderer:Uu}=We;let ja;const lC="\uFEFF",ma=`\r
`;function Oi(e){return!!e.field||["seq","checkbox","radio"].indexOf(e.type||"")===-1}const gm=e=>{const t=[];return e.forEach(l=>{l.childNodes&&l.childNodes.length?(t.push(l),t.push(...gm(l.childNodes))):t.push(l)}),t},sC=e=>{let t=1;const l=(r,d)=>{if(d&&(r._level=d._level+1,t<r._level&&(t=r._level)),r.childNodes&&r.childNodes.length){let m=0;r.childNodes.forEach(p=>{l(p,r),m+=p._colSpan}),r._colSpan=m}else r._colSpan=1};e.forEach(r=>{r._level=1,l(r)});const a=[];for(let r=0;r<t;r++)a.push([]);return gm(e).forEach(r=>{r.childNodes&&r.childNodes.length?r._rowSpan=1:r._rowSpan=t-r._level+1,a[r._level-1].push(r)}),a};function aC(e){return e===!0?"full":e||"default"}function Wa(e){return e==="TRUE"||e==="true"||e===!0}function Ii(e,t,l){const a=e.xeGrid,u=e.xeGantt,{footerFilterMethod:r}=t;return r?l.filter((d,m)=>r({$table:e,$grid:a,$gantt:u,items:d,$rowIndex:m})):l}function rC(e,t){if(t){if(e.type==="seq")return`	${t}`;switch(e.cellType){case"string":if(!isNaN(t))return`	${t}`;break;case"number":break;default:if(t.length>=12&&!isNaN(t))return`	${t}`;break}}return t}function Ga(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function Tl(e,t){return e.getElementsByTagName(t)}function wp(e){return`#${e}@${n.uniqueId()}`}function mm(e,t){return e.replace(/#\d+@\d+/g,l=>n.hasOwnProp(t,l)?t[l]:l)}function Ep(e,t){return mm(e,t).replace(/^"+$/g,a=>'"'.repeat(Math.ceil(a.length/2)))}function Hd(e,t){const{fieldMaps:l,titleMaps:a}=e;if(!l[t]){const u=a[t];u&&u.field&&(t=u.field)}return t}function hm(e,t,l){const a=t.split(ma),u=[];let r=[];if(a.length){const d={},m=Date.now();a.forEach(p=>{if(p){const D={};p=p.replace(/("")|(\n)/g,(h,S)=>{const w=wp(m);return d[w]=S?'"':`
`,w}).replace(/"(.*?)"/g,(h,S)=>{const w=wp(m);return d[w]=mm(S,d),w});const C=p.split(l);r.length?(C.forEach((h,S)=>{S<r.length&&(D[r[S]]=Ep(h.trim(),d))}),u.push(D)):r=C.map(h=>Hd(e,Ep(h.trim(),d)))}})}return{fields:r,rows:u}}function iC(e,t){return hm(e,t,",")}function cC(e,t){return hm(e,t,"	")}function uC(e,t){const a=new DOMParser().parseFromString(t,"text/html"),u=Tl(a,"body"),r=[],d=[];if(u.length){const m=Tl(u[0],"table");if(m.length){const p=Tl(m[0],"thead");if(p.length){n.arrayEach(Tl(p[0],"tr"),C=>{n.arrayEach(Tl(C,"th"),h=>{d.push(Hd(e,h.textContent||""))})});const D=Tl(m[0],"tbody");D.length&&n.arrayEach(Tl(D[0],"tr"),C=>{const h={};n.arrayEach(Tl(C,"td"),(S,w)=>{d[w]&&(h[d[w]]=S.textContent||"")}),r.push(h)})}}}return{fields:d,rows:r}}function dC(e,t){const a=new DOMParser().parseFromString(t,"application/xml"),u=Tl(a,"Worksheet"),r=[],d=[];if(u.length){const m=Tl(u[0],"Table");if(m.length){const p=Tl(m[0],"Row");p.length&&(n.arrayEach(Tl(p[0],"Cell"),D=>{d.push(Hd(e,D.textContent||""))}),n.arrayEach(p,(D,C)=>{if(C){const h={},S=Tl(D,"Cell");n.arrayEach(S,(w,V)=>{d[V]&&(h[d[V]]=w.textContent)}),r.push(h)}}))}}return{fields:d,rows:r}}function Sp(e){n.eachTree(e,t=>{delete t._level,delete t._colSpan,delete t._rowSpan,delete t._children,delete t.childNodes},{children:"children"})}const Dp=["exportData","importByFile","importData","saveFile","readFile","print","getPrintHtml","openImport","closeImport","openExport","closeExport","openPrint","closePrint"];oC.add("tableExportModule",{setupTable(e){const{props:t,reactData:l,internalData:a}=e,{computeTreeOpts:u,computePrintOpts:r,computeExportOpts:d,computeImportOpts:m,computeCustomOpts:p,computeSeqOpts:D,computeRadioOpts:C,computeCheckboxOpts:h,computeColumnOpts:S}=e.getComputeMaps(),w=re=>{const Y=u.value,Oe=Y.children||Y.childrenField;return re[Oe]&&re[Oe].length},V=(re,Y,Oe,ze,ce)=>{const me=D.value.seqMethod||ze.seqMethod;return me?me({$table:e,row:Y,rowIndex:e.getRowIndex(Y),_rowIndex:e.getVTRowIndex(Y),$rowIndex:Oe,column:ze,columnIndex:e.getColumnIndex(ze),_columnIndex:e.getVTColumnIndex(ze),$columnIndex:ce}):re};function g(re,Y){const Oe=S.value,ze=Y.headerExportMethod||Oe.headerExportMethod;return ze?ze({column:Y,options:re,$table:e}):(re.isTitle?Y.getTitle():Y.field)||""}const i=re=>n.isBoolean(re)?re?"TRUE":"FALSE":re,x=re=>ns(re)?"":`${re}`,k=(re,Y,Oe)=>{const{isAllExpand:ze,mode:ce}=re,{treeConfig:ue}=t,me=C.value,be=h.value,Se=u.value,pe=S.value;if(ja||(ja=document.createElement("div")),ue){const Ae=Se.children||Se.childrenField,_e=[],ae={},Re={},{handleGetRowId:Ie}=Do(e);return n.eachTree(Oe,(ne,se,F,B,te,de)=>{const Te=ne._row||ne,Ke=Ie(Te);if(Re[Ke])return;const Ye=te&&te._row?te._row:te,Qe=Ye?Ie(Ye):"";if(ze||!Ye||ae[Qe]&&e.isTreeExpandByRow(Ye)){const lt=w(Te),et={_row:Te,_level:de.length-1,_hasChild:lt,_expand:lt&&e.isTreeExpandByRow(Te)};Y.forEach((ht,Ot)=>{let ut="";const wt=ht.editRender||ht.cellRender;let mt=ht.exportMethod||pe.exportMethod;if(!mt&&wt&&wt.name){const Rt=Uu.get(wt.name);Rt&&(mt=Rt.tableExportMethod||Rt.exportMethod)}if(mt||(mt=pe.exportMethod),mt)ut=mt({$table:e,row:Te,column:ht,options:re});else switch(ht.type){case"seq":{const Rt=B.map((Vt,he)=>he%2===0?Number(Vt)+1:".").join("");ut=ce==="all"?Rt:V(Rt,Te,se,ht,Ot);break}case"checkbox":ut=i(e.isCheckedByCheckboxRow(Te)),et._checkboxLabel=be.labelField?n.get(Te,be.labelField):"",et._checkboxDisabled=be.checkMethod&&!be.checkMethod({$table:e,row:Te});break;case"radio":ut=i(e.isCheckedByRadioRow(Te)),et._radioLabel=me.labelField?n.get(Te,me.labelField):"",et._radioDisabled=me.checkMethod&&!me.checkMethod({$table:e,row:Te});break;default:if(re.original)ut=$o(Te,ht);else if(ut=e.getCellLabel(Te,ht),ht.type==="html")ja.innerHTML=ut,ut=ja.innerText.trim();else{const Rt=e.getCellElement(Te,ht);Rt&&!Ss(Rt,"is--progress")&&(ut=Rt.innerText.trim())}}et[ht.id]=x(ut)}),Re[Ke]=!0,Qe&&(ae[Qe]=!0),_e.push(Object.assign(et,Te))}},{children:Ae}),_e}return Oe.map((Ae,_e)=>{const ae={_row:Ae};return Y.forEach((Re,Ie)=>{let ne="";const se=Re.editRender||Re.cellRender;let F=Re.exportMethod||pe.exportMethod;if(!F&&se&&se.name){const B=Uu.get(se.name);B&&(F=B.tableExportMethod||B.exportMethod)}if(F)ne=F({$table:e,row:Ae,column:Re,options:re});else switch(Re.type){case"seq":{const B=_e+1;ne=ce==="all"?B:V(B,Ae,_e,Re,Ie);break}case"checkbox":ne=i(e.isCheckedByCheckboxRow(Ae)),ae._checkboxLabel=be.labelField?n.get(Ae,be.labelField):"",ae._checkboxDisabled=be.checkMethod&&!be.checkMethod({$table:e,row:Ae});break;case"radio":ne=i(e.isCheckedByRadioRow(Ae)),ae._radioLabel=me.labelField?n.get(Ae,me.labelField):"",ae._radioDisabled=me.checkMethod&&!me.checkMethod({$table:e,row:Ae});break;default:if(re.original)ne=$o(Ae,Re);else if(ne=e.getCellLabel(Ae,Re),Re.type==="html")ja.innerHTML=ne,ne=ja.innerText.trim();else{const B=e.getCellElement(Ae,Re);B&&!Ss(B,"is--progress")&&(ne=B.innerText.trim())}}ae[Re.id]=x(ne)}),ae})},R=re=>{const Y=e.xeGrid,Oe=e.xeGantt,{columns:ze,dataFilterMethod:ce}=re;let ue=re.data;return ce&&(ue=ue.filter((me,be)=>ce({$table:e,$grid:Y,$gantt:Oe,row:me,$rowIndex:be}))),k(re,ze,ue)},O=(re,Y,Oe)=>{const ze=S.value,ce=Oe.editRender||Oe.cellRender;let ue=Oe.footerExportMethod;if(!ue&&ce&&ce.name){const be=Uu.get(ce.name);be&&(ue=be.tableFooterExportMethod||be.footerExportMethod)}ue||(ue=ze.footerExportMethod);const me=e.getVTColumnIndex(Oe);return ue?ue({$table:e,items:Y,itemIndex:me,row:Y,_columnIndex:me,column:Oe,options:re}):n.isArray(Y)?n.toValueString(Y[me]):n.get(Y,Oe.field)},$=(re,Y,Oe,ze)=>{let ce=lC;if(Y.isHeader&&(ce+=Oe.map(ue=>Ga(g(Y,ue))).join(",")+ma),ze.forEach(ue=>{ce+=Oe.map(me=>Ga(rC(me,ue[me.id]))).join(",")+ma}),Y.isFooter){const{footerTableData:ue}=l;Ii(re,Y,ue).forEach(be=>{ce+=Oe.map(Se=>Ga(O(Y,be,Se))).join(",")+ma})}return ce},A=(re,Y,Oe,ze)=>{let ce="";if(Y.isHeader&&(ce+=Oe.map(ue=>Ga(g(Y,ue))).join("	")+ma),ze.forEach(ue=>{ce+=Oe.map(me=>Ga(ue[me.id])).join("	")+ma}),Y.isFooter){const{footerTableData:ue}=l;Ii(re,Y,ue).forEach(be=>{ce+=Oe.map(Se=>Ga(O(Y,be,Se))).join("	")+ma})}return ce},M=(re,Y,Oe)=>{const ze=re[Y],ce=n.isUndefined(ze)||n.isNull(ze)?Oe:ze;let Se=ce==="title"||(ce===!0||ce==="tooltip")||ce==="ellipsis";const{scrollXLoad:pe,scrollYLoad:Ae}=l;return(pe||Ae)&&!Se&&(Se=!0),Se},T=(re,Y,Oe)=>{const{id:ze,border:ce,treeConfig:ue,headerAlign:me,align:be,footerAlign:Se,showOverflow:pe,showHeaderOverflow:Ae}=t,{isAllSelected:_e,isIndeterminate:ae}=l,{mergeBodyCellMaps:Re}=a,Ie=u.value,{print:ne,isHeader:se,isFooter:F,isColgroup:B,isMerge:te,colgroups:de,original:Te}=re,Ke="check-all",Qe=[`<table class="${["vxe-table",`border--${aC(ce)}`,ne?"is--print":"",se?"is--header":""].filter(et=>et).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${Y.map(et=>`<col style="width:${et.renderWidth}px">`).join("")}</colgroup>`];if(se&&(Qe.push("<thead>"),B&&!Te?de.forEach(et=>{Qe.push(`<tr>${et.map(ht=>{const Ot=ht.headerAlign||ht.align||me||be,ut=M(ht,"showHeaderOverflow",Ae)?["col--ellipsis"]:[],wt=g(re,ht);let mt=0,Rt=0;n.eachTree([ht],he=>{(!he.childNodes||!ht.childNodes.length)&&Rt++,mt+=he.renderWidth},{children:"childNodes"});const Vt=mt-Rt;return Ot&&ut.push(`col--${Ot}`),ht.type==="checkbox"?`<th class="${ut.join(" ")}" colspan="${ht._colSpan}" rowspan="${ht._rowSpan}"><div ${ne?"":`style="width: ${Vt}px"`}><input type="checkbox" class="${Ke}" ${_e?"checked":""}><span>${wt}</span></div></th>`:`<th class="${ut.join(" ")}" colspan="${ht._colSpan}" rowspan="${ht._rowSpan}" title="${wt}"><div ${ne?"":`style="width: ${Vt}px"`}><span>${Go(wt,!0)}</span></div></th>`}).join("")}</tr>`)}):Qe.push(`<tr>${Y.map(et=>{const ht=et.headerAlign||et.align||me||be,Ot=M(et,"showHeaderOverflow",Ae)?["col--ellipsis"]:[],ut=g(re,et);return ht&&Ot.push(`col--${ht}`),et.type==="checkbox"?`<th class="${Ot.join(" ")}"><div ${ne?"":`style="width: ${et.renderWidth}px"`}><input type="checkbox" class="${Ke}" ${_e?"checked":""}><span>${ut}</span></div></th>`:`<th class="${Ot.join(" ")}" title="${ut}"><div ${ne?"":`style="width: ${et.renderWidth}px"`}><span>${Go(ut,!0)}</span></div></th>`}).join("")}</tr>`),Qe.push("</thead>")),Oe.length&&(Qe.push("<tbody>"),ue?Oe.forEach(et=>{Qe.push("<tr>"+Y.map(ht=>{const Ot=ht.id,ut=ht.align||be,wt=M(ht,"showOverflow",pe)?["col--ellipsis"]:[],mt=et[Ot];if(ut&&wt.push(`col--${ut}`),ht.treeNode){let Rt="";return et._hasChild&&(Rt=`<i class="${et._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),wt.push("vxe-table--tree-node"),ht.type==="radio"?`<td class="${wt.join(" ")}" title="${mt}"><div ${ne?"":`style="width: ${ht.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${et._level*Ie.indent}px"><div class="vxe-table--tree-icon-wrapper">${Rt}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${ze}" ${et._radioDisabled?"disabled ":""}${Wa(mt)?"checked":""}><span>${et._radioLabel}</span></div></div></div></td>`:ht.type==="checkbox"?`<td class="${wt.join(" ")}" title="${mt}"><div ${ne?"":`style="width: ${ht.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${et._level*Ie.indent}px"><div class="vxe-table--tree-icon-wrapper">${Rt}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${et._checkboxDisabled?"disabled ":""}${Wa(mt)?"checked":""}><span>${et._checkboxLabel}</span></div></div></div></td>`:`<td class="${wt.join(" ")}" title="${mt}"><div ${ne?"":`style="width: ${ht.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${et._level*Ie.indent}px"><div class="vxe-table--tree-icon-wrapper">${Rt}</div><div class="vxe-table--tree-cell">${mt}</div></div></div></td>`}return ht.type==="radio"?`<td class="${wt.join(" ")}"><div ${ne?"":`style="width: ${ht.renderWidth}px"`}><input type="radio" name="radio_${ze}" ${et._radioDisabled?"disabled ":""}${Wa(mt)?"checked":""}><span>${et._radioLabel}</span></div></td>`:ht.type==="checkbox"?`<td class="${wt.join(" ")}"><div ${ne?"":`style="width: ${ht.renderWidth}px"`}><input type="checkbox" ${et._checkboxDisabled?"disabled ":""}${Wa(mt)?"checked":""}><span>${et._checkboxLabel}</span></div></td>`:`<td class="${wt.join(" ")}" title="${mt}"><div ${ne?"":`style="width: ${ht.renderWidth}px"`}>${Go(mt,!0)}</div></td>`}).join("")+"</tr>")}):Oe.forEach(et=>{Qe.push("<tr>"+Y.map(ht=>{const Ot=ht.align||be,ut=M(ht,"showOverflow",pe)?["col--ellipsis"]:[],wt=et[ht.id];let mt=1,Rt=1;if(te){const Vt=e.getVTRowIndex(et._row),he=e.getVTColumnIndex(ht),$e=Re[`${Vt}:${he}`];if($e){const{rowspan:nt,colspan:ft}=$e;if(!nt||!ft)return"";nt>1&&(mt=nt),ft>1&&(Rt=ft)}}return Ot&&ut.push(`col--${Ot}`),ht.type==="radio"?`<td class="${ut.join(" ")}" rowspan="${mt}" colspan="${Rt}"><div ${ne?"":`style="width: ${ht.renderWidth}px"`}><input type="radio" name="radio_${ze}" ${et._radioDisabled?"disabled ":""}${Wa(wt)?"checked":""}><span>${et._radioLabel}</span></div></td>`:ht.type==="checkbox"?`<td class="${ut.join(" ")}" rowspan="${mt}" colspan="${Rt}"><div ${ne?"":`style="width: ${ht.renderWidth}px"`}><input type="checkbox" ${et._checkboxDisabled?"disabled ":""}${Wa(wt)?"checked":""}><span>${et._checkboxLabel}</span></div></td>`:`<td class="${ut.join(" ")}" rowspan="${mt}" colspan="${Rt}" title="${wt}"><div ${ne?"":`style="width: ${ht.renderWidth}px"`}>${Go(wt,!0)}</div></td>`}).join("")+"</tr>")}),Qe.push("</tbody>")),F){const{footerTableData:et}=l,ht=Ii(e,re,et);ht.length&&(Qe.push("<tfoot>"),ht.forEach(Ot=>{Qe.push(`<tr>${Y.map(ut=>{const wt=ut.footerAlign||ut.align||Se||be,mt=M(ut,"showOverflow",pe)?["col--ellipsis"]:[],Rt=O(re,Ot,ut);return wt&&mt.push(`col--${wt}`),`<td class="${mt.join(" ")}" title="${Rt}"><div ${ne?"":`style="width: ${ut.renderWidth}px"`}>${Go(Rt,!0)}</div></td>`}).join("")}</tr>`)}),Qe.push("</tfoot>"))}const lt=!_e&&ae?`<script>(function(){var a=document.querySelector(".${Ke}");if(a){a.indeterminate=true}})()<\/script>`:"";return Qe.push("</table>",lt),ne?Qe.join(""):nC(re,Qe.join(""))},_=(re,Y,Oe)=>{let ze=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${re.sheetName}">`,"<Table>",Y.map(ce=>`<Column ss:Width="${ce.renderWidth}"/>`).join("")].join("");if(re.isHeader&&(ze+=`<Row>${Y.map(ce=>`<Cell><Data ss:Type="String">${g(re,ce)}</Data></Cell>`).join("")}</Row>`),Oe.forEach(ce=>{ze+="<Row>"+Y.map(ue=>`<Cell><Data ss:Type="String">${ce[ue.id]}</Data></Cell>`).join("")+"</Row>"}),re.isFooter){const{footerTableData:ce}=l;Ii(e,re,ce).forEach(me=>{ze+=`<Row>${Y.map(be=>`<Cell><Data ss:Type="String">${O(re,me,be)}</Data></Cell>`).join("")}</Row>`})}return`${ze}</Table></Worksheet></Workbook>`},z=(re,Y,Oe,ze)=>{if(Oe.length)switch(Y.type){case"csv":return $(re,Y,Oe,ze);case"txt":return A(re,Y,Oe,ze);case"html":return T(Y,Oe,ze);case"xml":return _(Y,Oe,ze)}return""},Z=(re,Y)=>{const{filename:Oe,type:ze,download:ce}=re;if(!ce){const ue=tC(Y,re);return Promise.resolve({type:ze,content:Y,blob:ue})}We.saveFile&&We.saveFile({filename:Oe,type:ze,content:Y}).then(()=>{re.message!==!1&&We.modal&&We.modal.message({content:Xl("vxe.table.expSuccess"),status:"success"})})},J=re=>{const Y=e.xeGrid,Oe=e.xeGantt,{remote:ze,columns:ce,colgroups:ue,exportMethod:me,afterExportMethod:be}=re;return new Promise(Se=>{if(ze){const pe={options:re,$table:e,$grid:Y,$gantt:Oe};Se(me?me(pe):pe)}else{const pe=R(re);Se(e.preventEvent(null,"event.export",{options:re,columns:ce,colgroups:ue,datas:pe},()=>Z(re,z(e,re,ce,pe))))}}).then(Se=>(Sp(ce),re.print||be&&be({status:!0,options:re,$table:e,$grid:Y,$gantt:Oe}),Object.assign({status:!0},Se))).catch(()=>{Sp(ce),re.print||be&&be({status:!1,options:re,$table:e,$grid:Y,$gantt:Oe});const Se={status:!1};return Promise.reject(Se)})},W=(re,Y)=>{const{tableFullColumn:Oe,_importResolve:ze,_importReject:ce}=a;let ue={fields:[],rows:[]};const me={},be={};Oe.forEach(ae=>{const Re=ae.field,Ie=ae.getTitle();Re&&(me[Re]=ae),Ie&&(be[ae.getTitle()]=ae)});const Se={fieldMaps:me,titleMaps:be};switch(Y.type){case"csv":ue=iC(Se,re);break;case"txt":ue=cC(Se,re);break;case"html":ue=uC(Se,re);break;case"xml":ue=dC(Se,re);break}const{fields:pe,rows:Ae}=ue;pe.some(ae=>me[ae]||be[ae])?e.createData(Ae).then(ae=>{let Re;return(Y.mode==="insert"||Y.mode==="insertBottom")&&(Re=e.insertAt(ae,-1)),Y.mode==="insertTop"?Re=e.insert(ae):Re=e.reloadData(ae),Y.message!==!1&&We.modal&&We.modal.message({content:Xl("vxe.table.impSuccess",[Ae.length]),status:"success"}),Re.then(()=>{ze&&ze({status:!0})})}):Y.message!==!1&&(We.modal&&We.modal.message({content:Xl("vxe.error.impFields"),status:"error"}),ce&&ce({status:!1}))},Q=(re,Y)=>{const{importMethod:Oe,afterImportMethod:ze}=Y,{type:ce,filename:ue}=Kg(re),me=m.value;if(!Oe&&!n.includes(n.keys(me._typeMaps),ce)){Y.message!==!1&&We.modal&&We.modal.message({content:Xl("vxe.error.notType",[ce]),status:"error"});const Se={status:!1};return Promise.reject(Se)}return new Promise((Se,pe)=>{const Ae=ae=>{Se(ae),a._importResolve=null,a._importReject=null},_e=ae=>{pe(ae),a._importResolve=null,a._importReject=null};if(a._importResolve=Ae,a._importReject=_e,window.FileReader){const ae=Object.assign({mode:"insertTop"},Y,{type:ce,filename:ue});if(ae.remote)Oe?Promise.resolve(Oe({file:re,options:ae,$table:e})).then(()=>{Ae({status:!0})}).catch(()=>{Ae({status:!0})}):Ae({status:!0});else{const{tableFullColumn:Re}=a;e.preventEvent(null,"event.import",{file:re,options:ae,columns:Re},()=>{const Ie=new FileReader;Ie.onerror=()=>{en("vxe.error.notType",[ce]),_e({status:!1})},Ie.onload=ne=>{W(ne.target.result,ae)},Ie.readAsText(re,ae.encoding||"UTF-8")})}}else en("vxe.error.notExp"),Ae({status:!0})}).then(()=>{ze&&ze({status:!0,options:Y,$table:e})}).catch(Se=>(ze&&ze({status:!1,options:Y,$table:e}),Promise.reject(Se)))},ge=(re,Y,Oe)=>Oe.some(ze=>{if(Wc(ze))return Y.id===ze.id;if(n.isString(ze))return Y.field===ze;{const ce=ze.id||ze.colId,ue=ze.type,me=ze.field;if(ce)return Y.id===ce;if(me&&ue)return Y.field===me&&Y.type===ue;if(me)return Y.field===me;if(ue)return Y.type===ue}return!1}),fe=(re,Y,Oe,ze)=>ze&&n.includes(ze,Y.field)?!1:Oe?!!n.includes(Oe,Y.field):re.original?!!Y.field:Oi(Y),ve=(re,Y)=>{const Oe=e.xeGrid,ze=e.xeGantt,ce=Oe||ze,{treeConfig:ue,showHeader:me,showFooter:be}=t,{initStore:Se,isGroup:pe,footerTableData:Ae,exportStore:_e,exportParams:ae}=l,{collectColumn:Re,mergeBodyList:Ie,mergeFooterList:ne}=a,se=d.value,F=ue,B=p.value,te=e.getCheckboxRecords(),de=ce?ce.getComputeMaps().computeProxyOpts.value:{},Te=!!Ae.length,Ke=!!(Ie.length||ne.length),Ye=Object.assign({message:!0,isHeader:me,isTitle:me,isFooter:be,isColgroup:pe,isMerge:Ke,useStyle:!0,current:"current",modes:(de.ajax&&de.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"])},re),Qe=Ye.types||n.keys(se._typeMaps),lt=Ye.modes||[],et=B.checkMethod,ht=Re.slice(0),{columns:Ot,excludeFields:ut,includeFields:wt}=Ye,mt=Qe.map(ft=>({value:ft,label:Xl(`vxe.export.types.${ft}`)})),Rt=lt.map(ft=>ft&&ft.value?{value:ft.value,label:ft.label||ft.value}:{value:ft,label:Xl(`vxe.export.modes.${ft}`)});n.eachTree(ht,(ft,vt,v,L,N)=>{const ie=ft.children&&ft.children.length>0;let Me=!1;Ot&&Ot.length?Me=ge(Ye,ft,Ot):ut||wt?Me=fe(Ye,ft,wt,ut):Me=ft.visible&&(ie||Oi(ft)),ft.checked=Me,ft.halfChecked=!1,ft.disabled=N&&N.disabled||(et?!et({$table:e,column:ft}):!1)}),Object.assign(_e,{columns:ht,typeList:mt,modeList:Rt,hasFooter:Te,hasMerge:Ke,hasTree:F,isPrint:Y,hasColgroup:pe,visible:!0}),Object.assign(ae,{mode:te.length?"selected":"current"},Ye);const{filename:Vt,sheetName:he,mode:$e,type:nt}=ae;return Vt&&(n.isFunction(Vt)?ae.filename=Vt({options:Ye,$table:e,$grid:Oe,$gantt:ze}):ae.filename=`${Vt}`),he&&(n.isFunction(he)?ae.sheetName=he({options:Ye,$table:e,$grid:Oe,$gantt:ze}):ae.sheetName=`${he}`),Rt.some(ft=>ft.value===$e)||(ae.mode=Rt[0].value),mt.some(ft=>ft.value===nt)||(ae.type=mt[0].value),Se.export=!0,ke()},oe=()=>We.modal?We.modal.close("VXE_EXPORT_MODAL"):Promise.resolve(),Ee={exportData(re){const Y=e.xeGrid,Oe=e.xeGantt,ze=Y||Oe,{treeConfig:ce,showHeader:ue,showFooter:me}=t,{isGroup:be}=l,{tableFullColumn:Se,afterFullData:pe,afterTreeFullData:Ae,collectColumn:_e,mergeBodyList:ae,mergeFooterList:Re}=a,Ie=d.value,ne=u.value,se=ze?ze.getComputeMaps().computeProxyOpts.value:{},F=!!(ae.length||Re.length),B=Object.assign({message:!0,isHeader:ue,isTitle:ue,isFooter:me,isColgroup:be,isMerge:F,useStyle:!0,current:"current",modes:(se.ajax&&se.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"]),download:!0,type:"csv"},Ie,re);let{filename:te,sheetName:de,type:Te,mode:Ke,columns:Ye,original:Qe,columnFilterMethod:lt,beforeExportMethod:et,includeFields:ht,excludeFields:Ot}=B,ut=[];const wt=e.getCheckboxRecords();Ke||(Ke=wt.length?"selected":"current");let mt=!1,Rt=[];Ye&&Ye.length?(mt=!0,Rt=Ye):Rt=n.searchTree(_e,$e=>{const nt=$e.children&&$e.children.length>0;let ft=!1;return Ye&&Ye.length?ft=ge(B,$e,Ye):Ot||ht?ft=fe(B,$e,ht,Ot):ft=$e.visible&&(nt||Oi($e)),ft},{children:"children",mapChildren:"childNodes",original:!0});const Vt=Object.assign({},B,{filename:"",sheetName:""});!mt&&!lt&&(lt=({column:$e})=>Ot&&n.includes(Ot,$e.field)?!1:ht?!!n.includes(ht,$e.field):Qe?!!$e.field:Oi($e),Vt.columnFilterMethod=lt),Rt?(Vt._isCustomColumn=!0,ut=n.searchTree(n.mapTree(Rt,$e=>{let nt;if($e){if(Wc($e))nt=$e;else if(n.isString($e))nt=e.getColumnByField($e);else{const ft=$e.id||$e.colId,vt=$e.type,v=$e.field;ft?nt=e.getColumnById(ft):v&&vt?nt=Se.find(L=>L.field===v&&L.type===vt):v?nt=e.getColumnByField(v):vt&&(nt=Se.find(L=>L.type===vt))}return nt||{}}},{children:"childNodes",mapChildren:"_children"}),($e,nt)=>Wc($e)&&(!lt||lt({$table:e,$grid:Y,$gantt:Oe,column:$e,$columnIndex:nt})),{children:"_children",mapChildren:"childNodes",original:!0})):ut=n.searchTree(be?_e:Se,($e,nt)=>$e.visible&&(!lt||lt({$table:e,$grid:Y,$gantt:Oe,column:$e,$columnIndex:nt})),{children:"children",mapChildren:"childNodes",original:!0});const he=[];if(n.eachTree(ut,$e=>{$e.children&&$e.children.length||he.push($e)},{children:"childNodes"}),Vt.columns=he,Vt.colgroups=sC(ut),te&&(n.isFunction(te)?Vt.filename=te({options:B,$table:e,$grid:Y,$gantt:Oe}):Vt.filename=`${te}`),Vt.filename||(Vt.filename=Xl(Vt.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[n.toDateString(Date.now(),"yyyyMMddHHmmss")])),de&&(n.isFunction(de)?Vt.sheetName=de({options:B,$table:e,$grid:Y,$gantt:Oe}):Vt.sheetName=`${de}`),Vt.sheetName||(Vt.sheetName=document.title||""),!Vt.exportMethod&&!n.includes(n.keys(Ie._typeMaps),Te)){en("vxe.error.notType",[Te]),["xlsx","pdf"].includes(Te)&&cn("vxe.error.reqPlugin",[4,"plugin-export-xlsx"]);const $e={status:!1};return Promise.reject($e)}if(Vt.print||et&&et({options:Vt,$table:e,$grid:Y,$gantt:Oe}),Vt.data)Vt._isCustomData=!0;else{if(Vt.data=[],Ke==="selected")["html","pdf"].indexOf(Te)>-1&&ce?Vt.data=n.searchTree(e.getTableData().fullData,$e=>e.findRowIndexOf(wt,$e)>-1,Object.assign({},ne,{data:"_row"})):Vt.data=wt;else if(Ke==="all"&&(ze||en("vxe.error.errProp",["all","mode=current,selected"]),ze&&!Vt.remote)){const $e=ze.reactData,{computeProxyOpts:nt}=ze.getComputeMaps(),ft=nt.value,{sortData:vt}=$e,{beforeQueryAll:v,afterQueryAll:L,ajax:N={}}=ft,ie=ft.response||ft.props||{},Me=N.queryAll,He=N.queryAllSuccess,Ve=N.queryAllError;if(Me||en("vxe.error.notFunc",["proxy-config.ajax.queryAll"]),Me){const ye={$table:e,$grid:Y,$gantt:Oe,sort:vt.length?vt[0]:{},sorts:vt,filters:$e.filterData,form:$e.formData,options:Vt};return Promise.resolve((v||Me)(ye)).then(P=>{const q=ie.list;return Vt.data=(q?n.isFunction(q)?q({data:P,$table:e,$grid:Y,$gantt:Oe}):n.get(P,q):P)||[],L&&L(ye),He&&He(Object.assign(Object.assign({},ye),{response:P})),J(Vt)}).catch(P=>{Ve&&Ve(Object.assign(Object.assign({},ye),{response:P}))})}}Ke==="current"&&(Vt.data=ce?Ae:pe)}return J(Vt)},importByFile(re,Y){const Oe=Object.assign({},Y),{beforeImportMethod:ze}=Oe;return ze&&ze({options:Oe,$table:e}),Q(re,Oe)},importData(re){const Y=m.value,Oe=Object.assign({types:n.keys(Y._typeMaps)},Y,re),{beforeImportMethod:ze,afterImportMethod:ce}=Oe;return ze&&ze({options:Oe,$table:e}),We.readFile(Oe).catch(ue=>(ce&&ce({status:!1,options:Oe,$table:e}),Promise.reject(ue))).then(ue=>{const{file:me}=ue;return Q(me,Oe)})},saveFile(re){return We.saveFile(re)},readFile(re){return We.readFile(re)},print(re){const Y=e.xeGrid,Oe=e.xeGantt,ze=r.value,ce=Object.assign({original:!1},ze,re,{type:"html",download:!1,remote:!1,print:!0}),{sheetName:ue}=ce;let me="";ue&&(n.isFunction(ue)?me=ue({options:ce,$table:e,$grid:Y,$gantt:Oe}):me=`${ue}`),me||(me=document.title||"");const be=ce.beforePrintMethod,Se=ce.html||ce.content;return new Promise((pe,Ae)=>{We.print?pe(Se?We.print({title:me,html:Se,customStyle:ce.style,beforeMethod:be?({html:_e})=>be({html:_e,content:_e,options:ce,$table:e,$grid:Y,$gantt:Oe}):void 0}):Ee.exportData(ce).then(({content:_e})=>We.print({title:me,html:_e,customStyle:ce.style,beforeMethod:be?({html:ae})=>be({html:ae,content:ae,options:ce,$table:e,$grid:Y,$gantt:Oe}):void 0}))):Ae({status:!1})})},getPrintHtml(re){const Y=r.value,Oe=Object.assign({original:!1},Y,re,{type:"html",download:!1,remote:!1,print:!0});return e.exportData(Oe).then(({content:ze})=>({html:ze}))},closeImport(){return We.modal?We.modal.close("VXE_IMPORT_MODAL"):Promise.resolve()},openImport(re){const{treeConfig:Y,importConfig:Oe}=t,{initStore:ze,importStore:ce,importParams:ue}=l,me=m.value,be=Object.assign({mode:"insertTop",message:!0,types:n.keys(me._typeMaps),modes:["insertTop","covering"]},me,re),Se=be.types||[],pe=be.modes||[];if(!!Y){be.message&&We.modal&&We.modal.message({content:Xl("vxe.error.treeNotImp"),status:"error"});return}Oe||en("vxe.error.reqProp",["import-config"]);const _e=Se.map(Re=>({value:Re,label:Xl(`vxe.export.types.${Re}`)})),ae=pe.map(Re=>Re&&Re.value?{value:Re.value,label:Re.label||Re.value}:{value:Re,label:Xl(`vxe.import.modes.${Re}`)});Object.assign(ce,{file:null,type:"",filename:"",modeList:ae,typeList:_e,visible:!0}),Object.assign(ue,be),ae.some(Re=>Re.value===ue.mode)||(ue.mode=ae[0].value),ze.import=!0},closeExport:oe,openExport(re){const Y=d.value,Oe=Object.assign({message:!0,types:n.keys(Y._typeMaps)},Y,re);return t.exportConfig||en("vxe.error.reqProp",["export-config"]),ve(Oe)},closePrint:oe,openPrint(re){const Y=r.value,Oe=Object.assign({message:!0},Y,re);return t.printConfig||en("vxe.error.reqProp",["print-config"]),ve(Oe,!0)}};return Ee},setupGrid(e){return e.extendTableMethods(Dp)},setupGantt(e){return e.extendTableMethods(Dp)}});const{hooks:fC}=We;fC.add("tableKeyboardModule",{setupTable(e){const{props:t,reactData:l,internalData:a}=e,{refElem:u}=e.getRefMaps(),{computeEditOpts:r,computeCheckboxOpts:d,computeMouseOpts:m,computeTreeOpts:p,computeRowOpts:D,computeColumnOpts:C,computeCellOpts:h,computeDefaultRowHeight:S,computeCurrentRowOpts:w,computeCurrentColumnOpts:V}=e.getComputeMaps();function g(O,$,A,M,T,_){const{showOverflow:z}=t,{fullAllDataRowIdData:Z,isResizeCellHeight:J}=a,W=D.value,Q=h.value,ge=S.value,{row:fe}=$;let ve=0,oe=[],Ee=0;const re=_>0,{scrollYLoad:Y}=l,{afterFullData:Oe}=a;if(re?Ee=T+_:Ee=M.height-T+Math.abs(_),Y){const ze=e.getVTRowIndex(fe);if(!(J||Q.height||W.height)&&z)re?oe=Oe.slice(ze,ze+Math.ceil(Ee/ge)):oe=Oe.slice(ze-Math.floor(Ee/ge),ze+1);else if(re)for(let ue=ze;ue<Oe.length;ue++){const me=Oe[ue],be=e.getRowid(me),Se=Z[be]||{};if(ve+=Se.resizeHeight||Q.height||W.height||Se.height||ge,oe.push(me),ve>Ee)return oe}else for(let ue=ze;ue>=0;ue--){const me=Oe[ue],be=e.getRowid(me),Se=Z[be]||{};if(ve+=Se.resizeHeight||Q.height||W.height||Se.height||ge,oe.push(me),ve>Ee)return oe}}else{const ze=re?"next":"previous";for(;A&&ve<Ee;){const ce=e.getRowNode(A);ce&&(oe.push(ce.item),ve+=A.offsetHeight,A=A[`${ze}ElementSibling`])}}return oe}const i=(O,$)=>{const{elemStore:A}=a,M=hn(A["main-body-scroll"]),T=hn(A["left-body-scroll"]),_=hn(A["right-body-scroll"]),{column:z,cell:Z}=$;if(z.type==="checkbox"){let J=M;if(T&&z.fixed==="left"?J=T:_&&z.fixed==="right"&&(J=_),!J)return;const W=J.getBoundingClientRect(),Q=u.value,ge=O.clientX,fe=O.clientY,ve=J.querySelector(".vxe-table--checkbox-range"),oe=Z.parentElement,Ee=e.getCheckboxRecords();let re=[];const Y=1,Oe=O.clientY-W.y+J.scrollTop,ze=O.clientX-W.x+J.scrollLeft,ce=J.scrollTop,ue=oe.offsetHeight,me=oe.getBoundingClientRect(),be=fe-me.y;let Se=null,pe=!1,Ae=1;const _e=(ne,se)=>{e.dispatchEvent(`checkbox-range-${ne}`,{records:()=>e.getCheckboxRecords(),reserves:()=>e.getCheckboxReserveRecords()},se)},ae=ne=>{const{clientX:se,clientY:F}=ne,B=se-ge,te=F-fe+(J.scrollTop-ce);let de=Math.abs(te),Te=Math.abs(B),Ke=Oe,Ye=ze;te<Y?(Ke+=te,Ke<Y&&(Ke=Y,de=Oe)):de=Math.min(de,J.scrollHeight-Oe-Y),B<Y?(Ye+=B,Te>ze&&(Ye=Y,Te=ze)):Te=Math.min(Te,J.clientWidth-ze-Y),ve.style.height=`${de}px`,ve.style.width=`${Te}px`,ve.style.left=`${Ye}px`,ve.style.top=`${Ke}px`,ve.style.display="block";const Qe=g(ne,$,oe,me,be,te<Y?-de:de);if(de>10&&Qe.length!==re.length){const lt=ti(ne);re=Qe,lt?Qe.forEach(et=>{e.handleBatchSelectRows([et],Ee.indexOf(et)===-1)}):(e.setAllCheckboxRow(!1),e.handleCheckedCheckboxRow(Qe,!0,!1)),_e("change",ne)}},Re=()=>{clearTimeout(Se),Se=null},Ie=ne=>{Re(),Se=setTimeout(()=>{if(Se){const{scrollLeft:se,scrollTop:F,clientHeight:B,scrollHeight:te}=J,de=Math.ceil(Ae*50/ue);pe?F+B<te?(e.scrollTo(se,F+de),Ie(ne),ae(ne)):Re():F?(e.scrollTo(se,F-de),Ie(ne),ae(ne)):Re()}},50)};Dl(Q,"drag--range"),document.onmousemove=ne=>{ne.preventDefault(),ne.stopPropagation();const{clientY:se}=ne,{boundingTop:F}=jc(J);se<F?(pe=!1,Ae=F-se,Se||Ie(ne)):se>F+J.clientHeight?(pe=!0,Ae=se-F-J.clientHeight,Se||Ie(ne)):Se&&Re(),ae(ne)},document.onmouseup=ne=>{Re(),nl(Q,"drag--range"),ve.removeAttribute("style"),document.onmousemove=null,document.onmouseup=null,_e("end",ne)},_e("start",O)}},x=(O,$)=>{const{editConfig:A,checkboxConfig:M,mouseConfig:T}=t,_=d.value,z=m.value,Z=r.value;if(T&&z.area&&e.triggerCellAreaModnEvent)return e.triggerCellAreaModnEvent(O,$);M&&_.range&&i(O,$),T&&z.selected&&(!A||Z.mode==="cell")&&e.handleSelected($,O)},k=(O,$,A,M,T,_)=>{const{afterFullData:z,visibleColumn:Z}=a,J=Object.assign({},$),W=e.getVTRowIndex(J.row),Q=e.getVTColumnIndex(J.column);return O.preventDefault(),M&&W>0?(J.rowIndex=W-1,J.row=z[J.rowIndex]):_&&W<z.length-1?(J.rowIndex=W+1,J.row=z[J.rowIndex]):A&&Q?(J.columnIndex=Q-1,J.column=Z[J.columnIndex]):T&&Q<Z.length-1&&(J.columnIndex=Q+1,J.column=Z[J.columnIndex]),e.scrollToRow(J.row,J.column).then(()=>{J.cell=e.getCellElement(J.row,J.column),e.handleSelected(J,O)}),J};return{moveTabSelected(O,$,A){const{editConfig:M}=t,{afterFullData:T,visibleColumn:_}=a,z=r.value,Z=D.value,J=w.value,W=C.value,Q=V.value;let ge,fe,ve;const oe=Object.assign({},O),Ee=e.getVTRowIndex(oe.row),re=e.getVTColumnIndex(oe.column);A.preventDefault(),$?re<=0?Ee>0&&(fe=Ee-1,ge=T[fe],ve=_.length-1):ve=re-1:re>=_.length-1?Ee<T.length-1&&(fe=Ee+1,ge=T[fe],ve=0):ve=re+1;const Y=_[ve];Y&&(ge?(oe.rowIndex=fe,oe.row=ge):oe.rowIndex=Ee,oe.columnIndex=ve,oe.column=Y,oe.cell=e.getCellElement(oe.row,oe.column),Z.isCurrent&&J.isFollowSelected&&e.triggerCurrentRowEvent(A,oe),W.isCurrent&&Q.isFollowSelected&&e.triggerCurrentColumnEvent(A,oe),M?(z.trigger==="click"||z.trigger==="dblclick")&&(z.mode==="row"?e.handleEdit(oe,A):e.scrollToRow(oe.row,oe.column).then(()=>{e.handleSelected(oe,A)})):e.scrollToRow(oe.row,oe.column).then(()=>{e.handleSelected(oe,A)}))},moveCurrentRow(O,$,A){const{treeConfig:M}=t,{currentRow:T}=l,{afterFullData:_}=a,z=p.value,Z=z.children||z.childrenField;let J;if(T)if(M){const{index:W,items:Q}=n.findTree(_,ge=>ge===T,{children:Z});O&&W>0?J=Q[W-1]:$&&W<Q.length-1&&(J=Q[W+1])}else{const W=e.getVTRowIndex(T);O&&W>0?J=_[W-1]:$&&W<_.length-1&&(J=_[W+1])}else J=_[0];if(J){A.preventDefault();const W={$table:e,row:J,rowIndex:e.getRowIndex(J),$rowIndex:e.getVMRowIndex(J)};e.scrollToRow(J).then(()=>e.triggerCurrentRowEvent(A,W))}},moveCurrentColumn(O,$,A){const{currentColumn:M}=l,{visibleColumn:T}=a;let _=null;if(M){const z=e.getVTColumnIndex(M);O&&z>0?_=T[z-1]:$&&z<T.length-1&&(_=T[z+1])}else _=T[0];if(_){A.preventDefault();const z={$table:e,column:_,columnIndex:e.getColumnIndex(_),$columnIndex:e.getVMColumnIndex(_)};e.scrollToColumn(_).then(()=>e.triggerCurrentColumnEvent(A,z))}},moveArrowSelected(O,$,A,M,T,_){const{highlightCurrentRow:z,highlightCurrentColumn:Z}=t,J=D.value,W=w.value,Q=C.value,ge=V.value,fe=k(_,O,$,A,M,T);(J.isCurrent||z)&&(W.isFollowSelected?e.triggerCurrentRowEvent(_,fe):(A||T)&&(J.isCurrent||z)&&e.moveCurrentRow(A,T,_)),(Q.isCurrent||Z)&&(ge.isFollowSelected?e.triggerCurrentColumnEvent(_,fe):($||M)&&(Q.isCurrent||Z)&&e.moveCurrentColumn($,M,_))},moveEnterSelected(O,$,A,M,T,_){const{highlightCurrentRow:z,highlightCurrentColumn:Z}=t,J=D.value,W=w.value,Q=C.value,ge=V.value,fe=k(_,O,$,A,M,T);(J.isCurrent||z)&&W.isFollowSelected&&e.triggerCurrentRowEvent(_,fe),(Q.isCurrent||Z)&&ge.isFollowSelected&&e.triggerCurrentColumnEvent(_,fe)},moveSelected(O,$,A,M,T,_){k(_,O,$,A,M,T)},handleCellMousedownEvent:x}}});const{getConfig:pC,validators:gC,hooks:mC}=We;class Br{constructor(t){Object.assign(this,{$options:t,required:t.required,min:t.min,max:t.max,type:t.type,pattern:t.pattern,validator:t.validator,trigger:t.trigger,maxWidth:t.maxWidth})}get content(){return as(this.$options.content||this.$options.message)}get message(){return this.content}}function hC(e,t){return!(e&&!(n.isRegExp(e)?e:new RegExp(e)).test(t))}function Ku(e,t){return!(!n.eqNull(e)&&t>n.toNumber(e))}function Xu(e,t){return!(!n.eqNull(e)&&t<n.toNumber(e))}function Tp(e,t,l){const{type:a,min:u,max:r,pattern:d}=e,m=a==="array",p=a==="number",D=a==="string",C=`${t}`;if(!hC(d,C))return!1;if(m){if(!n.isArray(t)||l&&!t.length||!Xu(u,t.length)||!Ku(r,t.length))return!1}else if(p){const h=Number(t);if(isNaN(h)||!Xu(u,h)||!Ku(r,h))return!1}else if(D&&!n.isString(t)||l&&!C||!Xu(u,C.length)||!Ku(r,C.length))return!1;return!0}function vC(e,t){const{required:l}=e,a=n.isArray(t)?!t.length:ns(t);if(l){if(a||!Tp(e,t,l))return!1}else if(!a&&!Tp(e,t,l))return!1;return!0}const Mp=["fullValidate","validate","fullValidateField","validateField","clearValidate"];mC.add("tableValidatorModule",{setupTable(e){const{props:t,reactData:l,internalData:a}=e,{refValidTooltip:u}=e.getRefMaps(),{computeValidOpts:r,computeTreeOpts:d,computeEditOpts:m,computeAggregateOpts:p}=e.getComputeMaps();let D={},C={},h;const S=g=>new Promise(i=>{r.value.autoPos===!1?(e.dispatchEvent("valid-error",g,null),i()):e.handleEdit(g,{type:"valid-error",trigger:"call"}).then(()=>{i(C.showValidTooltip(g))})}),w=g=>{if(r.value.msgMode==="single"){const x=Object.keys(g),k={};if(x.length){const R=x[0];k[R]=g[R]}return k}return g},V=(g,i,x,k)=>{const R={},{editRules:O,treeConfig:$}=t,{isRowGroupStatus:A}=l,{afterFullData:M,pendingRowMaps:T,removeRowMaps:_}=a,z=d.value,Z=p.value,J=r.value;let W;g===!0?W=M:g&&(n.isFunction(g)?x=g:W=n.isArray(g)?g:[g]),W||(e.getInsertRecords?W=e.getInsertRecords().concat(e.getUpdateRecords()):W=[]);const Q=[];a._lastCallTime=Date.now(),h=!1,D.clearValidate();const ge={};if(O){const fe=i&&i.length?i:e.getColumns(),ve=oe=>{const Ee=Zt(e,oe);if(!_[Ee]&&!T[Ee]&&!e.isAggregateRecord(oe)&&(k||!h)){const re=[];fe.forEach(Y=>{const Oe=n.isString(Y)?Y:Y.field;(k||!h)&&n.has(O,Oe)&&re.push(C.validCellRules("all",oe,Y).catch(({rule:ze,rules:ce})=>{const ue={rule:ze,rules:ce,rowIndex:e.getRowIndex(oe),row:oe,columnIndex:e.getColumnIndex(Y),column:Y,field:Oe,$table:e};if(R[Oe]||(R[Oe]=[]),ge[`${Zt(e,oe)}:${Y.id}`]={column:Y,row:oe,rule:ze,content:ze.content},R[Oe].push(ue),!k)return h=!0,Promise.reject(ue)}))}),Q.push(Promise.all(re))}};if(A)n.eachTree(W,ve,{children:Z.mapChildrenField});else if($){const oe=z.children||z.childrenField;n.eachTree(W,ve,{children:oe})}else W.forEach(ve);return Promise.all(Q).then(()=>{const oe=Object.keys(R);return l.validErrorMaps=w(ge),ke().then(()=>{if(oe.length)return Promise.reject(R[oe[0]][0]);x&&x()})}).catch(oe=>new Promise((Ee,re)=>{const Y=()=>{ke(()=>{x?(x(R),Ee()):pC().validToReject==="obsolete"?re(R):Ee(R)})},Oe=()=>{oe.cell=e.getCellElement(oe.row,oe.column),cy(oe.cell),S(oe).then(Y)};if(J.autoPos===!1)Y();else{const ze=oe.row,ce=oe.column;e.scrollToRow(ze,ce).then(Oe)}}))}else l.validErrorMaps={};return ke().then(()=>{x&&x()})};return D={fullValidate(g,i){return n.isFunction(i)&&cn("vxe.error.notValidators",["fullValidate(rows, callback)","fullValidate(rows)"]),V(g,null,i,!0)},validate(g,i){return V(g,null,i)},fullValidateField(g,i){const x=(n.isArray(i)?i:i?[i]:[]).map(k=>ho(e,k));return x.length?V(g,x,null,!0):ke()},validateField(g,i){const x=(n.isArray(i)?i:i?[i]:[]).map(k=>ho(e,k));return x.length?V(g,x,null):ke()},clearValidate(g,i){const{validErrorMaps:x}=l,k=u.value,R=r.value,O=n.isArray(g)?g:g?[g]:[],$=(n.isArray(i)?i:i?[i]:[]).map(M=>ho(e,M));let A={};if(k&&k.reactData.visible&&k.close(),R.msgMode==="single")return l.validErrorMaps={},ke();if(O.length&&$.length)A=Object.assign({},x),O.forEach(M=>{$.forEach(T=>{const _=`${Zt(e,M)}:${T.id}`;A[_]&&delete A[_]})});else if(O.length){const M=O.map(T=>`${Zt(e,T)}`);n.each(x,(T,_)=>{M.indexOf(_.split(":")[0])>-1&&(A[_]=T)})}else if($.length){const M=$.map(T=>`${T.id}`);n.each(x,(T,_)=>{M.indexOf(_.split(":")[1])>-1&&(A[_]=T)})}return l.validErrorMaps=A,ke()}},C={validCellRules(g,i,x,k){const R=e.xeGrid,O=e.xeGantt,{editRules:$}=t,{field:A}=x,M=[],T=[];if(A&&$){const _=n.get($,A);if(_){const z=n.isUndefined(k)?n.get(i,A):k;_.forEach(Z=>{const{trigger:J,validator:W}=Z;if(g==="all"||!J||g===J)if(W){const Q={cellValue:z,rule:Z,rules:_,row:i,rowIndex:e.getRowIndex(i),column:x,columnIndex:e.getColumnIndex(x),field:x.field,$table:e,$grid:R,$gantt:O};let ge;if(n.isString(W)){const fe=gC.get(W);if(fe){const ve=fe.tableCellValidatorMethod||fe.cellValidatorMethod;ve?ge=ve(Q):en("vxe.error.notValidators",[W])}else en("vxe.error.notValidators",[W])}else ge=W(Q);ge&&(n.isError(ge)?(h=!0,M.push(new Br({type:"custom",trigger:J,content:ge.message,rule:new Br(Z)}))):ge.catch&&T.push(ge.catch(fe=>{h=!0,M.push(new Br({type:"custom",trigger:J,content:fe&&fe.message?fe.message:Z.content||Z.message,rule:new Br(Z)}))})))}else vC(Z,z)||(h=!0,M.push(new Br(Z)))})}}return Promise.all(T).then(()=>{if(M.length){const _={rules:M,rule:M[0]};return Promise.reject(_)}})},hasCellRules(g,i,x){const{editRules:k}=t,{field:R}=x;if(R&&k){const O=n.get(k,R);return O&&!!n.find(O,$=>g==="all"||!$.trigger||g===$.trigger)}return!1},triggerValidate(g){const{editConfig:i,editRules:x}=t,{editStore:k}=l,{actived:R}=k,O=m.value,$=r.value;if(x&&$.msgMode==="single"&&(l.validErrorMaps={}),i&&x&&R.row){const{row:A,column:M,cell:T}=R.args;if(C.hasCellRules(g,A,M))return C.validCellRules(g,A,M).then(()=>{O.mode==="row"&&D.clearValidate(A,M)}).catch(({rule:_})=>{if(!_.trigger||g===_.trigger){const z={rule:_,row:A,column:M,cell:T};return C.showValidTooltip(z),Promise.reject(z)}return Promise.resolve()})}return Promise.resolve()},showValidTooltip(g){const{height:i}=t,{tableData:x,validStore:k,validErrorMaps:R}=l,{rule:O,row:$,column:A,cell:M}=g,T=r.value,_=u.value,z=O.content;return k.visible=!0,T.msgMode==="single"?l.validErrorMaps={[`${Zt(e,$)}:${A.id}`]:{column:A,row:$,rule:O,content:z}}:l.validErrorMaps=Object.assign({},R,{[`${Zt(e,$)}:${A.id}`]:{column:A,row:$,rule:O,content:z}}),e.dispatchEvent("valid-error",g,null),_&&_&&(T.message==="tooltip"||T.message==="default"&&!i&&x.length<2)?_.open(M,z):ke()}},Object.assign(Object.assign({},D),C)},setupGrid(e){return e.extendTableMethods(Mp)},setupGantt(e){return e.extendTableMethods(Mp)}});const Op=["openCustom","closeCustom","getCustomVisible","toggleCustom","saveCustom","cancelCustom","resetCustom","toggleCustomAllCheckbox","setCustomAllCheckbox"];We.hooks.add("tableCustomModule",{setupTable(e){const{reactData:t,internalData:l}=e,{computeCustomOpts:a,computeRowGroupFields:u}=e.getComputeMaps(),{refElem:r}=e.getRefMaps(),d=e.xeGantt,m=()=>{const{customStore:R}=t;let O=r.value,$=0;if(d){const{refGanttContainerElem:A}=d.getRefMaps(),M=A.value;M&&(O=M)}O&&($=O.clientHeight-28),R.maxHeight=Math.max(88,$)},p=()=>{const{initStore:R,customStore:O}=t;return O.visible=!0,R.custom=!0,D(),i(),m(),ke().then(()=>m())},D=()=>{const{customStore:R}=t,{collectColumn:O}=l;if(R.visible){const $={},A={},M={};n.eachTree(O,T=>{const _=T.getKey();T.renderFixed=T.fixed,T.renderVisible=T.visible,T.renderResizeWidth=T.renderWidth,$[_]=T.renderSortNumber,A[_]=T.fixed,M[_]=T.visible}),R.oldSortMaps=$,R.oldFixedMaps=A,R.oldVisibleMaps=M,t.customColumnList=O.slice(0)}},C=()=>{const{customStore:R}=t,O=a.value;return R.visible&&(R.visible=!1,O.immediate||e.handleCustom()),ke()},h=()=>{const{customStore:R}=t;return R.visible?C():p()},S=()=>{const{customColumnList:R,aggHandleFields:O,rowGroupList:$}=t,A=a.value,{allowVisible:M,allowSort:T,allowFixed:_,allowResizable:z,allowGroup:Z,allowValues:J}=A;return n.eachTree(R,(W,Q,ge,fe,ve)=>{if(ve)W.fixed=ve.fixed;else{if(T){const oe=Q+1;W.renderSortNumber=oe}_&&(W.fixed=W.renderFixed)}z&&W.renderVisible&&(!W.children||W.children.length)&&W.renderResizeWidth!==W.renderWidth&&(W.resizeWidth=W.renderResizeWidth,W.renderWidth=W.renderResizeWidth),M&&(W.visible=W.renderVisible),Z&&J&&(W.aggFunc=W.renderAggFn)}),t.isCustomStatus=!0,Z&&e.handlePivotTableAggregateData&&($.length!==O.length||$.some((W,Q)=>W.field!==O[Q])?O.length?e.setRowGroups(O):e.clearRowGroups():J&&e.handleUpdateAggData()),T&&(l.collectColumn=R),e.saveCustomStore("confirm")},w=()=>{const{customColumnList:R,customStore:O}=t,{oldSortMaps:$,oldFixedMaps:A,oldVisibleMaps:M}=O,T=a.value,{allowVisible:_,allowSort:z,allowFixed:Z,allowResizable:J}=T;return n.eachTree(R,W=>{const Q=W.getKey(),ge=!!M[Q],fe=A[Q]||"";_&&(W.renderVisible=ge,W.visible=ge),Z&&(W.renderFixed=fe,W.fixed=fe),z&&(W.renderSortNumber=$[Q]||0),J&&(W.renderResizeWidth=W.renderWidth)},{children:"children"}),ke()},V=R=>{const{customStore:O}=t,{customColumnList:$}=t,A=a.value,{checkMethod:M,visibleMethod:T}=A,_=!!R;return A.immediate?(n.eachTree($,z=>{T&&!T({$table:e,column:z})||M&&!M({$table:e,column:z})||(z.visible=_,z.renderVisible=_,z.halfVisible=!1)}),O.isAll=_,t.isCustomStatus=!0,e.handleCustom(),e.saveCustomStore("update:visible")):(n.eachTree($,z=>{T&&!T({$table:e,column:z})||M&&!M({$table:e,column:z})||(z.renderVisible=_,z.halfVisible=!1)}),O.isAll=_),e.checkCustomStatus(),ke()},g={getCustomVisible(){const{customStore:R}=t;return R.visible},openCustom:p,closeCustom:C,toggleCustom:h,saveCustom:S,cancelCustom:w,resetCustom(R){const{rowGroupList:O}=t,{collectColumn:$}=l,A=a.value,{checkMethod:M}=A,T=Object.assign({visible:!0,resizable:R===!0,fixed:R===!0,sort:R===!0,aggFunc:R===!0},R),_=[];if(n.eachTree($,z=>{T.resizable&&(z.resizeWidth=0),T.fixed&&(z.fixed=z.defaultFixed),T.sort&&(z.renderSortNumber=z.sortNumber,z.parentId=z.defaultParentId),(!M||M({$table:e,column:z}))&&(z.visible=z.defaultVisible),T.aggFunc&&(z.aggFunc=z.defaultAggFunc,z.renderAggFn=z.defaultAggFunc),z.renderResizeWidth=z.renderWidth,_.push(z)}),T.sort){const z=n.toArrayTree(n.orderBy(_,"renderSortNumber"),{key:"id",parentKey:"parentId",children:"children"});l.collectColumn=z,l.tableFullColumn=oi(z)}return t.isCustomStatus=!1,e.handleCustom().then(()=>{if(T.aggFunc&&e.handlePivotTableAggregateData){const z=u.value;(z?z.length:O.length)?z&&z.length?e.setRowGroups(z):e.clearRowGroups():e.handleUpdateAggData()}e.saveCustomStore("reset")})},toggleCustomAllCheckbox(){const{customStore:R}=t,O=!R.isAll;return V(O)},setCustomAllCheckbox:V},i=()=>{const{customStore:R}=t,{collectColumn:O}=l,$=a.value,{checkMethod:A}=$;R.isAll=O.every(M=>(A?!A({$table:e,column:M}):!1)||M.renderVisible),R.isIndeterminate=!R.isAll&&O.some(M=>(!A||A({$table:e,column:M}))&&(M.renderVisible||M.halfVisible))},x=(R,O)=>{e.dispatchEvent("custom",{type:R},O)},k={checkCustomStatus:i,emitCustomEvent:x,triggerCustomEvent(R){const O=e.reactData,{customStore:$}=O;$.visible?(C(),x("close",R)):($.btnEl=R.target,p(),x("open",R))},customOpenEvent(R){const O=e.reactData,{customStore:$}=O;$.visible||($.activeBtn=!0,$.btnEl=R.target,e.openCustom(),e.emitCustomEvent("open",R))},customCloseEvent(R){const O=e.reactData,{customStore:$}=O;$.visible&&($.activeBtn=!1,e.closeCustom(),e.emitCustomEvent("close",R))},handleUpdateCustomColumn:D};return Object.assign(Object.assign({},g),k)},setupGrid(e){return e.extendTableMethods(Op)},setupGantt(e){return e.extendTableMethods(Op)}});const{getConfig:Gc,renderer:bC,getI18n:_d,getComponent:vm}=We,bm="modelValue",xm={};function os(e,t,l){return n.eqNull(e)?n.eqNull(t)?l:t:e}function xC(e,t){return e&&t.valueFormat?n.toStringDate(e,t.valueFormat):e}function yC(e,t,l){const{dateConfig:a={}}=t;return n.toDateString(xC(e,t),a.labelFormat||l)}function Zu(e,t){return yC(e,t,_d(`vxe.input.date.labelFormat.${t.type||"date"}`))}function CC(e){return`vxe-${e.replace("$","")}`}function Yo({name:e}){return vm(e)}function cu({name:e}){return Uo(CC(e))}function ts(e,t,l){const{$table:a}=e;a.updateFilterOptionStatus(l,t)}function Ju(e){const{$table:t,column:l}=e;t.saveFilterByEvent(new Event("change"),l)}function uu(e){let{name:t,attrs:l}=e;return t==="input"&&(l=Object.assign({type:"text"},l)),l}function ym(e){const{name:t,immediate:l,props:a}=e;if(!l){if(t==="VxeInput"||t==="$input"){const{type:u}=a||{};return!(!u||u==="text"||u==="number"||u==="integer"||u==="float")}return!(t==="input"||t==="textarea"||t==="$textarea")}return l}function Ml(e,t,l,a){return n.assign({immediate:ym(e)},xm,a,e.props,{[bm]:l})}function ir(e,t,l,a){return n.assign({},xm,a,e.props,{[bm]:l})}function du(e,t){return t.$type==="cell"||ym(e)}function il(e,t,l,a){const{placeholder:u}=e;return[o("span",{class:["vxe-cell--label",a?a.class:""]},u&&Hl(l)?[o("span",{class:"vxe-cell--placeholder"},Go(as(u),1))]:Go(l,1))]}function Cm(e,t,l){const{events:a}=e,u=im(e),r=cm(e),{model:d,change:m,blur:p}=l||{},D=r===u,C={};return a&&n.objectEach(a,(h,S)=>{C[jl(S)]=function(...w){h(t,...w)}}),d&&(C[jl(u)]=function(h){d(h),D&&m&&m(h),a&&a[u]&&a[u](t,h)}),!D&&m&&(C[jl(r)]=function(h){m(h),a&&a[r]&&a[r](t,h)}),p&&(C[jl(cr)]=function(h){p(h),a&&a[cr]&&a[cr](t,h)}),C}const cr="blur",Qu="clear";function ls(e,t,l,a){const{events:u}=e,r=im(e),d=cm(e),{model:m,change:p,blur:D,clear:C}=l||{},h={};return n.objectEach(u,(S,w)=>{h[jl(w)]=function(...V){n.isFunction(S)||en("vxe.error.errFunc",[S]),S(t,...V)}}),m&&(h[jl(r)]=function(S){m(S),u&&u[r]&&u[r](t,S)}),p&&(h[jl(d)]=function(...S){p(...S),u&&u[d]&&u[d](t,...S)}),D&&(h[jl(cr)]=function(...S){D(...S),u&&u[cr]&&u[cr](t,...S)}),C&&(h[jl(Qu)]=function(...S){C(...S),u&&u[Qu]&&u[Qu](t,...S)}),a?Object.assign(h,a):h}function Al(e,t){const{$table:l,row:a,column:u}=t,{name:r}=e,{model:d}=u,m=du(e,t);return ls(e,t,{model(p){d.update=!0,d.value=p,m&&_l(a,u,p)},change(p){if(!m&&r&&["VxeInput","VxeNumberInput","VxeTextarea","$input","$textarea"].includes(r)){const D=p.value;d.update=!0,d.value=D,l.updateStatus(t,D)}else l.updateStatus(t)},blur(){m?l.handleCellRuleUpdateStatus("blur",t):l.handleCellRuleUpdateStatus("blur",t,d.value)}})}function Qc(e,t,l){return ls(e,t,{model(a){l.data=a},change(){ts(t,!Hl(l.data),l)},blur(){ts(t,!Hl(l.data),l)}})}function wm(e,t,l){const{$table:a,column:u}=t;return yy(e)?ls(e,t,{model(r){l.data=r},change(){ts(t,!Hl(l.data),l)},clear(){ts(t,!Hl(l.data),l),Ju(t)},blur(){a.saveFilterByEvent(new Event("change"),u)}},e.name==="VxeNumberInput"?{[jl("plus-number")](){ts(t,!Hl(l.data),l),Ju(t)},[jl("minus-number")](){ts(t,!Hl(l.data),l),Ju(t)}}:{}):ls(e,t,{model(r){l.data=r},clear(){ts(t,!Hl(l.data),l),a.saveFilterByEvent(new Event("change"),u)},change(){ts(t,!Hl(l.data),l),a.saveFilterByEvent(new Event("change"),u)}})}function Em(e,t){const{$table:l,row:a,column:u}=t,{model:r}=u;return Cm(e,t,{model(d){const m=d.target;if(m){const p=m.value;du(e,t)?_l(a,u,p):(r.update=!0,r.value=p)}},change(d){const m=d.target;if(m){const p=m.value;l.updateStatus(t,p)}},blur(d){const m=d.target;if(m){const p=m.value;l.updateStatus(t,p)}}})}function Sm(e,t,l){return Cm(e,t,{model(a){const u=a.target;u&&(l.data=u.value)},change(){ts(t,!n.eqNull(l.data),l)},blur(){ts(t,!n.eqNull(l.data),l)}})}function ed(e,t){const{row:l,column:a}=t,{name:u}=e,r=du(e,t)?$o(l,a):a.model.value;return[o(`${u}`,Object.assign(Object.assign(Object.assign({class:`vxe-default-${u}`},uu(e)),{value:r}),Em(e,t)))]}function wC(e,t){return[o(Yo(e),Object.assign(Object.assign({},Ml(e,t,null)),ls(e,t)))]}function gl(e,t){const{row:l,column:a}=t,u=$o(l,a);return[o(Yo(e),Object.assign(Object.assign({},Ml(e,t,u)),Al(e,t)))]}function EC(e,t){const{row:l,column:a}=t,u=$o(l,a);return[o(Yo(e),Object.assign(Object.assign({},Ml(e,t,u)),Al(e,t)))]}function Ip(e,t){const{options:l}=e,{row:a,column:u}=t,r=$o(a,u);return[o(Yo(e),Object.assign(Object.assign({options:l},Ml(e,t,r)),Al(e,t)))]}function Ri(e,t){const{row:l,column:a}=t,u=$o(l,a);return[o(cu(e),Object.assign(Object.assign({},Ml(e,t,u)),Al(e,t)))]}function Dm(e,t){return[o(vm("vxe-button"),Object.assign(Object.assign({},Ml(e,t,null)),ls(e,t)))]}function SC(e,t){const{children:l}=e;return l?l.map(a=>Dm(a,t)[0]):[]}function Tm(e,t,l){const{optionGroups:a,optionGroupProps:u={}}=e,r=u.options||"options",d=u.label||"label";return a?a.map((m,p)=>o("optgroup",{key:p,label:m[d]},l(m[r],e,t))):[]}function eu(e,t,l){const{optionProps:a={}}=t,{row:u,column:r}=l,d=a.label||"label",m=a.value||"value",p=a.disabled||"disabled",D=du(t,l)?$o(u,r):r.model.value;return e?e.map((C,h)=>o("option",{key:h,value:C[m],disabled:C[p],selected:C[m]==D},C[d])):[]}function DC(e,t){const{column:l}=t,{name:a}=e,u=uu(e);return l.filters.map((r,d)=>o(`${a}`,Object.assign(Object.assign(Object.assign({key:d,class:`vxe-default-${a}`},u),{value:r.data}),Sm(e,t,r))))}function td(e,t){const{column:l}=t;return l.filters.map((a,u)=>{const r=a.data;return o(Yo(e),Object.assign(Object.assign({key:u},ir(e,e,r)),Qc(e,t,a)))})}function nd(e,t){const{option:l}=t,a=l.data;return[o(Yo(e),Object.assign(Object.assign({},ir(e,e,a)),wm(e,t,l)))]}function ki(){return[{data:null}]}function TC(e,t){const{column:l}=t;return l.filters.map((a,u)=>{const r=a.data;return o(cu(e),Object.assign(Object.assign({key:u},ir(e,e,r)),Qc(e,t,a)))})}function zr({option:e,row:t,column:l}){const{data:a}=e;return n.get(t,l.field)==a}function Hr({option:e,row:t,column:l}){const{data:a}=e,u=n.get(t,l.field);return n.toValueString(u).indexOf(a)>-1}function Rp(e,t){return[o("select",Object.assign(Object.assign({class:"vxe-default-select"},uu(e)),Em(e,t)),e.optionGroups?Tm(e,t,eu):eu(e.options,e,t))]}function kp(e,t){const{row:l,column:a}=t,{options:u,optionProps:r,optionGroups:d,optionGroupProps:m}=e,p=$o(l,a);return[o(Yo(e),Object.assign(Object.assign({},Ml(e,t,p,{options:u,optionProps:r,optionGroups:d,optionGroupProps:m})),Al(e,t)))]}function Pp(e,t){const{row:l,column:a}=t,{options:u,optionProps:r}=e,d=$o(l,a);return[o(Yo(e),Object.assign(Object.assign({},Ml(e,t,d,{options:u,optionProps:r})),Al(e,t)))]}function Fp(e,t){const{row:l,column:a}=t,{options:u,optionProps:r,optionGroups:d,optionGroupProps:m}=e,p=$o(l,a);return[o(cu(e),Object.assign(Object.assign({},Ml(e,t,p,{options:u,optionProps:r,optionGroups:d,optionGroupProps:m})),Al(e,t)))]}function Za(e,{row:t,column:l}){const{options:a,optionGroups:u,optionProps:r={},optionGroupProps:d={},props:m={}}=e,p=n.get(t,l.field);let D;const C=r.label||"label",h=r.value||"value";if(p!=null){let S=[];return n.isArray(p)?S=p:m.multiple&&`${p}`.indexOf(",")>-1?S=`${p}`.split(","):S=[p],n.map(S,u?w=>{const V=d.options||"options";for(let g=0;g<u.length&&(D=n.find(u[g][V],i=>i[h]==w),!D);g++);return D?D[C]:w}:w=>(D=n.find(a,V=>V[h]==w),D?D[C]:w)).join(", ")}return""}function Pi(e){const{row:t,column:l,options:a}=e;return a.original?$o(t,l):Za(l.editRender||l.cellRender,e)}function Wr(e,{row:t,column:l}){const{options:a,optionProps:u={}}=e,r=n.get(t,l.field),d=u.label||"label",m=u.value||"value",p=u.children||"children";if(r!=null){const D={};return n.eachTree(a,C=>{D[n.get(C,m)]=C},{children:p}),n.map(n.isArray(r)?r:[r],C=>{const h=D[C];return h&&n.get(h,d)}).join(", ")}return""}function od(e){const{row:t,column:l,options:a}=e;return a.original?$o(t,l):Wr(l.editRender||l.cellRender,e)}function Vp(e,t){const{props:l={},showNegativeStatus:a}=e,{row:u,column:r}=t,{type:d}=l;let m=n.get(u,r.field),p=!1;if(!Hl(m)){const D=Gc().numberInput||{};if(d==="float"){const C=os(l.autoFill,D.autoFill,!0),h=os(l.digits,D.digits,1);m=n.toFixed(n.floor(m,h),h),C||(m=n.toNumber(m)),a&&m<0&&(p=!0)}else if(d==="amount"){const C=os(l.autoFill,D.autoFill,!0),h=os(l.digits,D.digits,2),S=os(l.showCurrency,D.showCurrency,!1);if(m=n.toNumber(m),a&&m<0&&(p=!0),m=n.commafy(m,{digits:h}),!C){const[w,V]=m.split(".");if(V){const g=V.replace(/0+$/,"");m=g?[w,".",g].join(""):w}}S&&(m=`${l.currencySymbol||D.currencySymbol||_d("vxe.numberInput.currencySymbol")||""}${m}`)}else a&&n.toNumber(m)<0&&(p=!0)}return il(e,t,m,p?{class:"is--negative"}:{})}bC.mixin({input:{tableAutoFocus:"input",renderTableEdit:ed,renderTableDefault:ed,renderTableFilter:DC,tableFilterDefaultMethod:Hr},textarea:{tableAutoFocus:"textarea",renderTableEdit:ed},select:{renderTableEdit:Rp,renderTableDefault:Rp,renderTableCell(e,t){return il(e,t,Za(e,t))},renderTableFilter(e,t){const{column:l}=t;return l.filters.map((a,u)=>o("select",Object.assign(Object.assign({key:u,class:"vxe-default-select"},uu(e)),Sm(e,t,a)),e.optionGroups?Tm(e,t,eu):eu(e.options,e,t)))},tableFilterDefaultMethod:zr,tableExportMethod:Pi},VxeInput:{tableAutoFocus:"input",renderTableEdit:gl,renderTableCell(e,t){const{props:l={}}=e,{row:a,column:u}=t,r=Gc().input||{},d=l.digits||r.digits||2;let m=n.get(a,u.field);if(m)switch(l.type){case"date":case"week":case"month":case"quarter":case"year":m=Zu(m,l);break;case"float":m=n.toFixed(n.floor(m,d),d);break}return il(e,t,m)},renderTableDefault:gl,createTableFilterOptions:ki,renderTableFilter:td,renderTableFloatingFilter:nd,tableFilterDefaultMethod:Hr},FormatNumberInput:{renderTableDefault:Vp,tableFilterDefaultMethod:Hr,tableExportMethod(e){const{row:t,column:l}=e;return n.get(t,l.field)}},VxeNumberInput:{tableAutoFocus:"input",renderTableEdit:gl,renderTableCell:Vp,renderTableFooter(e,t){const{props:l={}}=e,{row:a,column:u,_columnIndex:r}=t,{type:d}=l,m=n.isArray(a)?a[r]:n.get(a,u.field);if(n.isNumber(m)){const p=Gc().numberInput||{};if(d==="float"){const D=os(l.autoFill,p.autoFill,!0),C=os(l.digits,p.digits,1);let h=n.toFixed(n.floor(m,C),C);return D||(h=n.toNumber(h)),h}else if(d==="amount"){const D=os(l.autoFill,p.autoFill,!0),C=os(l.digits,p.digits,2),h=os(l.showCurrency,p.showCurrency,!1);let S=n.commafy(n.toNumber(m),{digits:C});if(!D){const[w,V]=S.split(".");if(V){const g=V.replace(/0+$/,"");S=g?[w,".",g].join(""):w}}return h&&(S=`${l.currencySymbol||p.currencySymbol||_d("vxe.numberInput.currencySymbol")||""}${S}`),S}}return as(m,1)},renderTableDefault:gl,createTableFilterOptions:ki,renderTableFilter:td,renderTableFloatingFilter:nd,tableFilterDefaultMethod:Hr,tableExportMethod(e){const{row:t,column:l}=e;return n.get(t,l.field)}},VxeDatePicker:{tableAutoFocus:"input",renderTableEdit:gl,renderTableCell(e,t){const{props:l={}}=e,{row:a,column:u}=t;let r=n.get(a,u.field);return r&&l.type!=="time"&&(r=Zu(r,l)),il(e,t,r)},renderTableDefault:gl,createTableFilterOptions:ki,renderTableFilter:td,renderTableFloatingFilter:nd,tableFilterDefaultMethod:zr},VxeDateRangePicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{startField:l,endField:a}=e,{$table:u,row:r,column:d}=t,{model:m}=d,p=$o(r,d),D={},C={};return l&&a&&(D.startValue=n.get(r,l),D.endValue=n.get(r,a),C["onUpdate:startValue"]=h=>{l&&n.set(r,l,h)},C["onUpdate:endValue"]=h=>{a&&n.set(r,a,h)}),[o(Yo(e),Object.assign(Object.assign({},Ml(e,t,p,D)),ls(e,t,{model(h){m.update=!0,m.value=h,_l(r,d,h)},change(){u.updateStatus(t)},blur(){u.handleCellRuleUpdateStatus("blur",t)}},C)))]},renderTableCell(e,t){const{startField:l,endField:a}=e,{row:u,column:r}=t;let d="",m="";if(l&&a)d=n.get(u,l),m=n.get(u,a);else{const D=n.get(u,r.field);if(D)if(n.isArray(D))d=D[0],m=D[1];else{const C=`${D}`.split(",");d=C[0],m=C[1]}}let p="";return d&&m&&(p=`${d} ~ ${m}`),il(e,t,p)}},VxeTextarea:{tableAutoFocus:"textarea",renderTableEdit:gl,renderTableCell(e,t){const{row:l,column:a}=t,u=n.get(l,a.field);return il(e,t,u)}},VxeButton:{renderTableDefault:wC},VxeButtonGroup:{renderTableDefault(e,t){const{options:l}=e;return[o(Yo(e),Object.assign(Object.assign({options:l},Ml(e,t,null)),ls(e,t)))]}},VxeSelect:{tableAutoFocus:"input",renderTableEdit:kp,renderTableDefault:kp,renderTableCell(e,t){return il(e,t,Za(e,t))},createTableFilterOptions:ki,renderTableFilter(e,t){const{column:l}=t,{options:a,optionProps:u,optionGroups:r,optionGroupProps:d}=e;return l.filters.map((m,p)=>{const D=m.data;return o(Yo(e),Object.assign(Object.assign({key:p},ir(e,t,D,{options:a,optionProps:u,optionGroups:r,optionGroupProps:d})),Qc(e,t,m)))})},renderTableFloatingFilter(e,t){const{option:l}=t,{options:a,optionProps:u,optionGroups:r,optionGroupProps:d}=e,m=l.data;return o(Yo(e),Object.assign(Object.assign({},ir(e,t,m,{options:a,optionProps:u,optionGroups:r,optionGroupProps:d})),wm(e,t,l)))},tableFilterDefaultMethod:zr,tableExportMethod:Pi},VxeText:{renderTableDefault(e,t){const{$table:l,row:a,column:u}=t,{props:r}=e,d=l.getCellLabel(a,u);return[o(Yo(e),Object.assign(Object.assign(Object.assign({},r||{}),{content:d}),ls(e,t)))]}},VxeLink:{renderTableDefault(e,t){const{$table:l,row:a,column:u}=t,{props:r}=e,{href:d}=r||{},m=l.getCellLabel(a,u);return[o(Yo(e),Object.assign(Object.assign(Object.assign({},r||{}),{content:m,href:n.toFormatString(d,t)}),ls(e,t)))]}},formatOption:{renderTableDefault(e,t){return il(e,t,Za(e,t))}},FormatSelect:{renderTableDefault(e,t){return il(e,t,Za(e,t))},tableFilterDefaultMethod:zr,tableExportMethod:Pi},VxeTreeSelect:{tableAutoFocus:"input",renderTableEdit:Pp,renderTableCell(e,t){return il(e,t,Wr(e,t))},tableExportMethod:od},formatTree:{renderTableDefault(e,t){return il(e,t,Wr(e,t))}},FormatTreeSelect:{renderTableDefault(e,t){return il(e,t,Wr(e,t))},tableExportMethod:od},VxeTableSelect:{tableAutoFocus:"input",renderTableEdit:Pp,renderTableCell(e,t){return il(e,t,Wr(e,t))},tableExportMethod:od},VxeColorPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:l,column:a}=t,{options:u}=e,r=$o(l,a);return[o(Yo(e),Object.assign(Object.assign({},Ml(e,t,r,{colors:u})),Al(e,t)))]},renderTableCell(e,t){const{row:l,column:a}=t,u=n.get(l,a.field);return o("span",{class:"vxe-color-picker--readonly"},[o("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:u}})])}},VxeIconPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:l,column:a}=t,{options:u}=e,r=$o(l,a);return[o(Yo(e),Object.assign(Object.assign({},Ml(e,t,r,{icons:u})),Al(e,t)))]},renderTableCell(e,t){const{row:l,column:a}=t,u=n.get(l,a.field);return o("i",{class:u})}},VxeRadioGroup:{renderTableDefault:Ip},VxeCheckbox:{renderTableDefault:EC},VxeCheckboxGroup:{renderTableDefault:Ip},VxeSwitch:{tableAutoFocus:"button",renderTableEdit:gl,renderTableDefault:gl},VxeUpload:{renderTableEdit:gl,renderTableCell:gl,renderTableDefault:gl},VxeImage:{renderTableDefault(e,t){const{row:l,column:a}=t,{props:u}=e,r=$o(l,a);return[o(Yo(e),Object.assign(Object.assign(Object.assign({},u),{src:r}),Al(e,t)))]}},VxeImageGroup:{renderTableDefault(e,t){const{row:l,column:a}=t,{props:u}=e,r=$o(l,a);return[o(Yo(e),Object.assign(Object.assign(Object.assign({},u),{urlList:r}),Al(e,t)))]}},VxeTextEllipsis:{renderTableDefault(e,t){const{row:l,column:a}=t,{props:u}=e,r=$o(l,a);return[o(Yo(e),Object.assign(Object.assign(Object.assign({},u),{content:r}),Al(e,t)))]}},VxeRate:{renderTableDefault:gl},VxeSlider:{renderTableDefault:gl},$input:{tableAutoFocus:".vxe-input--inner",renderTableEdit:Ri,renderTableCell(e,t){var l;const{props:a={}}=e,{row:u,column:r}=t,d=a.digits||((l=Gc().input)===null||l===void 0?void 0:l.digits)||2;let m=n.get(u,r.field);if(m)switch(a.type){case"date":case"week":case"month":case"year":m=Zu(m,a);break;case"float":m=n.toFixed(n.floor(m,d),d);break}return il(e,t,m)},renderTableDefault:Ri,renderTableFilter:TC,tableFilterDefaultMethod:Hr},$textarea:{tableAutoFocus:".vxe-textarea--inner"},$button:{renderTableDefault:Dm},$buttons:{renderTableDefault:SC},$select:{tableAutoFocus:".vxe-input--inner",renderTableEdit:Fp,renderTableDefault:Fp,renderTableCell(e,t){return il(e,t,Za(e,t))},renderTableFilter(e,t){const{column:l}=t,{options:a,optionProps:u,optionGroups:r,optionGroupProps:d}=e;return l.filters.map((m,p)=>{const D=m.data;return o(cu(e),Object.assign(Object.assign({key:p},ir(e,t,D,{options:a,optionProps:u,optionGroups:r,optionGroupProps:d})),Qc(e,t,m)))})},tableFilterDefaultMethod:zr,tableExportMethod:Pi},$radio:{tableAutoFocus:".vxe-radio--input"},$checkbox:{tableAutoFocus:".vxe-checkbox--input"},$switch:{tableAutoFocus:".vxe-switch--button",renderTableEdit:Ri,renderTableDefault:Ri}});const{getConfig:Fn,getIcon:Fi,getI18n:Ll,renderer:ld,formats:Ap,createEvent:MC,globalResize:OC,interceptor:$p,hooks:IC,globalEvents:mo,GLOBAL_EVENT_KEYS:El,useFns:RC,renderEmptyElement:qo}=We,Np=5e6,Lp="VXE_CUSTOM_STORE",pa=5e6,Ya=5e6;let al=null;const Ea=Il({name:"VxeTable",props:Zc,emits:zd,setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),r=n.browse(),d=We.getComponent("VxeLoading"),m=We.getComponent("VxeTooltip"),p=jt("$xeTabs",null),D=jt("$xeTable",null),C=jt("$xeGrid",null),h=jt("$xeGantt",null),S=C||h,{computeSize:w}=RC.useSize(e),V=$y(),g=ln({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],rowGroupColumn:null,expandColumn:null,checkboxColumn:null,radioColumn:null,treeNodeColumn:null,hasFixedColumn:!1,upDataFlag:0,reColumnFlag:0,initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0,oldSortMaps:{},oldFixedMaps:{},oldVisibleMaps:{}},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,column:null,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],autoMinList:[],scaleList:[],scaleMinList:[],autoList:[],remainList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null}},tooltipStore:{row:null,column:null,content:null,visible:!1,type:null,currOpts:{}},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isTitle:!1,isFooter:!1},visiblwRowsFlag:1,isRowGroupStatus:!1,rowGroupList:[],aggHandleFields:[],aggHandleAggColumns:[],rowGroupExpandedFlag:1,rowExpandedFlag:1,treeExpandedFlag:1,updateCheckboxFlag:1,pendingRowFlag:1,insertRowFlag:1,removeRowFlag:1,mergeHeadFlag:1,mergeBodyFlag:1,mergeFootFlag:1,rowHeightStore:{large:52,default:48,medium:44,small:40,mini:36},scrollVMLoading:!1,scrollYHeight:0,scrollYTop:0,isScrollYBig:!1,scrollXLeft:0,scrollXWidth:0,isScrollXBig:!1,lazScrollLoading:!1,rowExpandHeightFlag:1,calcCellHeightFlag:1,resizeHeightFlag:1,resizeWidthFlag:1,isCustomStatus:!1,isCrossDragRow:!1,dragRow:null,isCrossDragCol:!1,dragCol:null,dragTipText:"",isDragResize:!1,isRowLoading:!1,isColLoading:!1}),i=Uf();let x={},k={};const R=st(),O=st(),$=st(),A=st(),M=st(),T=st(),_=st(),z=st(),Z=st(),J=st(),W=st(),Q=st(),ge=st(),fe=st(),ve=st(),oe=st(),Ee=st(),re=st(),Y=st(),Oe=st(),ze=st(),ce=st(),ue=st(),me=st(),be=st(),Se=st(),pe=st(),Ae=st(),_e=st(),ae=st(),Re=st(),Ie=st(),ne=st(),se=st(),F=st(),B=st(),te=st(),de=st(),Te=st(),Ke=st(),Ye=st(),Qe=st();let lt;const et=j(()=>{const{id:s}=e;return s?n.isFunction(s)?`${s({$table:y,$grid:C,$gantt:h})||""}`:`${s}`:""}),ht=j(()=>{const s=P.value;return`${e.rowId||s.keyField||"_X_ROW_KEY"}`}),Ot=j(()=>Object.assign({},Fn().table.validConfig,e.validConfig)),ut=j(()=>Rt.value),wt=j(()=>{const s=Rt.value,{threshold:c}=s;return c?n.toNumber(c):0}),mt=j(()=>Vt.value),Rt=j(()=>{const{virtualXConfig:s,scrollX:c}=e,f=Fn().table.virtualXConfig,b=Fn().table.scrollX;return s?Object.assign({},f,s):c?Object.assign({},b,c):f?Object.assign({},f,s):Object.assign({},b,c)}),Vt=j(()=>{const{virtualYConfig:s,scrollY:c}=e,f=Fn().table.virtualYConfig,b=Fn().table.scrollY;return s?Object.assign({},f,s):c?Object.assign({},b,c):f?Object.assign({},f,s):Object.assign({},b,c)}),he=j(()=>Object.assign({},Fn().table.scrollbarConfig,e.scrollbarConfig)),$e=j(()=>{var s;const c=he.value;return Object.assign({},c.x,((s=e.scrollbarConfig)===null||s===void 0?void 0:s.x)||{})}),nt=j(()=>{var s;const c=he.value;return Object.assign({},c.y,((s=e.scrollbarConfig)===null||s===void 0?void 0:s.y)||{})}),ft=j(()=>$e.value.position==="top"),vt=j(()=>nt.value.position==="left"),v=j(()=>{const s=Vt.value,{threshold:c}=s;return c?n.toNumber(c):0}),L=j(()=>g.rowHeightStore),N=j(()=>{const s=w.value;return L.value[s||"default"]||18}),ie=j(()=>Object.assign({},Fn().table.columnConfig,e.columnConfig)),Me=j(()=>Object.assign({},Fn().table.currentColumnConfig,e.currentColumnConfig)),He=j(()=>{const s=Object.assign({},Fn().table.cellConfig,e.cellConfig);return s.height&&(s.height=n.toNumber(s.height)),s}),Ve=j(()=>{const s=Object.assign({},Fn().table.headerCellConfig,e.headerCellConfig),c=N.value,f=He.value;let b=n.toNumber(si(s.height||f.height));if(h){const{computeTaskScaleConfs:E}=h.getComputeMaps(),I=E.value;if(I&&I.length>2){const H=c/2*I.length;b=Math.max(H,b)}}return s.height=b,s}),ye=j(()=>{const s=Object.assign({},Fn().table.footerCellConfig,e.footerCellConfig),c=He.value;return s.height=n.toNumber(si(s.height||c.height)),s}),P=j(()=>Object.assign({},Fn().table.rowConfig,e.rowConfig)),q=j(()=>Object.assign({},Fn().table.aggregateConfig||Fn().table.rowGroupConfig,e.aggregateConfig||e.rowGroupConfig)),Pe=j(()=>q.value),qe=j(()=>Object.assign({},Fn().table.currentRowConfig,e.currentRowConfig)),Ze=j(()=>Object.assign({},Fn().table.rowDragConfig,e.rowDragConfig)),K=j(()=>Object.assign({},Fn().table.columnDragConfig,e.columnDragConfig)),xe=j(()=>Object.assign({},Fn().table.resizeConfig,e.resizeConfig)),Ne=j(()=>Object.assign({},Fn().table.resizableConfig,e.resizableConfig)),Ge=j(()=>Object.assign({startIndex:0},Fn().table.seqConfig,e.seqConfig)),ot=j(()=>Object.assign({},Fn().table.radioConfig,e.radioConfig)),it=j(()=>Object.assign({},Fn().table.checkboxConfig,e.checkboxConfig)),Tt=j(()=>Object.assign({},Fn().tooltip,Fn().table.tooltipConfig,e.tooltipConfig)),zt=j(()=>Object.assign({},Fn().tooltip,Fn().table.headerTooltipConfig,e.headerTooltipConfig)),_t=j(()=>Object.assign({},Fn().tooltip,Fn().table.footerTooltipConfig,e.footerTooltipConfig)),Fe=j(()=>{const{tooltipStore:s}=g,c=Tt.value;return Object.assign({},c,s.currOpts)}),X=j(()=>{const s=Tt.value;return Object.assign({},s)}),Ce=j(()=>Object.assign({},Fn().table.editConfig,e.editConfig)),at=j(()=>Object.assign({orders:["asc","desc",null]},Fn().table.sortConfig,e.sortConfig)),gt=j(()=>Object.assign({},Fn().table.filterConfig,e.filterConfig)),St=j(()=>Object.assign({},Fn().table.floatingFilterConfig,e.floatingFilterConfig)),bt=j(()=>Object.assign({},Fn().table.mouseConfig,e.mouseConfig)),yt=j(()=>Object.assign({},Fn().table.areaConfig,e.areaConfig)),xt=j(()=>Object.assign({},Fn().table.keyboardConfig,e.keyboardConfig)),Ct=j(()=>Object.assign({},Fn().table.clipConfig,e.clipConfig)),$t=j(()=>on.value),on=j(()=>Object.assign({},Fn().table.fnrConfig,e.fnrConfig)),tn=j(()=>Object.assign({},Fn().table.menuConfig,e.menuConfig)),Qt=j(()=>{const{columnStore:s}=g,{leftList:c}=s;let f=0;for(let b=0;b<c.length;b++){const E=c[b];f+=E.renderWidth}return f}),vn=j(()=>{const{columnStore:s}=g,{rightList:c}=s;let f=0;for(let b=0;b<c.length;b++){const E=c[b];f+=E.renderWidth}return f}),Xn=j(()=>{const{columnStore:s,mergeBodyFlag:c}=g,{mergeBodyList:f,visibleColumn:b}=i,{leftList:E,rightList:I}=s,H=b.length-I.length;if(c&&(E.length||I.length)){const G=E.length;for(let ee=0;ee<f.length;ee++){const{col:we,colspan:De}=f[ee];if(we<G||we+De>H)return!0}}return!1}),Zn=j(()=>{const{spanMethod:s,footerSpanMethod:c,showHeaderOverflow:f}=e,{isGroup:b,scrollXLoad:E}=g;let I=!1;return b||E&&f&&(s||c||(I=!0)),I}),Co=j(()=>{const{spanMethod:s,footerSpanMethod:c}=e,{scrollXLoad:f,scrollYLoad:b,isAllOverflow:E,expandColumn:I}=g,H=Xn.value,G=Nn.value;let ee=!1;return(f||b||E)&&(I&&G.mode!=="fixed"||H||s||c||(ee=!0)),ee}),Wn=j(()=>{const{spanMethod:s,footerSpanMethod:c,showFooterOverflow:f}=e,{scrollXLoad:b}=g;let E=!1;return b&&f&&(s||c||(E=!0)),E}),ro=j(()=>{const c=tn.value.header;return c&&c.options?c.options:[]}),po=j(()=>{const c=tn.value.body;return c&&c.options?c.options:[]}),wo=j(()=>{const c=tn.value.footer;return c&&c.options?c.options:[]}),Jn=j(()=>_n.value),_n=j(()=>{const s=tn.value,c=ro.value,f=po.value,b=wo.value;return!!(e.menuConfig&&En(s)&&(c.length||f.length||b.length))}),io=j(()=>{const{ctxMenuStore:s}=g,c=[];return s.list.forEach(f=>{f.forEach(b=>{c.push(b)})}),c}),Ro=j(()=>Object.assign({},Fn().table.exportConfig,e.exportConfig)),Vo=j(()=>Object.assign({},Fn().table.importConfig,e.importConfig)),Eo=j(()=>Object.assign({},Fn().table.printConfig,e.printConfig)),Nn=j(()=>Object.assign({},Fn().table.expandConfig,e.expandConfig)),Mn=j(()=>Object.assign({},Fn().table.treeConfig,e.treeConfig)),ll=j(()=>Object.assign({},Fn().table.emptyRender,e.emptyRender)),vl=j(()=>Object.assign({},Fn().table.loadingConfig,e.loadingConfig)),sl=j(()=>e.border?Math.max(2,Math.ceil(g.scrollbarWidth/g.tableColumn.length)):1),bl=j(()=>Object.assign({},Fn().table.customConfig,e.customConfig)),ea=j(()=>{const{tableData:s,rowExpandedFlag:c,expandColumn:f,rowGroupExpandedFlag:b,treeExpandedFlag:E}=g,{visibleDataRowIdData:I,rowExpandedMaps:H}=i,G=[];return s.length&&f&&c&&b&&E&&n.each(H,(ee,we)=>{I[we]&&G.push(ee)}),G}),Rl=j(()=>{const{visibleColumn:s}=i,{tableColumn:c}=g;return c.length||s.length?s.filter(f=>f.width==="auto"||f.minWidth==="auto"):[]}),Ma=j(()=>{const{tableColumn:s}=g,{collectColumn:c}=i;let f=0;return s.length&&c.length&&c.forEach(b=>{b.renderFixed&&f++}),f}),Ts=j(()=>{const s=Ma.value,c=ie.value,{maxFixedSize:f}=c;return f?s>=f:!1}),Ms=j(()=>{const{border:s}=e;return s===!0?"full":s||"default"}),Oa=j(()=>{const{treeConfig:s}=e,{tableData:c}=g,{tableFullData:f}=i,b=it.value,{strict:E,checkMethod:I}=b;return E?c.length||f.length?I?f.every(H=>!I({$table:y,row:H})):!1:!0:!1}),is=j(()=>{const{overflowX:s,scrollXLoad:c,overflowY:f,scrollYLoad:b}=g;return{x:s&&c,y:f&&b}}),cs=j(()=>Pe.value.groupFields),Ia=j(()=>{const{rowGroupList:s}=g,{fullColumnFieldData:c}=i,f=[];return s.forEach(b=>{const E=c[b.field];E&&f.push(E.column)}),f}),Zo={refElem:R,refTooltip:$,refValidTooltip:M,refTableFilter:_,refTableCustom:z,refTableMenu:T,refTableHeader:J,refTableBody:W,refTableFooter:Q,refTableLeftHeader:ge,refTableLeftBody:fe,refTableLeftFooter:ve,refTableRightHeader:oe,refTableRightBody:Ee,refTableRightFooter:re,refLeftContainer:ze,refRightContainer:ce,refColResizeBar:ue,refRowResizeBar:me,refScrollXVirtualElem:Re,refScrollYVirtualElem:Ie,refScrollXHandleElem:ne,refScrollYHandleElem:B,refScrollXSpaceElem:Ye,refScrollYSpaceElem:Qe},br={computeSize:w,computeTableId:et,computeValidOpts:Ot,computeRowField:ht,computeVirtualXOpts:Rt,computeVirtualYOpts:Vt,computeScrollbarOpts:he,computeScrollbarXOpts:$e,computeScrollbarYOpts:nt,computeScrollbarXToTop:ft,computeScrollbarYToLeft:vt,computeColumnOpts:ie,computeCurrentColumnOpts:Me,computeScrollXThreshold:wt,computeScrollYThreshold:v,computeRowHeightMaps:L,computeDefaultRowHeight:N,computeCellOpts:He,computeHeaderCellOpts:Ve,computeFooterCellOpts:ye,computeRowOpts:P,computeAggregateOpts:q,computeRowGroupOpts:Pe,computeCurrentRowOpts:qe,computeRowDragOpts:Ze,computeColumnDragOpts:K,computeResizeOpts:xe,computeResizableOpts:Ne,computeSeqOpts:Ge,computeRadioOpts:ot,computeCheckboxOpts:it,computeTooltipOpts:Tt,computeHeaderTooltipOpts:zt,computeFooterTooltipOpts:_t,computeEditOpts:Ce,computeSortOpts:at,computeFilterOpts:gt,computeFloatingFilterOpts:St,computeMouseOpts:bt,computeAreaOpts:yt,computeKeyboardOpts:xt,computeClipOpts:Ct,computeFnrOpts:on,computeHeaderMenu:ro,computeBodyMenu:po,computeFooterMenu:wo,computeIsMenu:Jn,computeIsContentMenu:_n,computeMenuList:io,computeMenuOpts:tn,computeExportOpts:Ro,computeImportOpts:Vo,computePrintOpts:Eo,computeExpandOpts:Nn,computeTreeOpts:Mn,computeEmptyOpts:ll,computeLoadingOpts:vl,computeCellOffsetWidth:sl,computeCustomOpts:bl,computeLeftFixedWidth:Qt,computeRightFixedWidth:vn,computeBodyMergeCoverFixed:Xn,computeFixedColumnSize:Ma,computeIsMaxFixedColumn:Ts,computeIsAllCheckboxDisabled:Oa,computeIsHeaderRenderOptimize:Zn,computeIsBodyRenderOptimize:Co,computeIsFooterRenderOptimize:Wn,computeVirtualScrollBars:is,computeRowGroupFields:cs,computeRowGroupColumns:Ia,computeFNROpts:$t,computeSXOpts:ut,computeSYOpts:mt},y={xID:u,props:e,context:t,reactData:g,internalData:i,getRefMaps:()=>Zo,getComputeMaps:()=>br,xeGrid:C,xeGantt:h,xegrid:C},Os=(s,c,f)=>{const b=n.get(s,f),E=n.get(c,f);return ns(b)&&ns(E)?!0:n.isString(b)||n.isNumber(b)?""+b==""+E:n.isEqual(b,E)},Nl=()=>{const s=ht.value;i.currKeyField=s,i.isCurrDeepKey=py(s)},to=(s,c)=>n.isBoolean(s)?s:c,pl=s=>{const c=at.value,{orders:f=[]}=c,b=s.order||null,E=f.indexOf(b)+1;return f[E<f.length?E:0]},Ra=s=>{const c=Fn().version,f=n.toStringJSON(localStorage.getItem(Lp)||""),b=f&&f._v===c?f:{_v:c};return(s?b[s]:b)||{}},ka=(s,c)=>{const f=Fn().version,b=Ra();b[s]=c||void 0,b._v=f,localStorage.setItem(Lp,n.toJSONString(b))},Is=s=>{const{fullAllDataRowIdData:c}=i,f={};return n.each(s,(b,E)=>{c[E]&&(f[E]=b)}),f},Rs=s=>{const{fullDataRowIdData:c}=i,f=[];return n.each(s,(b,E)=>{c[E]&&y.findRowIndexOf(f,c[E].row)===-1&&f.push(c[E].row)}),f},xl=()=>{const{isScrollXBig:s,scrollXWidth:c}=g,{elemStore:f,visibleColumn:b,fullColumnIdData:E}=i,I=Qt.value,H=vn.value,G=hn(f["main-body-scroll"]);if(G){const ee=G.clientWidth;let we=G.scrollLeft;s&&(we=Math.ceil((c-ee)*Math.min(1,we/(Ya-ee))));const De=we+I,Le=we+ee-H;let Be=0,Ue=b.length;for(;Be<Ue;){const pt=Math.floor((Be+Ue)/2),dt=b[pt].id;(E[dt]||{}).oLeft<=De?Be=pt+1:Ue=pt}let tt=0;const je=Be===b.length?Be:Math.max(0,Be<b.length?Be-2:0);for(let pt=je,rt=b.length;pt<rt;pt++){const Je=b[pt].id,Xe=E[Je]||{};if(tt++,Xe.oLeft>Le||tt>=60)break}return{toVisibleIndex:Math.max(0,je),visibleSize:Math.max(1,tt)}}return{toVisibleIndex:0,visibleSize:6}},us=(s,c)=>{const{rowHeightStore:f}=g;c&&c.clientHeight&&(f[s]=c.clientHeight)},ta=()=>{const{isAllOverflow:s}=g,c=J.value,f=W.value,b=f?f.$el:null,E=N.value;let I=0;if(s){if(b){const H=c?c.$el:null;let G;G=b.querySelector("tr"),!G&&H&&(G=H.querySelector("tr")),G&&(I=G.clientHeight)}I||(I=E)}else I=E;return Math.max(18,I)},kl=()=>{const{isAllOverflow:s,expandColumn:c,isScrollYBig:f,scrollYHeight:b}=g,{elemStore:E,isResizeCellHeight:I,afterFullData:H,fullAllDataRowIdData:G}=i,ee=P.value,we=He.value,De=N.value,Le=hn(E["main-body-scroll"]);if(Le){const Be=Le.clientHeight;let Ue=Le.scrollTop;f&&(Ue=Math.ceil((b-Be)*Math.min(1,Ue/(pa-Be))));const tt=Ue,je=Ue+Be;let pt=-1,rt=0;if(!(I||we.height||ee.height)&&!c&&s)pt=Math.floor(tt/De)-1,rt=Math.ceil(Be/De)+1;else{const{handleGetRowId:Je}=Do(y);let Xe=0,kt=H.length;for(;Xe<kt;){const Pt=Math.floor((Xe+kt)/2),Ft=H[Pt],qt=Je(Ft);(G[qt]||{}).oTop<=tt?Xe=Pt+1:kt=Pt}pt=Xe===H.length?Xe:Math.max(0,Xe<H.length?Xe-2:0);for(let Pt=pt,Ft=H.length;Pt<Ft;Pt++){const qt=H[Pt],Ht=Je(qt),Bt=G[Ht]||{};if(rt++,Bt.oTop>je||rt>=100)break}}return{toVisibleIndex:Math.max(0,pt),visibleSize:Math.max(6,rt)}}return{toVisibleIndex:0,visibleSize:6}},Pa=(s,c,f)=>{for(let b=0,E=s.length;b<E;b++){const I=s[b],{startIndex:H,endIndex:G}=c,ee=I[f],we=I[f+"span"],De=ee+we;ee<H&&H<De&&(c.startIndex=ee),ee<G&&G<De&&(c.endIndex=De),(c.startIndex!==H||c.endIndex!==G)&&(b=-1)}};function yl(s){const c={};if(s&&s.length)for(let f=0;f<s.length;f++){const{row:b,col:E,rowspan:I,colspan:H}=s[f];for(let G=0;G<I;G++)for(let ee=0;ee<H;ee++)c[`${b+G}:${E+ee}`]=!G&&!ee?{rowspan:I,colspan:H}:{rowspan:0,colspan:0}}return c}const ko=s=>{i.mergeBodyList=[],i.mergeBodyMaps={},i.mergeBodyCellMaps={},y.setMergeCells(s)},ds=s=>{const{fullAllDataRowIdData:c,fullColumnIdData:f,visibleColumn:b,afterFullData:E,mergeBodyList:I,mergeBodyMaps:H}=i;if(s){const{handleGetRowId:G}=Do(y);n.isArray(s)||(s=[s]),s.forEach(ee=>{let{row:we,col:De,rowspan:Le,colspan:Be}=ee,Ue=-1,tt=-1;if(n.isNumber(we))Ue=we;else{const je=we?G(we):null,pt=je?c[je]:null;pt&&(Ue=pt._index)}if(n.isNumber(De))tt=De;else{const je=De?De.id:null,pt=je?f[je]:null;pt&&(tt=pt._index)}if(Ue>-1&&tt>-1&&(Le||Be)&&(Le=n.toNumber(Le)||1,Be=n.toNumber(Be)||1,Le>1||Be>1)){const je=E[Ue],pt=b[tt];let rt=H[`${Ue}:${tt}`];rt?(rt.rowspan=Le,rt.colspan=Be,rt._rowspan=Le,rt._colspan=Be):(rt={row:Ue,col:tt,rowspan:Le,colspan:Be,_row:je,_col:pt,_rowspan:Le,_colspan:Be},H[`${Ue}:${tt}`]=rt,I.push(rt))}})}},Fa=s=>{const{mergeBodyList:c,fullColumnIdData:f,fullAllDataRowIdData:b,mergeBodyMaps:E}=i,I=[];if(s){const{handleGetRowId:H}=Do(y);n.isArray(s)||(s=[s]),s.forEach(G=>{const{row:ee,col:we}=G;let De=-1,Le=-1;if(n.isNumber(ee))De=ee;else{const Ue=ee?H(ee):null,tt=Ue?b[Ue]:null;tt&&(De=tt._index)}if(n.isNumber(we))Le=we;else{const Ue=we?we.id:null,tt=Ue?f[Ue]:null;tt&&(Le=tt._index)}const Be=n.findIndexOf(c,Ue=>Ue.row===De&&Ue.col===Le);if(Be>-1){const Ue=c.splice(Be,1);Ue[0]&&(I.push(Ue[0]),E[`${De}:${Le}`]&&delete E[`${De}:${Le}`])}})}return I},Gl=s=>{i.mergeHeaderList=[],i.mergeHeaderMaps={},i.mergeHeaderCellMaps={},y.setMergeHeaderCells(s)},ks=s=>{const{showCustomHeader:c}=e,{footerTableData:f}=g,{mergeHeaderList:b,mergeHeaderMaps:E,fullColumnIdData:I}=i;if(s){const{visibleColumn:H}=i;n.isArray(s)||(s=[s]),s.forEach(G=>{let{row:ee,col:we,rowspan:De,colspan:Le}=G;const Be=n.isNumber(ee)?ee:-1;let Ue=-1;if(n.isNumber(we))Ue=we;else{const tt=we?we.id:null,je=tt?I[tt]:null;je&&(Ue=je._index)}if(Be>-1&&Ue>-1&&(De||Le)){if(De=n.toNumber(De)||1,Le=n.toNumber(Le)||1,!c&&De>1){en("vxe.error.notSupportProp",["[table] show-custom-header=false",`rowspan=${De}`,"rowspan=1"]);return}if(De>1||Le>1){const tt=f[Be],je=H[Ue];let pt=E[`${Be}:${Ue}`];pt?(pt.rowspan=De,pt.colspan=Le,pt._rowspan=De,pt._colspan=Le):(pt={row:Be,col:Ue,rowspan:De,colspan:Le,_row:tt,_col:je,_rowspan:De,_colspan:Le},E[`${Be}:${Ue}`]=pt,b.push(pt))}}})}},Ps=s=>{const{mergeHeaderList:c,fullColumnIdData:f,mergeHeaderMaps:b}=i,E=[];return s&&(n.isArray(s)||(s=[s]),s.forEach(I=>{const{row:H,col:G}=I,ee=n.isNumber(H)?H:-1;let we=-1;if(n.isNumber(G))we=G;else{const Le=G?G.id:null,Be=Le?f[Le]:null;Be&&(we=Be._index)}const De=n.findIndexOf(c,Le=>Le.row===ee&&Le.col===we);if(De>-1){const Be=c.splice(De,1)[0];Be&&(E.push(Be),b[`${ee}:${we}`]&&delete b[`${ee}:${we}`])}})),E},ri=s=>{i.mergeFooterList=[],i.mergeFooterMaps={},i.mergeFooterCellMaps={},y.setMergeFooterCells(s)},Fs=s=>{const{footerTableData:c}=g,{mergeFooterList:f,mergeFooterMaps:b,fullColumnIdData:E}=i;if(s){const{visibleColumn:I}=i;n.isArray(s)||(s=[s]),s.forEach(H=>{let{row:G,col:ee,rowspan:we,colspan:De}=H;const Le=n.isNumber(G)?G:-1;let Be=-1;if(n.isNumber(ee))Be=ee;else{const Ue=ee?ee.id:null,tt=Ue?E[Ue]:null;tt&&(Be=tt._index)}if(Le>-1&&Be>-1&&(we||De)&&(we=n.toNumber(we)||1,De=n.toNumber(De)||1,we>1||De>1)){const Ue=c[Le],tt=I[Be];let je=b[`${Le}:${Be}`];je?(je.rowspan=we,je.colspan=De,je._rowspan=we,je._colspan=De):(je={row:Le,col:Be,rowspan:we,colspan:De,_row:Ue,_col:tt,_rowspan:we,_colspan:De},b[`${Le}:${Be}`]=je,f.push(je))}})}},le=s=>{const{mergeFooterList:c,fullColumnIdData:f,mergeFooterMaps:b}=i,E=[];return s&&(n.isArray(s)||(s=[s]),s.forEach(I=>{const{row:H,col:G}=I,ee=n.isNumber(H)?H:-1;let we=-1;if(n.isNumber(G))we=G;else{const Le=G?G.id:null,Be=Le?f[Le]:null;Be&&(we=Be._index)}const De=n.findIndexOf(c,Le=>Le.row===ee&&Le.col===we);if(De>-1){const Be=c.splice(De,1)[0];Be&&(E.push(Be),b[`${ee}:${we}`]&&delete b[`${ee}:${we}`])}})),E},ct=(s,c,f)=>{const{tableFullColumn:b}=i,E=at.value,{multiple:I,remote:H,orders:G}=E;if(n.isArray(c)||(c=[c]),c&&c.length){const ee={};I||(c=[c[0]],b.forEach(Le=>{Le.order&&(ee[Le.id]=Le)}));const we={};let De=null;return c.forEach((Le,Be)=>{let{field:Ue,order:tt}=Le,je=Ue;n.isString(Ue)&&(je=y.getColumnByField(Ue)),De||(De=je),je&&je.sortable&&(G&&G.indexOf(tt)===-1&&(tt=pl(je)),je.order!==tt&&(je.order=tt),je.sortTime=Date.now()+Be,we[je.id]=je)}),I||n.each(ee,(Le,Be)=>{we[Be]||(Le.order=null)}),f&&(H||y.handleTableData(!0)),s&&y.handleColumnSortEvent(s,De),ke().then(()=>(el(),y.updateCellAreas(),Mo()))}return ke()},Et=()=>{const{tableFullColumn:s}=i;s.forEach(c=>{c.order=null})},Nt=s=>{const{editConfig:c,editRules:f}=e,{parentHeight:b}=g;let E=e[s];if(s==="minHeight"){const H=Fn().table.minHeight;n.eqNull(E)&&(ns(H)?f&&En(c)&&(E=144):E=H)}let I=0;if(E)if(E==="100%"||E==="auto")I=b;else{const H=y.getExcludeHeight();Xa(E)?I=Math.floor((n.toInteger(E)||1)/100*b):I=n.toNumber(E),I=Math.max(40,I-H)}return I},Ut=s=>{const{aggregateConfig:c,rowGroupConfig:f}=e,{collectColumn:b}=i,E=bl.value,{storage:I,storeOptions:H}=E,G=I===!0,ee=Object.assign({},G?{}:I||{},H),we=to(ee.resizable,G),De=to(ee.visible,G),Le=to(ee.fixed,G),Be=to(ee.sort,G),Ue=to(ee.aggGroup,G),tt=to(ee.aggFunc,G);let{resizableData:je,sortData:pt,visibleData:rt,fixedData:dt,aggGroupData:Je,aggFuncData:Xe}=s;if(we&&je||Be&&pt||De&&rt||Le&&dt||Ue&&Je||tt&&Xe){const kt={};if(Be&&pt){if(!n.isArray(pt)){const Bt=[];n.each(pt,(Xt,nn)=>{Bt.push({key:nn,index:Xt})}),pt=n.orderBy(Bt,{field:"index",order:"asc"}).map(Xt=>({k:Xt.key}))}let Ht=1;n.eachTree(pt,(Bt,Xt,nn,fn,an)=>{kt[Bt.k]={key:Bt.k,sNum:Ht++,pKey:an?an.k:null}},{children:"c"})}const Pt={},Ft=[],qt=[];if(n.eachTree(b,(Ht,Bt,Xt,nn,fn)=>{const an=Ht.getKey();fn||Le&&dt&&dt[an]!==void 0&&(Ht.fixed=dt[an]),we&&je&&n.isNumber(je[an])&&(Ht.resizeWidth=je[an]),De&&rt&&n.isBoolean(rt[an])&&(Ht.visible=rt[an]),tt&&Xe&&(c||f)&&Xe[an]&&(Ht.aggFunc=Xe[an]),Ue&&Je&&Je[an]&&qt.push({field:Ht.field}),Pt[an]=Ht,Ft.push(Ht)}),(c||f)&&qt.length){const Ht=hu(i.tableFullData,qt);i.tableFullTreeData=[],i.tableFullGroupData=Ht.treeData,g.isRowGroupStatus=!0,g.rowGroupList=qt,y.cacheRowMap(!1)}if(Be&&pt){Ft.forEach(Bt=>{const Xt=Bt.getKey(),nn=kt[Xt];if(nn){const fn=nn.pKey?Pt[nn.pKey]:null;Bt.parentId=fn?fn.id:null,Bt.renderSortNumber=nn.sNum}});const Ht=n.toArrayTree(n.orderBy(Ft,"renderSortNumber"),{key:"id",parentKey:"parentId",children:"children"});i.collectColumn=Ht,i.tableFullColumn=oi(Ht)}g.isCustomStatus=!0}else g.isCustomStatus=!1},Jt=()=>{const{customConfig:s}=e,c=et.value,f=bl.value,{storage:b,restoreStore:E,storeOptions:I}=f,H=b===!0,G=Object.assign({},H?{}:b||{},I),ee=to(G.resizable,H),we=to(G.visible,H),De=to(G.fixed,H),Le=to(G.sort,H),Be=to(G.aggGroup,H),Ue=to(G.aggFunc,H);if(b&&(s?En(f):f.enabled)&&(ee||we||De||Le||Be||Ue)){if(!c){en("vxe.error.reqProp",["id"]);return}const tt=Ra(c);return E?Promise.resolve(E({$table:y,id:c,type:"restore",storeData:tt})).then(je=>{if(je)return Ut(je)}).catch(je=>je):Ut(tt)}},Gt=()=>{const{treeConfig:s,showOverflow:c}=e,{tableFullColumn:f,collectColumn:b}=i,E=i.fullColumnIdData={},I=i.fullColumnFieldData={},H=bt.value,G=Nn.value,ee=ie.value,we=K.value,De=Vt.value,{isCrossDrag:Le,isSelfToChildDrag:Be}=we,Ue=bl.value,tt=Mn.value,{storage:je}=Ue,pt=P.value,rt=b.some(tr);let dt=!!c,Je,Xe,kt,Pt,Ft,qt;const Ht=(Bt,Xt,nn,fn,an)=>{const{id:xn,field:Tn,fixed:yn,type:gn,treeNode:Cn,rowGroupNode:Vn}=Bt,un={$index:-1,_index:-1,column:Bt,colid:xn,index:Xt,items:nn,parent:an||null,width:0,oLeft:0};Tn?(I[Tn]&&en("vxe.error.colRepet",["field",Tn]),I[Tn]=un):(je&&!gn&&en("vxe.error.reqSupportProp",["storage",`[${gn?`type=${gn}`:`title=${Bt.getTitle()}`}]field=?`]),ee.drag&&(Le||Be)&&en("vxe.error.reqSupportProp",["column-drag-config.isCrossDrag | column-drag-config.isSelfToChildDrag",`${Bt.getTitle()||gn||""} -> field=?`])),!qt&&gn==="html"&&(qt=Bt),Cn&&(kt&&cn("vxe.error.colRepet",["tree-node",Cn]),kt||(kt=Bt)),Vn&&(kt&&cn("vxe.error.colRepet",["row-group-node",Vn]),Je||(Je=Bt)),gn==="expand"&&(Xe&&cn("vxe.error.colRepet",["type",gn]),Xe||(Xe=Bt)),gn==="checkbox"?(Pt&&cn("vxe.error.colRepet",["type",gn]),Pt||(Pt=Bt)):gn==="radio"&&(Ft&&cn("vxe.error.colRepet",["type",gn]),Ft||(Ft=Bt)),dt&&Bt.showOverflow===!1&&(dt=!1),E[xn]&&en("vxe.error.colRepet",["colId",xn]),E[xn]=un};rt?n.eachTree(b,(Bt,Xt,nn,fn,an,xn)=>{Bt.level=xn.length,Ht(Bt,Xt,nn,fn,an)}):f.forEach(Ht),Xe&&G.mode!=="fixed"&&De.enabled&&cn("vxe.error.notConflictProp",['column.type="expand',"virtual-y-config.enabled=false"]),Xe&&G.mode!=="fixed"&&H.area&&en("vxe.error.errConflicts",["mouse-config.area","column.type=expand"]),Xe&&G.mode!=="inside"&&s&&!tt.transform&&en("vxe.error.notConflictProp",["tree-config.transform=false","expand-config.mode=fixed"]),qt&&(ee.useKey||en("vxe.error.notSupportProp",["column.type=html","column-config.useKey=false","column-config.useKey=true"]),pt.useKey||en("vxe.error.notSupportProp",["column.type=html","row-config.useKey=false","row-config.useKey=true"])),g.isGroup=rt,g.rowGroupColumn=Je,g.treeNodeColumn=kt,g.expandColumn=Xe,g.checkboxColumn=Pt,g.radioColumn=Ft,g.isAllOverflow=dt},Kt=()=>{i.customHeight=Nt("height"),i.customMinHeight=Nt("minHeight"),i.customMaxHeight=Nt("maxHeight"),g.scrollYLoad&&!(i.customHeight||i.customMinHeight)&&(i.customHeight=300)},It=(s,c)=>{const f=ie.value,{autoOptions:b}=f,{isCalcHeader:E,isCalcBody:I,isCalcFooter:H}=b||{},G=[];E&&G.push(`.vxe-header-cell--wrapper[colid="${s.id}"]`),I&&G.push(`.vxe-body-cell--wrapper[colid="${s.id}"]`),H&&G.push(`.vxe-footer-cell--wrapper[colid="${s.id}"]`);const ee=G.length?c.querySelectorAll(G.join(",")):[];let we=0;const De=ee[0];if(De&&De.parentElement){const Be=getComputedStyle(De.parentElement);we=Math.ceil(n.toNumber(Be.paddingLeft)+n.toNumber(Be.paddingRight))}let Le=s.renderAutoWidth-we;for(let Be=0;Be<ee.length;Be++){const Ue=ee[Be];Le=Math.max(Le,Ue?Math.ceil(Ue.scrollWidth)+4:0)}return Le+we},sn=()=>{const s=Rl.value,{fullColumnIdData:c}=i,f=R.value;f&&(f.setAttribute("data-calc-col","Y"),s.forEach(b=>{const E=b.id,I=c[E],H=It(b,f);I&&(I.width=Math.max(H,I.width)),b.renderAutoWidth=H}),y.analyColumnWidth(),f.removeAttribute("data-calc-col"))},On=()=>{const{elemStore:s}=i,c=hn(s["main-body-wrapper"]);if(!c||!B.value||!ne.value)return;let E=0;const I=40,H=c.clientWidth;let G=H,ee=G/100;const{fit:we}=e,{columnStore:De}=g,{resizeList:Le,pxMinList:Be,autoMinList:Ue,pxList:tt,scaleList:je,scaleMinList:pt,autoList:rt,remainList:dt}=De;if(Be.forEach(Je=>{const Xe=n.toInteger(Je.minWidth);E+=Xe,Je.renderWidth=Xe}),Ue.forEach(Je=>{const Xe=Math.max(60,n.toInteger(Je.renderAutoWidth));E+=Xe,Je.renderWidth=Xe}),pt.forEach(Je=>{const Xe=Math.floor(n.toInteger(Je.minWidth)*ee);E+=Xe,Je.renderWidth=Xe}),je.forEach(Je=>{const Xe=Math.floor(n.toInteger(Je.width)*ee);E+=Xe,Je.renderWidth=Xe}),tt.forEach(Je=>{const Xe=n.toInteger(Je.width);E+=Xe,Je.renderWidth=Xe}),rt.forEach(Je=>{const Xe=Math.max(60,n.toInteger(Je.renderAutoWidth));E+=Xe,Je.renderWidth=Xe}),Le.forEach(Je=>{const Xe=n.toInteger(Je.resizeWidth);E+=Xe,Je.renderWidth=Xe}),G-=E,ee=G>0?Math.floor(G/(pt.length+Be.length+Ue.length+dt.length)):0,we?G>0&&pt.concat(Be).concat(Ue).forEach(Je=>{E+=ee,Je.renderWidth+=ee}):ee=I,dt.forEach(Je=>{const Xe=Math.max(ee,I);Je.renderWidth=Xe,E+=Xe}),we){const Je=je.concat(pt).concat(Be).concat(Ue).concat(dt);let Xe=Je.length-1;if(Xe>0){let kt=H-E;if(kt>0){for(;kt>0&&Xe>=0;)kt--,Je[Xe--].renderWidth++;E=H}}}g.scrollXWidth=E,g.resizeWidthFlag++,hi(),Kt()},Dn=(s,c)=>{const f=c.querySelectorAll(`.vxe-cell--wrapper[rowid="${s.rowid}"]`);let b=s.height,E=null,I=0;for(let H=0;H<f.length;H++){const G=f[H],ee=G.parentElement;E||(E=getComputedStyle(ee),I=E?Math.ceil(n.toNumber(E.paddingTop)+n.toNumber(E.paddingBottom)):0);const we=G?G.clientHeight:0;b=Math.max(b,Math.ceil(we+I))}return b},so=()=>{const{treeConfig:s}=e,{tableData:c,isAllOverflow:f,scrollYLoad:b,scrollXLoad:E}=g,{fullAllDataRowIdData:I}=i,H=Mn.value,G=N.value,ee=R.value;if(!f&&(b||E||s&&H.showLine)&&ee){const{handleGetRowId:we}=Do(y);ee.setAttribute("data-calc-row","Y"),c.forEach(De=>{const Le=we(De),Be=I[Le];if(Be){const Ue=Dn(Be,ee);Be.height=Math.max(G,E?Math.max(Be.height,Ue):Ue)}ee.removeAttribute("data-calc-row")}),g.calcCellHeightFlag++}},Ko=s=>{const{sortBy:c,sortType:f}=s;return b=>{let E;return c?E=n.isFunction(c)?c({row:b,column:s}):n.get(b,c):E=x.getCellLabel(b,s),!f||f==="auto"?isNaN(E)?E:n.toNumber(E):f==="number"?n.toNumber(E):f==="string"?n.toValueString(E):E}},Jo=()=>{const{treeConfig:s}=e,{afterFullData:c,fullDataRowIdData:f,fullAllDataRowIdData:b}=i,{handleGetRowId:E}=Do(y),I={};c.forEach((H,G)=>{const ee=E(H),we=b[ee],De=G+1;if(we)s||(we.seq=De),we._index=G;else{const Le={row:H,rowid:ee,seq:De,index:-1,$index:-1,_index:G,treeIndex:-1,_tIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};b[ee]=Le,f[ee]=Le}I[ee]=H}),i.afterFullRowMaps=I},No=()=>{const{treeConfig:s}=e,{fullDataRowIdData:c,fullAllDataRowIdData:f,afterFullData:b,afterTreeFullData:E}=i,I=Mn.value,{transform:H}=I,G=I.children||I.childrenField,ee={};if(s){let we=0;const{handleGetRowId:De}=Do(y);n.eachTree(E,(Le,Be,Ue,tt)=>{const je=De(Le),pt=f[je],rt=tt.map((dt,Je)=>Je%2===0?Number(dt)+1:".").join("");if(pt)pt.seq=rt,pt.treeIndex=Be,pt._tIndex=we;else{const dt={row:Le,rowid:je,seq:rt,index:-1,$index:-1,_index:-1,treeIndex:-1,_tIndex:we,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};f[je]=dt,c[je]=dt}we++,ee[je]=Le},{children:H?I.mapChildrenField:G}),H&&b.forEach((Le,Be)=>{const Ue=De(Le),tt=f[Ue],je=Be+1;tt&&(s||(tt.seq=je),tt._index=Be)}),i.afterFullRowMaps=ee}else Jo()},vo=()=>{const{treeConfig:s}=e,{isRowGroupStatus:c}=g,{fullAllDataRowIdData:f,treeExpandedMaps:b,rowGroupExpandedMaps:E}=i,I=q.value,H=Mn.value,{handleGetRowId:G}=Do(y),ee=[],we={};if(s&&H.transform){const De=H.children||H.childrenField;return n.eachTree(i.afterTreeFullData,(Le,Be,Ue,tt,je)=>{const pt=G(Le),rt=G(je);if(!je||we[rt]&&b[rt]){const dt=f[pt];dt&&(dt._index=ee.length),we[pt]=1,ee.push(Le)}},{children:De}),i.afterFullData=ee,Cr(ee),ee}else if(c){const{childrenField:De}=I;return n.eachTree(i.afterGroupFullData,(Le,Be,Ue,tt,je)=>{const pt=G(Le),rt=G(je);if(!je||we[rt]&&E[rt]){const dt=f[pt];dt&&(dt._index=ee.length),we[pt]=1,ee.push(Le)}},{children:De}),i.afterFullData=ee,Cr(ee),ee}return i.afterFullData},Cl=()=>{const{treeConfig:s}=e,{isRowGroupStatus:c}=g,{tableFullColumn:f,tableFullData:b,tableFullTreeData:E,tableFullGroupData:I}=i,H=gt.value,G=at.value,ee=q.value,we=Mn.value,De=we.children||we.childrenField,{transform:Le,rowField:Be,parentField:Ue,mapChildrenField:tt}=we,{isEvery:je,remote:pt,filterMethod:rt}=H,{remote:dt,sortMethod:Je,multiple:Xe,chronological:kt}=G;let Pt=[],Ft=[];if(!pt||!dt){const qt=[];let Ht=[];if(f.forEach(Bt=>{const{field:Xt,sortable:nn,order:fn,filters:an}=Bt;if(!pt&&an&&an.length){const xn=[],Tn=[];an.forEach(yn=>{yn.checked&&(Tn.push(yn),xn.push(yn.value))}),Tn.length&&qt.push({column:Bt,valueList:xn,itemList:Tn})}!dt&&nn&&fn&&Ht.push({column:Bt,field:Xt,property:Xt,order:fn,sortTime:Bt.sortTime})}),Xe&&kt&&Ht.length>1&&(Ht=n.orderBy(Ht,"sortTime")),!pt&&qt.length){const Bt=Xt=>qt.every(({column:nn,valueList:fn,itemList:an})=>{const{filterMethod:xn,filterRender:Tn}=nn,yn=En(Tn)?ld.get(Tn.name):null,gn=yn?yn.tableFilterMethod||yn.filterMethod:null,Cn=yn?yn.tableFilterDefaultMethod||yn.defaultTableFilterMethod||yn.defaultFilterMethod:null,Vn=$o(Xt,nn);return xn?an.some(un=>xn({value:un.value,option:un,cellValue:Vn,row:Xt,column:nn,$table:y})):gn?an.some(un=>gn({value:un.value,option:un,cellValue:Vn,row:Xt,column:nn,$table:y})):rt?rt({$table:y,options:an,values:fn,cellValue:Vn,row:Xt,column:nn}):Cn?an.some(un=>Cn({value:un.value,option:un,cellValue:Vn,row:Xt,column:nn,$table:y})):fn.indexOf(n.get(Xt,nn.field))>-1});c?(Ft=n.searchTree(I,Bt,{original:!0,isEvery:!0,children:ee.mapChildrenField,mapChildren:ee.childrenField}),Pt=Ft):s&&Le?(Ft=n.searchTree(E,Bt,{original:!0,isEvery:je,children:tt,mapChildren:De}),Pt=Ft):(Pt=s?E.filter(Bt):b.filter(Bt),Ft=Pt)}else c?(Ft=n.searchTree(I,()=>!0,{original:!0,isEvery:!0,children:ee.mapChildrenField,mapChildren:ee.childrenField}),Pt=Ft):s&&Le?(Ft=n.searchTree(E,()=>!0,{original:!0,isEvery:je,children:tt,mapChildren:De}),Pt=Ft):(Pt=s?E.slice(0):b.slice(0),Ft=Pt);if(!dt&&Ht.length)if(c){if(Je){const Bt=Je({data:Ft,sortList:Ht,$table:y});Ft=n.isArray(Bt)?Bt:Ft}else{const Bt=n.toTreeArray(Ft,{key:ee.rowField,parentKey:ee.parentField,children:ee.mapChildrenField});Ft=n.toArrayTree(n.orderBy(Bt,Ht.map(({column:Xt,order:nn})=>[Ko(Xt),nn])),{key:ee.rowField,parentKey:ee.parentField,children:ee.childrenField,mapChildren:ee.mapChildrenField})}Pt=Ft}else if(s&&Le){if(Je){const Bt=Je({data:Ft,sortList:Ht,$table:y});Ft=n.isArray(Bt)?Bt:Ft}else{const Bt=n.toTreeArray(Ft,{children:tt});Ft=n.toArrayTree(n.orderBy(Bt,Ht.map(({column:Xt,order:nn})=>[Ko(Xt),nn])),{key:Be,parentKey:Ue,children:De,mapChildren:tt})}Pt=Ft}else{if(Je){const Bt=Je({data:Pt,sortList:Ht,$table:y});Pt=n.isArray(Bt)?Bt:Pt}else Pt=n.orderBy(Pt,Ht.map(({column:Bt,order:Xt})=>[Ko(Bt),Xt]));Ft=Pt}}else c?(Ft=n.searchTree(I,()=>!0,{original:!0,isEvery:!0,children:ee.mapChildrenField,mapChildren:ee.childrenField}),Pt=Ft):s&&Le?(Ft=n.searchTree(E,()=>!0,{original:!0,isEvery:je,children:tt,mapChildren:De}),Pt=Ft):(Pt=s?E.slice(0):b.slice(0),Ft=Pt);i.afterFullData=Pt,i.afterTreeFullData=Ft,i.afterGroupFullData=Ft,No()},Mo=()=>{const{mouseConfig:s}=e,{isGroup:c,currentRow:f,tableColumn:b,overflowX:E,scrollbarWidth:I,overflowY:H,scrollbarHeight:G,scrollXWidth:ee,columnStore:we,editStore:De,isColLoading:Le}=g,{visibleColumn:Be,tableHeight:Ue,elemStore:tt,customHeight:je,customMinHeight:pt,customMaxHeight:rt,tHeaderHeight:dt,tFooterHeight:Je}=i,Xe=i.xeGanttView,kt=R.value;if(!kt||i.tBodyHeight&&!kt.clientHeight)return;const Pt=["main","left","right"],{leftList:Ft,rightList:qt}=we;let Ht=H?I:0,Bt=E?G:0;const Xt=be.value,nn=Zn.value,fn=Co.value,an=Wn.value,xn=he.value,Tn=bt.value,yn=hn(tt["main-body-wrapper"]),gn=hn(tt["main-body-table"]);Xt&&(Xt.style.top=`${dt}px`,Xt.style.height=yn?`${yn.offsetHeight-Bt}px`:"");const Cn=xn.x||{},Vn=xn.y||{},un=vt.value;let Un=E?"visible":"hidden";Cn.visible==="visible"||Xe?(Bt=G,Un="visible"):(Cn.visible==="hidden"||Cn.visible===!1)&&(Bt=0,Un="hidden");let qn=H?"visible":"hidden";Vn.visible==="hidden"||Vn.visible===!1||Xe&&!un?(Ht=0,qn="hidden"):Vn.visible==="visible"&&(Ht=I,qn="visible");let In=0,Kn=0;const Pn=pt-dt-Je-Bt;rt&&(Kn=Math.max(Pn,rt-dt-Je-Bt)),je&&(In=je-dt-Je-Bt),In||gn&&(In=gn.clientHeight),In&&(Kn&&(In=Math.min(Kn,In)),In=Math.max(Pn,In));const Rn=se.value,Bn=F.value,yo=Re.value;yo&&(yo.style.height=`${Bt}px`,yo.style.visibility=Un);const co=de.value;co&&(co.style.width=`${kt.clientWidth-Ht}px`,un?co.style.left=`${Ht}px`:co.style.left=""),Rn&&(un?(Rn.style.width=`${Ht}px`,Rn.style.display=H&&Ht?"block":""):Rn.style.display=""),Bn&&(un?Bn.style.display="":(Bn.style.width=`${Ht}px`,Bn.style.display=Un==="visible"?"block":""));const Gn=Ie.value;Gn&&(Gn.style.width=`${Ht}px`,Gn.style.height=`${In+dt+Je}px`,Gn.style.visibility=qn);const Oo=te.value;Oo&&(Oo.style.height=`${dt}px`,Oo.style.display=dt&&qn==="visible"?"block":"");const bo=Te.value;bo&&(bo.style.height=`${In}px`,bo.style.top=`${dt}px`);const Lo=Ke.value;Lo&&(Lo.style.height=`${Je}px`,Lo.style.top=`${dt+In}px`,Lo.style.display=Je&&qn==="visible"?"block":"");const Bo=_e.value;return Bo&&(Bo.style.height=`${In}px`,Bo.style.top=`${dt}px`),i.tBodyHeight=In,Pt.forEach((Ho,So)=>{const no=So>0?Ho:"",_o=["header","body","footer"],gs=no==="left";let Yl=[],ra;no&&(Yl=gs?Ft:qt,ra=gs?ze.value:ce.value),_o.forEach(ms=>{const Ao=hn(tt[`${Ho}-${ms}-wrapper`]),Ns=hn(tt[`${Ho}-${ms}-scroll`]),ia=hn(tt[`${Ho}-${ms}-table`]);if(ms==="header"){let Pl=b;const ql=nn;c?Pl=Be:((!ql||!Le&&(no||!E))&&(Pl=Be),no&&ql&&(Pl=Yl||[]));const tl=Pl.reduce((Aa,ca)=>Aa+ca.renderWidth,0);no&&(c?Ao&&(Ao.style.width=ee?`${ee}px`:""):ql?Ao&&(Ao.style.width=tl?`${tl}px`:""):Ao&&(Ao.style.width=ee?`${ee}px`:"")),Ns&&(Ns.style.height=`${dt}px`),ia&&(ia.style.width=tl?`${tl}px`:"")}else if(ms==="body"){Ns&&(Ns.style.maxHeight=rt?`${Kn}px`:"",Ns.style.height=je?`${In}px`:"",Ns.style.minHeight=`${Pn}px`),ra&&(Ao&&(Ao.style.top=`${dt}px`),ra.style.height=`${je>0?je:Ue+dt+Je+Bt}px`,ra.style.width=`${Yl.reduce((ca,Iu)=>ca+Iu.renderWidth,0)}px`);let Pl=b;const ql=fn;no&&(Pl=Be,ql&&(Pl=Yl||[]));const tl=Pl.reduce((ca,Iu)=>ca+Iu.renderWidth,0);no&&(ql?Ao&&(Ao.style.width=tl?`${tl}px`:""):Ao&&(Ao.style.width=ee?`${ee}px`:"")),ia&&(ia.style.width=tl?`${tl}px`:"",ia.style.paddingRight=Ht&&no&&(r.firefox||r.safari)?`${Ht}px`:"");const Aa=hn(tt[`${Ho}-${ms}-emptyBlock`]);Aa&&(Aa.style.width=tl?`${tl}px`:"")}else if(ms==="footer"){let Pl=b;const ql=an;(!ql||!Le&&(no||!E))&&(Pl=Be),no&&ql&&(Pl=Yl||[]);const tl=Pl.reduce((Aa,ca)=>Aa+ca.renderWidth,0);no&&(ql?Ao&&(Ao.style.width=tl?`${tl}px`:""):Ao&&(Ao.style.width=ee?`${ee}px`:"")),Ns&&(Ns.style.height=`${Je}px`,ra&&Ao&&(Ao.style.top=`${je>0?je-Je-Bt:Ue+dt}px`)),ia&&(ia.style.width=tl?`${tl}px`:"")}})}),f&&y.setCurrentRow(f),s&&Tn.selected&&De.selected.row&&De.selected.column&&y.addCellSelectedClass(),Xe&&Xe.handleUpdateStyle&&Xe.handleUpdateStyle(),ke()},fs=s=>y.triggerValidate?y.triggerValidate(s):ke(),xr=(s,c)=>{fs("blur").catch(f=>f).then(()=>{y.handleEdit(c,s).then(()=>fs("change")).catch(f=>f)})},fu=()=>{const{sortConfig:s}=e;if(s){const c=at.value;let{defaultSort:f}=c;f&&(n.isArray(f)||(f=[f]),f.length&&((s.multiple?f:f.slice(0,1)).forEach((b,E)=>{const{field:I,order:H}=b;if(I&&H){const G=y.getColumnByField(I);G&&G.sortable&&(G.order=H,G.sortTime=Date.now()+E)}}),c.remote||y.handleTableData(!0).then(Mo)))}},pu=()=>{const{checkboxConfig:s}=e;if(s){const{fullDataRowIdData:c}=i,f=it.value,{checkAll:b,checkRowKeys:E}=f;if(b)gu(!0,!0);else if(E){const I=[];E.forEach(H=>{c[H]&&I.push(c[H].row)}),oa(I,!0,!0)}}},ii=()=>{const{radioConfig:s}=e;if(s){const{fullDataRowIdData:c}=i,f=ot.value,{checkRowKey:b,reserve:E}=f;if(b&&(c[b]&&yr(c[b].row,!0),E)){const I=Ba(y);i.radioReserveRow={[I]:b}}}},ci=()=>{const{expandConfig:s}=e;if(s){const{fullDataRowIdData:c}=i,f=Nn.value,{expandAll:b,expandRowKeys:E}=f;if(b)y.setAllRowExpand(!0);else if(E){const I=[];E.forEach(H=>{c[H]&&I.push(c[H].row)}),y.setRowExpand(I,!0)}}},ui=s=>{ot.value.reserve&&(i.radioReserveRow=s)},na=(s,c)=>{const{checkboxReserveRowMap:f}=i;if(it.value.reserve){const E=Zt(y,s);c?f[E]=s:f[E]&&delete f[E]}},yr=(s,c)=>{const f=ot.value,{checkMethod:b}=f;return s&&(c||!b||b({$table:y,row:s}))&&(g.selectRadioRow=s,ui(s)),ke()},oa=(s,c,f)=>(s&&!n.isArray(s)&&(s=[s]),y.handleBatchSelectRows(s,!!c,f),y.checkSelectionStatus(),ke()),gu=(s,c)=>{const{treeConfig:f}=e,{isRowGroupStatus:b}=g,{afterFullData:E,afterTreeFullData:I,afterGroupFullData:H,checkboxReserveRowMap:G,selectCheckboxMaps:ee}=i,we=Mn.value,De=q.value,Le=we.children||we.childrenField,Be=it.value,{checkField:Ue,reserve:tt,checkMethod:je}=Be,{handleGetRowId:pt}=Do(y),rt=Be.indeterminateField||Be.halfField,dt={};if(Ue){const Je=Xe=>{(c||!je||je({$table:y,row:Xe}))&&(s&&(dt[pt(Xe)]=Xe),n.set(Xe,Ue,s)),(f||b)&&rt&&n.set(Xe,rt,!1)};f||b?n.eachTree(E,Je,{children:Le}):E.forEach(Je)}else b?s?n.eachTree(H,Je=>{if(c||!je||je({$table:y,row:Je})){const Xe=pt(Je);dt[Xe]=Je}},{children:De.mapChildrenField}):!c&&je&&n.eachTree(H,Je=>{const Xe=pt(Je);!je({$table:y,row:Je})&&ee[Xe]&&(dt[Xe]=Je)},{children:De.mapChildrenField}):f?s?n.eachTree(I,Je=>{if(c||!je||je({$table:y,row:Je})){const Xe=pt(Je);dt[Xe]=Je}},{children:Le}):!c&&je&&n.eachTree(I,Je=>{const Xe=pt(Je);!je({$table:y,row:Je})&&ee[Xe]&&(dt[Xe]=Je)},{children:Le}):s?!c&&je?E.forEach(Je=>{const Xe=pt(Je);(ee[Xe]||je({$table:y,row:Je}))&&(dt[Xe]=Je)}):E.forEach(Je=>{const Xe=pt(Je);dt[Xe]=Je}):!c&&je&&E.forEach(Je=>{const Xe=pt(Je);!je({$table:y,row:Je})&&ee[Xe]&&(dt[Xe]=Je)});return tt&&(s?n.each(dt,(Je,Xe)=>{G[Xe]=Je}):E.forEach(Je=>na(Je,!1))),g.updateCheckboxFlag++,i.selectCheckboxMaps=Ue?{}:dt,g.isAllSelected=s,g.isIndeterminate=!1,i.treeIndeterminateRowMaps={},y.checkSelectionStatus(),ke()},Om=()=>{const{treeConfig:s}=e,{expandColumn:c,currentRow:f,selectRadioRow:b}=g,{fullDataRowIdData:E,fullAllDataRowIdData:I,radioReserveRow:H,selectCheckboxMaps:G,treeExpandedMaps:ee,rowExpandedMaps:we}=i,De=Nn.value,Le=Mn.value,Be=ot.value,Ue=it.value;if(b&&!I[Zt(y,b)]&&(g.selectRadioRow=null),Be.reserve&&H){const tt=Zt(y,H);E[tt]&&yr(E[tt].row,!0)}i.selectCheckboxMaps=Is(G),g.updateCheckboxFlag++,Ue.reserve&&oa(Rs(i.checkboxReserveRowMap),!0,!0),f&&!I[Zt(y,f)]&&(g.currentRow=null),i.rowExpandedMaps=c?Is(we):{},g.rowExpandedFlag++,c&&De.reserve&&y.setRowExpand(Rs(i.rowExpandedReserveRowMap),!0),i.treeExpandedMaps=s?Is(ee):{},g.treeExpandedFlag++,s&&Le.reserve&&y.setTreeExpand(Rs(i.treeExpandedReserveRowMap),!0)},Im=()=>{const{treeConfig:s}=e;if(s){const{fullAllDataRowIdData:c}=i,f=Mn.value,{expandAll:b,expandRowKeys:E}=f;if(b)y.setAllTreeExpand(!0);else if(E){const I=[];E.forEach(H=>{const G=c[H];G&&I.push(G.row)}),y.setTreeExpand(I,!0)}}},jd=s=>{const c=Mn.value,f=it.value,{transform:b,loadMethod:E}=c,{checkStrictly:I}=f;return new Promise(H=>{if(E){const{fullAllDataRowIdData:G,treeExpandLazyLoadedMaps:ee}=i,we=Zt(y,s),De=G[we];ee[we]=s,Promise.resolve(E({$table:y,row:s})).then(Le=>{if(De&&(De.treeLoaded=!0),ee[we]&&delete ee[we],n.isArray(Le)||(Le=[]),Le)return y.loadTreeChildren(s,Le).then(Be=>{const{treeExpandedMaps:Ue}=i;return Be.length&&!Ue[we]&&(Ue[we]=s),g.treeExpandedFlag++,!I&&y.isCheckedByCheckboxRow(s)&&oa(Be,!0),ke().then(()=>{if(b)return y.handleTableData(),No(),ke()})})}).catch(()=>{const{treeExpandLazyLoadedMaps:Le}=i;De&&(De.treeLoaded=!1),Le[we]&&delete Le[we]}).finally(()=>{g.treeExpandedFlag++,ke().then(()=>y.recalculate()).then(()=>H())})}else H()})},Wd=(s,c)=>{const{treeExpandedReserveRowMap:f}=i;if(Mn.value.reserve){const E=Zt(y,s);c?f[E]=s:f[E]&&delete f[E]}},Gd=s=>new Promise(c=>{const f=Nn.value,{loadMethod:b}=f;if(b){const{fullAllDataRowIdData:E,rowExpandLazyLoadedMaps:I}=i,H=Zt(y,s),G=E[H];I[H]=s,b({$table:y,row:s,rowIndex:y.getRowIndex(s),$rowIndex:y.getVMRowIndex(s)}).then(()=>{const{rowExpandedMaps:ee}=i;G&&(G.expandLoaded=!0),ee[H]=s,g.rowExpandedFlag++}).catch(()=>{G&&(G.expandLoaded=!1)}).finally(()=>{const{rowExpandLazyLoadedMaps:ee}=i;ee[H]&&delete ee[H],g.rowExpandedFlag++,ke().then(()=>y.recalculate()).then(()=>y.updateCellAreas()).then(()=>c())})}else c()}),Yd=(s,c)=>{const{rowExpandedReserveRowMap:f}=i;if(Nn.value.reserve){const E=Zt(y,s);c?f[E]=s:f[E]&&delete f[E]}},Rm=()=>{const{mergeCells:s}=e;s&&y.setMergeCells(s)},km=()=>{const{mergeHeaderCells:s}=e;s&&y.setMergeHeaderCells(s)},Pm=()=>{const{mergeFooterCells:s,mergeFooterItems:c}=e,f=s||c;f&&y.setMergeFooterCells(f)},mu=()=>ke().then(()=>{const{scrollXLoad:s,scrollYLoad:c}=g,{scrollXStore:f,scrollYStore:b}=i,E=Vt.value,I=Rt.value;if(s){const{toVisibleIndex:we,visibleSize:De}=xl(),Le=Math.max(0,I.oSize?n.toNumber(I.oSize):0);f.preloadSize=n.toNumber(I.preSize),f.offsetSize=Le,f.visibleSize=De,f.endIndex=Math.max(f.startIndex+f.visibleSize+Le,f.endIndex),f.visibleStartIndex=Math.max(f.startIndex,we),f.visibleEndIndex=Math.min(f.endIndex,we+De),y.updateScrollXData().then(()=>{sa()})}else y.updateScrollXSpace();const H=ta();b.rowHeight=H,g.rowHeight=H;const{toVisibleIndex:G,visibleSize:ee}=kl();if(c){const we=Math.max(0,E.oSize?n.toNumber(E.oSize):0);b.preloadSize=n.toNumber(E.preSize),b.offsetSize=we,b.visibleSize=ee,b.endIndex=Math.max(b.startIndex+ee+we,b.endIndex),b.visibleStartIndex=Math.max(b.startIndex,G),b.visibleEndIndex=Math.min(b.endIndex,G+ee),y.updateScrollYData().then(()=>{wr()})}else y.updateScrollYSpace()}),di=()=>{const{scrollXWidth:s,scrollYHeight:c}=g,{elemStore:f}=i,b=he.value,E=hn(f["main-body-wrapper"]),I=hn(f["main-header-table"]),H=hn(f["main-footer-table"]),G=ne.value,ee=B.value;let we=!1,De=!1;if(E){we=c>E.clientHeight,ee&&(g.scrollbarWidth=b.width||ee.offsetWidth-ee.clientWidth||14),g.overflowY=we,De=s>E.clientWidth,G&&(g.scrollbarHeight=b.height||G.offsetHeight-G.clientHeight||14);const Le=I?I.clientHeight:0,Be=H?H.clientHeight:0;i.tableHeight=E.offsetHeight,i.tHeaderHeight=Le,i.tFooterHeight=Be,g.overflowX=De,g.parentHeight=Math.max(Le+Be+20,y.getParentHeight())}De&&y.checkScrolling()},ps=(s,c,f)=>{const b=R.value;if(i.rceRunTime=Date.now(),!b||!b.clientWidth)return ke();const E=O.value;if(E){const[I,H,G,ee]=E.children;us("default",I),us("medium",H),us("small",G),us("mini",ee)}return c&&sn(),s&&On(),di(),Mo(),Vs(),s&&As(),mu().then(()=>{if(c&&sn(),s&&On(),f&&so(),Mo(),di(),s&&el(),Vs(),s&&As(),s)return mu()})},Qo=(s,c,f)=>new Promise(b=>{const E=i.xeGanttView,{rceTimeout:I,rceRunTime:H}=i,ee=xe.value.refreshDelay||20,we=R.value;we&&we.clientWidth&&(On(),Vs()),I?(clearTimeout(I),H&&H+(ee-5)<Date.now()?b(ps(s,c,f)):ke(()=>{b()})):b(ps(s,c,f)),E&&E.handleLazyRecalculate&&E.handleLazyRecalculate(),i.rceTimeout=setTimeout(()=>{i.rceTimeout=void 0,ps(s,c,f)},ee)}),qd=()=>{Qo(!0,!0,!0)},Ud=()=>{const{visibleColumn:s}=i,c=[];s.forEach(f=>{f.aggFunc&&c.push(f)}),g.aggHandleAggColumns=c},fi=s=>{const c=[],f=[];s&&(n.isArray(s)?s:[s]).forEach(b=>{c.push(b),f.push({field:b})}),g.rowGroupList=f,g.aggHandleFields=c,Ud()},Kd=s=>{const c=q.value,{mapChildrenField:f}=c;f&&(n.lastEach(s,b=>{let E=0;n.each(b[f],I=>{I.isAggregate?E+=I.childCount||0:E++}),b.childCount=E}),y.handlePivotTableAggregateData&&y.handlePivotTableAggregateData(s))},Fm=()=>{const{aggregateConfig:s,rowGroupConfig:c}=e,{isRowGroupStatus:f}=g,{tableFullGroupData:b}=i,E=q.value,{mapChildrenField:I}=E;if((s||c)&&f){const H=[];n.eachTree(b,G=>{G.isAggregate&&H.push(G)},{children:I}),Kd(H)}},hu=(s,c)=>{let f=s,b=s;if(c){const E=q.value,{rowField:I,parentField:H,childrenField:G,mapChildrenField:ee}=E,we=it.value,{checkField:De}=we,Le=we.indeterminateField||we.halfField,Be=c[0];if(Be&&I&&H&&G&&ee){f=[],b=[];const Ue=Be.field,tt=y.getColumnByField(Ue),je={},pt=[],rt=Ba(y);s.forEach(dt=>{const Je=tt?y.getCellLabel(dt,tt):n.get(dt,Ue),Xe=n.eqNull(Je)?"":Je;let kt=je[Xe];kt||(kt=[],je[Xe]=kt),dt.isAggregate&&(dt.isAggregate=void 0),kt.push(dt)}),n.objectEach(je,(dt,Je)=>{const{fullData:Xe,treeData:kt}=hu(dt,c.slice(1)),Pt={isAggregate:!0,aggData:{},groupContent:Je,groupField:Ue,childCount:0,[I]:ni(),[H]:null,[rt]:ni(),[G]:kt,[ee]:kt};De&&(Pt[De]=!1),Le&&(Pt[Le]=!1),pt.push(Pt),b.push(Pt),f.push(Pt),Xe.length&&f.push(...Xe)}),Kd(pt)}}return{treeData:b,fullData:f}},la=(s,c)=>{const{keepSource:f,treeConfig:b,rowGroupConfig:E,aggregateConfig:I}=e,{rowGroupList:H,scrollYLoad:G}=g,{scrollYStore:ee,scrollXStore:we,lastScrollLeft:De,lastScrollTop:Le}=i,Be=P.value,Ue=Mn.value,tt=Nn.value,{transform:je}=Ue,pt=Ue.children||Ue.childrenField;let rt=[],dt=ln(s?s.slice(0):[]);if(dt.length>Np&&en("vxe.error.errMaxRow",[Np]),b&&H.length)return en("vxe.error.noTree",["aggregate-config"]),ke();if(Be.drag&&H.length)return en("vxe.error.errConflicts",["row-config.drag","aggregate-config"]),ke();let Je=!1;if(b)je?(Ue.rowField||en("vxe.error.reqProp",["tree-config.rowField"]),Ue.parentField||en("vxe.error.reqProp",["tree-config.parentField"]),pt||en("vxe.error.reqProp",["tree-config.childrenField"]),Ue.mapChildrenField||en("vxe.error.reqProp",["tree-config.mapChildrenField"]),pt===Ue.mapChildrenField&&en("vxe.error.errConflicts",["tree-config.childrenField","tree-config.mapChildrenField"]),rt=n.toArrayTree(dt,{key:Ue.rowField,parentKey:Ue.parentField,children:pt,mapChildren:Ue.mapChildrenField}),dt=rt.slice(0)):rt=dt.slice(0);else if((I||E)&&H.length){const kt=hu(dt,H);rt=kt.treeData,dt=kt.fullData,Je=!0}g.isRowGroupStatus=Je,ee.startIndex=0,ee.endIndex=1,we.startIndex=0,we.endIndex=1,i.cvCacheMaps={},g.isRowLoading=!0,g.scrollVMLoading=!1,g.treeExpandedFlag++,g.rowExpandedFlag++,i.insertRowMaps={},g.insertRowFlag++,i.removeRowMaps={},g.removeRowFlag++;const Xe=Cr(dt);return i.tableFullData=dt,i.tableFullTreeData=Je?[]:rt,i.tableFullGroupData=Je?rt:[],y.cacheRowMap(c),i.tableSynchData=s,c&&(i.isResizeCellHeight=!1),f&&y.cacheSourceMap(dt),y.clearCellAreas&&e.mouseConfig&&(y.clearCellAreas(),y.clearCopyCellArea()),y.clearMergeCells(),y.clearMergeFooterItems(),y.handleTableData(!0),y.updateFooter(),y.handleUpdateBodyMerge(),ke().then(()=>{Kt(),Mo()}).then(()=>{mu()}).then(()=>{const kt=Vt.value;return Xe&&(ee.endIndex=ee.visibleSize),Xe&&(g.expandColumn&&tt.mode!=="fixed"&&en("vxe.error.notConflictProp",['column.type="expand','expand-config.mode="fixed"']),kt.mode==="scroll"&&tt.mode==="fixed"&&cn("vxe.error.notConflictProp",["virtual-y-config.mode=scroll","expand-config.mode=inside"]),e.height||e.maxHeight||en("vxe.error.reqProp",["height | max-height | virtual-y-config={enabled: false}"]),e.spanMethod&&en("vxe.error.scrollErrProp",["table.span-method"])),Om(),y.checkSelectionStatus(),y.dispatchEvent("data-change",{visibleColumn:i.visibleColumn,visibleData:i.afterFullData},null),new Promise(Pt=>{ke().then(()=>ps(!1,!1,!1)).then(()=>{ps(!1,!0,!0),el()}).then(()=>{let Ft=De,qt=Le;const Ht=Rt.value,Bt=Vt.value;Ht.scrollToLeftOnChange&&(Ft=0),Bt.scrollToTopOnChange&&(qt=0),g.isRowLoading=!1,ps(!1,!1,!1),As(),e.showOverflow||setTimeout(()=>{Qo(!1,!0,!0),setTimeout(()=>Qo(!1,!0,!0),3e3)},2e3),G===Xe?Ar(y,Ft,qt).then(()=>{ps(!1,!0,!0),el(),As(),Pt()}):setTimeout(()=>{Ar(y,Ft,qt).then(()=>{ps(!1,!0,!0),el(),As(),Pt()})})})})})},pi=()=>{pu(),ii(),ci(),Im(),Bm(),Rm(),km(),Pm(),ke(()=>setTimeout(()=>y.recalculate()))},Vm=()=>{fu()},vu=()=>{const{scrollXLoad:s}=g,{visibleColumn:c,scrollXStore:f,fullColumnIdData:b}=i,E=s?c.slice(f.startIndex,f.endIndex):c.slice(0);E.forEach((I,H)=>{const G=I.id,ee=b[G];ee&&(ee.$index=H)}),g.tableColumn=E},Xd=()=>{const s=n.orderBy(i.collectColumn,"renderSortNumber");i.collectColumn=s;const c=oi(s);i.tableFullColumn=c,Gt()},sa=()=>{const{isScrollXBig:s}=g,{mergeBodyList:c,mergeFooterList:f,scrollXStore:b}=i,{preloadSize:E,startIndex:I,endIndex:H,offsetSize:G}=b,{toVisibleIndex:ee,visibleSize:we}=xl(),De={startIndex:Math.max(0,s?ee-1:ee-1-G-E),endIndex:s?ee+we:ee+we+G+E};b.visibleStartIndex=ee-1,b.visibleEndIndex=ee+we+1,Pa(c.concat(f),De,"col");const{startIndex:Le,endIndex:Be}=De;(ee<=I||ee>=H-we-1)&&(I!==Le||H!==Be)&&(b.startIndex=Le,b.endIndex=Be,y.updateScrollXData()),y.closeTooltip()},bu=s=>{const c=[],f=[],b=[],{isGroup:E,columnStore:I}=g,{collectColumn:H,tableFullColumn:G,scrollXStore:ee,fullColumnIdData:we}=i;if(E){const Be=[],Ue=[],tt=[];n.eachTree(H,(je,pt,rt,dt,Je)=>{const Xe=tr(je);Je&&Je.fixed&&(je.fixed=Je.fixed),Je&&(je.fixed||"")!==(Je.fixed||"")&&en("vxe.error.groupFixed"),Xe?je.visible=!!n.findTree(je.children,kt=>tr(kt)?!1:kt.visible):je.visible&&(je.fixed==="left"?c.push(je):je.fixed==="right"?b.push(je):f.push(je))}),H.forEach(je=>{je.visible&&(je.fixed==="left"?Be.push(je):je.fixed==="right"?tt.push(je):Ue.push(je))}),g.tableGroupColumn=Be.concat(Ue).concat(tt)}else G.forEach(Be=>{Be.visible&&(Be.fixed==="left"?c.push(Be):Be.fixed==="right"?b.push(Be):f.push(Be))});const De=c.concat(f).concat(b);i.visibleColumn=De,hi();const Le=$m();if(g.hasFixedColumn=c.length>0||b.length>0,Object.assign(I,{leftList:c,centerList:f,rightList:b}),Le&&(e.spanMethod&&cn("vxe.error.scrollErrProp",["span-method"]),e.footerSpanMethod&&cn("vxe.error.scrollErrProp",["footer-span-method"]),s)){const{visibleSize:Be}=xl();ee.startIndex=0,ee.endIndex=Be,ee.visibleSize=Be,ee.visibleStartIndex=0,ee.visibleEndIndex=Be}return(De.length!==i.visibleColumn.length||!i.visibleColumn.every((Be,Ue)=>Be===De[Ue]))&&(y.clearMergeCells(),y.clearMergeFooterItems()),De.forEach((Be,Ue)=>{const tt=Be.id,je=we[tt];je&&(je._index=Ue)}),vu(),Ud(),s?(hi(),y.updateFooter().then(()=>y.recalculate()).then(()=>(y.updateCellAreas(),y.recalculate()))):y.updateFooter()},Am=()=>{const{collectColumn:s}=i,c={},f={};let b=1;n.eachTree(s,(E,I,H,G,ee)=>{const{id:we,field:De}=E,Le=ee?ee.id:null,Be={$index:-1,_index:-1,column:E,colid:we,index:I,items:H,parent:ee||null,width:0,oLeft:0};E.parentId=Le,E.defaultParentId=Le,E.sortNumber=b,E.renderSortNumber=b,b++,De&&(f[De]&&en("vxe.error.colRepet",["field",De]),f[De]=Be),c[we]=Be}),i.fullColumnIdData=c,i.fullColumnFieldData=f},Zd=s=>{const c=Nn.value;i.collectColumn=s;const f=oi(s);return i.tableFullColumn=f,g.isColLoading=!0,Am(),Promise.resolve(Jt()).then(()=>{const{scrollXLoad:b,scrollYLoad:E,expandColumn:I}=g;return Gt(),bu(!0).then(()=>{g.scrollXLoad&&sa()}),y.clearMergeCells(),y.clearMergeFooterItems(),y.handleTableData(!0),y.handleAggregateSummaryData(),(b||E)&&I&&c.mode!=="fixed"&&cn("vxe.error.scrollErrProp",["column.type=expand"]),ke().then(()=>{lt&&lt.syncUpdate({collectColumn:i.collectColumn,$table:y}),y.handleUpdateCustomColumn&&y.handleUpdateCustomColumn();const H=ie.value;return e.showCustomHeader&&g.isGroup&&(H.resizable||e.resizable)&&cn("vxe.error.notConflictProp",["show-custom-header & colgroup","column-config.resizable=false"]),g.isColLoading=!1,Qo(!1,!0,!0)})})},$m=s=>{const c=Rt.value,f=i.tableFullColumn,b=!!c.enabled&&c.gt>-1&&(c.gt===0||c.gt<f.length);return g.scrollXLoad=b,b},Cr=s=>{const{treeConfig:c}=e,f=i.xeGanttView,b=Vt.value,E=Mn.value,{transform:I}=E,H=s||i.tableFullData,G=(I||!c)&&!!b.enabled&&b.gt>-1&&(b.gt===0||b.gt<H.length);return g.scrollYLoad=G,f&&f.handleUpdateSYStatus&&f.handleUpdateSYStatus(G),G},Jd=(s,c)=>{const{treeNodeColumn:f}=g,{fullAllDataRowIdData:b,tableFullTreeData:E,treeExpandedMaps:I,treeExpandLazyLoadedMaps:H}=i,G=Mn.value,{reserve:ee,lazy:we,accordion:De,toggleMethod:Le}=G,Be=G.children||G.childrenField,Ue=G.hasChild||G.hasChildField,tt=[],je=y.getColumnIndex(f),pt=y.getVMColumnIndex(f),{handleGetRowId:rt}=Do(y);let dt=Le?s.filter(Je=>Le({$table:y,expanded:c,column:f,columnIndex:je,$columnIndex:pt,row:Je})):s;if(De){dt=dt.length?[dt[dt.length-1]]:[];const Je=n.findTree(E,Xe=>Xe===dt[0],{children:Be});Je&&Je.items.forEach(Xe=>{const kt=rt(Xe);I[kt]&&delete I[kt]})}return c?dt.forEach(Je=>{const Xe=rt(Je);if(!I[Xe]){const kt=b[Xe];kt&&(we&&Je[Ue]&&!kt.treeLoaded&&!H[Xe]?tt.push(jd(Je)):Je[Be]&&Je[Be].length&&(I[Xe]=Je))}}):dt.forEach(Je=>{const Xe=rt(Je);I[Xe]&&delete I[Xe]}),ee&&dt.forEach(Je=>Wd(Je,c)),g.treeExpandedFlag++,Promise.all(tt).then(()=>(As(),y.recalculate()))},Nm=(s,c)=>{const{lastScrollLeft:f,lastScrollTop:b}=i;return Jd(s,c).then(()=>(vo(),y.handleTableData(),g.treeExpandedFlag++,No(),ke())).then(()=>ps(!0,!0,!0)).then(()=>{Ar(y,f,b),As(),setTimeout(()=>{y.updateCellAreas()},30)})},Lm=(s,c)=>{const{fullAllDataRowIdData:f,tableFullGroupData:b,rowGroupExpandedMaps:E}=i,I=q.value,{mapChildrenField:H,accordion:G}=I,{handleGetRowId:ee}=Do(y);let we=s;if(H){if(G){we=we.length?[we[we.length-1]]:[];const De=n.findTree(b,Le=>Zt(y,Le)===Zt(y,we[0]),{children:H});De&&De.items.forEach(Le=>{const Be=ee(Le);E[Be]&&delete E[Be]})}c?we.forEach(De=>{const Le=ee(De);E[Le]||f[Le]&&De[H]&&De[H].length&&(E[Le]=De)}):we.forEach(De=>{const Le=ee(De);E[Le]&&delete E[Le]})}return g.rowGroupExpandedFlag++,y.recalculate()},Qd=(s,c)=>Lm(s,c).then(()=>(vo(),y.handleTableData(),g.rowGroupExpandedFlag++,No(),ke())).then(()=>Qo(!0,!0,!0)).then(()=>{setTimeout(()=>{y.updateCellAreas()},30)}),Bm=()=>{const{isRowGroupStatus:s}=g;if(s){const c=q.value,{expandAll:f,expandGroupFields:b}=c;f?y.setAllRowGroupExpand(!0):b&&b.length&&y.setRowGroupExpandByField(b,!0)}},ef=(s,c)=>{gu(c),s&&Hn("checkbox-all",{records:()=>y.getCheckboxRecords(),reserves:()=>y.getCheckboxReserveRecords(),indeterminates:()=>y.getCheckboxIndeterminateRecords(),checked:c},s)},wr=()=>{const{isAllOverflow:s,isScrollYBig:c}=g,{mergeBodyList:f,scrollYStore:b}=i,{preloadSize:E,startIndex:I,endIndex:H,offsetSize:G}=b,ee=s?G:G+1,{toVisibleIndex:we,visibleSize:De}=kl(),Le={startIndex:Math.max(0,c?we-1:we-1-G-E),endIndex:c?we+De:we+De+ee+E};b.visibleStartIndex=we-1,b.visibleEndIndex=we+De+1,Pa(f,Le,"row");const{startIndex:Be,endIndex:Ue}=Le;(we<=I||we>=H-De-1)&&(I!==Be||H!==Ue)&&(b.startIndex=Be,b.endIndex=Ue,y.updateScrollYData())},gi=s=>function(c){const{fullAllDataRowIdData:f}=i;if(c){const b=Zt(y,c),E=f[b];if(E)return E[s]}return-1},xu=s=>function(c){const{fullColumnIdData:f}=i;if(c){const b=f[c.id];if(b)return b[s]}return-1},zm=()=>{const{lxTimeout:s,lxRunTime:c,scrollXStore:f}=i,{visibleSize:b}=f,E=b>26?26:b>16?14:6;s&&clearTimeout(s),(!c||c+E<Date.now())&&(i.lxRunTime=Date.now(),sa()),i.lxTimeout=setTimeout(()=>{i.lxTimeout=void 0,i.lxRunTime=void 0,sa()},E)},Hm=()=>{const{lyTimeout:s,lyRunTime:c,scrollYStore:f}=i,{visibleSize:b}=f,E=b>30?32:b>20?18:8;s&&clearTimeout(s),(!c||c+E<Date.now())&&(i.lyRunTime=Date.now(),wr()),i.lyTimeout=setTimeout(()=>{i.lyTimeout=void 0,i.lyRunTime=void 0,wr()},E)},_m=(s,c)=>{const{lcsTimeout:f}=i;g.lazScrollLoading=!0,f&&clearTimeout(f),i.lcsTimeout=setTimeout(()=>{const{scrollXLoad:b,scrollYLoad:E,isAllOverflow:I}=g;i.lcsRunTime=Date.now(),i.lcsTimeout=void 0,i.intoRunScroll=!1,i.inVirtualScroll=!1,i.inWheelScroll=!1,i.inHeaderScroll=!1,i.inBodyScroll=!1,i.inFooterScroll=!1,g.lazScrollLoading=!1,i.scrollRenderType="",I||(so(),el()),s&&b&&y.updateScrollXData(),c&&E&&y.updateScrollYData().then(()=>{I||(so(),el()),y.updateScrollYSpace()}),Vs(),y.updateCellAreas()},200)},jm=s=>{let c=1;const f=Date.now();return s+25>f?c=1.18:s+30>f?c=1.15:s+40>f?c=1.12:s+55>f?c=1.09:s+75>f?c=1.06:s+100>f&&(c=1.03),c},Wm=(s,c)=>{requestAnimationFrame(()=>{c(s)})},Gm=(s,c)=>{const f=Math.abs(s),b=performance.now();let E=0;const I=H=>{let G=(H-b)/f;G<0?G=0:G>1&&(G=1);const ee=Math.pow(G,2),we=Math.floor(s*ee)-E;E+=we,c(we),G<1&&requestAnimationFrame(I)};requestAnimationFrame(I)},mi=s=>{const c=i.xeGanttView;if(c){const f=c.internalData,{elemStore:b}=f,E=hn(b["main-body-scroll"]);E&&(E.scrollTop=s)}},Hn=(s,c,f)=>{a(s,MC(f,{$table:y,$grid:C,$gantt:h},c))},Ym=(s,c)=>{const{fullColumnIdData:f}=i,b=ho(y,s);return b&&f[b.id]?np(y,b,c):ke()},yu=()=>{const s=R.value;s&&s.clientWidth&&s.clientHeight&&y.recalculate()},tf=(s,c)=>{y.analyColumnWidth(),y.recalculate().then(()=>{y.saveCustomStore("update:width"),y.updateCellAreas(),y.dispatchEvent("column-resizable-change",c,s),y.dispatchEvent("resizable-change",c,s),setTimeout(()=>y.recalculate(!0),300)})},nf=(s,c)=>{g.resizeHeightFlag++,y.recalculate().then(()=>{y.updateCellAreas(),y.dispatchEvent("row-resizable-change",c,s),setTimeout(()=>y.recalculate(!0),300)})},hi=()=>{const{visibleColumn:s,fullColumnIdData:c}=i;let f=0;for(let b=0,E=s.length;b<E;b++){const I=s[b],H=I.id,G=c[H];G&&(G.oLeft=f),f+=I.renderWidth}},el=()=>{const{expandColumn:s}=g,{afterFullData:c,fullAllDataRowIdData:f,rowExpandedMaps:b}=i,E=Nn.value,I=P.value,H=He.value,G=N.value,{handleGetRowId:ee}=Do(y);let we=0;for(let De=0,Le=c.length;De<Le;De++){const Be=c[De],Ue=ee(Be),tt=f[Ue]||{};tt.oTop=we,we+=tt.resizeHeight||H.height||I.height||tt.height||G,s&&b[Ue]&&(we+=tt.expandHeight||E.height||0)}},Vs=()=>{const{expandColumn:s,scrollYLoad:c,scrollYTop:f,isScrollYBig:b}=g,E=Nn.value,I=P.value,H=He.value,G=N.value,{mode:ee}=E;if(s&&ee==="fixed"){const{elemStore:we,fullAllDataRowIdData:De}=i,Le=_e.value,Be=hn(we["main-body-scroll"]);if(Le&&Be){let Ue=!1;n.arrayEach(Le.children,tt=>{const je=tt,pt=je.getAttribute("rowid")||"",rt=De[pt];if(rt){const dt=je.offsetHeight+1,Je=Be.querySelector(`.vxe-body--row[rowid="${pt}"]`);let Xe=0;c?b&&Je?Xe=Je.offsetTop+Je.offsetHeight:Xe=rt.oTop+(rt.resizeHeight||H.height||I.height||rt.height||G):Je&&(Xe=Je.offsetTop+Je.offsetHeight),b&&(Xe+=f),je.style.top=Js(Xe),Ue||rt.expandHeight!==dt&&(Ue=!0),rt.expandHeight=dt}}),Ue&&(g.rowExpandHeightFlag++,ke(()=>{el()}))}}},As=()=>{const{treeConfig:s}=e;if(!s)return;const{tableData:c}=g,{fullAllDataRowIdData:f,treeExpandedMaps:b}=i,E=He.value,I=P.value,H=N.value,G=Mn.value,{transform:ee,mapChildrenField:we}=G,De=G.children||G.childrenField,{handleGetRowId:Le}=Do(y),Be=[],Ue=(tt,je,pt)=>{const rt=Le(tt),dt=f[rt]||{},Je=tt[ee?we:De],Xe=pt[je-1]||null,kt=pt[je+1]||null;if(Je&&Je.length&&b[rt])Be.push({row:tt,prevRow:Xe,nextRow:kt}),Je.forEach((Pt,Ft)=>{const qt=Le(Pt);b[qt]&&Ue(Pt,Ft,Je)});else if(kt){const Pt=Le(kt),Ft=f[Pt]||{},qt=Sl(dt,E,I,H),Ht=Sl(Ft,E,I,H);dt.oHeight=qt,dt.lineHeight=Math.floor(qt/2+Ht/2)}else dt.oHeight=0,dt.lineHeight=0};c.forEach((tt,je)=>{Ue(tt,je,c)}),n.lastArrayEach(Be,({row:tt,nextRow:je})=>{const pt=Le(tt),rt=tt[ee?we:De],dt=f[pt];if(dt){let Xe=Sl(dt,E,I,H),kt=0;if(rt.forEach(Pt=>{const Ft=Le(Pt),qt=f[Ft]||{},Ht=Pt[ee?we:De];if(b[Ft]&&Ht&&Ht.length)Xe+=qt.oHeight||0,kt+=qt.oHeight||0;else{const Bt=Sl(qt,E,I,H);qt.oHeight=Bt,qt.lineHeight=Bt,Xe+=Bt,kt+=Bt}}),je){const Pt=Le(je),Ft=f[Pt]||{},qt=Sl(dt,E,I,H),Ht=Sl(Ft,E,I,H);Xe+=qt,kt+=Math.floor(qt/2+Ht/2)}dt.lineHeight=kt,dt.oHeight=Xe}})},of=()=>{const{elemStore:s}=i,c=_e.value,f=hn(s["main-body-scroll"]);c&&f&&(c.scrollTop=f.scrollTop)};x={dispatchEvent:Hn,getEl(){return R.value},clearAll(){return xy(y)},syncData(){return en("vxe.error.delFunc",["syncData","getData"]),ke().then(()=>(g.tableData=[],a("update:data",i.tableFullData),ke()))},updateData(){const{scrollXLoad:s,scrollYLoad:c}=g;return y.handleTableData(!0).then(()=>{if(y.updateFooter(),s||c)return s&&y.updateScrollXSpace(),c&&y.updateScrollYSpace(),y.refreshScroll()}).then(()=>(y.updateCellAreas(),Qo(!0,!0,!0))).then(()=>{setTimeout(()=>Qo(!1,!0,!0),50)})},loadData(s){const{initStatus:c}=i;return la(s,!1).then(()=>(i.inited=!0,i.initStatus=!0,c||pi(),Qo(!1,!0,!0)))},reloadData(s){return y.clearAll().then(()=>(i.inited=!0,i.initStatus=!0,la(s,!0))).then(()=>(pi(),Qo(!1,!0,!0)))},setRow(s,c){if(s&&c){let f=s;n.isArray(s)||(f=[s]);const b=Ba(y);f.forEach(E=>{const I=Zt(y,E),H=n.clone(Object.assign({},c),!0);n.set(H,b,I),Object.assign(E,H)})}return ke()},reloadRow(s,c,f){const{keepSource:b}=e,{tableData:E}=g,{sourceDataRowIdData:I}=i;if(b){if(y.isAggregateRecord(s))return ke();const H=I[Zt(y,s)];if(H&&s)if(f){const G=n.clone(n.get(c||s,f),!0);n.set(s,f,G),n.set(H,f,G)}else{const G=Ba(y),ee=Zt(y,s),we=n.clone(Object.assign({},c),!0);n.set(we,G,ee),n.destructuring(H,Object.assign(s,we))}g.tableData=E.slice(0)}else en("vxe.error.reqProp",["keep-source"]);return ke()},getParams(){return e.params},loadTreeChildren(s,c){const{keepSource:f}=e,{tableSourceData:b,fullDataRowIdData:E,fullAllDataRowIdData:I,sourceDataRowIdData:H}=i,G=Mn.value,{transform:ee,mapChildrenField:we}=G,De=G.children||G.childrenField,Le=I[Zt(y,s)],Be=Le?Le.level:0;return x.createData(c).then(Ue=>{if(f){const tt=Zt(y,s),je=n.findTree(b,pt=>tt===Zt(y,pt),{children:De});je&&(je.item[De]=n.clone(Ue,!0)),Ue.forEach(pt=>{const rt=Zt(y,pt);H[rt]=n.clone(pt,!0)})}return n.eachTree(Ue,(tt,je,pt,rt,dt,Je)=>{const Xe=Zt(y,tt),kt=dt||Le.row,Pt={row:tt,rowid:Xe,seq:-1,index:je,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:pt,parent:kt,level:Be+Je.length,height:0,resizeHeight:0,oTop:0,expandHeight:0};E[Xe]=Pt,I[Xe]=Pt},{children:De}),s[De]=Ue,ee&&(s[we]=n.clone(Ue,!1)),No(),Ue})},loadColumn(s){const{lastScrollLeft:c,lastScrollTop:f}=i,b=n.mapTree(s,E=>ln(wn.createColumn(y,E)));return Zd(b).then(()=>{let E=c,I=f;const H=Rt.value,G=Vt.value;H.scrollToLeftOnChange&&(E=0),G.scrollToTopOnChange&&(I=0),Ar(y,E,I)})},reloadColumn(s){return x.clearAll().then(()=>x.loadColumn(s))},getRowNode(s){if(s){const{fullAllDataRowIdData:c}=i,f=s.getAttribute("rowid");if(f){const b=c[f];if(b)return{rowid:b.rowid,item:b.row,index:b.index,items:b.items,parent:b.parent}}}return null},getColumnNode(s){if(s){const{fullColumnIdData:c}=i,f=s.getAttribute("colid");if(f){const b=c[f];if(b)return{colid:b.colid,item:b.column,index:b.index,items:b.items,parent:b.parent}}}return null},getRowSeq:gi("seq"),getRowIndex:gi("index"),getVTRowIndex:gi("_index"),getVMRowIndex:gi("$index"),getColumnIndex:xu("index"),getVTColumnIndex:xu("_index"),getVMColumnIndex:xu("$index"),createData(s){return ke().then(()=>ln(k.defineField(s)))},createRow(s){const c=n.isArray(s);return c||(s=[s||{}]),x.createData(s).then(f=>c?f:f[0])},revertData(s,c){const{keepSource:f,treeConfig:b}=e,{fullAllDataRowIdData:E,fullDataRowIdData:I,tableSourceData:H,sourceDataRowIdData:G,tableFullData:ee,afterFullData:we,removeRowMaps:De}=i,Le=Mn.value,{transform:Be}=Le,{handleGetRowId:Ue}=Do(y);if(!f)return en("vxe.error.reqProp",["keep-source"]),ke();let tt=s;s?n.isArray(s)||(tt=[s]):tt=n.toArray(y.getUpdateRecords());let je=!1;return tt.length&&tt.forEach(pt=>{const rt=Ue(pt),dt=E[rt];if(dt){const Je=dt.row;if(!y.isInsertByRow(Je)){const Xe=G[rt];Xe&&Je&&(c?n.set(Je,c,n.clone(n.get(Xe,c),!0)):n.destructuring(Je,n.clone(Xe,!0)),!I[rt]&&y.isRemoveByRow(Je)&&(De[rt]&&delete De[rt],ee.unshift(Je),we.unshift(Je),je=!0))}}}),s?(je&&(g.removeRowFlag++,y.updateFooter(),y.cacheRowMap(!1),y.handleTableData(b&&Be),b&&Be||y.updateAfterDataIndex(),y.checkSelectionStatus(),g.scrollYLoad&&y.updateScrollYSpace()),ke().then(()=>(y.updateCellAreas(),Qo(!1,!0,!0)))):y.reloadData(H)},clearData(s,c){const{tableFullData:f,visibleColumn:b}=i;return arguments.length?s&&!n.isArray(s)&&(s=[s]):s=f,c?s.forEach(E=>n.set(E,c,null)):s.forEach(E=>{b.forEach(I=>{I.field&&_l(E,I,null)})}),ke()},getCellElement(s,c){const{elemStore:f}=i,b=ho(y,c);if(!b)return null;const E=Zt(y,s),I=hn(f["main-body-scroll"]),H=hn(f["left-body-scroll"]),G=hn(f["right-body-scroll"]);let ee;return b&&(b.fixed&&(b.fixed==="left"?H&&(ee=H):G&&(ee=G)),ee||(ee=I),ee)?ee.querySelector(`.vxe-body--row[rowid="${E}"] .${b.id}`):null},getCellLabel(s,c){const f=ho(y,c);if(!f)return null;const{formatter:b}=f,E=$o(s,f);let I=E;if(b){let H;const{fullAllDataRowIdData:G}=i,ee=Zt(y,s),we=f.id,De=G[ee];if(De&&(H=De.formatData,H||(H=G[ee].formatData={}),De&&H[we]&&H[we].value===E))return H[we].label;const Le={cellValue:E,row:s,rowIndex:x.getRowIndex(s),column:f,columnIndex:x.getColumnIndex(f)};if(n.isString(b)){const Be=Ap.get(b),Ue=Be?Be.tableCellFormatMethod||Be.cellFormatMethod:null;I=Ue?Ue(Le):""}else if(n.isArray(b)){const Be=Ap.get(b[0]),Ue=Be?Be.tableCellFormatMethod||Be.cellFormatMethod:null;I=Ue?Ue(Le,...b.slice(1)):""}else I=b(Le);H&&(H[we]={value:E,label:I})}return I},isInsertByRow(s){const c=Zt(y,s);return!!g.insertRowFlag&&!!i.insertRowMaps[c]},isRemoveByRow(s){const c=Zt(y,s);return!!g.removeRowFlag&&!!i.removeRowMaps[c]},removeInsertRow(){const{insertRowMaps:s}=i;return y.remove(n.values(s))},isUpdateByRow(s,c){const{keepSource:f}=e,{tableFullColumn:b,fullDataRowIdData:E,sourceDataRowIdData:I}=i;if(f){const H=n.isString(s)||n.isNumber(s)?s:Zt(y,s),G=E[H];if(!G)return!1;const ee=G.row,we=I[H];if(we){if(arguments.length>1)return!Os(we,ee,c);for(let De=0,Le=b.length;De<Le;De++){const Be=b[De].field;if(Be&&!Os(we,ee,Be))return!0}}}return!1},getColumns(s){const{visibleColumn:c}=i;return n.isUndefined(s)?c.slice(0):c[s]},getColid(s){const c=ho(y,s);return c?c.id:null},getColumnById(s){const{fullColumnIdData:c}=i;return s&&c[s]?c[s].column:null},getColumnByField(s){const c=i.fullColumnFieldData;return s&&c[s]?c[s].column:null},getParentColumn(s){const{fullColumnIdData:c}=i,f=ho(y,s);return f&&f.parentId&&c[f.parentId]?c[f.parentId].column:null},getTableColumn(){return{collectColumn:i.collectColumn.slice(0),fullColumn:i.tableFullColumn.slice(0),visibleColumn:i.visibleColumn.slice(0),tableColumn:g.tableColumn.slice(0)}},moveColumnTo(s,c,f){const{fullColumnIdData:b,visibleColumn:E}=i,{dragToChild:I,dragPos:H,isCrossDrag:G}=Object.assign({},f),ee=ho(y,s);let we=null;const De=ee?b[ee.id]:null;let Le="left";if(n.isNumber(c)){if(De&&c){let Be=De.items,Ue=De._index+c;G&&(Be=E,Ue=De._index+c),Ue>0&&Ue<Be.length-1&&(we=Be[Ue]),c>0&&(Le="right")}}else{we=ho(y,c);const Be=we?b[we.id]:null;De&&Be&&Be._index>De._index&&(Le="right")}return y.handleColDragSwapEvent(null,!0,ee,we,H||Le,I===!0)},moveRowTo(s,c,f){const{treeConfig:b}=e,{fullAllDataRowIdData:E,afterFullData:I}=i,{dragToChild:H,dragPos:G,isCrossDrag:ee}=Object.assign({},f),we=Mn.value,De=Xf(y,s);let Le=null,Be="top";const Ue=De?E[Zt(y,De)]:null;if(n.isNumber(c)){if(Ue&&c){let je=I,pt=Ue._index+c;b&&(je=Ue.items,we.transform&&(pt=Ue.treeIndex+c,ee&&(je=I,pt=Ue._index+c))),pt>=0&&pt<=je.length-1&&(Le=je[pt]),c>0&&(Be="bottom")}}else{Le=Xf(y,c);const je=Le?E[Zt(y,Le)]:null;Ue&&je&&je._index>Ue._index&&(Be="bottom")}const tt=y.handleRowDragSwapEvent(null,!0,De,Le,G||Be,H===!0);return xi(),tt},getFullColumns(){const{collectColumn:s}=i;return s.slice(0)},getData(s){const c=e.data||i.tableSynchData;return n.isUndefined(s)?c.slice(0):c[s]},getCheckboxRecords(s){const{treeConfig:c}=e,{updateCheckboxFlag:f}=g,{tableFullData:b,afterFullData:E,tableFullTreeData:I,fullDataRowIdData:H,afterFullRowMaps:G,selectCheckboxMaps:ee}=i,we=Mn.value,De=it.value,{transform:Le,mapChildrenField:Be}=we,{checkField:Ue}=De,tt=we.children||we.childrenField;let je=[];if(f)if(Ue)if(c){const pt=s?Le?I:b:Le?I:E;je=n.filterTree(pt,rt=>n.get(rt,Ue),{children:Le?Be:tt})}else je=(s?b:E).filter(rt=>n.get(rt,Ue));else{const pt=s||c&&!Le?H:G;n.each(ee,(rt,dt)=>{pt[dt]&&je.push(H[dt].row)})}return je},getTreeRowChildren(s){const{treeConfig:c}=e,{fullAllDataRowIdData:f}=i,b=Mn.value,{transform:E,mapChildrenField:I}=b,H=b.children||b.childrenField;if(s&&c){let G;if(n.isString(s)?G=s:G=Zt(y,s),G){const ee=f[G],we=ee?ee.row:null;if(we)return we[E?I:H]||[]}}return[]},getTreeRowLevel(s){const{treeConfig:c}=e,{fullAllDataRowIdData:f}=i;if(s&&c){let b;if(n.isString(s)?b=s:b=Zt(y,s),b){const E=f[b];if(E)return E.level}}return-1},getTreeParentRow(s){const{treeConfig:c}=e,{fullAllDataRowIdData:f}=i;if(s&&c){let b;if(n.isString(s)?b=s:b=Zt(y,s),b){const E=f[b];if(E)return E.parent}}return null},getParentRow(s){return cn("vxe.error.delFunc",["getParentRow","getTreeParentRow"]),y.getTreeParentRow(s)},getRowById(s){const{fullAllDataRowIdData:c}=i,f=n.eqNull(s)?"":encodeURIComponent(s||"");return c[f]?c[f].row:null},getRowid(s){return Zt(y,s)},getTableData(){const{tableData:s,footerTableData:c}=g,{tableFullData:f,afterFullData:b,tableFullTreeData:E}=i;return{fullData:e.treeConfig?E.slice(0):f.slice(0),visibleData:b.slice(0),tableData:s.slice(0),footerData:c.slice(0)}},getFullData(){const{treeConfig:s}=e,{tableFullData:c,tableFullTreeData:f}=i;if(s){const b=Mn.value,{transform:E,mapChildrenField:I,rowField:H,parentField:G}=b,ee=b.children||b.childrenField;return E?n.toArrayTree(n.toTreeArray(f,{children:I}),{key:H,parentKey:G,children:ee,mapChildren:I}):f.slice(0)}return c.slice(0)},setColumnFixed(s,c){let f=!1;const b=n.isArray(s)?s:[s],E=ie.value,I=Ts.value;for(let H=0;H<b.length;H++){const G=b[H],ee=ho(y,G),we=ep(y,ee);if(we&&we.fixed!==c){if(!we.fixed&&I)return We.modal&&We.modal.message({status:"error",content:Ll("vxe.table.maxFixedCol",[E.maxFixedSize])}),ke();n.eachTree([we],De=>{De.fixed=c,De.renderFixed=c}),k.saveCustomStore("update:fixed"),f||(f=!0)}}return f?x.refreshColumn():ke()},clearColumnFixed(s){let c=!1;return(n.isArray(s)?s:[s]).forEach(b=>{const E=ho(y,b),I=ep(y,E);I&&I.fixed&&(n.eachTree([I],H=>{H.fixed=null,H.renderFixed=null}),k.saveCustomStore("update:fixed"),c||(c=!0))}),c?x.refreshColumn():ke()},hideColumn(s){let c=!1;return(n.isArray(s)?s:[s]).forEach(b=>{const E=ho(y,b);E&&E.visible&&(E.visible=!1,c||(c=!0))}),c?k.handleCustom():ke()},showColumn(s){let c=!1;return(n.isArray(s)?s:[s]).forEach(b=>{const E=ho(y,b);E&&!E.visible&&(E.visible=!0,c||(c=!0))}),c?k.handleCustom():ke()},setColumnWidth(s,c){const{elemStore:f}=i;let b=!1;const E=n.isArray(s)?s:[s];let I=n.toInteger(c);if(Xa(c)){const H=hn(f["main-body-scroll"]),G=H?H.clientWidth-1:0;I=Math.floor(I*G)}return I&&(E.forEach(H=>{const G=ho(y,H);G&&(G.resizeWidth=I,b||(b=!0))}),b)?y.refreshColumn().then(()=>({status:b})):ke().then(()=>({status:b}))},getColumnWidth(s){const c=ho(y,s);return c?c.renderWidth:0},resetColumn(s){return cn("vxe.error.delFunc",["resetColumn","resetCustom"]),y.resetCustom(s)},refreshColumn(s){return s&&Xd(),bu(!0).then(()=>y.refreshScroll()).then(()=>Qo(!1,!0,!0))},setRowHeightConf(s){const{fullAllDataRowIdData:c}=i;let f=!1;return s&&(n.each(s,(b,E)=>{const I=c[E];if(I){const H=n.toInteger(b);H&&(I.resizeHeight=H,f||(f=!0))}}),f&&(i.isResizeCellHeight=!0,g.resizeHeightFlag++)),ke().then(()=>(el(),{status:f}))},getRowHeightConf(s){const{fullAllDataRowIdData:c,afterFullData:f}=i,{handleGetRowId:b}=Do(y),E=P.value,I=He.value,H=N.value,G={};return f.forEach(ee=>{const we=b(ee),De=c[we];if(De){const Le=De.resizeHeight;if(Le||s){const Be=Le||I.height||E.height||De.height||H;G[we]=Be}}}),G},recalcRowHeight(s){const{fullAllDataRowIdData:c}=i,f=n.isArray(s)?s:[s],b=R.value;if(b){const{handleGetRowId:E}=Do(y);b.setAttribute("data-calc-row","Y"),f.forEach(I=>{const H=n.isString(I)||n.isNumber(I)?I:E(I),G=c[H];G&&(G.resizeHeight=Dn(G,b)),b.removeAttribute("data-calc-row")}),g.calcCellHeightFlag++}return ke()},setRowHeight(s,c){const{fullAllDataRowIdData:f}=i;let b=!1;const E=n.isArray(s)?s:[s];let I=n.toInteger(c);if(Xa(c)){const H=W.value,G=H?H.$el:null,ee=G?G.clientHeight-1:0;I=Math.floor(I*ee)}if(I){const{handleGetRowId:H}=Do(y);E.forEach(G=>{const ee=n.isString(G)||n.isNumber(G)?G:H(G),we=f[ee];we&&(we.resizeHeight=I,b||(b=!0))}),b&&(i.isResizeCellHeight=!0,g.resizeHeightFlag++)}return ke().then(()=>({status:b}))},getRowHeight(s){const{fullAllDataRowIdData:c}=i,f=P.value,b=He.value,E=N.value,I=n.isString(s)||n.isNumber(s)?s:Zt(y,s),H=c[I];return H?H.resizeHeight||b.height||f.height||H.height||E:0},refreshScroll(){const{elemStore:s,lastScrollLeft:c,lastScrollTop:f}=i,b=hn(s["main-header-scroll"]),E=hn(s["main-body-scroll"]),I=hn(s["main-footer-scroll"]),H=hn(s["left-body-scroll"]),G=hn(s["right-body-scroll"]),ee=ne.value,we=B.value;return new Promise(De=>{if(c||f)return Ar(y,c,f).then(()=>{setTimeout(De,10)});i.intoRunScroll=!0,oo(we,f),oo(E,f),oo(H,f),oo(G,f),uo(ee,c),uo(E,c),uo(b,c),uo(I,c),setTimeout(()=>{i.intoRunScroll=!1,De()},10)})},recalculate(s){const c=!!s;return Qo(c,c,c)},openTooltip(s,c){const f=A.value;return f&&f.open?f.open(s,c):ke()},closeTooltip(){const{tooltipStore:s}=g,c=$.value,f=A.value;return s.visible&&(Object.assign(s,{row:null,column:null,content:null,visible:!1,type:null,currOpts:{}}),c&&c.close&&c.close()),f&&f.close&&f.close(),ke()},isAllCheckboxChecked(){return g.isAllSelected},isAllCheckboxIndeterminate(){return!g.isAllSelected&&g.isIndeterminate},getCheckboxIndeterminateRecords(s){const{treeConfig:c}=e,{fullDataRowIdData:f,treeIndeterminateRowMaps:b}=i;if(c){const E=[],I=[];return n.each(b,(H,G)=>{H&&(E.push(H),f[G]&&I.push(H))}),s?E:I}return[]},setCheckboxRow(s,c){return s&&!n.isArray(s)&&(s=[s]),oa(s,c,!0)},setCheckboxRowKey(s,c){const{fullAllDataRowIdData:f}=i;n.isArray(s)||(s=[s]);const b=[];return s.forEach(E=>{const I=f[E];I&&b.push(I.row)}),oa(b,c,!0)},isCheckedByCheckboxRow(s){const{updateCheckboxFlag:c}=g,{selectCheckboxMaps:f}=i,b=it.value,{checkField:E}=b;return E?n.get(s,E):!!c&&!!f[Zt(y,s)]},isCheckedByCheckboxRowKey(s){const{updateCheckboxFlag:c}=g,{fullAllDataRowIdData:f,selectCheckboxMaps:b}=i,E=it.value,{checkField:I}=E;if(I){const H=f[s];return H?n.get(H.row,I):!1}return!!c&&!!b[s]},isIndeterminateByCheckboxRow(s){const{treeIndeterminateRowMaps:c}=i;return!!c[Zt(y,s)]&&!y.isCheckedByCheckboxRow(s)},isIndeterminateByCheckboxRowKey(s){const{treeIndeterminateRowMaps:c}=i;return!!c[s]&&!y.isCheckedByCheckboxRowKey(s)},toggleCheckboxRow(s){const{selectCheckboxMaps:c}=i,f=it.value,{checkField:b}=f,E=b?!n.get(s,b):!c[Zt(y,s)];return k.handleBatchSelectRows([s],E,!0),k.checkSelectionStatus(),ke()},setAllCheckboxRow(s){return gu(s,!0)},getRadioReserveRecord(s){const{treeConfig:c}=e,{fullDataRowIdData:f,radioReserveRow:b,afterFullData:E}=i,I=ot.value,H=Mn.value,G=H.children||H.childrenField;if(I.reserve&&b){const ee=Zt(y,b);if(s){if(!f[ee])return b}else{const we=Ba(y);if(c){if(n.findTree(E,Le=>ee===n.get(Le,we),{children:G}))return b}else if(!E.some(De=>ee===n.get(De,we)))return b}}return null},clearRadioReserve(){return i.radioReserveRow=null,ke()},getCheckboxReserveRecords(s){const{treeConfig:c}=e,{afterFullData:f,fullDataRowIdData:b,checkboxReserveRowMap:E}=i,I=it.value,H=Mn.value,G=H.children||H.childrenField,ee=[];if(I.reserve){const{handleGetRowId:we}=Do(y),De={};c?n.eachTree(f,Le=>{De[we(Le)]=1},{children:G}):f.forEach(Le=>{De[we(Le)]=1}),n.each(E,(Le,Be)=>{Le&&(s?b[Be]||ee.push(Le):De[Be]||ee.push(Le))})}return ee},clearCheckboxReserve(){return i.checkboxReserveRowMap={},ke()},toggleAllCheckboxRow(){return ef(null,!g.isAllSelected),ke()},clearCheckboxRow(){const{treeConfig:s}=e,{tableFullData:c}=i,f=Mn.value,b=f.children||f.childrenField,E=it.value,{checkField:I,reserve:H}=E,G=E.indeterminateField||E.halfField;if(I){const ee=we=>{s&&G&&n.set(we,G,!1),n.set(we,I,!1)};s?n.eachTree(c,ee,{children:b}):c.forEach(ee)}return H&&c.forEach(ee=>na(ee,!1)),g.isAllSelected=!1,g.isIndeterminate=!1,i.selectCheckboxMaps={},i.treeIndeterminateRowMaps={},g.updateCheckboxFlag++,ke()},setCurrentRow(s){const c=i.xeGanttView,f=P.value,b=R.value;return x.clearCurrentRow(),g.currentRow=s,(f.isCurrent||e.highlightCurrentRow)&&b&&n.arrayEach(b.querySelectorAll(`[rowid="${Zt(y,s)}"]`),E=>Dl(E,"row--current")),c&&c.handleUpdateCurrentRow&&c.handleUpdateCurrentRow(s),ke()},isCheckedByRadioRow(s){const{selectRadioRow:c}=g;return s&&c?y.eqRow(c,s):!1},isCheckedByRadioRowKey(s){const{selectRadioRow:c}=g;return c?s===Zt(y,c):!1},setRadioRow(s){return yr(s,!0)},setRadioRowKey(s){const{fullAllDataRowIdData:c}=i,f=c[s];return f?yr(f.row,!0):ke()},clearCurrentRow(){const s=i.xeGanttView,c=R.value;return g.currentRow=null,i.hoverRow=null,c&&n.arrayEach(c.querySelectorAll(".row--current"),f=>nl(f,"row--current")),s&&s.handleUpdateCurrentRow&&s.handleUpdateCurrentRow(),ke()},clearRadioRow(){return g.selectRadioRow=null,ke()},getCurrentRecord(s){const{currentRow:c}=g,{fullDataRowIdData:f,afterFullRowMaps:b}=i;if(P.value.isCurrent||e.highlightCurrentRow){const I=Zt(y,c);if(s){if(f[I])return c}else if(b[I])return c}return null},getRadioRecord(s){const{fullDataRowIdData:c,afterFullRowMaps:f}=i,{selectRadioRow:b}=g;if(b){const E=Zt(y,b);if(s){if(c[E])return b}else if(f[E])return b}return null},getCurrentColumn(){return ie.value.isCurrent||e.highlightCurrentColumn?g.currentColumn:null},setCurrentColumn(s){const{mouseConfig:c}=e,f=bt.value,b=c&&f.selected,E=ho(y,s);return E&&(y.clearCurrentColumn(),g.currentColumn=E),ke().then(()=>{b&&y.addCellSelectedClass()})},clearCurrentColumn(){return g.currentColumn=null,ke()},setPendingRow(s,c){const{handleGetRowId:f}=Do(y),{pendingRowMaps:b}=i;return s&&!n.isArray(s)&&(s=[s]),c?s.forEach(E=>{const I=f(E);I&&!b[I]&&(b[I]=E)}):s.forEach(E=>{const I=f(E);I&&b[I]&&delete b[I]}),g.pendingRowFlag++,ke()},togglePendingRow(s){const{handleGetRowId:c}=Do(y),{pendingRowMaps:f}=i;return s&&!n.isArray(s)&&(s=[s]),s.forEach(b=>{const E=c(b);E&&(f[E]?delete f[E]:f[E]=b)}),g.pendingRowFlag++,ke()},hasPendingByRow(s){return x.isPendingByRow(s)},isPendingByRow(s){const{pendingRowMaps:c}=i,f=Zt(y,s);return!!c[f]},getPendingRecords(){const{fullAllDataRowIdData:s,pendingRowMaps:c}=i,f=[];return n.each(c,(b,E)=>{s[E]&&f.push(b)}),f},clearPendingRow(){return i.pendingRowMaps={},g.pendingRowFlag++,ke()},sort(s,c){const f=at.value,{multiple:b,remote:E,orders:I}=f;return s&&n.isString(s)&&(s=[{field:s,order:c}]),n.isArray(s)||(s=[s]),s.length?(b||Et(),(b?s:[s[0]]).forEach((H,G)=>{let{field:ee,order:we}=H,De=ee;n.isString(ee)&&(De=x.getColumnByField(ee)),De&&De.sortable&&(I&&I.indexOf(we)===-1&&(we=pl(De)),De.order!==we&&(De.order=we),De.sortTime=Date.now()+G)}),E||k.handleTableData(!0),ke().then(()=>(el(),x.updateCellAreas(),Mo()))):ke()},setSort(s,c){return ct(null,s,c)},setSortByEvent(s,c){return ct(s,c,!0)},clearSort(s){const c=at.value;if(s){const f=ho(y,s);f&&(f.order=null)}else Et();return c.remote||y.handleTableData(!0),ke().then(()=>(el(),Mo()))},clearSortByEvent(s,c){const{tableFullColumn:f}=i,b=at.value,{multiple:E}=b,I=[];let H=null;return s&&(c?(H=ho(y,c),H&&(H.order=null)):f.forEach(G=>{G.order&&(G.order=null,I.push(G))}),b.remote||y.handleTableData(!0),E||(H=I[0]),H&&y.handleColumnSortEvent(s,H),E&&I.length&&Hn("clear-all-sort",{$table:y,$event:s,cols:I,sortList:[]},s)),ke().then(()=>(el(),Mo()))},isSort(s){if(s){const c=ho(y,s);return c?c.sortable&&!!c.order:!1}return x.getSortColumns().length>0},getSortColumns(){const s=at.value,{multiple:c,chronological:f}=s,b=[],{tableFullColumn:E}=i;return E.forEach(I=>{const{field:H,order:G}=I;I.sortable&&G&&b.push({column:I,field:H,property:H,order:G,sortTime:I.sortTime})}),c&&f&&b.length>1?n.orderBy(b,"sortTime"):b},setFilterByEvent(s,c,f){const b=ho(y,c);return b&&b.filters?(b.filters=Xc(f||[],b.id),y.handleColumnConfirmFilter(b,s)):ke()},closeFilter(){const{filterStore:s}=g,{column:c,visible:f}=s;if(s.isAllSelected=!1,s.isIndeterminate=!1,s.visible=!1,f){const b=c?c.field:null;Hn("filter-visible",{column:c,property:b,field:b,filterList:()=>y.getCheckedFilters(),visible:!1},null)}return ke()},isActiveFilterByColumn(s){const c=ho(y,s);return c?c.filters&&c.filters.some(f=>f.checked):y.getCheckedFilters().length>0},isFilter(s){return x.isActiveFilterByColumn(s)},clearFilterByEvent(s,c){const{filterStore:f}=g,{tableFullColumn:b}=i,E=gt.value,{multiple:I}=E,H=[];let G=null;if(c?(G=ho(y,c),G&&y.handleClearFilter(G)):b.forEach(ee=>{ee.filters&&(H.push(ee),y.handleClearFilter(ee))}),(!c||G!==f.column)&&Object.assign(f,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),E.remote||y.updateData(),I||(G=H[0]),G){const ee=()=>y.getCheckedFilters(),we=[],De=[];G.filters.forEach(Be=>{Be.checked&&(we.push(Be.value),De.push(Be.data))});const Le={$table:y,$event:s,column:G,field:G.field,property:G.field,values:we,datas:De,filters:ee,filterList:ee};y.dispatchEvent("filter-change",Le,s),y.dispatchEvent("clear-filter",Le,s)}return I&&H.length&&Hn("clear-all-filter",{$table:y,$event:s,cols:H,filterList:[]},s),ke()},isRowExpandLoaded(s){const{fullAllDataRowIdData:c}=i,f=c[Zt(y,s)];return f&&!!f.expandLoaded},clearRowExpandLoaded(s){const{fullAllDataRowIdData:c,rowExpandLazyLoadedMaps:f}=i,b=Nn.value,{lazy:E}=b,I=Zt(y,s),H=c[I];return E&&H&&(H.expandLoaded=!1,delete f[I]),g.rowExpandedFlag++,ke()},reloadRowExpand(s){const{rowExpandLazyLoadedMaps:c}=i,f=Nn.value,{lazy:b}=f,E=Zt(y,s);return b&&!c[E]&&y.clearRowExpandLoaded(s).then(()=>Gd(s)),ke()},reloadExpandContent(s){return cn("vxe.error.delFunc",["reloadExpandContent","reloadRowExpand"]),y.reloadRowExpand(s)},toggleRowExpand(s){return y.setRowExpand(s,!y.isRowExpandByRow(s))},setAllRowExpand(s){const c=Mn.value,{tableFullData:f,tableFullTreeData:b}=i,E=c.children||c.childrenField;let I=[];return e.treeConfig?n.eachTree(b,H=>{I.push(H)},{children:E}):I=f,x.setRowExpand(I,s)},setRowExpand(s,c){const{expandColumn:f}=g;let{fullAllDataRowIdData:b,rowExpandedMaps:E,rowExpandLazyLoadedMaps:I}=i;const{handleGetRowId:H}=Do(y),G=Nn.value,{reserve:ee,lazy:we,accordion:De,toggleMethod:Le}=G,Be=[],Ue=f?y.getColumnIndex(f):-1,tt=f?y.getVMColumnIndex(f):-1;if(s){n.isArray(s)||(s=[s]),De&&(E={},i.rowExpandedMaps=E,s=s.slice(s.length-1,s.length));const je=Le?s.filter(pt=>Le({$table:y,expanded:c,column:f,columnIndex:Ue,$columnIndex:tt,row:pt,rowIndex:y.getRowIndex(pt),$rowIndex:y.getVMRowIndex(pt)})):s;c?je.forEach(pt=>{const rt=H(pt);if(!E[rt]){const dt=b[rt];we&&!dt.expandLoaded&&!I[rt]?Be.push(Gd(pt)):E[rt]=pt}}):je.forEach(pt=>{const rt=H(pt);E[rt]&&delete E[rt]}),ee&&je.forEach(pt=>Yd(pt,c))}return g.rowExpandedFlag++,Promise.all(Be).then(()=>ke()).then(()=>Qo(!0,!0,!0)).then(()=>(el(),Vs(),of(),y.updateCellAreas()))},isRowExpandByRow(s){const{rowExpandedFlag:c}=g,{rowExpandedMaps:f}=i,b=Zt(y,s);return!!c&&!!f[b]},isExpandByRow(s){return cn("vxe.error.delFunc",["isExpandByRow","isRowExpandByRow"]),x.isRowExpandByRow(s)},clearRowExpand(){const{tableFullData:s,scrollYStore:c}=i,f=Nn.value,{reserve:b}=f,E=y.getRowExpandRecords();return i.rowExpandedMaps={},b&&s.forEach(I=>Yd(I,!1)),g.rowExpandedFlag++,c.startIndex=0,c.endIndex=1,ke().then(()=>{if(E.length)return Qo(!0,!0,!0)}).then(()=>(el(),Vs(),of(),y.updateCellAreas()))},clearRowExpandReserve(){return i.rowExpandedReserveRowMap={},ke()},getRowExpandRecords(){const s=[];return n.each(i.rowExpandedMaps,c=>{c&&s.push(c)}),s},setRowGroups(s){const{aggregateConfig:c,rowGroupConfig:f}=e,b=q.value,{maxGroupSize:E}=b;if(!(c||f))return en("vxe.error.reqProp",["aggregate-config"]),ke();const I=s?n.isArray(s)?s:[s]:[];return E&&I.length>E?(We.modal&&We.modal.message({status:"error",content:Ll("vxe.table.maxGroupCol",[E])}),ke()):I.length?(fi(I.map(H=>n.isString(H)?H:H.field)),la(i.tableSynchData,!0)):ke()},getRowGroups(){const{aggregateConfig:s,rowGroupConfig:c}=e,{fullColumnFieldData:f}=i;if(s||c){const{rowGroupList:b}=g;return b.map(({field:E})=>{const I=f[E];return I?I.column:{field:E}})}return[]},getRowGroupFields(){return y.getRowGroups().map(s=>s.field)},clearRowGroups(){const{aggregateConfig:s,rowGroupConfig:c}=e;return s||c?(fi([]),la(i.tableSynchData,!0)):(en("vxe.error.reqProp",["aggregate-config"]),ke())},isRowGroupRecord(s){return cn("vxe.error.delFunc",["isRowGroupRecord","isAggregateRecord"]),y.isAggregateRecord(s)},isRowGroupExpandByRow(s){return cn("vxe.error.delFunc",["isRowGroupExpandByRow","isAggregateExpandByRow"]),y.isAggregateExpandByRow(s)},isAggregateRecord(s){const{isRowGroupStatus:c}=g;return c&&s.isAggregate},getAggregateContentByRow(s){const{isRowGroupStatus:c}=g;return c&&s&&s.isAggregate?s.groupContent:""},getAggregateRowChildren(s){const c=q.value,{childrenField:f,mapChildrenField:b}=c,{isRowGroupStatus:E}=g;return E&&s&&s.isAggregate&&f&&b?s[b]||[]:[]},isAggregateExpandByRow(s){const{rowGroupExpandedFlag:c}=g,{rowGroupExpandedMaps:f}=i;return!!c&&!!f[Zt(y,s)]},setRowGroupExpand(s,c){return s?(n.isArray(s)||(s=[s]),Qd(s,c)):ke()},setRowGroupExpandByField(s,c){const{isRowGroupStatus:f}=g,b=q.value,{childrenField:E}=b;if(s&&(n.isArray(s)||(s=[s]),f)){const I=[],H={};if(s.forEach(G=>{H[G]=!0}),n.eachTree(i.afterGroupFullData,G=>{G.isAggregate&&H[G.groupField]&&I.push(G)},{children:E}),I.length)return Qd(I,c)}return ke()},setAllRowGroupExpand(s){const{tableFullGroupData:c}=i,f=q.value,{mapChildrenField:b}=f,E={};return s&&b&&n.eachTree(c,I=>{I[b]&&I[b].length&&(E[Zt(y,I)]=I)},{children:b}),i.rowGroupExpandedMaps=E,vo(),y.handleTableData(),No(),g.rowGroupExpandedFlag++,Qo(!0,!0,!0)},clearRowGroupExpand(){return i.rowGroupExpandedMaps={},vo(),y.handleTableData(),No(),g.rowGroupExpandedFlag++,Qo(!0,!0,!0)},getTreeExpandRecords(){const s=[];return n.each(i.treeExpandedMaps,c=>{c&&s.push(c)}),s},isTreeExpandLoaded(s){const{fullAllDataRowIdData:c}=i,f=c[Zt(y,s)];return f&&!!f.treeLoaded},clearTreeExpandLoaded(s){const{fullAllDataRowIdData:c,treeExpandedMaps:f}=i,b=Mn.value,{transform:E}=b;return s?(n.isArray(s)||(s=[s]),s.forEach(I=>{const H=Zt(y,I),G=c[H];G&&(G.treeLoaded=!1,f[H]&&delete f[H])})):n.each(c,I=>{I.treeLoaded=!1}),i.treeExpandedMaps={},E&&(vo(),y.handleTableData()),g.treeExpandedFlag++,ke()},reloadTreeExpand(s){const{treeExpandLazyLoadedMaps:c}=i,f=Mn.value,b=f.hasChild||f.hasChildField,{transform:E,lazy:I}=f,H=Zt(y,s);return I&&s[b]&&!c[H]?y.clearTreeExpandLoaded(s).then(()=>jd(s)).then(()=>{E&&(vo(),y.handleTableData()),g.treeExpandedFlag++}).then(()=>y.recalculate()):ke()},reloadTreeChilds(s){return cn("vxe.error.delFunc",["reloadTreeChilds","reloadTreeExpand"]),y.reloadTreeExpand(s)},toggleTreeExpand(s){return y.setTreeExpand(s,!y.isTreeExpandByRow(s))},setAllTreeExpand(s){const{tableFullData:c}=i,f=Mn.value,{transform:b,lazy:E}=f,I=f.children||f.childrenField,H=[];return n.eachTree(c,G=>{const ee=G[I];(E||ee&&ee.length)&&H.push(G)},{children:I}),y.setTreeExpand(H,s).then(()=>{if(b)return vo(),g.treeExpandedFlag++,y.recalculate()})},setTreeExpand(s,c){const f=Mn.value,{transform:b}=f;return s&&(n.isArray(s)||(s=[s]),s.length)?b?Nm(s,c):Jd(s,c):ke()},isTreeExpandByRow(s){const{treeExpandedFlag:c}=g,{treeExpandedMaps:f}=i;return!!c&&!!f[Zt(y,s)]},clearTreeExpand(){const{tableFullTreeData:s}=i,c=Mn.value,f=c.children||c.childrenField,{transform:b,reserve:E}=c,I=y.getTreeExpandRecords();return i.treeExpandedMaps={},E&&n.eachTree(s,H=>Wd(H,!1),{children:f}),y.handleTableData().then(()=>{b&&(vo(),y.handleTableData()),g.treeExpandedFlag++}).then(()=>{if(As(),I.length)return y.recalculate()})},clearTreeExpandReserve(){return i.treeExpandedReserveRowMap={},ke()},getScroll(){return y.getScrollData()},getScrollData(){const{scrollXLoad:s,scrollYLoad:c,scrollbarHeight:f,scrollbarWidth:b}=g,{elemStore:E}=i,I=hn(E["main-body-scroll"]),H=I?I.scrollTop:0,G=I?I.scrollLeft:0,ee=I?I.clientHeight:0,we=I?I.clientWidth:0,De=I?I.scrollHeight:0,Le=I?I.scrollWidth:0,Be=H<=0,Ue=H+ee>=De,tt=G<=0,je=G+we>=Le;return{virtualX:s,virtualY:c,isTop:Be,isBottom:Ue,isLeft:tt,isRight:je,scrollbarHeight:f,scrollbarWidth:b,scrollTop:H,scrollLeft:G,scrollHeight:De,scrollWidth:Le,clientHeight:ee,clientWidth:we}},scrollTo(s,c){const{elemStore:f}=i,b=hn(f["main-header-scroll"]),E=hn(f["main-body-scroll"]),I=hn(f["main-footer-scroll"]),H=hn(f["left-body-scroll"]),G=hn(f["right-body-scroll"]),ee=ne.value,we=B.value;return i.intoRunScroll=!0,s&&(n.isNumber(s)||(c=s.top,s=s.left)),n.isNumber(s)&&(uo(ee,s),uo(E,s),uo(b,s),uo(I,s),sa()),n.isNumber(c)&&(oo(we,c),oo(E,c),oo(H,c),oo(G,c),wr()),g.scrollXLoad||g.scrollYLoad?new Promise(De=>{setTimeout(()=>{ke(()=>{i.intoRunScroll=!1,De()})},30)}):ke().then(()=>{i.intoRunScroll=!1})},scrollToRow(s,c){const{isAllOverflow:f,scrollYLoad:b,scrollXLoad:E}=g,I=[];return s&&(e.treeConfig?I.push(y.scrollToTreeRow(s)):I.push(tp(y,s))),c&&I.push(Ym(c,s)),Promise.all(I).then(()=>{if(s)return!f&&(b||E)&&(so(),sn()),ke()})},scrollToColumn(s){const{fullColumnIdData:c}=i,f=ho(y,s);return f&&c[f.id]?np(y,f):ke()},clearScroll(){const{elemStore:s,scrollXStore:c,scrollYStore:f}=i,b=hn(s["main-header-scroll"]),E=hn(s["main-body-scroll"]),I=hn(s["main-footer-scroll"]),H=hn(s["left-body-scroll"]),G=hn(s["right-body-scroll"]),ee=ne.value,we=B.value;return i.intoRunScroll=!0,uo(ee,0),uo(E,0),uo(b,0),uo(I,0),oo(we,0),oo(E,0),oo(H,0),oo(G,0),c.startIndex=0,c.visibleStartIndex=0,c.endIndex=c.visibleSize,c.visibleEndIndex=c.visibleSize,f.startIndex=0,f.visibleStartIndex=0,f.endIndex=f.visibleSize,f.visibleEndIndex=f.visibleSize,ke().then(()=>{i.lastScrollLeft=0,i.lastScrollTop=0,i.intoRunScroll=!1})},updateFooter(){const{showFooter:s,footerData:c,footerMethod:f}=e,{visibleColumn:b,afterFullData:E}=i;let I=[];return s&&c&&c.length?I=c.slice(0):s&&f&&(I=b.length?f({columns:b,data:E,$table:y,$grid:C,$gantt:h}):[]),g.footerTableData=I,y.handleUpdateFooterMerge(),y.dispatchEvent("footer-data-change",{visibleColumn:i.visibleColumn,footData:I},null),ke()},updateStatus(s,c){return ke().then(()=>{const{editRules:f}=e;if(s&&f)return y.handleCellRuleUpdateStatus("change",s,c)})},setMergeCells(s){return e.spanMethod&&en("vxe.error.errConflicts",["merge-cells","span-method"]),ds(s),y.handleUpdateBodyMerge(),ke().then(()=>{const{expandColumn:c}=g,{mergeBodyList:f}=i;return c&&f.length&&cn("vxe.error.errConflicts",["type=expand","merge-cells | span-method"]),y.updateCellAreas(),Mo()})},removeMergeCells(s){e.spanMethod&&en("vxe.error.errConflicts",["merge-cells","span-method"]);const c=Fa(s);return y.handleUpdateBodyMerge(),ke().then(()=>(y.updateCellAreas(),Mo(),c))},getMergeCells(){return i.mergeBodyList.slice(0)},clearMergeCells(){return i.mergeBodyList=[],i.mergeBodyMaps={},i.mergeBodyCellMaps={},g.mergeBodyFlag++,ke().then(()=>Mo())},setMergeHeaderCells(s){return ks(s),y.handleUpdateHeaderMerge(),ke().then(()=>Mo())},removeMergeHeaderCells(s){const c=Ps(s);return y.handleUpdateHeaderMerge(),ke().then(()=>(Mo(),c))},getMergeHeaderCells(){return i.mergeHeaderList.slice(0)},clearMergeHeaderCells(){return i.mergeHeaderList=[],i.mergeHeaderMaps={},i.mergeHeaderCellMaps={},g.mergeHeadFlag++,ke().then(()=>Mo())},setMergeFooterCells(s){return e.footerSpanMethod&&en("vxe.error.errConflicts",["merge-footer-cells | merge-footer-items","footer-span-method"]),Fs(s),y.handleUpdateFooterMerge(),ke().then(()=>Mo())},setMergeFooterItems(s){return y.setMergeFooterCells(s)},removeMergeFooterCells(s){e.footerSpanMethod&&en("vxe.error.errConflicts",["merge-footer-cells | merge-footer-items","footer-span-method"]);const c=le(s);return y.handleUpdateFooterMerge(),ke().then(()=>(Mo(),c))},removeMergeFooterItems(s){return y.removeMergeFooterCells(s)},getMergeFooterCells(){return i.mergeFooterList.slice(0)},getMergeFooterItems(){return y.getMergeFooterCells()},clearMergeFooterCells(){return i.mergeFooterList=[],i.mergeFooterMaps={},i.mergeFooterCellMaps={},g.mergeFootFlag++,ke().then(()=>Mo())},clearMergeFooterItems(){return y.clearMergeFooterCells()},updateCellAreas(){const{mouseConfig:s}=e,c=bt.value;return s&&c.area&&y.handleRecalculateCellAreaEvent?y.handleRecalculateCellAreaEvent():ke()},getCustomStoreData(){const{id:s}=e,c=bl.value,{isRowGroupStatus:f,rowGroupList:b}=g,{fullColumnFieldData:E,collectColumn:I}=i,{storage:H,checkMethod:G,storeOptions:ee}=c,we=H===!0,De=Object.assign({},we?{}:H||{},ee),Le=to(De.resizable,we),Be=to(De.visible,we),Ue=to(De.fixed,we),tt=to(De.sort,we),je=to(De.aggGroup,we),pt=to(De.aggFunc,we),rt={},dt=[],Je={},Xe={},kt={},Pt={},Ft={resizableData:void 0,sortData:void 0,visibleData:void 0,fixedData:void 0,aggGroupData:void 0,aggFuncData:void 0};if(!s)return H&&en("vxe.error.reqProp",["id"]),Ft;let qt=0,Ht=0,Bt=0,Xt=0,nn=0;const fn={};return n.eachTree(I,(an,xn,Tn,yn,gn)=>{const Cn=an.getKey();if(!Cn){en("vxe.error.reqProp",[`${an.getTitle()||an.type||""} -> column.field=?`]);return}if(gn){if(tt){const Vn=gn.getKey(),un=fn[Vn];if(Ht=1,un){const Un={k:Cn};fn[Cn]=Un,un.c||(un.c=[]),un.c.push(Un)}}}else{if(tt){Ht=1;const Vn={k:Cn};fn[Cn]=Vn,dt.push(Vn)}Ue&&(an.fixed||"")!==(an.defaultFixed||"")&&(Bt=1,Xe[Cn]=an.fixed)}Le&&an.resizeWidth&&(qt=1,rt[Cn]=an.renderWidth),Be&&(!G||G({$table:y,column:an}))&&(!an.visible&&an.defaultVisible?(Xt=1,Je[Cn]=!1):an.visible&&!an.defaultVisible&&(Xt=1,Je[Cn]=!0)),pt&&(an.aggFunc||"")!==(an.defaultAggFunc||"")&&(nn=1,Pt[Cn]=an.aggFunc)}),qt&&(Ft.resizableData=rt),Ht&&(Ft.sortData=dt),Bt&&(Ft.fixedData=Xe),Xt&&(Ft.visibleData=Je),je&&f&&(b.forEach(an=>{const xn=E[an.field];xn&&(kt[xn.column.getKey()]=!0)}),Ft.aggGroupData=kt),nn&&(Ft.aggFuncData=Pt),Ft},focus(){return i.isActivated=!0,ke()},blur(){return i.isActivated=!1,ke()},connect(s){return y.connectToolbar(s)},connectToolbar(s){return s?(lt=s,lt.syncUpdate({collectColumn:i.collectColumn,$table:y})):en("vxe.error.barUnableLink"),ke()}};const qm=s=>{const{editStore:c,ctxMenuStore:f,customStore:b}=g,{mouseConfig:E,editRules:I}=e,H=R.value,G=Ce.value,ee=Ot.value,we=yt.value,{actived:De}=c,Le=M.value,Be=_.value,Ue=z.value,tt=T.value;if(Be&&(Yn(s,H,"vxe-cell--filter").flag||Yn(s,Be.getRefMaps().refElem.value).flag||Yn(s,document.body,"vxe-table--ignore-clear").flag||k.preventEvent(s,"event.clearFilter",i._currFilterParams,x.closeFilter)),Ue&&(b.btnEl===s.target||Yn(s,document.body,"vxe-toolbar-custom-target").flag||Yn(s,Ue.getRefMaps().refElem.value).flag||Yn(s,document.body,"vxe-table--ignore-clear").flag||b.visible&&y.closeCustom&&k.preventEvent(s,"event.clearCustom",{},()=>{y.closeCustom(),y.dispatchEvent("custom",{type:"close"},s)})),De.row){if(G.autoClear!==!1){const pt=De.args.cell;(!pt||!Yn(s,pt).flag)&&(Le&&Yn(s,Le.$el).flag||(!i._lastCallTime||i._lastCallTime+50<Date.now())&&(Yn(s,document.body,"vxe-table--ignore-clear").flag||k.preventEvent(s,"event.clearEdit",De.args,()=>{let rt;if(G.mode==="row"){const dt=Yn(s,H,"vxe-body--row"),Je=dt.flag?x.getRowNode(dt.targetElem):null;rt=Je?!y.eqRow(Je.item,De.args.row):!1}else rt=!Yn(s,H,"col--edit").flag;if(rt||(rt=Yn(s,H,"vxe-header--row").flag),rt||(rt=Yn(s,H,"vxe-footer--row").flag),!rt&&e.height&&!g.overflowY){const dt=s.target;Ss(dt,"vxe-table--body-wrapper")&&(rt=s.offsetY<dt.clientHeight)}(rt||!Yn(s,H).flag)&&setTimeout(()=>{y.handleClearEdit(s).then(()=>{!i.isActivated&&I&&ee.autoClear&&(g.validErrorMaps={})})})})))}}else if(E&&!Yn(s,H).flag&&!(S&&Yn(s,S.getRefMaps().refElem.value).flag)&&!(tt&&Yn(s,tt.getRefMaps().refElem.value).flag)&&!(lt&&Yn(s,lt.getRefMaps().refElem.value).flag)&&(y.clearSelected&&y.clearSelected(),we.autoClear&&y.getCellAreas)){const pt=y.getCellAreas();pt&&pt.length&&!Yn(s,document.body,"vxe-table--ignore-areas-clear").flag&&k.preventEvent(s,"event.clearAreas",{},()=>{y.clearCellAreas(),y.clearCopyCellArea(),Hn("clear-cell-area-selection",{cellAreas:pt},s)})}y.closeMenu&&f.visible&&tt&&!Yn(s,tt.getRefMaps().refElem.value).flag&&y.closeMenu();const je=Yn(s,S?S.getRefMaps().refElem.value:H).flag;!je&&I&&ee.autoClear&&(g.validErrorMaps={}),i.isActivated=je},Um=()=>{x.closeFilter(),y.closeMenu&&y.closeMenu()},Km=()=>{x.closeTooltip(),y.closeMenu&&y.closeMenu()},Xm=s=>{const{mouseConfig:c,keyboardConfig:f}=e,{filterStore:b,ctxMenuStore:E,editStore:I}=g,H=bt.value,G=xt.value,{actived:ee}=I;mo.hasKey(s,El.ESCAPE)&&k.preventEvent(s,"event.keydown",null,()=>{if(Hn("keydown-start",{},s),f&&c&&H.area&&y.handleKeyboardCellAreaEvent)y.handleKeyboardCellAreaEvent(s);else if((ee.row||b.visible||E.visible)&&(s.stopPropagation(),y.closeMenu&&y.closeMenu(),x.closeFilter(),f&&G.isEsc&&ee.row)){const De=ee.args;y.handleClearEdit(s),H.selected&&ke(()=>y.handleSelected(De,s))}Hn("keydown",{},s),Hn("keydown-end",{},s)})},Zm=s=>{i.isActivated&&y.preventEvent(s,"event.keydown",null,()=>{const{mouseConfig:c,keyboardConfig:f,treeConfig:b,editConfig:E,highlightCurrentRow:I,highlightCurrentColumn:H}=e,{ctxMenuStore:G,editStore:ee,currentRow:we}=g,{afterFullData:De}=i,Le=_n.value,Be=po.value,Ue=xt.value,tt=bt.value,je=Ce.value,pt=Mn.value,rt=io.value,dt=P.value,Je=ie.value,{selected:Xe,actived:kt}=ee,Pt=pt.children||pt.childrenField,Ft=s.keyCode,qt=mo.hasKey(s,El.ESCAPE),Ht=mo.hasKey(s,El.BACKSPACE),Bt=mo.hasKey(s,El.TAB),Xt=mo.hasKey(s,El.ENTER),nn=mo.hasKey(s,El.SPACEBAR),fn=mo.hasKey(s,El.ARROW_LEFT),an=mo.hasKey(s,El.ARROW_UP),xn=mo.hasKey(s,El.ARROW_RIGHT),Tn=mo.hasKey(s,El.ARROW_DOWN),yn=mo.hasKey(s,El.DELETE),gn=mo.hasKey(s,El.F2),Cn=mo.hasKey(s,El.CONTEXT_MENU),Vn=ti(s),un=s.shiftKey,Un=s.altKey,qn=fn||an||xn||Tn,In=Le&&G.visible&&(Xt||nn||qn),Kn=En(E)&&kt.column&&kt.row,Pn=je.beforeEditMethod||je.activeMethod;if(In)s.preventDefault(),G.showChild&&tr(G.selected)?y.moveCtxMenu(s,G,"selectChild",fn,!1,G.selected.children):y.moveCtxMenu(s,G,"selected",xn,!0,rt);else if(f&&c&&tt.area&&y.handleKeyboardCellAreaEvent)y.handleKeyboardCellAreaEvent(s);else if(qt){if(y.closeMenu&&y.closeMenu(),y.closeFilter(),f&&Ue.isEsc&&kt.row){const Rn=kt.args;y.handleClearEdit(s),tt.selected&&ke(()=>y.handleSelected(Rn,s))}}else if(nn&&f&&Ue.isChecked&&Xe.row&&Xe.column&&(Xe.column.type==="checkbox"||Xe.column.type==="radio"))s.preventDefault(),Xe.column.type==="checkbox"?k.handleToggleCheckRowEvent(s,Xe.args):k.triggerRadioRowEvent(s,Xe.args);else if(gn&&En(E))Kn||Xe.row&&Xe.column&&(s.preventDefault(),y.handleEdit(Xe.args,s));else if(Cn)i._keyCtx=Xe.row&&Xe.column&&Be.length,clearTimeout(i.keyCtxTimeout),i.keyCtxTimeout=setTimeout(()=>{i._keyCtx=!1},1e3);else if(Xt&&!Un&&f&&Ue.isEnter&&(Xe.row||kt.row||b&&(dt.isCurrent||I)&&we)){const{isLastEnterAppendRow:Rn,beforeEnterMethod:Bn,enterMethod:yo}=Ue;if(Vn){if(kt.row){const co=kt.args;y.handleClearEdit(s),tt.selected&&ke(()=>{y.handleSelected(co,s)})}}else if(Xe.row||kt.row){const co=Xe.row?Xe.args:kt.args;if(un)Ue.enterToTab?y.moveTabSelected(co,un,s):y.moveEnterSelected(co,fn,!0,xn,!1,s);else if(Ue.enterToTab)y.moveTabSelected(co,un,s);else{const Gn=Xe.row||kt.row,Oo=Xe.column||kt.column,bo=y.getVTRowIndex(Gn),Lo={row:Gn,rowIndex:y.getRowIndex(Gn),$rowIndex:y.getVMRowIndex(Gn),_rowIndex:bo,column:Oo,columnIndex:y.getColumnIndex(Oo),$columnIndex:y.getVMColumnIndex(Oo),_columnIndex:y.getVTColumnIndex(Oo),$table:y};if(!Bn||Bn(Lo)!==!1){if(Rn&&bo>=De.length-1){y.insertAt({},-1).then(({row:Bo})=>{y.scrollToRow(Bo,Oo),y.handleSelected(Object.assign(Object.assign({},co),{row:Bo}),s)}),y.dispatchEvent("enter-append-row",Lo,s);return}y.moveEnterSelected(co,fn,!1,xn,!0,s),yo&&yo(Lo)}}}else if(b&&(dt.isCurrent||I)&&we){const co=we[Pt];if(co&&co.length){s.preventDefault();const Gn=co[0],Oo={$table:y,row:Gn,rowIndex:y.getRowIndex(Gn),$rowIndex:y.getVMRowIndex(Gn)};y.setTreeExpand(we,!0).then(()=>y.scrollToRow(Gn)).then(()=>y.triggerCurrentRowEvent(s,Oo))}}}else if(qn&&f&&Ue.isArrow)Kn||(tt.selected&&Xe.row&&Xe.column?y.moveArrowSelected(Xe.args,fn,an,xn,Tn,s):((an||Tn)&&(dt.isCurrent||I)&&y.moveCurrentRow(an,Tn,s),(fn||xn)&&(Je.isCurrent||H)&&y.moveCurrentColumn(fn,xn,s)));else if(Bt&&f&&Ue.isTab)Xe.row||Xe.column?y.moveTabSelected(Xe.args,un,s):(kt.row||kt.column)&&y.moveTabSelected(kt.args,un,s);else if(f&&Ue.isDel&&yn&&En(E)&&(Xe.row||Xe.column)){if(!Kn){const{delMethod:Rn}=Ue,Bn={row:Xe.row,rowIndex:x.getRowIndex(Xe.row),column:Xe.column,columnIndex:x.getColumnIndex(Xe.column),$table:y,$grid:C,$gantt:h};(!Pn||Pn(Bn))&&(Rn?Rn(Bn):_l(Xe.row,Xe.column,null),x.updateFooter(),Hn("cell-delete-value",Bn,s))}}else if(Ht&&f&&Ue.isBack&&En(E)&&(Xe.row||Xe.column)){if(!Kn){const{backMethod:Rn}=Ue;if(Ue.isDel&&En(E)&&(Xe.row||Xe.column)){const Bn={row:Xe.row,rowIndex:y.getRowIndex(Xe.row),column:Xe.column,columnIndex:y.getColumnIndex(Xe.column),$table:y,$grid:C,$gantt:h};(!Pn||Pn(Bn))&&(Rn?Rn(Bn):(_l(Xe.row,Xe.column,null),y.handleEdit(Xe.args,s)),Hn("cell-backspace-value",Bn,s))}}}else if(Ht&&f&&b&&Ue.isBack&&(dt.isCurrent||I)&&we){const{parent:Rn}=n.findTree(i.afterTreeFullData,Bn=>Bn===we,{children:Pt});if(Rn){s.preventDefault();const Bn={row:Rn,rowIndex:y.getRowIndex(Rn),$rowIndex:y.getVMRowIndex(Rn),$table:y,$grid:C,$gantt:h};y.setTreeExpand(Rn,!1).then(()=>y.scrollToRow(Rn)).then(()=>y.triggerCurrentRowEvent(s,Bn))}}else if(f&&En(E)&&Ue.isEdit&&!Vn&&(nn||Ft>=48&&Ft<=57||Ft>=65&&Ft<=90||Ft>=96&&Ft<=111||Ft>=186&&Ft<=192||Ft>=219&&Ft<=222)){const{editMode:Rn,editMethod:Bn}=Ue;if(Xe.column&&Xe.row&&En(Xe.column.editRender)){const yo=je.beforeEditMethod||je.activeMethod,co={row:Xe.row,rowIndex:y.getRowIndex(Xe.row),column:Xe.column,columnIndex:y.getColumnIndex(Xe.column),$table:y,$grid:C,$gantt:h};(!yo||yo(Object.assign(Object.assign({},Xe.args),{$table:y,$grid:C,$gantt:h})))&&(Bn?Bn(co):(Rn!=="insert"&&_l(Xe.row,Xe.column,null),y.handleEdit(Xe.args,s)))}}Hn("keydown",{},s)})},Jm=s=>{const{keyboardConfig:c,mouseConfig:f}=e,{editStore:b,filterStore:E}=g,{isActivated:I}=i,H=bt.value,G=xt.value,{actived:ee}=b;I&&!E.visible&&(ee.row||ee.column||c&&G.isClip&&f&&H.area&&y.handlePasteCellAreaEvent&&y.handlePasteCellAreaEvent(s),Hn("paste",{},s))},Qm=s=>{const{keyboardConfig:c,mouseConfig:f}=e,{editStore:b,filterStore:E}=g,{isActivated:I}=i,H=bt.value,G=xt.value,{actived:ee}=b;I&&!E.visible&&(ee.row||ee.column||c&&G.isClip&&f&&H.area&&y.handleCopyCellAreaEvent&&y.handleCopyCellAreaEvent(s),Hn("copy",{},s))},eh=s=>{const{keyboardConfig:c,mouseConfig:f}=e,{editStore:b,filterStore:E}=g,{isActivated:I}=i,H=bt.value,G=xt.value,{actived:ee}=b;I&&!E.visible&&(ee.row||ee.column||c&&G.isClip&&f&&H.area&&y.handleCutCellAreaEvent&&y.handleCutCellAreaEvent(s),Hn("cut",{},s))},lf=()=>{y.closeMenu&&y.closeMenu();const s=R.value;!s||!s.clientWidth||(qd(),y.updateCellAreas())},vi=s=>{const c=$.value;clearTimeout(i.tooltipTimeout),s?x.closeTooltip():c&&c.setActived&&c.setActived(!0)},$s=()=>{al=null,V.row=null},sf=()=>{const{dragRow:s,dragCol:c}=g;(s||c)&&(bi(),Cu(),aa(),$s(),g.dragRow=null,g.dragCol=null)},Cu=()=>{const s=R.value;if(s){const c="row--drag-origin";n.arrayEach(s.querySelectorAll(`.${c}`),f=>{f.draggable=!1,nl(f,c)})}},th=s=>{const c=R.value;if(c){const f="row--drag-origin",b=Zt(y,s);n.arrayEach(c.querySelectorAll(`[rowid="${b}"]`),E=>{Dl(E,f)})}},nh=s=>{const{dragConfig:c}=e,{dragRow:f}=g,b=Ze.value,{tooltipMethod:E}=b,I=E||(c?c.rowTooltipMethod:null);let H="";I?H=`${I({$table:y,row:f})||""}`:H=Ll("vxe.table.dragTip",[s.textContent||""]),g.dragTipText=H},oh=s=>{const c=R.value;if(c){const f=[];n.eachTree([s],E=>{f.push(`[colid="${E.id}"]`)});const b="col--drag-origin";n.arrayEach(c.querySelectorAll(f.join(",")),E=>{Dl(E,b)})}},bi=()=>{const s=R.value;if(s){const c="col--drag-origin";n.arrayEach(s.querySelectorAll(`.${c}`),f=>{f.draggable=!1,nl(f,c)})}},lh=s=>{const{dragCol:c}=g,f=K.value,{tooltipMethod:b}=f;let E="";b?E=`${b({$table:y,column:c})||""}`:E=Ll("vxe.table.dragTip",[s.textContent||""]),g.dragTipText=E},Va=(s,c,f,b,E)=>{let I=R.value;if(h&&c){const{refGanttContainerElem:rt}=h.getRefMaps(),dt=rt.value;dt&&(I=dt)}if(!I)return;const{overflowX:H,scrollbarWidth:G,overflowY:ee,scrollbarHeight:we}=g,{prevDragToChild:De}=i,Le=I.getBoundingClientRect(),Be=ee?G:0,Ue=H?we:0,tt=I.clientWidth,je=I.clientHeight;if(c){const rt=pe.value;if(rt)if(b){const dt=vt.value,Je=c.getBoundingClientRect();let Xe=c.clientHeight;const kt=Math.max(1,Je.y-Le.y);kt+Xe>je-Ue&&(Xe=je-kt-Ue),rt.style.display="block",rt.style.left=`${dt?Be:0}px`,rt.style.top=`${kt}px`,rt.style.height=`${Xe}px`,rt.style.width=`${tt-Be}px`,rt.setAttribute("drag-pos",E),rt.setAttribute("drag-to-child",De?"y":"n")}else rt.style.display=""}else if(f){const rt=Ae.value;if(rt)if(b){const dt=ft.value,Je=ze.value,Xe=Je?Je.clientWidth:0,kt=ce.value,Pt=kt?kt.clientWidth:0,Ft=f.getBoundingClientRect();let qt=f.clientWidth;const Ht=Math.max(0,Ft.y-Le.y),Bt=Xe;let Xt=Ft.x-Le.x;Xt<Bt&&(qt-=Bt-Xt,Xt=Bt);const nn=tt-Pt-(Pt?0:Be);Xt+qt>nn&&(qt=nn-Xt),rt.style.display="block",rt.style.top=`${Ht}px`,rt.style.left=`${Xt}px`,rt.style.width=`${qt}px`,De?rt.style.height=`${Ft.height}px`:rt.style.height=`${je-Ht-(dt?0:Ue)}px`,rt.setAttribute("drag-pos",E),rt.setAttribute("drag-to-child",De?"y":"n")}else rt.style.display=""}const pt=Se.value;pt&&(pt.style.display="block",pt.style.top=`${Math.min(I.clientHeight-I.scrollTop-pt.clientHeight,s.clientY-Le.y)}px`,pt.style.left=`${Math.min(I.clientWidth-I.scrollLeft-pt.clientWidth-16,s.clientX-Le.x)}px`,pt.setAttribute("drag-status",b?De?"sub":"normal":"disabled"))},aa=()=>{const s=Se.value,c=pe.value,f=Ae.value;s&&(s.style.display=""),c&&(c.style.display=""),f&&(f.style.display="")},xi=()=>{let s=R.value;const c=[".vxe-body--row"];if(h){const{refGanttContainerElem:f}=h.getRefMaps(),b=f.value;b&&(s=b),c.push(".vxe-gantt-view--body-row",".vxe-gantt-view--chart-row")}aa(),Cu(),Fy(s,c),i.prevDragToChild=!1,g.dragRow=null,g.dragCol=null},wu=(s,c,f,b,E,I,H)=>{const G=E||b;if(!G)return ke();H.cell=b;const{tooltipStore:ee}=g,{column:we,row:De}=H,{showAll:Le,contentMethod:Be}=c,Ue=Be?Be(H):null,tt=Be&&!n.eqNull(Ue),je=tt?Ue:n.toString(we.type==="html"?G.innerText:G.textContent).trim(),pt=G.scrollWidth>G.clientWidth;if(je&&(Le||tt||pt)){const rt=Go(je);Object.assign(ee,{row:De,column:we,visible:!0,content:rt,type:f,currOpts:c}),ke(()=>{const dt=$.value;dt&&dt.open&&dt.open(pt?G:I,rt)})}return ke()},Er=(s,c)=>{if(s){if(S)return S.callSlot(s,c);if(n.isFunction(s))return Po(s(c))}return[]};k={getSetupOptions(){return Fn()},updateAfterDataIndex:No,callSlot:Er,getParentElem(){const s=R.value;if(S){const c=S.getRefMaps().refElem.value;return c?c.parentNode:null}return s?s.parentNode:null},getParentHeight(){const{height:s}=e,c=R.value;if(c){const f=c.parentNode;let b=0,E=0;return f&&(h&&Ss(f,"vxe-gantt--table-wrapper")?E=h.getParentHeight():C&&Ss(f,"vxe-grid--table-wrapper")?E=C.getParentHeight():(E=f.clientHeight,b=s==="100%"||s==="auto"?gd(f):0)),Math.floor(E-b)}return 0},getExcludeHeight(){return S?S.getExcludeHeight():0},defineField(s){const{treeConfig:c}=e,f=Nn.value,b=Mn.value,E=ot.value,I=it.value,H=b.children||b.childrenField,G=Ba(y);return n.isArray(s)||(s=[s]),s.map(ee=>(i.tableFullColumn.forEach(De=>{const{field:Le,editRender:Be}=De;if(Le&&!n.has(ee,Le)&&!ee[Le]){let Ue=null;if(Be){const{defaultValue:tt}=Be;n.isFunction(tt)?Ue=tt({column:De}):n.isUndefined(tt)||(Ue=tt)}n.set(ee,Le,Ue)}}),[E.labelField,I.checkField,I.labelField,f.labelField].forEach(De=>{De&&ns(n.get(ee,De))&&n.set(ee,De,null)}),c&&b.lazy&&n.isUndefined(ee[H])&&(ee[H]=null),ns(n.get(ee,G))&&n.set(ee,G,ni()),ee))},handleTableData(s){const{scrollYLoad:c}=g,{scrollYStore:f,fullDataRowIdData:b}=i,E=i.xeGanttView;let I=i.afterFullData;s&&(Cl(),I=vo());const H=c?I.slice(f.startIndex,f.endIndex):I.slice(0),G={};return H.forEach((ee,we)=>{const De=Zt(y,ee),Le=b[De];Le&&(Le.$index=we),G[De]=ee}),g.tableData=H,i.visibleDataRowIdData=G,E&&E.updateViewData&&E.updateViewData(),ke()},cacheRowMap(s){const{treeConfig:c}=e,{isRowGroupStatus:f}=g,{currKeyField:b,fullAllDataRowIdData:E,tableFullData:I,tableFullTreeData:H,tableFullGroupData:G,treeExpandedMaps:ee}=i,we=s?{}:Object.assign({},E),De={},Le={},{handleUpdateRowId:Be}=Kf(y),Ue=(tt,je,pt,rt,dt,Je,Xe,kt)=>{let Pt=we[Je];Le[Je]&&en("vxe.error.repeatKey",[b,Je]),Pt||(Pt={row:tt,rowid:Je,seq:kt,index:-1,_index:-1,$index:-1,treeIndex:je,_tIndex:-1,items:pt,parent:dt,level:Xe,height:0,resizeHeight:0,oTop:0,expandHeight:0},De[Je]=Pt,we[Je]=Pt),Pt.treeLoaded=!1,Pt.expandLoaded=!1,Pt.row=tt,Pt.items=pt,Pt.parent=dt,Pt.level=Xe,Pt.index=rt,Pt.treeIndex=je,Le[Je]=!0,De[Je]=Pt,we[Je]=Pt};if(c){const tt=Mn.value,{lazy:je}=tt,pt=tt.children||tt.childrenField,rt=tt.hasChild||tt.hasChildField;n.eachTree(H,(dt,Je,Xe,kt,Pt,Ft)=>{const qt=Be(dt);c&&je&&(dt[rt]&&dt[pt]===void 0&&(dt[pt]=null),ee[qt]&&(!dt[pt]||!dt[pt].length)&&delete ee[qt]),Ue(dt,Je,Xe,Pt?-1:Je,Pt,qt,Ft.length-1,Jf(kt))},{children:pt})}else if(f){const tt=q.value,{mapChildrenField:je}=tt;n.eachTree(G,(pt,rt,dt,Je,Xe,kt)=>{const Pt=Be(pt);Ue(pt,rt,dt,Xe?-1:rt,Xe,Pt,kt.length-1,Jf(Je))},{children:je})}else I.forEach((tt,je,pt)=>{Ue(tt,je,pt,je,null,Be(tt),0,je+1)});i.fullDataRowIdData=De,i.fullAllDataRowIdData=we,g.treeExpandedFlag++},cacheSourceMap(s){const{treeConfig:c}=e,f=Mn.value,b=n.clone(s,!0),{handleUpdateRowId:E}=Kf(y),I={},H=G=>{const ee=E(G);I[ee]=G};if(c){const G=f.children||f.childrenField;n.eachTree(b,H,{children:f.transform?f.mapChildrenField:G})}else b.forEach(H);i.sourceDataRowIdData=I,i.tableSourceData=b},analyColumnWidth(){const{tableFullColumn:s}=i,c=ie.value,{width:f,minWidth:b}=c,E=[],I=[],H=[],G=[],ee=[],we=[],De=[],Le=[];s.forEach(Be=>{f&&!Be.width&&(Be.width=f),b&&!Be.minWidth&&(Be.minWidth=b),Be.visible&&(Be.resizeWidth?E.push(Be):Be.width==="auto"?De.push(Be):pd(Be.width)?I.push(Be):Xa(Be.width)?ee.push(Be):pd(Be.minWidth)?H.push(Be):Be.minWidth==="auto"?G.push(Be):Xa(Be.minWidth)?we.push(Be):Le.push(Be))}),Object.assign(g.columnStore,{resizeList:E,pxList:I,pxMinList:H,autoMinList:G,scaleList:ee,scaleMinList:we,autoList:De,remainList:Le})},handleColResizeMousedownEvent(s,c,f){s.stopPropagation(),s.preventDefault();const{column:b}=f,{columnStore:E,overflowX:I,scrollbarHeight:H}=g,{visibleColumn:G}=i,{leftList:ee,rightList:we}=E,De=Ne.value,Le=I?H:0,Be=R.value,Ue=ze.value,tt=ce.value,je=ue.value;if(!je)return;const pt=c==="left",rt=c==="right",dt=je.firstElementChild,Je=ft.value,{clientX:Xe}=s,kt=s.target;let Pt=kt.parentElement,Ft=b;const qt=b.children&&b.children.length;if(qt&&(Ft=vy(b),qt)){const In=Pt?Pt.parentElement:null,Kn=In?In.parentElement:null;Pt=Kn?Kn.querySelector(`.vxe-header--column[colid="${Ft.id}"]`):null}if(!Pt)return;const Ht=n.assign(f,{cell:Pt,$table:y});let Bt=0;const Xt=Be.getBoundingClientRect(),nn=tt?tt.getBoundingClientRect():null,fn=Pt.getBoundingClientRect(),an=kt.getBoundingClientRect(),xn=kt.clientWidth,Tn=n.floor(xn/2),yn=an.x-Xt.x+Tn,gn=Qf(Ht)-Tn,Cn=rt?0:fn.x-Xt.x+xn+gn,Vn=fn.x-Xt.x+Pt.clientWidth-gn;let un=0,Un=0;if(pt||rt){let In=!1;const Kn=pt?ee:we;for(let Pn=0;Pn<Kn.length;Pn++){const Rn=Kn[Pn];In?un+=Rn.renderWidth:(In=Rn.id===Ft.id,In||(Un+=Rn.renderWidth))}}const qn=In=>{In.stopPropagation(),In.preventDefault();const Kn=Be.clientHeight,Pn=In.clientX-Xe;let Rn=yn+Pn;pt?nn&&(Rn=Math.min(Rn,nn.x-Xt.x-un-gn)):rt&&(Ue&&(Rn=Math.max(Rn,Ue.clientWidth+Un+gn)),Rn=Math.min(Rn,Vn)),Bt=Math.max(Rn,Cn);const Bn=Math.max(1,Bt);if(je.style.left=`${Bn}px`,je.style.top=`${Je?Le:0}px`,je.style.height=`${Je?Kn-Le:Kn}px`,De.showDragTip&&dt){dt.textContent=Ll("vxe.table.resizeColTip",[Math.floor(Ft.renderWidth+(rt?yn-Bt:Bt-yn))]);const yo=Be.clientWidth,co=je.clientWidth,Gn=dt.clientWidth,Oo=dt.clientHeight;let bo=-Gn;Bn<Gn+co?bo=0:Bn>yo&&(bo+=yo-Bn),dt.style.left=`${bo}px`,dt.style.top=`${Math.min(Kn-Oo,Math.max(0,In.clientY-Xt.y-Oo/2))}px`}g.isDragResize=!0};g.isDragResize=!0,Dl(Be,"col-drag--resize"),je.style.display="block",document.onmousemove=qn,document.onmouseup=function(In){document.onmousemove=null,document.onmouseup=null,je.style.display="none",i._lastResizeTime=Date.now(),setTimeout(()=>{g.isDragResize=!1},50);const Kn=Ft.renderWidth+(rt?yn-Bt:Bt-yn),Pn=Object.assign(Object.assign({},f),{resizeWidth:Kn,resizeColumn:Ft});De.dragMode==="fixed"&&G.forEach(Rn=>{Rn.id!==Ft.id&&(Rn.resizeWidth||(Rn.resizeWidth=Rn.renderWidth))}),y.handleColResizeCellAreaEvent?y.handleColResizeCellAreaEvent(In,Pn):(Ft.resizeWidth=Kn,tf(In,Pn)),nl(Be,"col-drag--resize")},qn(s),y.closeMenu&&y.closeMenu()},handleColResizeDblclickEvent(s,c){const f=Ne.value,{isDblclickAutoWidth:b}=f,E=R.value;if(b&&E){s.stopPropagation(),s.preventDefault();const{fullColumnIdData:I}=i,{column:H}=c;let G=H;H.children&&H.children.length&&n.eachTree(H.children,pt=>{G=pt});const ee=G.id,we=I[ee],Le=s.target.parentNode,Be=Object.assign(c,{cell:Le,$table:y}),Ue=Qf(Be);E.setAttribute("data-calc-col","Y");let tt=It(G,E);E.removeAttribute("data-calc-col"),we&&(tt=Math.max(tt,we.width)),tt=Math.max(Ue,tt);const je=Object.assign(Object.assign({},c),{resizeWidth:tt,resizeColumn:G});g.isDragResize=!1,i._lastResizeTime=Date.now(),y.handleColResizeDblclickCellAreaEvent?y.handleColResizeDblclickCellAreaEvent(s,je):(G.resizeWidth=tt,tf(s,je))}},handleRowResizeMousedownEvent(s,c){s.stopPropagation(),s.preventDefault();const{row:f}=c,{showOverflow:b}=e,{overflowX:E,scrollbarWidth:I,overflowY:H,scrollbarHeight:G}=g,{elemStore:ee,fullAllDataRowIdData:we}=i,De=H?I:0,Le=E?G:0,Be=vt.value,Ue=Ne.value,tt=P.value,je=He.value;let pt=R.value;if(h){const{refGanttContainerElem:Vn}=h.getRefMaps(),un=Vn.value;un&&(pt=un)}const rt=me.value;if(!rt)return;const{clientY:dt}=s,Je=rt.firstElementChild,kt=s.currentTarget.parentNode,Pt=kt.parentNode;if(!hn(ee["main-body-scroll"]))return;const qt=Zt(y,f),Ht=we[qt];if(!Ht)return;const Bt=N.value;let Xt=Ht.resizeHeight||je.height||tt.height||Ht.height||Bt;b||(Xt=kt.clientHeight);const nn=pt.getBoundingClientRect(),fn=Pt.getBoundingClientRect(),an=dt-fn.y-Pt.clientHeight;let xn=Xt;const Tn=kt.querySelector(".vxe-cell");let yn=0;if(Tn){const Vn=getComputedStyle(Tn);yn=Math.max(1,Math.ceil(n.toNumber(Vn.paddingTop)+n.toNumber(Vn.paddingBottom)))}const gn=fn.y-nn.y+yn,Cn=Vn=>{Vn.stopPropagation(),Vn.preventDefault();const un=pt.clientWidth-De,Un=pt.clientHeight-Le;let qn=Vn.clientY-nn.y-an;if(qn<gn?qn=gn:xn=Math.max(yn,Xt+Vn.clientY-dt),rt.style.left=`${Be?De:0}px`,rt.style.top=`${qn}px`,rt.style.width=`${un}px`,Ue.showDragTip&&Je){Je.textContent=Ll("vxe.table.resizeRowTip",[xn]);const In=Je.clientWidth,Kn=Je.clientHeight;let Pn=Math.max(2,Vn.clientX-nn.x),Rn=0;Pn+In>=un-2&&(Pn=un-In-2),qn+Kn>=Un&&(Rn=Un-(qn+Kn)),Je.style.left=`${Pn}px`,Je.style.top=`${Rn}px`}g.isDragResize=!0};g.isDragResize=!0,Dl(pt,"row-drag--resize"),rt.style.display="block",document.onmousemove=Cn,document.onmouseup=function(Vn){if(document.onmousemove=null,document.onmouseup=null,rt.style.display="none",i._lastResizeTime=Date.now(),setTimeout(()=>{g.isDragResize=!1},50),xn!==Xt){const un=Object.assign(Object.assign({},c),{resizeHeight:xn,resizeRow:f});i.isResizeCellHeight=!0,y.handleRowResizeCellAreaEvent?y.handleRowResizeCellAreaEvent(Vn,un):(Ht.resizeHeight=xn,nf(Vn,un),el())}nl(pt,"row-drag--resize")},Cn(s)},handleRowResizeDblclickEvent(s,c){const f=Ne.value,{isDblclickAutoHeight:b}=f,E=R.value;if(b&&E){s.stopPropagation(),s.preventDefault();const{editStore:I}=g,{fullAllDataRowIdData:H}=i,{actived:G}=I,{row:ee}=c,we=Zt(y,ee),De=H[we];if(!De)return;const Le=()=>{E.setAttribute("data-calc-row","Y");const Be=Dn(De,E);E.removeAttribute("data-calc-row");const Ue=Object.assign(Object.assign({},c),{resizeHeight:Be,resizeRow:ee});g.isDragResize=!1,i._lastResizeTime=Date.now(),y.handleRowResizeDblclickCellAreaEvent?y.handleRowResizeDblclickCellAreaEvent(s,Ue):(De.resizeHeight=Be,nf(s,Ue))};G.row||G.column?y.clearEdit().then(Le):Le()}},saveCustomStore(s){const{customConfig:c}=e,f=et.value,b=bl.value,{updateStore:E,storage:I,storeOptions:H}=b,G=I===!0,ee=Object.assign({},G?{}:I||{},H),we=to(ee.resizable,G),De=to(ee.visible,G),Le=to(ee.fixed,G),Be=to(ee.sort,G),Ue=to(ee.aggGroup,G),tt=to(ee.aggFunc,G);if(s!=="reset"&&(g.isCustomStatus=!0),I&&(c?En(b):b.enabled)&&(we||De||Le||Be||Ue||tt)){if(!f)return en("vxe.error.reqProp",["id"]),ke();const je=s==="reset"?{resizableData:{},sortData:[],visibleData:{},fixedData:{},aggGroupData:{},aggFuncData:{}}:x.getCustomStoreData();if(E)return E({$table:y,id:f,type:s,storeData:je});ka(f,s==="reset"?null:je)}return ke()},handleCustom(){const{mouseConfig:s}=e;return s&&(y.clearSelected&&y.clearSelected(),y.clearCellAreas&&(y.clearCellAreas(),y.clearCopyCellArea())),k.analyColumnWidth(),x.refreshColumn(!0)},handleUpdateDataQueue(){g.upDataFlag++},handleRefreshColumnQueue(){g.reColumnFlag++},handleFilterOptions(s){if(s){const{filterStore:c}=g,{filterRender:f,filters:b}=s,E=b||[],I=En(f)?ld.get(f.name):null,H=s.filterRecoverMethod||(I?I.tableFilterRecoverMethod||I.filterRecoverMethod:null);c.column=s,E.forEach(G=>{const{_checked:ee,checked:we}=G;G._checked=we,!we&&ee!==we&&H&&H({option:G,column:s,$table:y})}),y.checkFilterOptions()}},preventEvent(s,c,f,b,E){let I=$p.get(c);!I.length&&c==="event.clearEdit"&&(I=$p.get("event.clearActived"),I.length&&cn("vxe.error.delEvent",["event.clearActived","event.clearEdit"]));let H=null,G=!1;for(let ee=0;ee<I.length;ee++){const we=I[ee],De=we(Object.assign({$table:y,$grid:C,gantt:h,$event:s},f));if(De===!1){G=!0;break}else if(De&&De.status===!1){H=De.result,G=!0;break}}return G||b&&(H=b()),E&&E(),H},updateCheckboxStatus(){const{treeConfig:s}=e,{isRowGroupStatus:c}=g,{afterTreeFullData:f,afterGroupFullData:b,selectCheckboxMaps:E,treeIndeterminateRowMaps:I}=i,H=q.value,G=Mn.value,ee=G.children||G.childrenField,we=it.value,{checkField:De,indeterminateField:Le,checkStrictly:Be,checkMethod:Ue}=we;if(!Be){if(c||s){const{handleGetRowId:tt}=Do(y),je={},pt=[];if(c){const rt=H.mapChildrenField;rt&&n.eachTree(b,dt=>{const Je=tt(dt),Xe=dt[rt];Xe&&Xe.length&&!je[Je]&&(je[Je]=1,pt.unshift([dt,Je,Xe]))},{children:rt})}else if(s){const{transform:rt,mapChildrenField:dt}=G;n.eachTree(f,Je=>{const Xe=tt(Je),kt=Je[rt?dt:ee];kt&&kt.length&&!je[Xe]?(je[Xe]=1,pt.unshift([Je,Xe,kt])):Le&&n.set(Je,Le,!1)},{children:rt?dt:ee})}pt.forEach(rt=>{const dt=rt[0],Je=rt[1],Xe=rt[2];let kt=0,Pt=0,Ft=0;const qt=Xe.length;Xe.forEach(Ue?Xt=>{const nn=tt(Xt),fn=De?n.get(Xt,De):E[nn];Ue({$table:y,row:Xt})?(fn?kt++:I[nn]&&Pt++,Ft++):fn?kt++:I[nn]&&Pt++}:Xt=>{const nn=tt(Xt);(De?n.get(Xt,De):E[nn])?kt++:I[nn]&&Pt++,Ft++});let Ht=!1;qt>0?Ft>0?Ht=(kt>0||Pt>0)&&kt>=Ft:kt>0&&kt>=Ft||E[Je]?Ht=!0:Ht=!1:Ht=E[Je];const Bt=!Ht&&(kt>0||Pt>0);De&&n.set(dt,De,Ht),Le&&n.set(dt,Le,Bt),Ht?(De||(E[Je]=dt),I[Je]&&delete I[Je]):(De||E[Je]&&delete E[Je],Bt?I[Je]=dt:I[Je]&&delete I[Je])})}g.updateCheckboxFlag++}},updateAllCheckboxStatus(){const{treeConfig:s}=e,{isRowGroupStatus:c}=g,{afterFullData:f,afterTreeFullData:b,afterGroupFullData:E,checkboxReserveRowMap:I,selectCheckboxMaps:H,treeIndeterminateRowMaps:G}=i,ee=q.value,{mapChildrenField:we}=ee,De=it.value,{checkField:Le,checkMethod:Be,showReserveStatus:Ue}=De,{handleGetRowId:tt}=Do(y);let je=0,pt=0,rt=0,dt=0,Je=0;const Xe=s?b:c?E:f;Xe.forEach(Be?Ft=>{const qt=tt(Ft),Ht=Le?n.get(Ft,Le):H[qt];if(c&&y.isAggregateRecord(Ft)){const Bt=Ft[we||""];Ht?(Je++,je++):G[qt]?(Je++,rt++):Bt&&Bt.length&&Bt.some(Xt=>Be({$table:y,row:Xt}))&&Je++}else Be({$table:y,row:Ft})?(Ht?je++:G[qt]&&rt++,Je++):Ht?pt++:G[qt]&&dt++}:Ft=>{const qt=tt(Ft);(Le?n.get(Ft,Le):H[qt])?je++:G[qt]&&rt++,Je++});const kt=Xe.length>0?Je>0?je>=Je:je>=Xe.length:!1;let Pt=!kt&&(je>0||rt>0||pt>0||dt>0);!kt&&!Pt&&Ue&&(Pt=!n.isEmpty(I)),g.isAllSelected=kt,g.isIndeterminate=Pt},checkSelectionStatus(){y.updateCheckboxStatus(),y.updateAllCheckboxStatus()},handleBatchSelectRows(s,c,f){const{treeConfig:b}=e,{isRowGroupStatus:E}=g,{selectCheckboxMaps:I}=i,H=q.value,G=Mn.value,{transform:ee,mapChildrenField:we}=G,De=G.children||G.childrenField,Le=it.value,{checkField:Be,checkStrictly:Ue,checkMethod:tt}=Le,{handleGetRowId:je}=Do(y),pt=Le.indeterminateField||Le.halfField;if(Be){if((b||E)&&!Ue){n.eachTree(s,rt=>{(f||!tt||tt({$table:y,row:rt}))&&(n.set(rt,Be,c),pt&&n.set(rt,pt,!1),na(rt,c))},{children:ee?we:De}),g.updateCheckboxFlag++;return}s.forEach(rt=>{(f||!tt||tt({$table:y,row:rt}))&&(n.set(rt,Be,c),na(rt,c))}),g.updateCheckboxFlag++;return}if(!Ue){if(E){n.eachTree(s,rt=>{const dt=je(rt);(f||!tt||tt({$table:y,row:rt}))&&(c?I[dt]=rt:I[dt]&&delete I[dt],na(rt,c))},{children:H.mapChildrenField}),g.updateCheckboxFlag++;return}else if(b){n.eachTree(s,rt=>{const dt=je(rt);(f||!tt||tt({$table:y,row:rt}))&&(c?I[dt]=rt:I[dt]&&delete I[dt],na(rt,c))},{children:ee?we:De}),g.updateCheckboxFlag++;return}}s.forEach(rt=>{const dt=je(rt);(f||!tt||tt({$table:y,row:rt}))&&(c?I[dt]||(I[dt]=rt):I[dt]&&delete I[dt],na(rt,c),g.updateCheckboxFlag++)})},handleSelectRow({row:s},c,f){y.handleBatchSelectRows([s],c,f)},handleUpdateBodyMerge(){const{mergeBodyList:s}=i;i.mergeBodyCellMaps=yl(s),g.mergeBodyFlag++},handleUpdateHeaderMerge(){const{mergeHeaderList:s}=i;i.mergeHeaderCellMaps=yl(s),g.mergeHeadFlag++},handleUpdateFooterMerge(){const{mergeFooterList:s}=i;i.mergeFooterCellMaps=yl(s),g.mergeFootFlag++},handleAggregateSummaryData(){return Fm()},triggerHeaderTitleEvent(s,c,f){const b=c.content||c.message;if(b){const{tooltipStore:E}=g,{column:I}=f,H=as(b);vi(!0),E.row=null,E.column=I,E.visible=!0,E.currOpts=c,ke(()=>{const G=$.value;G&&G.open&&G.open(s.currentTarget,H)})}},triggerHeaderTooltipEvent(s,c){const{tooltipStore:f}=g,b=zt.value,{column:E}=c;vi(!0);const I=s.currentTarget;if(!I)return;const H=I.parentElement;if(!H)return;const G=H.parentElement;if(!G)return;const ee=G.parentElement;if(ee&&(f.column!==E||!f.visible)){const we=ee.querySelector(".vxe-cell--title");wu(s,b,"header",ee,(Ss(ee,"col--ellipsis")?we:H)||H,we||G,c)}},triggerBodyTooltipEvent(s,c){const{editConfig:f}=e,{editStore:b}=g,{tooltipStore:E}=g,I=Tt.value,H=Ce.value,{actived:G}=b,{row:ee,column:we}=c,De=s.currentTarget;if(vi(E.column!==we||E.row!==ee),!(we.editRender&&En(f)&&(H.mode==="row"&&G.row===ee||G.row===ee&&G.column===we))&&(E.column!==we||E.row!==ee||!E.visible)){const Le=De.querySelector(".vxe-cell--wrapper");let Be=null,Ue=De.querySelector(we.type==="html"?".vxe-cell--html":".vxe-cell--label");we.treeNode&&(Be=De.querySelector(".vxe-tree-cell")),Ue||(Ue=Le),wu(s,I,"body",De,Be||Le,Ue,c)}},triggerFooterTooltipEvent(s,c){const{column:f}=c,{tooltipStore:b}=g,E=_t.value,I=s.currentTarget;if(vi(b.column!==f||!!b.row),b.column!==f||!b.visible){const H=I.querySelector(".vxe-cell--wrapper");let G=null,ee=I.querySelector(f.type==="html"?".vxe-cell--html":".vxe-cell--label");f.type==="html"&&(G=I.querySelector(".vxe-cell--html")),ee||(ee=H),wu(s,E,"footer",I,G||H,ee,c)}},handleTargetLeaveEvent(){const s=Tt.value;let c=$.value;c&&c.setActived&&c.setActived(!1),s.enterable?i.tooltipTimeout=setTimeout(()=>{c=$.value,c&&c.isActived&&!c.isActived()&&y.closeTooltip()},s.leaveDelay):y.closeTooltip()},triggerHeaderCellClickEvent(s,c){const{_lastResizeTime:f}=i,b=at.value,E=ie.value,I=Me.value,{column:H}=c,G=s.currentTarget,ee=f&&f>Date.now()-300,we=Yn(s,G,"vxe-cell--sort").flag,De=Yn(s,G,"vxe-cell--filter").flag;b.trigger==="cell"&&!(ee||we||De)&&y.triggerSortEvent(s,H,pl(H)),Hn("header-cell-click",Object.assign({triggerResizable:ee,triggerSort:we,triggerFilter:De,cell:G},c),s),(E.isCurrent||e.highlightCurrentColumn)&&(!I.trigger||["header","default"].includes(I.trigger))&&y.triggerCurrentColumnEvent(s,c)},triggerHeaderCellDblclickEvent(s,c){Hn("header-cell-dblclick",Object.assign({cell:s.currentTarget},c),s)},triggerCellClickEvent(s,c){const{treeConfig:f,highlightCurrentRow:b,highlightCurrentColumn:E,editConfig:I,aggregateConfig:H,rowGroupConfig:G}=e,{editStore:ee,isDragResize:we,expandColumn:De,checkboxColumn:Le,radioColumn:Be}=g;if(we)return;const Ue=Nn.value,tt=Ce.value,je=Mn.value,pt=ot.value,rt=it.value,dt=xt.value,Je=q.value,Xe=P.value,kt=ie.value,Pt=Me.value,{actived:Ft,focused:qt}=ee,{row:Ht,column:Bt}=c,{type:Xt,treeNode:nn,rowGroupNode:fn}=Bt,an=Xt==="radio",xn=Xt==="checkbox",Tn=Xt==="expand",yn=s.currentTarget,gn=an&&Yn(s,yn,"vxe-cell--radio").flag,Cn=xn&&Yn(s,yn,"vxe-cell--checkbox").flag,Vn=nn&&Yn(s,yn,"vxe-cell--tree-btn").flag,un=Tn&&Yn(s,yn,"vxe-table--expanded").flag,Un=Tn&&Yn(s,yn,"vxe-row-group--node-btn").flag;c=Object.assign({cell:yn,triggerRadio:gn,triggerCheckbox:Cn,triggerTreeNode:Vn,triggerExpandNode:un},c),!Cn&&!gn&&(!un&&(De&&Ue.trigger==="row"||Tn&&Ue.trigger==="cell")&&y.triggerRowExpandEvent(s,c),f&&(je.trigger==="row"||nn&&je.trigger==="cell")&&y.triggerTreeExpandEvent(s,c),(H||G)&&(Je.trigger==="row"||fn&&Je.trigger==="cell")&&y.triggerRowGroupExpandEvent(s,c)),Vn||(!un&&!Un&&((Xe.isCurrent||b)&&!Cn&&!gn&&y.triggerCurrentRowEvent(s,c),(kt.isCurrent||E)&&(!Pt.trigger||["cell","default"].includes(Pt.trigger))&&!Cn&&!gn&&y.triggerCurrentColumnEvent(s,c),!gn&&(Be&&pt.trigger==="row"||an&&pt.trigger==="cell")&&y.triggerRadioRowEvent(s,c),!Cn&&(Le&&rt.trigger==="row"||xn&&rt.trigger==="cell")&&y.handleToggleCheckRowEvent(s,c)),En(I)&&(dt.arrowCursorLock&&s&&tt.mode==="cell"&&s.target&&/^input|textarea$/i.test(s.target.tagName)&&(qt.column=Bt,qt.row=Ht),tt.trigger==="manual"?Ft.args&&Ft.row===Ht&&Bt!==Ft.column&&xr(s,c):(!Ft.args||Ht!==Ft.row||Bt!==Ft.column)&&(tt.trigger==="click"||tt.trigger==="dblclick"&&tt.mode==="row"&&Ft.row===Ht)&&xr(s,c))),En(I)&&tt.trigger==="dblclick"&&Ft.row&&Ft.column&&(tt.mode==="row"?y.eqRow(Ft.row,Ht)||y.handleClearEdit(s):tt.mode==="cell"&&(!y.eqRow(Ft.row,Ht)||Ft.column.id!==Bt.id)&&y.handleClearEdit(s)),Hn("cell-click",c,s)},triggerCellDblclickEvent(s,c){const{editConfig:f}=e,{editStore:b,isDragResize:E}=g;if(E)return;const I=Ce.value,{actived:H}=b,G=s.currentTarget;c=Object.assign({cell:G},c),En(f)&&I.trigger==="dblclick"&&(!H.args||s.currentTarget!==H.args.cell)&&(I.mode==="row"?fs("blur").catch(ee=>ee).then(()=>{y.handleEdit(c,s).then(()=>fs("change")).catch(ee=>ee)}):I.mode==="cell"&&y.handleEdit(c,s).then(()=>fs("change")).catch(ee=>ee)),Hn("cell-dblclick",c,s)},handleToggleCheckRowEvent(s,c){const{selectCheckboxMaps:f}=i,b=it.value,{checkField:E,trigger:I}=b,{row:H}=c;if(I==="manual")return;let G=!1;E?G=!n.get(H,E):G=!f[Zt(y,H)],s?y.triggerCheckRowEvent(s,c,G):(y.handleBatchSelectRows([H],G),y.checkSelectionStatus())},triggerCheckRowEvent(s,c,f){const{treeConfig:b}=e,{row:E}=c,{isRowGroupStatus:I}=g,{afterFullData:H}=i,G=it.value,{checkMethod:ee,trigger:we}=G;if(we!=="manual"){if(s.stopPropagation(),G.isShiftKey&&s.shiftKey&&!(b||I)){const De=y.getCheckboxRecords();if(De.length){const Le=De[0],Be=y.getVTRowIndex(E),Ue=y.getVTRowIndex(Le);if(Be!==Ue){y.setAllCheckboxRow(!1);const tt=Be<Ue?H.slice(Be,Ue+1):H.slice(Ue,Be+1);ke(()=>{oa(tt,!0,!1)}),Hn("checkbox-range-select",Object.assign({rangeRecords:tt},c),s);return}}}(I||!ee||ee({$table:y,row:E}))&&(y.handleBatchSelectRows([E],f),y.checkSelectionStatus(),Hn("checkbox-change",Object.assign({records:()=>y.getCheckboxRecords(),reserves:()=>y.getCheckboxReserveRecords(),indeterminates:()=>y.getCheckboxIndeterminateRecords(),checked:f},c),s))}},triggerCheckAllEvent(s,c){const f=it.value,{trigger:b}=f;b!=="manual"&&(s&&s.stopPropagation(),ef(s,c))},triggerRadioRowEvent(s,c){const{selectRadioRow:f}=g,{row:b}=c,E=ot.value,{trigger:I,checkMethod:H}=E;if(I!=="manual"&&(s.stopPropagation(),!H||H({$table:y,row:b}))){let G=b,ee=f!==G;ee?yr(G):E.strict||(ee=f===G,ee&&(G=null,y.clearRadioRow())),ee&&Hn("radio-change",Object.assign({oldValue:f,newValue:G},c),s)}},triggerCurrentColumnEvent(s,c){const{currentColumn:f}=g,b=ie.value,E=Me.value,I=E.beforeSelectMethod||b.currentMethod,{column:H}=c,{trigger:G}=E;if(G==="manual")return;const ee=f!==H;!I||I({column:H,$table:y})?(y.setCurrentColumn(H),ee&&Hn("current-column-change",Object.assign({oldValue:f,newValue:H},c),s)):Hn("current-column-disabled",c,s)},triggerCurrentRowEvent(s,c){const{currentRow:f}=g,b=P.value,E=qe.value,I=E.beforeSelectMethod||b.currentMethod,{row:H}=c,{trigger:G}=E;if(G==="manual")return;const ee=f!==H;!I||I({row:H,$table:y})?(y.setCurrentRow(H),ee&&(Hn("current-row-change",Object.assign({oldValue:f,newValue:H},c),s),Hn("current-change",Object.assign({oldValue:f,newValue:H},c),s))):Hn("current-row-disabled",c,s)},triggerRowExpandEvent(s,c){const{expandColumn:f}=g,{rowExpandLazyLoadedMaps:b}=i,E=Nn.value,{row:I}=c,{lazy:H,trigger:G}=E;if(G==="manual")return;s.stopPropagation();const ee=Zt(y,I);if(!H||!b[ee]){const we=!y.isRowExpandByRow(I),De=f?y.getColumnIndex(f):-1,Le=f?y.getVMColumnIndex(f):-1;y.setRowExpand(I,we),Hn("toggle-row-expand",{expanded:we,column:f,columnIndex:De,$columnIndex:Le,row:I,rowIndex:y.getRowIndex(I),$rowIndex:y.getVMRowIndex(I)},s)}},triggerRowGroupExpandEvent(s,c){const{rowGroupExpandedMaps:f}=i,b=q.value,{row:E,column:I}=c,{trigger:H}=b;if(H==="manual")return;s.stopPropagation();const G=Zt(y,E),ee=!f[G],we=y.getColumnIndex(I),De=y.getVMColumnIndex(I);y.setRowGroupExpand(E,ee),Hn("toggle-row-group-expand",{expanded:ee,column:I,columnIndex:we,$columnIndex:De,row:E},s)},triggerTreeExpandEvent(s,c){const{treeExpandLazyLoadedMaps:f,treeEATime:b}=i,E=Mn.value,{row:I,column:H}=c,{lazy:G,trigger:ee,accordion:we}=E;if(ee==="manual")return;s.stopPropagation();const De=Zt(y,I);if(!G||!f[De]){const Le=!y.isTreeExpandByRow(I),Be=y.getColumnIndex(H),Ue=y.getVMColumnIndex(H);b&&clearTimeout(b),y.setTreeExpand(I,Le).then(()=>{we&&(i.treeEATime=setTimeout(()=>{i.treeEATime=void 0,y.scrollToRow(I)},30))}),Hn("toggle-tree-expand",{expanded:Le,column:H,columnIndex:Be,$columnIndex:Ue,row:I},s)}},handleColumnSortEvent(s,c){const{mouseConfig:f}=e,b=bt.value,{field:E,sortable:I,order:H}=c;if(I){const G={$table:y,$event:s,column:c,field:E,property:E,order:H,sortList:x.getSortColumns(),sortTime:c.sortTime};f&&b.area&&y.handleSortEvent&&y.handleSortEvent(s,G),H||Hn("clear-sort",G,s),Hn("sort-change",G,s)}},triggerSortEvent(s,c,f){const b=at.value,{multiple:E,allowClear:I}=b,{field:H,sortable:G}=c;G&&(!f||c.order===f?I&&y.clearSort(E?c:null):y.sort({field:H,order:f}),y.handleColumnSortEvent(s,c))},handleCellRuleUpdateStatus(s,c,f){const{validStore:b}=g,{row:E,column:I}=c;if(y.hasCellRules&&y.hasCellRules(s,E,I)){const H=y.getCellElement(E,I);if(H){const G=!n.isUndefined(f);return y.validCellRules(s,E,I,f).then(()=>{G&&b.visible&&_l(E,I,f),y.clearValidate(E,I)}).catch(({rule:ee})=>{G&&_l(E,I,f),y.showValidTooltip({rule:ee,row:E,column:I,cell:H})})}}return ke()},triggerHeaderCellMousedownEvent(s,c){const{mouseConfig:f}=e,b=bt.value,E=ie.value,I=K.value,{trigger:H,isCrossDrag:G,isPeerDrag:ee,disabledMethod:we}=I,De=s.currentTarget,Le=De&&De.tagName&&De.tagName.toLowerCase()==="input",Be=Yn(s,De,"vxe-cell--checkbox").flag,Ue=Yn(s,De,"vxe-cell--sort").flag,tt=Yn(s,De,"vxe-cell--filter").flag;let je=!1;const pt=E.drag&&H==="cell";if(!(Le||Be||Ue||tt)){const{column:rt}=c;pt&&!rt.fixed&&(G||ee||!rt.parentId)&&!(we&&we(c))&&(je=!0,y.handleHeaderCellDragMousedownEvent(s,c))}!je&&f&&b.area&&y.handleHeaderCellAreaMouseDnEvent&&y.handleHeaderCellAreaMouseDnEvent(s,Object.assign({cell:De,triggerSort:Ue,triggerFilter:tt},c)),y.focus(),y.closeMenu&&y.closeMenu()},triggerCellMousedownEvent(s,c){const{column:f}=c,{type:b,treeNode:E}=f,I=b==="radio",H=b==="checkbox",G=b==="expand",ee=P.value,we=Ze.value,{trigger:De,isCrossDrag:Le,isPeerDrag:Be,disabledMethod:Ue}=we,tt=s.currentTarget;c.cell=tt;const je=tt&&tt.tagName&&tt.tagName.toLowerCase()==="input",pt=I&&Yn(s,tt,"vxe-cell--radio").flag,rt=H&&Yn(s,tt,"vxe-cell--checkbox").flag,dt=E&&Yn(s,tt,"vxe-cell--tree-btn").flag,Je=G&&Yn(s,tt,"vxe-table--expanded").flag;let Xe=!1;ee.drag&&(Xe=De==="row"||f.dragSort&&De==="cell");let kt=!1;je||pt||rt||dt||Je||Xe&&(Le||Be||!c.level)&&!(Ue&&Ue(c))&&(kt=!0,y.handleCellDragMousedownEvent(s,c)),!kt&&y.handleCellMousedownEvent&&y.handleCellMousedownEvent(s,c),y.focus(),y.closeFilter(),y.closeMenu&&y.closeMenu()},triggerCellMouseupEvent(){sf()},handleRowDragDragstartEvent(s){s.dataTransfer&&s.dataTransfer.setDragImage(fd(),0,0)},handleRowDragSwapEvent(s,c,f,b,E,I){const{treeConfig:H,dragConfig:G}=e,ee=Ze.value,{afterFullData:we,tableFullData:De,fullAllDataRowIdData:Le}=i,Be=i.xeGanttView,{animation:Ue,isPeerDrag:tt,isCrossDrag:je,isSelfToChildDrag:pt,dragEndMethod:rt,dragToChildMethod:dt}=ee,Je=Mn.value,Xe=He.value,kt=P.value,Pt=N.value,{transform:Ft,rowField:qt,mapChildrenField:Ht,parentField:Bt}=Je,Xt=Je.children||Je.childrenField,nn=rt||(G?G.dragEndMethod:null),fn=E==="bottom"?1:0,an=R.value,xn={status:!1};if(!(an&&b&&f))return Promise.resolve(xn);if(b!==f){const Tn={oldRow:f,newRow:b,dragRow:f,dragPos:E,dragToChild:!!I,offsetIndex:fn},yn=pt&&dt?dt(Tn):I;return Promise.resolve(nn?nn(Tn):!0).then(gn=>{if(!gn)return xn;const Cn=Zt(y,f),Vn=Le[Cn]||{},un=Vn._index;let Un=0,qn=-1;if(Ue){Un=Sl(Vn,Xe,kt,Pt);const Pn=an.querySelector(`.vxe-body--row[rowid="${Cn}"]`);Pn&&(qn=Pn.offsetTop)}let In=-1,Kn=-1;if(H){if(Ft){const Pn=Vn,Rn=Zt(y,b),Bn=Le[Rn];if(Pn&&Bn){const{level:yo}=Pn,{level:co}=Bn,Gn={};n.eachTree([f],So=>{Gn[Zt(y,So)]=So},{children:Ht});let Oo=!1;if(yo&&co)if(tt&&!je){if(Pn.row[Bt]!==Bn.row[Bt])return xn}else{if(!je)return xn;if(Gn[Rn]&&(Oo=!0,!(je&&pt)))return We.modal&&We.modal.message({status:"error",content:Ll("vxe.error.treeDragChild")}),xn}else if(yo){if(!je)return xn}else if(co){if(!je)return xn;if(Gn[Rn]&&(Oo=!0,!(je&&pt)))return We.modal&&We.modal.message({status:"error",content:Ll("vxe.error.treeDragChild")}),xn}const bo=n.toTreeArray(i.afterTreeFullData,{key:qt,parentKey:Bt,children:Ht}),Lo=y.findRowIndexOf(bo,f);bo.splice(Lo,1);const Ho=y.findRowIndexOf(bo,b)+fn;bo.splice(Ho,0,f),Oo&&je&&pt&&n.each(f[Xt],So=>{So[Bt]=f[Bt]}),f[Bt]=yn?b[qt]:b[Bt],i.tableFullTreeData=n.toArrayTree(bo,{key:qt,parentKey:Bt,children:Xt,mapChildren:Ht})}}}else{In=y.findRowIndexOf(we,f);const Pn=y.findRowIndexOf(De,f);we.splice(In,1),De.splice(Pn,1);const Rn=y.findRowIndexOf(we,b),Bn=y.findRowIndexOf(De,b);Kn=Rn+fn;const yo=Bn+fn;we.splice(Kn,0,f),De.splice(yo,0,f)}return y.handleTableData(H&&Ft),y.cacheRowMap(!1),Cr(),H&&Ft||y.updateAfterDataIndex(),y.checkSelectionStatus(),g.scrollYLoad&&y.updateScrollYSpace(),s&&Hn("row-dragend",{oldRow:f,newRow:b,dragRow:f,dragPos:E,dragToChild:yn,offsetIndex:fn,_index:{newIndex:Kn,oldIndex:In}},s),ke().then(()=>{if(Ue){const{tableData:Pn}=g,Rn=Le[Cn],Bn=Rn._index,yo=Pn[0],co=Le[Zt(y,yo)];let Gn=an;if(h&&Be){const{refGanttContainerElem:Bo}=h.getRefMaps(),Ho=Bo.value;Ho&&(Gn=Ho)}if(co){const Bo=co._index,Ho=Bo+Pn.length;let So=-1,no=-1,_o=1;un<Bo?(So=0,no=Bn-Bo):un>Ho?(So=Rn.$index+1,no=Pn.length,_o=-1):Bn>un?(So=un-Bo,no=So+Bn-un):(So=Bn-Bo,no=So+un-Bn+1,_o=-1);const gs=Pn.slice(So,no);if(gs.length){const Yl=[];gs.forEach(ms=>{const Ao=Zt(y,ms);Yl.push(`.vxe-body--row[rowid="${Ao}"]`),h&&Yl.push(`.vxe-gantt-view--body-row[rowid="${Ao}"]`,`.vxe-gantt-view--chart-row[rowid="${Ao}"]`)});const ra=Gn.querySelectorAll(Yl.join(","));Ei(ra,_o*Un)}}const Oo=[`.vxe-body--row[rowid="${Cn}"]`];h&&Oo.push(`.vxe-gantt-view--body-row[rowid="${Cn}"]`,`.vxe-gantt-view--chart-row[rowid="${Cn}"]`);const bo=Gn.querySelectorAll(Oo.join(",")),Lo=bo[0];qn>-1&&Lo&&Ei(bo,qn-Lo.offsetTop)}el(),Vs(),y.updateCellAreas(),y.recalculate()}).then(()=>({status:!0}))}).catch(()=>xn)}return Promise.resolve(xn)},handleCrossTableRowDragFinishEvent(s){const{tableData:c}=g,{fullAllDataRowIdData:f}=i,b=P.value,E=He.value,I=N.value,H=Ze.value,{animation:G,isCrossTableDrag:ee}=H,we=Mn.value,{mapChildrenField:De}=we,Le=R.value;if(ee&&al&&V){const{row:Be}=V;if(Be){const Ue=Zt(y,Be),tt=f[Ue];let je=0,pt=-1;tt&&(G&&(je=Sl(tt,E,b,I)),pt=tt.$index);const rt=pt>-1&&pt<c.length-1?c.slice(pt+1):[],dt=n.toTreeArray([Be],{updated:!0,children:De});y.remove(dt).then(()=>{if(G&&je&&rt.length){const Je=i.xeGanttView;let Xe=Le;if(h&&Je){const{refGanttContainerElem:Ft}=h.getRefMaps(),qt=Ft.value;qt&&(Xe=qt)}const kt=[];rt.forEach(Ft=>{const qt=Zt(y,Ft);kt.push(`.vxe-body--row[rowid="${qt}"]`),h&&kt.push(`.vxe-gantt-view--body-row[rowid="${qt}"]`,`.vxe-gantt-view--chart-row[rowid="${qt}"]`)});const Pt=Xe.querySelectorAll(kt.join(","));Ei(Pt,je)}}),Hn("row-remove-dragend",{row:Be},s),xi(),$s()}}},handleCrossTableRowDragoverEmptyEvent(s){const{tableData:c}=g,f=Ze.value,{isCrossTableDrag:b}=f;if(b&&al&&!c.length){const{$oldTable:E,$newTable:I}=al;if(E){const H=E.reactData;E.xID!==y.xID&&(I&&I.xID!==y.xID&&I.hideCrossTableRowDropClearStatus(),s.preventDefault(),E.hideCrossTableRowDropClearStatus(),al.$newTable=y,i.prevDragRow=null,g.dragTipText=H.dragTipText,Va(s,s.currentTarget,null,!0,""))}}},handleCrossTableRowDragInsertEvent(s){const{treeConfig:c}=e,{prevDragRow:f,prevDragPos:b,prevDragToChild:E}=i,I=Ze.value,{animation:H,isSelfToChildDrag:G,isCrossTableDrag:ee,dragEndMethod:we,dragToChildMethod:De}=I,Le=P.value,Be=He.value,Ue=N.value,tt=Mn.value,{parentField:je,mapChildrenField:pt}=tt,rt=tt.children||tt.childrenField;if(ee&&al&&V){const{row:dt}=V,{$oldTable:Je}=al,Xe=R.value;if(Je&&dt){const kt=dt;let Pt=-1;f&&(Pt=b==="bottom"?1:0);const Ft={oldRow:kt,newRow:f,dragRow:kt,dragPos:b,dragToChild:!!E,offsetIndex:Pt},qt=G&&De?De(Ft):E,Ht={status:!1};Promise.resolve(we?we(Ft):!0).then(Bt=>{if(!Bt)return Ht;let Xt=Promise.resolve();if(c){const nn=n.toTreeArray([kt],{updated:!0,children:pt});Je.handleCrossTableRowDragFinishEvent(s),f?kt[je]=f[je]:kt[je]=null,nn.forEach(fn=>{fn[rt]=void 0,fn[pt]=void 0}),f?b==="bottom"?Xt=y.insertNextAt(nn,f):Xt=y.insertAt(nn,f):Xt=y.insert(nn)}else Je.handleCrossTableRowDragFinishEvent(s),f?b==="bottom"?Xt=y.insertNextAt(kt,f):Xt=y.insertAt(kt,f):Xt=y.insert(kt);Hn("row-insert-dragend",{oldRow:dt,newRow:f,dragRow:kt,dragPos:b,dragToChild:qt,offsetIndex:Pt},s),xi(),Xt.then(()=>{const{tableData:nn}=g,{fullAllDataRowIdData:fn}=i,an=Zt(y,kt),xn=fn[an];let Tn=0,yn=-1;xn&&(H&&(Tn=Sl(xn,Be,Le,Ue)),yn=xn.$index);const gn=yn>-1?nn.slice(yn):[];if(H&&Tn&&gn.length){const Cn=i.xeGanttView;let Vn=Xe;if(h&&Cn){const{refGanttContainerElem:qn}=h.getRefMaps(),In=qn.value;In&&(Vn=In)}const un=[];gn.forEach(qn=>{const In=Zt(y,qn);un.push(`.vxe-body--row[rowid="${In}"]`),h&&un.push(`.vxe-gantt-view--body-row[rowid="${In}"]`,`.vxe-gantt-view--chart-row[rowid="${In}"]`)});const Un=Vn.querySelectorAll(un.join(","));Ei(Un,-Tn)}})})}}},hideCrossTableRowDropClearStatus(){aa()},handleRowDragDragendEvent(s){const{treeConfig:c}=e,{fullAllDataRowIdData:f,prevDragToChild:b}=i,{dragRow:E}=g,I=Mn.value,{lazy:H}=I,G=I.hasChild||I.hasChildField,{prevDragRow:ee,prevDragPos:we}=i,De=Ze.value,{isCrossTableDrag:Le}=De;if(Le&&al){const{$newTable:Be}=al;if(Be&&Be.xID!==y.xID){Be.handleCrossTableRowDragInsertEvent(s);return}}if(c&&H&&b){const Be=Zt(y,ee),Ue=f[Be];ee[G]?Ue&&Ue.treeLoaded&&y.handleRowDragSwapEvent(s,!0,E,ee,we,b):y.handleRowDragSwapEvent(s,!0,E,ee,we,b)}else y.handleRowDragSwapEvent(s,!0,E,ee,we,b);xi(),$s()},handleRowDragDragoverEvent(s){const{treeConfig:c}=e,{fullAllDataRowIdData:f}=i,{dragRow:b}=g,E=Mn.value,{lazy:I,transform:H,parentField:G}=E,ee=E.hasChild||E.hasChildField,we=Ze.value,{isPeerDrag:De,isCrossDrag:Le,isToChildDrag:Be,isCrossTableDrag:Ue}=we;if(!b&&!(Ue&&(!c||Le)&&al)){s.preventDefault();return}const tt=ti(s),je=s.currentTarget,pt=je.getAttribute("rowid")||"",rt=f[pt];if(rt){s.preventDefault();const dt=rt.row,Je=Zt(y,dt),Xe=f[Je],Pt=s.clientY-je.getBoundingClientRect().y<je.clientHeight/2?"top":"bottom";if(i.prevDragToChild=!!(c&&H&&Le&&Be&&tt),i.prevDragRow=dt,i.prevDragPos=Pt,Ue&&(!c||Le)&&al){const{$oldTable:Ft,$newTable:qt}=al;if(Ft){const Ht=Ft.reactData;if(Ft.xID===y.xID)qt&&qt.hideCrossTableRowDropClearStatus(),g.isCrossDragRow=!1,Ht.isCrossDragRow=!1,al.$newTable=null;else{qt&&qt.xID!==y.xID&&qt.hideCrossTableRowDropClearStatus(),Ft.hideCrossTableRowDropClearStatus(),Ht.isCrossDragRow=!0,g.dragTipText=Ht.dragTipText,al.$newTable=y,Va(s,je,null,!0,Pt);return}}}if(y.eqRow(b,dt)||tt&&c&&I&&dt[ee]&&Xe&&!Xe.treeLoaded||!Le&&c&&H&&(De?b[G]!==dt[G]:rt.level)){Va(s,je,null,!1,Pt);return}Va(s,je,null,!0,Pt),Hn("row-dragover",{oldRow:b,targetRow:dt,dragPos:Pt},s)}},handleCellDragMousedownEvent(s,c){var f;s.stopPropagation();const{dragConfig:b}=e,E=Ze.value,{isCrossTableDrag:I,trigger:H,dragStartMethod:G}=E,{row:ee}=c,we=s.currentTarget,De=H==="cell"||H==="row"?we:(f=we.parentElement)===null||f===void 0?void 0:f.parentElement,Le=De.parentElement,Be=G||(b?b.dragStartMethod:null);if(Cu(),Be&&!Be(c)){Le.draggable=!1,g.dragRow=null,g.dragCol=null,$s(),aa();return}I&&(V.row=ee,al={$oldTable:y,$newTable:null}),g.dragRow=ee,g.isCrossDragRow=!1,g.dragCol=null,Le.draggable=!0,th(ee),nh(De),Hn("row-dragstart",c,s)},handleCellDragMouseupEvent(){sf()},handleHeaderCellDragDragstartEvent(s){s.dataTransfer&&s.dataTransfer.setDragImage(fd(),0,0)},handleColDragSwapColumn(){return Xd(),bu(!1).then(()=>{y.updateCellAreas(),y.saveCustomStore("update:sort")})},handleColDragSwapEvent(s,c,f,b,E,I){const{mouseConfig:H}=e,G=K.value,{animation:ee,isPeerDrag:we,isCrossDrag:De,isSelfToChildDrag:Le,isToChildDrag:Be,dragEndMethod:Ue,dragToChildMethod:tt}=G,{collectColumn:je,fullColumnIdData:pt}=i,rt=R.value,dt=E==="right"?1:0,Je={status:!1};if(!(rt&&b&&f))return Promise.resolve(Je);if(b!==f){const Xe=f,kt=b,Pt={oldColumn:Xe,newColumn:kt,dragColumn:Xe,dragPos:E,dragToChild:!!I,offsetIndex:dt},Ft=Le&&tt?tt(Pt):I;return Promise.resolve(Ue?Ue(Pt):!0).then(qt=>{if(!qt)return Je;let Ht=null;const Bt=[];let Xt=0;ee&&n.eachTree([Xe],un=>{!Ht&&(!un.children||!un.children.length)&&(Ht=un,Xt+=un.renderWidth),Bt.push(un)}),Ht||(Ht=Xe);const nn=pt[Ht.id]||{},fn=nn._index;let an=-1;if(ee){const un=rt.querySelector(`.vxe-table--column[colid="${Ht.id}"]`);un&&(an=un.offsetLeft)}let xn=-1,Tn=-1;const yn={};n.eachTree([Xe],un=>{yn[un.id]=un});let gn=!1;if(Xe.parentId&&kt.parentId)if(we&&!De){if(Xe.parentId!==kt.parentId)return Je}else{if(!De)return Je;if(yn[kt.id]&&(gn=!0,!(De&&Le)))return We.modal&&We.modal.message({status:"error",content:Ll("vxe.error.treeDragChild")}),Je}else if(Xe.parentId){if(!De)return Je}else if(kt.parentId){if(!De)return Je;if(yn[kt.id]&&(gn=!0,!(De&&Le)))return We.modal&&We.modal.message({status:"error",content:Ll("vxe.error.treeDragChild")}),Je}const Cn=n.findTree(je,un=>un.id===Xe.id);if(gn&&De&&Le){if(Cn){const{items:un,index:Un}=Cn,qn=Xe.children||[];qn.forEach(In=>{In.parentId=Xe.parentId}),un.splice(Un,1,...qn),Xe.children=[]}}else if(Cn){const{items:un,index:Un,parent:qn}=Cn;un.splice(Un,1),qn||(xn=Un)}const Vn=n.findTree(je,un=>un.id===kt.id);if(Vn){const{items:un,index:Un,parent:qn}=Vn;De&&Be&&Ft?(Xe.parentId=kt.id,kt.children=(kt.children||[]).concat([Xe])):(Xe.parentId=kt.parentId,un.splice(Un+dt,0,Xe)),qn||(Tn=Un)}return n.eachTree(je,(un,Un,qn,In,Kn)=>{if(!Kn){const Pn=Un+1;un.renderSortNumber=Pn}}),H&&(y.clearSelected&&y.clearSelected(),y.clearCellAreas&&(y.clearCellAreas(),y.clearCopyCellArea())),s&&Hn("column-dragend",{oldColumn:Xe,newColumn:kt,dragColumn:Xe,dragPos:E,dragToChild:Ft,offsetIndex:dt,_index:{newIndex:Tn,oldIndex:xn}},s),ke().then(()=>{if(c)return y.handleColDragSwapColumn()}).then(()=>{if(ee){const{tableColumn:un}=g,{visibleColumn:Un,fullColumnIdData:qn}=i;let In=null;const Kn={};if(n.eachTree([Xe],Pn=>{!In&&(!Pn.children||!Pn.children.length)&&(In=Pn),Kn[Pn.id]=Pn}),In||(In=Xe),Xt&&Bt.length){const Pn=n.findIndexOf(Un,Gn=>!!In&&Gn.id===In.id),Rn=un[0],Bn=qn[Rn.id];if(Bn){const Gn=Bn._index,Oo=Gn+un.length;let bo=-1,Lo=-1,Bo=1;fn<Gn?(bo=0,Lo=Pn-Gn):fn>Oo?(bo=nn.$index+1,Lo=un.length,Bo=-1):Pn>fn?(bo=fn-Gn,Lo=bo+Pn-fn):(bo=Pn-Gn+1,Lo=bo+fn-Pn,Bo=-1);const Ho=[],So={};for(let no=bo;no<Lo;no++){const _o=un[no];!So[_o.id]&&!Kn[_o.id]&&(So[_o.id]=_o,Ho.push(_o))}if(n.eachTree([kt],no=>{So[no.id]||(So[no.id]=no,Ho.push(no))}),Ho.length){const no=rt.querySelectorAll(Ho.map(_o=>`.vxe-table--column[colid="${_o.id}"]`).join(","));rp(no,Bo*Xt)}}const yo=rt.querySelectorAll(Bt.map(Gn=>`.vxe-table--column[colid="${Gn.id}"]`).join(",")),co=yo[0];an>-1&&co&&rp(yo,an-co.offsetLeft)}}return hi(),sa(),y.updateCellAreas(),{status:!0}})}).catch(()=>Je)}return Promise.resolve(Je)},handleHeaderCellDragDragendEvent(s){const{dragCol:c}=g,{prevDragCol:f,prevDragPos:b,prevDragToChild:E}=i,I=R.value;y.handleColDragSwapEvent(s,!0,c,f,b,E),aa(),bi(),Vy(I,[".vxe-table--column"]),i.prevDragToChild=!1,g.dragRow=null,g.dragCol=null,$s()},handleHeaderCellDragDragoverEvent(s){const{dragCol:c}=g,f=K.value,{isToChildDrag:b,isPeerDrag:E,isCrossDrag:I}=f;if(!c){s.preventDefault();return}const H=ti(s),G=s.currentTarget,ee=G.getAttribute("colid"),we=y.getColumnById(ee);if(we){s.preventDefault();const{clientX:De}=s,Be=De-G.getBoundingClientRect().x<G.clientWidth/2?"left":"right";if(i.prevDragToChild=!!(I&&b&&H),i.prevDragCol=we,i.prevDragPos=Be,we.fixed||c&&c.id===we.id||!I&&(E?c.parentId!==we.parentId:we.parentId)){Va(s,null,G,!1,Be);return}Va(s,null,G,!0,Be),Hn("column-dragover",{oldColumn:c,targetColumn:we,dragPos:Be},s);const Ue=R.value;if(!Ue)return;const tt=ne.value,je=W.value,pt=je?je.$el:null,rt=tt||pt;if(rt){const dt=Ue.getBoundingClientRect(),Je=Ue.clientWidth,Xe=ze.value,kt=Xe?Xe.clientWidth:0,Pt=ce.value,Ft=Pt?Pt.clientWidth:0,qt=dt.x+kt,Ht=dt.x+Je-Ft,Bt=28,Xt=De-qt,nn=Ht-De;if(Xt>0&&Xt<=Bt){const fn=Math.floor(Je/(Xt>Bt/2?240:120));rt.scrollLeft-=fn*(Bt-Xt)}else if(nn>0&&nn<=Bt){const fn=Math.floor(Je/(nn>Bt/2?240:120));rt.scrollLeft+=fn*(Bt-nn)}}}},handleHeaderCellDragMousedownEvent(s,c){var f;s.stopPropagation();const b=K.value,{trigger:E,dragStartMethod:I}=b,{column:H}=c,G=s.currentTarget,ee=E==="cell"?G:(f=G.parentElement)===null||f===void 0?void 0:f.parentElement;if(bi(),I&&!I(c)){ee.draggable=!1,g.dragRow=null,g.dragCol=null,$s(),aa();return}g.dragCol=H,g.dragRow=null,ee.draggable=!0,$s(),oh(H),lh(ee),Hn("column-dragstart",c,s)},handleHeaderCellDragMouseupEvent(){bi(),aa(),$s(),g.dragRow=null,g.dragCol=null},handleScrollEvent(s,c,f,b,E,I){const{highlightHoverRow:H}=e,{lastScrollLeft:G,lastScrollTop:ee}=i,we=ne.value,De=B.value;if(!we||!De)return;const Le=P.value,Be=M.value,Ue=$.value,tt=De.clientHeight,je=we.clientWidth,pt=De.scrollHeight,rt=we.scrollWidth;let dt=!1,Je=!1,Xe=!1,kt=!1,Pt="",Ft=!1,qt=!1,Ht=!1,Bt=!1;if(f){const nn=wt.value;Xe=E<=0,Xe||(kt=E+je>=rt),E>G?(Pt="right",E+je>=rt-nn&&(Bt=!0)):(Pt="left",E<=nn&&(Ht=!0)),y.checkScrolling(),i.lastScrollLeft=E}if(c){const nn=v.value;dt=b<=1,dt||(Je=b+tt>=pt-1),b>ee?(Pt="bottom",b+tt>=pt-nn&&(qt=!0)):(Pt="top",b<=nn&&(Ft=!0)),i.lastScrollTop=b}g.lastScrollTime=Date.now();const Xt=Object.assign({scrollTop:b,scrollLeft:E,bodyHeight:tt,bodyWidth:je,scrollHeight:pt,scrollWidth:rt,isX:f,isY:c,isTop:dt,isBottom:Je,isLeft:Xe,isRight:kt,direction:Pt},I);Vs(),_m(f,c),f&&y.closeFilter(),(Le.isHover||H)&&y.clearHoverRow(),Be&&Be.reactData.visible&&Be.close(),Ue&&Ue.reactData.visible&&Ue.close(),(qt||Ft||Bt||Ht)&&Hn("scroll-boundary",Xt,s),Hn("scroll",Xt,s)},triggerScrollXEvent(){Rt.value.immediate?sa():zm()},triggerScrollYEvent(){Vt.value.immediate?wr():Hm()},triggerBodyScrollEvent(s,c){const{scrollYLoad:f,scrollXLoad:b}=g,{elemStore:E,intoRunScroll:I,lastScrollTop:H,lastScrollLeft:G,inWheelScroll:ee,inVirtualScroll:we,inHeaderScroll:De,inBodyScroll:Le,scrollRenderType:Be,inFooterScroll:Ue}=i;if(ee||we||De||Ue)return;const tt=ne.value,je=B.value,pt=hn(E["left-body-scroll"]),rt=hn(E["main-body-scroll"]),dt=hn(E["right-body-scroll"]),Je=hn(E["main-header-scroll"]),Xe=hn(E["main-footer-scroll"]),kt=_e.value;if(I||!rt||!tt||!je||Le&&Be!==c)return;let Pt=je.scrollTop,Ft=tt.scrollLeft;pt&&c==="left"?Pt=pt.scrollTop:dt&&c==="right"?Pt=dt.scrollTop:(Pt=rt.scrollTop,Ft=rt.scrollLeft);const qt=Ft!==G,Ht=Pt!==H;i.inBodyScroll=!0,i.scrollRenderType=c,Ht&&(c==="left"?(oo(rt,Pt),oo(dt,Pt)):c==="right"?(oo(rt,Pt),oo(pt,Pt)):(oo(pt,Pt),oo(dt,Pt)),oo(je,Pt),oo(kt,Pt),mi(Pt),f&&y.triggerScrollYEvent(s)),qt&&(uo(tt,Ft),uo(Je,Ft),uo(Xe,Ft),b&&y.triggerScrollXEvent(s)),y.handleScrollEvent(s,Ht,qt,Pt,Ft,{type:"body",fixed:c})},triggerHeaderScrollEvent(s,c){const{scrollXLoad:f}=g,{elemStore:b,intoRunScroll:E,inWheelScroll:I,inVirtualScroll:H,inBodyScroll:G,inFooterScroll:ee}=i;if(I||H||G||ee)return;const we=B.value,De=ne.value,Le=hn(b["main-body-scroll"]),Be=hn(b["main-header-scroll"]),Ue=hn(b["main-footer-scroll"]);if(E||!Be||!De||!we)return;const tt=we.scrollTop,je=Be.scrollLeft,pt=!0,rt=!1;i.inHeaderScroll=!0,uo(De,je),uo(Ue,je),uo(Le,je),f&&y.triggerScrollXEvent(s),y.handleScrollEvent(s,rt,pt,tt,je,{type:"header",fixed:c})},triggerFooterScrollEvent(s,c){const{scrollXLoad:f}=g,{elemStore:b,intoRunScroll:E,inWheelScroll:I,inVirtualScroll:H,inHeaderScroll:G,inBodyScroll:ee}=i;if(I||H||G||ee)return;const we=B.value,De=ne.value,Le=hn(b["main-body-scroll"]),Be=hn(b["main-header-scroll"]),Ue=hn(b["main-footer-scroll"]);if(E||!Ue||!De||!we)return;const tt=we.scrollTop,je=Ue.scrollLeft,pt=!0,rt=!1;i.inFooterScroll=!0,uo(De,je),uo(Be,je),uo(Le,je),f&&y.triggerScrollXEvent(s),y.handleScrollEvent(s,rt,pt,tt,je,{type:"footer",fixed:c})},triggerBodyWheelEvent(s){const{target:c,deltaY:f,deltaX:b,shiftKey:E}=s;if(c&&/^textarea$/i.test(c.tagName)||!f&&!b)return;const{highlightHoverRow:I}=Zc,{scrollXLoad:H,scrollYLoad:G,expandColumn:ee}=g,we=Qt.value,De=vn.value,{elemStore:Le,lastScrollTop:Be,lastScrollLeft:Ue}=i,tt=P.value,je=$e.value,pt=nt.value,rt=ne.value,dt=B.value,Je=hn(Le["left-body-scroll"]),Xe=hn(Le["main-header-scroll"]),kt=hn(Le["main-body-scroll"]),Pt=hn(Le["main-footer-scroll"]),Ft=hn(Le["right-body-scroll"]),qt=_e.value;if(!kt)return;const Ht=jm(g.lastScrollTime),Bt=E?0:f*Ht,Xt=(E?b||f:b)*Ht,nn=kt.scrollTop,fn=kt.scrollLeft,an=nn+Bt,xn=fn+Xt,Tn=xn!==Ue,yn=an!==Be;if(Tn&&je.visible==="hidden"){s.preventDefault();return}if(yn){if(pt.visible==="hidden"){s.preventDefault();return}if(Bt<0?nn<=0:nn>=kt.scrollHeight-kt.clientHeight)return}if(D){if(yn&&Gf(s.target,[Je,kt,Ft],s.currentTarget)){s.stopPropagation();return}if(Tn&&Gf(s.target,[Xe,kt,Pt],s.currentTarget)){s.stopPropagation();return}}if(we||De||ee){if((tt.isHover||I)&&y.clearHoverRow(),Tn)if(s.preventDefault(),i.inWheelScroll=!0,r.firefox||r.safari){const gn=xn;uo(rt,gn),uo(kt,gn),uo(Xe,gn),uo(Pt,gn),H&&y.triggerScrollXEvent(s),y.handleScrollEvent(s,yn,Tn,kt.scrollTop,gn,{type:"table",fixed:""})}else Wm(xn,gn=>{i.inWheelScroll=!0;const Cn=gn;uo(rt,Cn),uo(kt,Cn),uo(Xe,Cn),uo(Pt,Cn),H&&y.triggerScrollXEvent(s),y.handleScrollEvent(s,yn,Tn,kt.scrollTop,Cn,{type:"table",fixed:""})});if(yn)if(s.preventDefault(),i.inWheelScroll=!0,r.firefox||r.safari){const gn=an;oo(dt,gn),oo(kt,gn),oo(Je,gn),oo(Ft,gn),oo(qt,gn),mi(gn),G&&y.triggerScrollYEvent(s),y.handleScrollEvent(s,yn,Tn,gn,kt.scrollLeft,{type:"table",fixed:""})}else Gm(an-nn,gn=>{i.inWheelScroll=!0;const Cn=kt.scrollTop+gn;oo(dt,Cn),oo(kt,Cn),oo(Je,Cn),oo(Ft,Cn),oo(qt,Cn),mi(Cn),G&&y.triggerScrollYEvent(s),y.handleScrollEvent(s,yn,Tn,Cn,kt.scrollLeft,{type:"table",fixed:""})})}},triggerVirtualScrollXEvent(s){const{scrollXLoad:c}=g,{elemStore:f,inWheelScroll:b,lastScrollTop:E,inHeaderScroll:I,inBodyScroll:H,inFooterScroll:G}=i;if(I||H||G||b)return;const ee=hn(f["main-header-scroll"]),we=hn(f["main-body-scroll"]),De=hn(f["main-footer-scroll"]),Le=B.value,Be=s.currentTarget,{scrollLeft:Ue}=Be,tt=Le||we;let je=0;tt&&(je=tt.scrollTop);const pt=!0,rt=je!==E;i.inVirtualScroll=!0,uo(we,Ue),uo(ee,Ue),uo(De,Ue),c&&y.triggerScrollXEvent(s),y.handleScrollEvent(s,rt,pt,je,Ue,{type:"table",fixed:""})},triggerVirtualScrollYEvent(s){const{scrollYLoad:c}=g,{elemStore:f,inWheelScroll:b,lastScrollLeft:E,inHeaderScroll:I,inBodyScroll:H,inFooterScroll:G}=i;if(I||H||G||b)return;const ee=hn(f["left-body-scroll"]),we=hn(f["main-body-scroll"]),De=hn(f["right-body-scroll"]),Le=_e.value,Be=ne.value,Ue=s.currentTarget,{scrollTop:tt}=Ue,je=Be||we;let pt=0;je&&(pt=je.scrollLeft);const rt=pt!==E,dt=!0;i.inVirtualScroll=!0,oo(we,tt),oo(ee,tt),oo(De,tt),oo(Le,tt),mi(tt),c&&y.triggerScrollYEvent(s),y.handleScrollEvent(s,dt,rt,tt,pt,{type:"table",fixed:""})},scrollToTreeRow(s){const{treeConfig:c}=e,{isRowGroupStatus:f}=g,{tableFullData:b}=i,E=[];if(c||f){const I=q.value,H=Mn.value,G=H.children||H.childrenField,ee=n.findTree(b,we=>y.eqRow(we,s),{children:f?I.mapChildrenField:G});if(ee){const we=ee.nodes;we.forEach((De,Le)=>{Le<we.length-1&&!y.isTreeExpandByRow(De)&&E.push(y.setTreeExpand(De,!0))})}}return Promise.all(E).then(()=>tp(y,s))},updateScrollYStatus:Cr,updateScrollXSpace(){const{scrollXLoad:s,overflowX:c,scrollXWidth:f}=g,{visibleColumn:b,scrollXStore:E,elemStore:I,fullColumnIdData:H}=i,G=i.xeGanttView,ee=bt.value,we=W.value;if(we?we.$el:null){const Le=hn(I["main-body-scroll"]),Be=hn(I["main-body-table"]),Ue=hn(I["main-header-table"]),tt=hn(I["main-footer-table"]);let je=0;const pt=b[E.startIndex];pt&&(je=(H[pt.id]||{}).oLeft);let rt=0;Le&&(rt=Le.clientWidth);let dt=!1,Je=f;f>Ya&&(Le&&Be&&Le.scrollLeft+rt>=Ya?je=Ya-Be.clientWidth:je=(Ya-rt)*(je/(f-rt)),Je=Ya,dt=!0),s&&c||(je=0),Ue&&(Ue.style.transform=Ue.getAttribute("xvm")?`translate(${je}px, 0px)`:""),Be&&(Be.style.transform=`translate(${je}px, ${g.scrollYTop||0}px)`),tt&&(tt.style.transform=tt.getAttribute("xvm")?`translate(${je}px, 0px)`:""),["main"].forEach(Pt=>{["header","body","footer"].forEach(qt=>{const Ht=hn(I[`${Pt}-${qt}-xSpace`]);Ht&&(Ht.style.width=s?`${Je}px`:"")})}),g.scrollXLeft=je,g.scrollXWidth=Je,g.isScrollXBig=dt;const kt=Ye.value;return kt&&(kt.style.width=`${Je}px`),di(),dt&&ee.area&&en("vxe.error.notProp",["mouse-config.area"]),G&&G.handleUpdateSXSpace&&G.handleUpdateSXSpace(),ke().then(()=>{Mo()})}},updateScrollYSpace(){const{isAllOverflow:s,overflowY:c,scrollYLoad:f,scrollYHeight:b,expandColumn:E}=g,{scrollYStore:I,elemStore:H,isResizeCellHeight:G,afterFullData:ee,fullAllDataRowIdData:we,rowExpandedMaps:De}=i,Le=i.xeGanttView,{startIndex:Be}=I,Ue=bt.value,tt=Nn.value,je=P.value,pt=He.value,rt=N.value,dt=hn(H["main-body-scroll"]),Je=hn(H["main-body-table"]),Xe=hn(H["left-body-table"]),kt=hn(H["right-body-table"]),Pt=["main","left","right"];let Ft=0,qt=b,Ht=!1;if(f)if(!(G||pt.height||je.height)&&!E&&s)qt=ee.length*rt,qt>pa&&(Ht=!0),Ft=Math.max(0,Be*rt);else{const Tn=ee[Be];let yn=Zt(y,Tn),gn=we[yn]||{};Ft=gn.oTop||0;const Cn=ee[ee.length-1];yn=Zt(y,Cn),gn=we[yn]||{},gn.oTop&&(qt=(gn.oTop||0)+(gn.resizeHeight||pt.height||je.height||gn.height||rt),E&&De[yn]&&(qt+=gn.expandHeight||tt.height||0)),qt>pa&&(Ht=!0)}else Je&&(qt=Je.clientHeight);let Bt=0;dt&&(Bt=dt.clientHeight);let Xt=qt,nn=Ft;Ht&&(dt&&Je&&dt.scrollTop+Bt>=pa?nn=pa-Je.clientHeight:nn=(pa-Bt)*(Ft/(b-Bt)),Xt=pa),f&&c||(nn=0),Xe&&(Xe.style.transform=`translate(0px, ${nn}px)`),Je&&(Je.style.transform=`translate(${g.scrollXLeft||0}px, ${nn}px)`),kt&&(kt.style.transform=`translate(0px, ${nn}px)`),Pt.forEach(xn=>{["header","body","footer"].forEach(yn=>{const gn=hn(H[`${xn}-${yn}-ySpace`]);gn&&(gn.style.height=Xt?`${Xt}px`:"")})});const fn=Qe.value;fn&&(fn.style.height=Xt?`${Xt}px`:"");const an=ae.value;return an&&(an.style.height=Xt?`${Xt}px`:""),g.scrollYTop=nn,g.scrollYHeight=Xt,g.isScrollYBig=Ht,di(),Ht&&Ue.area&&en("vxe.error.notProp",["mouse-config.area"]),Le&&Le.handleUpdateSYSpace&&Le.handleUpdateSYSpace(),ke().then(()=>{Mo()})},updateScrollXData(){const{isAllOverflow:s}=g;return vu(),y.updateScrollXSpace(),ke().then(()=>{vu(),y.updateScrollXSpace(),s||y.updateScrollYSpace()})},updateScrollYData(){return y.handleTableData(),y.updateScrollYSpace(),ke().then(()=>{y.handleTableData(),y.updateScrollYSpace()})},checkScrolling(){const{elemStore:s}=i,c=hn(s["main-body-scroll"]),f=ze.value,b=ce.value,I=ne.value||c;I&&(f&&(I.scrollLeft>0?Dl(f,"scrolling--middle"):nl(f,"scrolling--middle")),b&&(I.clientWidth<I.scrollWidth-Math.ceil(I.scrollLeft)?Dl(b,"scrolling--middle"):nl(b,"scrolling--middle")))},handleUpdateAggData(){return la(i.tableSynchData,!0)},updateZindex(){e.zIndex?i.tZindex=e.zIndex:i.tZindex<Zg()&&(i.tZindex=Xg())},handleCheckedCheckboxRow:oa,triggerHoverEvent(s,{row:c}){k.setHoverRow(c)},setHoverRow(s){const c=i.xeGanttView,f=Zt(y,s),b=R.value;k.clearHoverRow(),b&&n.arrayEach(b.querySelectorAll(`.vxe-body--row[rowid="${f}"]`),E=>Dl(E,"row--hover")),i.hoverRow=s,c&&c.handleUpdateHoverRow&&c.handleUpdateHoverRow(s)},clearHoverRow(){const s=i.xeGanttView,c=R.value;c&&n.arrayEach(c.querySelectorAll(".vxe-body--row.row--hover"),f=>nl(f,"row--hover")),i.hoverRow=null,s&&s.handleUpdateHoverRow&&s.handleUpdateHoverRow()},getCell(s,c){return x.getCellElement(s,c)},findRowIndexOf(s,c){return c?n.findIndexOf(s,f=>y.eqRow(f,c)):-1},eqRow(s,c){return s&&c?s===c?!0:Zt(y,s)===Zt(y,c):!1},handleConnectGanttView(s){return s&&s.connectUpdate&&(s.connectUpdate({$table:y}),i.xeGanttView=s),ke()}},Object.assign(y,x,k);const af=s=>{const{showHeader:c,showFooter:f}=e,{tableData:b,tableColumn:E,tableGroupColumn:I,columnStore:H,footerTableData:G}=g,ee=he.value,we=$e.value,De=nt.value,{overscrollBehavior:Le}=we,{overscrollBehavior:Be}=De,Ue=s==="left",tt=Ue?H.leftList:H.rightList,je=n.eqNull(Le)?ee.overscrollBehavior:Le,pt=n.eqNull(Be)?ee.overscrollBehavior:Be;return o("div",{ref:Ue?ze:ce,class:[`vxe-table--fixed-${s}-wrapper`,`sx--${we.visible}`,`sy--${De.visible}`,{[`x-ob--${je}`]:je,[`y-ob--${pt}`]:pt}]},[c?o(fp,{ref:Ue?ge:oe,fixedType:s,tableData:b,tableColumn:E,tableGroupColumn:I,fixedColumn:tt}):qo(y),o(up,{ref:Ue?fe:Ee,fixedType:s,tableData:b,tableColumn:E,fixedColumn:tt}),f?o(mp,{ref:Ue?ve:re,footerTableData:G,tableColumn:E,fixedColumn:tt,fixedType:s}):qo(y)])},sh=()=>{const s=ll.value,c=l.empty,f={$table:y,$grid:C,gantt:h};if(c)return c(f);{const b=s.name?ld.get(s.name):null,E=b?b.renderTableEmpty||b.renderTableEmptyView||b.renderEmpty:null;if(E)return Po(E(s,f))}return as(e.emptyText)||Ll("vxe.table.emptyText")},ah=()=>{const{dragConfig:s}=e,{dragRow:c,dragCol:f,dragTipText:b}=g,E=K.value,I=Ze.value,G=(I.slots||{}).tip||(s&&s.slots?s.slots.rowTip:null),we=(E.slots||{}).tip,De=c||(I.isCrossTableDrag?V.row:null);return De&&G?Er(G,{row:De}):f&&we?Er(we,{column:f}):[o("span",b)]},rh=()=>{const{dragRow:s,dragCol:c}=g,f=P.value,b=ie.value,E=Ze.value,I=K.value,H=s||(E.isCrossTableDrag?V.row:null);return f.drag||b.drag?o("div",{class:"vxe-table--drag-wrapper"},[o("div",{ref:pe,class:["vxe-table--drag-row-line",{"is--guides":E.showGuidesStatus}]}),o("div",{ref:Ae,class:["vxe-table--drag-col-line",{"is--guides":I.showGuidesStatus}]}),H&&E.showDragTip||c&&I.showDragTip?o("div",{ref:Se,class:"vxe-table--drag-sort-tip"},[o("div",{class:"vxe-table--drag-sort-tip-wrapper"},[o("div",{class:"vxe-table--drag-sort-tip-status"},[o("span",{class:["vxe-table--drag-sort-tip-normal-status",H?Fi().TABLE_DRAG_STATUS_ROW:Fi().TABLE_DRAG_STATUS_COLUMN]}),o("span",{class:["vxe-table--drag-sort-tip-sub-status",Fi().TABLE_DRAG_STATUS_SUB_ROW]}),o("span",{class:["vxe-table--drag-sort-tip-disabled-status",Fi().TABLE_DRAG_DISABLED]})]),o("div",{class:"vxe-table--drag-sort-tip-content"},ah())])]):qo(y)]):qo(y)},ih=()=>{const{treeConfig:s}=e,{expandColumn:c,isRowGroupStatus:f}=g,b=ea.value,E=Nn.value,{mode:I}=E;if(I!=="fixed")return qo(y);const H=[o("div",{key:"repY",ref:ae})];if(c){const{handleGetRowId:G}=Do(y);b.forEach(ee=>{const we=Nn.value,{height:De,padding:Le,indent:Be}=we,{fullAllDataRowIdData:Ue,fullColumnIdData:tt}=i,je=Mn.value,{transform:pt,seqMode:rt}=je,dt={},Je=G(ee),Xe=Ue[Je],kt=c.id,Pt=tt[kt]||{};let Ft=0,qt=-1,Ht=-1,Bt=-1,Xt=-1;Xe&&(Bt=Xe.index,Xt=Xe.$index,Ht=Xe._index,Ft=Xe.level,qt=Xe.seq,f||s&&pt&&rt==="increasing"?qt=Xe._index+1:s&&rt==="fixed"&&(qt=Xe._tIndex+1)),De&&(dt.height=`${De}px`),(f||s)&&(dt.paddingLeft=`${Ft*(n.isNumber(Be)?Be:je.indent)+30}px`);let nn=-1,fn=-1,an=-1;Pt&&(nn=Pt.index,fn=Pt.$index,an=Pt._index);const xn={$table:y,$grid:C,$gantt:h,seq:qt,column:c,columnIndex:nn,$columnIndex:fn,_columnIndex:an,fixed:"",source:"table",type:"body",level:Ft,rowid:Je,row:ee,rowIndex:Bt,$rowIndex:Xt,_rowIndex:Ht,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};H.push(o("div",{key:Je,class:["vxe-body--row-expanded-cell",{"is--padding":Le,"is--ellipsis":De}],rowid:Je,style:dt},c.renderData(xn)))})}return o("div",{ref:_e,class:"vxe-table--row-expanded-wrapper"},H)},rf=()=>o("div",{key:"vsx",ref:Re,class:"vxe-table--scroll-x-virtual"},[o("div",{ref:se,class:"vxe-table--scroll-x-left-corner"}),o("div",{ref:de,class:"vxe-table--scroll-x-wrapper"},[o("div",{ref:ne,class:"vxe-table--scroll-x-handle",onScroll:y.triggerVirtualScrollXEvent},[o("div",{ref:Ye,class:"vxe-table--scroll-x-space"})]),o("div",{class:"vxe-table--scroll-x-handle-appearance"})]),o("div",{ref:F,class:"vxe-table--scroll-x-right-corner"})]),cf=()=>o("div",{ref:Ie,class:"vxe-table--scroll-y-virtual"},[o("div",{ref:te,class:"vxe-table--scroll-y-top-corner"}),o("div",{ref:Te,class:"vxe-table--scroll-y-wrapper"},[o("div",{ref:B,class:"vxe-table--scroll-y-handle",onScroll:y.triggerVirtualScrollYEvent},[o("div",{ref:Qe,class:"vxe-table--scroll-y-space"})]),o("div",{class:"vxe-table--scroll-y-handle-appearance"})]),o("div",{ref:Ke,class:"vxe-table--scroll-y-bottom-corner"})]),uf=()=>{const{showHeader:s,showFooter:c}=e,{overflowX:f,tableData:b,tableColumn:E,tableGroupColumn:I,footerTableData:H,columnStore:G}=g,ee=he.value,we=$e.value,De=nt.value,{overscrollBehavior:Le}=we,{overscrollBehavior:Be}=De,{leftList:Ue,rightList:tt}=G,je=n.eqNull(Le)?ee.overscrollBehavior:Le,pt=n.eqNull(Be)?ee.overscrollBehavior:Be;return o("div",{ref:Z,class:["vxe-table--viewport-wrapper",{[`x-ob--${je}`]:je,[`y-ob--${pt}`]:pt}]},[o("div",{class:["vxe-table--main-wrapper",`sx--${we.visible}`,`sy--${De.visible}`]},[s?o(fp,{ref:J,tableData:b,tableColumn:E,tableGroupColumn:I}):qo(y),o(up,{ref:W,tableData:b,tableColumn:E}),c?o(mp,{ref:Q,footerTableData:H,tableColumn:E}):qo(y)]),o("div",{class:"vxe-table--fixed-wrapper"},[Ue&&Ue.length&&f?af("left"):qo(y),tt&&tt.length&&f?af("right"):qo(y)]),ih()])},df=()=>{const s=vt.value;return o("div",{class:"vxe-table--layout-wrapper"},s?[cf(),uf()]:[uf(),cf()])},ch=()=>{const{loading:s,stripe:c,showHeader:f,height:b,treeConfig:E,mouseConfig:I,showFooter:H,highlightCell:G,highlightHoverRow:ee,highlightHoverColumn:we,editConfig:De,editRules:Le}=e,{isGroup:Be,overflowX:Ue,overflowY:tt,scrollXLoad:je,scrollYLoad:pt,tableData:rt,initStore:dt,isRowGroupStatus:Je,columnStore:Xe,filterStore:kt,customStore:Pt,tooltipStore:Ft}=g,{teleportToWrapperElem:qt,popupToWrapperElem:Ht}=i,{leftList:Bt,rightList:Xt}=Xe,nn=l.loading,fn={header:l.headerTooltip||l["header-tooltip"],body:l.tooltip,footer:l.footerTooltip||l["footer-tooltip"]},an=Ft.visible&&Ft.type?fn[Ft.type]:null,xn=Ze.value,Tn=Fe.value,yn=X.value,gn=Ot.value,Cn=it.value,Vn=Mn.value,un=P.value,Un=ie.value,qn=w.value,In=Ms.value,Kn=bt.value,Pn=yt.value,Rn=vl.value,Bn=_n.value,yo=g.isColLoading||g.isRowLoading||s,co=Ne.value,Gn=I&&Kn.area,Oo=K.value,bo=ft.value,Lo=vt.value,{isCrossTableDrag:Bo}=xn,Ho={onKeydown:Xm};return Bo&&!rt.length&&(Ho.onDragover=y.handleCrossTableRowDragoverEmptyEvent),o("div",Object.assign({ref:R,class:["vxe-table","vxe-table--render-default",`tid_${u}`,`border--${In}`,`sx-pos--${bo?"top":"bottom"}`,`sy-pos--${Lo?"left":"right"}`,{[`size--${qn}`]:qn,[`valid-msg--${gn.msgMode}`]:!!Le,"vxe-editable":!!De,"old-cell-valid":Le&&Fn().cellVaildMode==="obsolete","cell--highlight":G,"cell--selected":I&&Kn.selected,"cell--area":Gn,"header-cell--area":Gn&&Pn.selectCellByHeader,"body-cell--area":Gn&&Pn.selectCellByBody,"row--highlight":un.isHover||ee,"column--highlight":Un.isHover||we,"checkbox--range":Cn.range,"col--drag-cell":Un.drag&&Oo.trigger==="cell","is--header":f,"is--footer":H,"is--group":Be,"is-row-group":Je,"is--tree-line":E&&(Vn.showLine||Vn.line),"is--fixed-left":Bt.length,"is--fixed-right":Xt.length,"is--animat":!!e.animat,"is--round":e.round,"is--stripe":!E&&c,"is--loading":yo,"is--empty":!yo&&!rt.length,"is--scroll-y":tt,"is--scroll-x":Ue,"is--virtual-x":je,"is--virtual-y":pt}],spellcheck:!1},Ho),[o("div",{class:"vxe-table-slots"},l.default?l.default({}):[]),o("div",{ref:O,class:"vxe-table-vars"},[o("div",{class:"vxe-table-var-default"}),o("div",{class:"vxe-table-var-medium"}),o("div",{class:"vxe-table-var-small"}),o("div",{class:"vxe-table-var-mini"})]),o("div",{key:"tw",class:"vxe-table--render-wrapper"},bo?[rf(),df()]:[df(),rf()]),o("div",{key:"tn",ref:be,class:"vxe-table--empty-place-wrapper"},[o("div",{class:"vxe-table--empty-placeholder"},[o("div",{class:"vxe-table--empty-content"},sh())])]),o("div",{key:"tl",class:"vxe-table--border-line"}),o("div",{key:"tcl",ref:ue,class:"vxe-table--resizable-col-bar"},co.showDragTip?[o("div",{class:"vxe-table--resizable-number-tip"})]:[]),o("div",{key:"ttw"},[o(ol,{to:qt,disabled:!(h&&qt)},[o("div",{ref:Y},[o("div",{key:"trl",ref:me,class:"vxe-table--resizable-row-bar"},co.showDragTip?[o("div",{class:"vxe-table--resizable-number-tip"})]:[]),dt.custom?o(zy,{key:"cs",ref:z,customStore:Pt}):qo(y),d?o(d,{key:"lg",class:"vxe-table--loading",modelValue:yo,icon:Rn.icon,text:Rn.text},nn?{default:()=>Er(nn,{$table:y,$grid:C,$gantt:h,loading:yo})}:{}):nn?o("div",{class:["vxe-loading--custom-wrapper",{"is--visible":yo}]},Er(nn,{$table:y,$grid:C,$gantt:h,loading:yo})):qo(y),rh()])])]),o("div",{key:"tpw"},[o(ol,{to:Ht,disabled:!(S&&Ht)},[o("div",{ref:Oe},[dt.filter?o(_y,{key:"tf",ref:_,filterStore:kt}):qo(y),Bn?o(qy,{key:"tm",ref:T}):qo(y)])])]),dt.import&&e.importConfig?o(Wy,{key:"it",defaultOptions:g.importParams,storeData:g.importStore}):qo(y),dt.export&&(e.exportConfig||e.printConfig)?o(Gy,{key:"et",defaultOptions:g.exportParams,storeData:g.exportStore}):qo(y),m?o("div",{},[o(m,{key:"ctp",ref:A,isArrow:!1,enterable:!1}),o(m,{key:"btp",ref:$,theme:Tn.theme,enterable:Tn.enterable,enterDelay:Tn.enterDelay,leaveDelay:Tn.leaveDelay,useHTML:Tn.useHTML,width:Tn.width,height:Tn.height,minWidth:Tn.minWidth,minHeight:Tn.minHeight,maxWidth:Tn.maxWidth,maxHeight:Tn.maxHeight},an?{content:()=>{const{type:So,row:no,column:_o,content:gs}=Ft;if(an){if(_o&&So==="header")return o("div",{key:So},an({column:_o,tooltipContent:gs,$table:y,$grid:C,$gantt:h}));if(no&&_o&&So==="body")return o("div",{key:So},an({row:no,column:_o,tooltipContent:gs,$table:y,$grid:C,$gantt:h}));if(no&&_o&&So==="footer")return o("div",{key:So},an({row:no,column:_o,tooltipContent:gs,$table:y,$grid:C,$gantt:h}))}return qo(y)}}:{}),e.editRules&&gn.showMessage&&(gn.message==="default"?!b:gn.message==="tooltip")?o(m,{key:"vtp",ref:M,class:[{"old-cell-valid":Le&&Fn().cellVaildMode==="obsolete"},"vxe-table--valid-error"],theme:yn.theme,enterable:yn.enterable,enterDelay:yn.enterDelay,leaveDelay:yn.leaveDelay}):qo(y)]):qo(y)])},Eu=st(0);Dt(()=>e.data?e.data.length:-1,()=>{Eu.value++}),Dt(()=>e.data,()=>{Eu.value++}),Dt(Eu,()=>{const{initStatus:s}=i,c=e.data||[];c&&c.length>=2e4&&cn("vxe.error.errLargeData",["loadData(data), reloadData(data)"]),la(c,!0).then(()=>{const{scrollXLoad:f,scrollYLoad:b,expandColumn:E}=g,I=Nn.value;return i.inited=!0,i.initStatus=!0,s||pi(),(f||b)&&E&&I.mode!=="fixed"&&cn("vxe.error.scrollErrProp",["column.type=expand"]),x.recalculate()})});const Su=st(0);Dt(()=>g.staticColumns.length,()=>{Su.value++}),Dt(()=>g.staticColumns,()=>{Su.value++}),Dt(Su,()=>{ke(()=>Zd(n.clone(g.staticColumns)))});const Du=st(0);Dt(()=>g.tableColumn.length,()=>{Du.value++}),Dt(()=>g.tableColumn,()=>{Du.value++}),Dt(Du,()=>{k.analyColumnWidth()}),Dt(()=>g.upDataFlag,()=>{ke(()=>{x.updateData()})}),Dt(()=>g.reColumnFlag,()=>{ke(()=>{x.refreshColumn()})});const wl=st(0);Dt(w,()=>{wl.value++}),Dt(()=>e.showHeader,()=>{wl.value++}),Dt(()=>e.showFooter,()=>{wl.value++}),Dt(()=>g.overflowX,()=>{wl.value++}),Dt(()=>g.overflowY,()=>{wl.value++}),Dt(()=>e.height,()=>{wl.value++}),Dt(()=>e.maxHeight,()=>{wl.value++}),Dt(ft,()=>{wl.value++}),Dt(vt,()=>{wl.value++}),Dt(()=>We.getLanguage(),()=>{wl.value++}),Dt(()=>$e.value.visible,()=>{wl.value++}),Dt(()=>nt.value.visible,()=>{wl.value++}),Dt(wl,()=>{y.recalculate(!0)});const Tu=st(0);Dt(()=>e.footerData?e.footerData.length:-1,()=>{Tu.value++}),Dt(()=>e.footerData,()=>{Tu.value++}),Dt(Tu,()=>{y.updateFooter()}),Dt(()=>e.syncResize,s=>{s&&(yu(),ke(()=>{yu(),setTimeout(()=>yu())}))});const Mu=st(0);Dt(()=>e.mergeCells?e.mergeCells.length:-1,()=>{Mu.value++}),Dt(()=>e.mergeCells,()=>{Mu.value++}),Dt(Mu,()=>{ko(e.mergeCells||[])});const Ou=st(0);Dt(()=>e.mergeHeaderCells?e.mergeHeaderCells.length:-1,()=>{Ou.value++}),Dt(()=>e.mergeHeaderCells,()=>{Ou.value++}),Dt(Ou,()=>{Gl(e.mergeHeaderCells||[])});const Sr=st(0);Dt(()=>e.mergeFooterCells?e.mergeFooterCells.length:-1,()=>{Sr.value++}),Dt(()=>e.mergeFooterCells,()=>{Sr.value++}),Dt(()=>e.mergeFooterItems?e.mergeFooterItems.length:-1,()=>{Sr.value++}),Dt(()=>e.mergeFooterItems,()=>{Sr.value++}),Dt(Sr,()=>{const s=e.mergeFooterCells||e.mergeFooterItems;ri(s||[])}),Dt(cs,s=>{fi(s)}),Dt(ht,()=>{const{inited:s,tableFullData:c}=i;s&&(Nl(),g.tableData=[],ke(()=>{y.reloadData(c)}))}),p&&Dt(()=>p?p.reactData.resizeFlag:null,()=>{lf()}),Nl(),IC.forEach(s=>{const{setupTable:c}=s;if(c){const f=c(y);f&&n.isObject(f)&&Object.assign(y,f)}}),k.preventEvent(null,"created",{$table:y});let Dr;return md(()=>{x.recalculate().then(()=>x.refreshScroll()),k.preventEvent(null,"activated",{$table:y})}),Up(()=>{const{filterStore:s}=g;s.visible&&y.clearFilter(),y.closeTooltip(),i.isActivated=!1,k.preventEvent(null,"deactivated",{$table:y})}),Ln(()=>{const s=ie.value,c=P.value,f=bl.value,b=q.value,E=Vt.value,{groupFields:I}=b;if(h){const{refClassifyWrapperElem:H}=h.getRefMaps(),G=H.value;G&&(i.teleportToWrapperElem=G)}if(S){const{refPopupContainerElem:H}=S.getRefMaps(),G=H.value;G&&(i.popupToWrapperElem=G)}if((s.drag||c.drag||f.allowSort)&&tm(),fi(I),ke(()=>{const{data:H,exportConfig:G,importConfig:ee,treeConfig:we,highlightCurrentRow:De,highlightCurrentColumn:Le}=e,{scrollXStore:Be,scrollYStore:Ue}=i,tt=Ce.value,je=Mn.value,pt=ot.value,rt=it.value,dt=Nn.value,Je=P.value,Xe=bl.value,kt=bt.value,Pt=Ro.value,Ft=Vo.value,qt=qe.value,Ht=Me.value,Bt=xt.value,Xt=q.value,nn=Ze.value;if(e.rowId&&cn("vxe.error.delProp",["row-id","row-config.keyField"]),e.rowKey&&cn("vxe.error.delProp",["row-key","row-config.useKey"]),e.columnKey&&cn("vxe.error.delProp",["column-id","column-config.useKey"]),!(e.rowId||Je.keyField)&&(rt.reserve||rt.checkRowKeys||pt.reserve||pt.checkRowKey||dt.expandRowKeys||je.expandRowKeys)&&cn("vxe.error.reqProp",["row-config.keyField"]),e.editConfig&&(tt.showStatus||tt.showUpdateStatus||tt.showInsertStatus)&&!e.keepSource&&cn("vxe.error.reqProp",["keep-source"]),we&&!je.transform&&e.stripe&&cn("vxe.error.noTree",["stripe"]),e.showFooter&&!(e.footerMethod||e.footerData)&&cn("vxe.error.reqProp",["footer-data | footer-method"]),Je.height&&cn("vxe.error.delProp",["row-config.height","cell-config.height"]),e.highlightCurrentRow&&cn("vxe.error.delProp",["highlight-current-row","row-config.isCurrent"]),e.highlightHoverRow&&cn("vxe.error.delProp",["highlight-hover-row","row-config.isHover"]),e.highlightCurrentColumn&&cn("vxe.error.delProp",["highlight-current-column","column-config.isCurrent"]),e.highlightHoverColumn&&cn("vxe.error.delProp",["highlight-hover-column","column-config.isHover"]),e.resizable&&cn("vxe.error.delProp",["resizable","column-config.resizable"]),e.aggregateConfig&&e.rowGroupConfig&&cn("vxe.error.notSupportProp",["aggregate-config","row-group-config","row-group-config=null"]),ee&&Ft.types&&!Ft.importMethod&&!n.includeArrays(n.keys(Ft._typeMaps),Ft.types)&&cn("vxe.error.errProp",[`export-config.types=${Ft.types.join(",")}`,Ft.types.filter(fn=>n.includes(n.keys(Ft._typeMaps),fn)).join(",")||n.keys(Ft._typeMaps).join(",")]),G&&Pt.types&&!Pt.exportMethod&&!n.includeArrays(n.keys(Pt._typeMaps),Pt.types)&&cn("vxe.error.errProp",[`export-config.types=${Pt.types.join(",")}`,Pt.types.filter(fn=>n.includes(n.keys(Pt._typeMaps),fn)).join(",")||n.keys(Pt._typeMaps).join(",")]),e.id||(e.customConfig?En(Xe):Xe.enabled)&&Xe.storage&&en("vxe.error.reqProp",["id"]),e.treeConfig&&rt.range&&en("vxe.error.noTree",["checkbox-config.range"]),Je.height&&!e.showOverflow&&cn("vxe.error.notProp",["table.show-overflow"]),!y.triggerCellAreaModnEvent&&(e.areaConfig&&cn("vxe.error.notProp",["area-config"]),e.clipConfig&&cn("vxe.error.notProp",["clip-config"]),e.fnrConfig&&cn("vxe.error.notProp",["fnr-config"]),kt.area)){en("vxe.error.notProp",["mouse-config.area"]);return}if(!y.handlePivotTableAggregateData){if(Xe.allowGroup){en("vxe.error.notProp",["custom-config.allowGroup"]);return}if(Xe.allowValues){en("vxe.error.notProp",["custom-config.allowValues"]);return}}if(we&&Je.drag&&!je.transform&&en("vxe.error.notSupportProp",["row-config.drag","tree-config.transform=false","tree-config.transform=true"]),we&&nn.isCrossTableDrag&&!nn.isCrossDrag&&en("vxe.error.reqSupportProp",["tree-config & row-drag-config.isCrossTableDrag","row-drag-config.isCrossDrag"]),e.dragConfig&&cn("vxe.error.delProp",["drag-config","row-drag-config"]),e.rowGroupConfig&&cn("vxe.error.delProp",["row-group-config","aggregate-config"]),Xt.countFields&&cn("vxe.error.delProp",["row-group-config.countFields","column.agg-func"]),Xt.aggregateMethod&&cn("vxe.error.delProp",["row-group-config.aggregateMethod","aggregate-config.calcValuesMethod"]),Xt.countMethod&&cn("vxe.error.delProp",["aggregate-config.countMethod","aggregate-config.calcValuesMethod"]),e.treeConfig&&je.children&&cn("vxe.error.delProp",["tree-config.children","tree-config.childrenField"]),e.treeConfig&&je.line&&cn("vxe.error.delProp",["tree-config.line","tree-config.showLine"]),kt.area&&kt.selected&&cn("vxe.error.errConflicts",["mouse-config.area","mouse-config.selected"]),kt.area&&e.treeConfig&&!je.transform&&en("vxe.error.noTree",["mouse-config.area"]),e.editConfig&&tt.activeMethod&&cn("vxe.error.delProp",["edit-config.activeMethod","edit-config.beforeEditMethod"]),e.treeConfig&&rt.isShiftKey&&en("vxe.error.errConflicts",["tree-config","checkbox-config.isShiftKey"]),rt.halfField&&cn("vxe.error.delProp",["checkbox-config.halfField","checkbox-config.indeterminateField"]),we&&n.arrayEach(["rowField","parentField","childrenField","hasChildField","mapChildrenField"],fn=>{const an=je[fn];an&&an.indexOf(".")>-1&&en("vxe.error.errProp",[`${fn}=${an}`,`${fn}=${an.split(".")[0]}`])}),Je.currentMethod&&cn("vxe.error.delProp",["row-config.currentMethod","current-row-config.beforeSelectMethod"]),s.currentMethod&&cn("vxe.error.delProp",["row-config.currentMethod","current-column-config.beforeSelectMethod"]),(Je.isCurrent||De)&&e.keyboardConfig&&Bt.isArrow&&!n.isBoolean(qt.isFollowSelected)&&cn("vxe.error.notConflictProp",["row-config.isCurrent","current-row-config.isFollowSelected"]),(s.isCurrent||Le)&&e.keyboardConfig&&Bt.isArrow&&!n.isBoolean(Ht.isFollowSelected)&&cn("vxe.error.notConflictProp",["column-config.isCurrent","current-column-config.isFollowSelected"]),Object.assign(Ue,{startIndex:0,endIndex:0,visibleSize:0}),Object.assign(Be,{startIndex:0,endIndex:0,visibleSize:0}),la(H||[],!0).then(()=>{H&&H.length&&(i.inited=!0,i.initStatus=!0,pi()),Vm(),Mo()}),e.autoResize){const fn=R.value,an=k.getParentElem();Dr=OC.create(()=>{e.autoResize&&qd()}),fn&&Dr.observe(fn),an&&Dr.observe(an)}}),E.mode!=="scroll"){const H=Z.value;H&&H.addEventListener("wheel",y.triggerBodyWheelEvent,{passive:!1})}mo.on(y,"paste",Jm),mo.on(y,"copy",Qm),mo.on(y,"cut",eh),mo.on(y,"mousedown",qm),mo.on(y,"blur",Um),mo.on(y,"mousewheel",Km),mo.on(y,"keydown",Zm),mo.on(y,"resize",lf),mo.on(y,"contextmenu",y.handleGlobalContextmenuEvent),y.preventEvent(null,"mounted",{$table:y})}),rs(()=>{const s=Z.value;s&&s.removeEventListener("wheel",y.triggerBodyWheelEvent),i.cvCacheMaps={},i.prevDragRow=null,i.prevDragCol=null,Dr&&Dr.disconnect(),x.closeFilter(),y.closeMenu&&y.closeMenu(),mo.off(y,"paste"),mo.off(y,"copy"),mo.off(y,"cut"),mo.off(y,"mousedown"),mo.off(y,"blur"),mo.off(y,"mousewheel"),mo.off(y,"keydown"),mo.off(y,"resize"),mo.off(y,"contextmenu"),k.preventEvent(null,"beforeUnmount",{$table:y})}),jn(()=>{k.preventEvent(null,"unmounted",{$table:y}),n.assign(i,Uf())}),ke(()=>{e.loading&&!d&&!l.loading&&(en("vxe.error.errProp",["loading=true","loading=false | <template #loading>...</template>"]),en("vxe.error.reqComp",["vxe-loading"])),(e.showOverflow===!0||e.showOverflow==="tooltip"||e.showHeaderOverflow===!0||e.showHeaderOverflow==="tooltip"||e.showFooterOverflow===!0||e.showFooterOverflow==="tooltip"||e.tooltipConfig||e.editRules)&&(m||(e.showOverflow===!0&&en("vxe.error.errProp",["show-overflow=true","show-overflow=title"]),e.showOverflow==="tooltip"&&en("vxe.error.errProp",["show-overflow=tooltip","show-overflow=title"]),e.showHeaderOverflow===!0&&en("vxe.error.errProp",["show-header-overflow=true","show-header-overflow=title"]),e.showHeaderOverflow==="tooltip"&&en("vxe.error.errProp",["show-header-overflow=tooltip","show-header-overflow=title"]),e.showFooterOverflow===!0&&en("vxe.error.errProp",["show-footer-overflow=true","show-footer-overflow=title"]),e.showFooterOverflow==="tooltip"&&en("vxe.error.errProp",["show-footer-overflow=tooltip","show-footer-overflow=title"]),en("vxe.error.reqComp",["vxe-tooltip"])))}),An("$xeColgroup",null),An("$xeTable",y),y.renderVN=ch,y},render(){return this.renderVN()}}),{getConfig:Bl,getIcon:js,getI18n:qa,renderer:Bp,commands:zp,createEvent:kC,useFns:PC}=We;function Hp(){return{connectTable:null}}const Sa=Il({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],refreshOptions:Object,import:[Boolean,Object],importOptions:Object,export:[Boolean,Object],exportOptions:Object,print:[Boolean,Object],printOptions:Object,zoom:[Boolean,Object],zoomOptions:Object,custom:[Boolean,Object],customOptions:Object,buttons:{type:Array,default:()=>Bl().toolbar.buttons},tools:{type:Array,default:()=>Bl().toolbar.tools},perfect:{type:Boolean,default:()=>Bl().toolbar.perfect},size:{type:String,default:()=>Bl().toolbar.size||Bl().size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,t){const{slots:l,emit:a}=t,u=n.uniqueId(),r=We.getComponent("VxeButton"),d=jt("$xeGrid",null),m=jt("$xeGantt",null),p=d||m,{computeSize:D}=PC.useSize(e),C=ln({isRefresh:!1,connectFlag:0,columns:[]}),h=Hp(),S=st(),w={refElem:S},V={xID:u,props:e,context:t,reactData:C,internalData:h,getRefMaps:()=>w};let g={};const i=j(()=>Object.assign({},n.clone(Bl().toolbar.refresh,!0),e.refreshOptions,e.refresh)),x=j(()=>Object.assign({},n.clone(Bl().toolbar.import,!0),e.importOptions,e.import)),k=j(()=>Object.assign({},n.clone(Bl().toolbar.export,!0),e.exportOptions,e.export)),R=j(()=>Object.assign({},n.clone(Bl().toolbar.print,!0),e.printOptions,e.print)),O=j(()=>Object.assign({},n.clone(Bl().toolbar.zoom,!0),e.zoomOptions,e.zoom)),$=j(()=>Object.assign({},n.clone(Bl().toolbar.custom,!0),e.customOptions,e.custom)),A=j(()=>{const{connectTable:Ie}=h,ne=Ie;if((C.connectFlag||ne)&&ne){const{computeCustomOpts:se}=ne.getComputeMaps();return se.value}return{trigger:""}}),M=j(()=>A.value.trigger),T=()=>{const{connectTable:Ie}=h;if(Ie)return!0;en("vxe.error.barUnableLink")},_=({$event:Ie})=>{const{connectTable:ne}=h,se=ne;se&&se.triggerCustomEvent&&se.triggerCustomEvent(Ie)},z=({$event:Ie})=>{const{connectTable:ne}=h,se=ne;se&&se.customOpenEvent(Ie)},Z=({$event:Ie})=>{const{connectTable:ne}=h,se=ne;if(se){const{customStore:F}=se.reactData;F.activeBtn=!1,setTimeout(()=>{!F.activeBtn&&!F.activeWrapper&&se.customCloseEvent(Ie)},350)}},J=({$event:Ie})=>{const{isRefresh:ne}=C,se=i.value;if(!ne){const F=se.queryMethod||se.query;if(F){C.isRefresh=!0;try{Promise.resolve(F({})).catch(B=>B).then(()=>{C.isRefresh=!1})}catch{C.isRefresh=!1}}else p&&(C.isRefresh=!0,p.triggerToolbarCommitEvent({code:se.code||"reload"},Ie).catch(()=>{}).then(()=>{C.isRefresh=!1}))}},W=({$event:Ie})=>{p?p.triggerZoomEvent(Ie):cn("vxe.error.notProp",["[toolbar] zoom"])},Q=()=>{if(T()){const{connectTable:Ie}=h,ne=Ie;ne&&ne.importData()}},ge=()=>{if(T()){const{connectTable:Ie}=h,ne=Ie;ne&&ne.openImport()}},fe=()=>{if(T()){const{connectTable:Ie}=h,ne=Ie;ne&&ne.exportData()}},ve=()=>{if(T()){const{connectTable:Ie}=h,ne=Ie;ne&&ne.openExport()}},oe=()=>{if(T()){const{connectTable:Ie}=h,ne=Ie;ne&&ne.print()}},Ee=()=>{if(T()){const{connectTable:Ie}=h,ne=Ie;ne&&ne.openPrint()}},re=(Ie,ne,se)=>{switch(ne.code){case"print":oe();break;case"open_print":Ee();break;case"custom":_(Ie);break;case"export":fe();break;case"open_export":ve();break;case"import":Q();break;case"open_import":ge();break;case"zoom":W(Ie);break;case"refresh":J(Ie);break;default:se();break}},Y=(Ie,ne)=>{const{$event:se}=Ie,{connectTable:F}=h,B=F,{code:te}=ne;te&&re(Ie,ne,()=>{if(p)p.triggerToolbarBtnEvent(ne,se);else{const de=zp.get(te),Te={code:te,button:ne,$table:B,$grid:d,$gantt:m,$event:se};if(de){const Ke=de.tableCommandMethod||de.commandMethod;Ke?Ke(Te):en("vxe.error.notCommands",[`[toolbar] ${te}`])}V.dispatchEvent("button-click",Te,se)}})},Oe=(Ie,ne)=>{const{$event:se}=Ie,{connectTable:F}=h,B=F,{code:te}=ne;te&&re(Ie,ne,()=>{if(p)p.triggerToolbarTolEvent(ne,se);else{const de=zp.get(te),Te={code:te,button:null,tool:ne,$table:B,$grid:d,$gantt:m,$event:se};if(de){const Ke=de.tableCommandMethod||de.commandMethod;Ke?Ke(Te):en("vxe.error.notCommands",[`[toolbar] ${te}`])}V.dispatchEvent("tool-click",Te,se)}})};g={dispatchEvent:(Ie,ne,se)=>{a(Ie,kC(se,{$toolbar:V},ne))},syncUpdate(Ie){h.connectTable=Ie.$table,C.columns=Ie.collectColumn,C.connectFlag++}},Object.assign(V,g);const ce=(Ie,ne)=>{const{dropdowns:se}=Ie,F=[];return se?se.map((B,te)=>B.visible===!1?zn():r?o(r,Object.assign(Object.assign({key:te},Object.assign({},B,{content:B.content||B.name,options:void 0})),{onClick:de=>ne?Y(de,B):Oe(de,B)})):zn()):F},ue=()=>{const{buttons:Ie}=e,{connectTable:ne}=h,se=ne,F=l.buttonPrefix||l["button-prefix"],B=l.buttonSuffix||l["button-suffix"],te=[];return F&&te.push(...Po(F({buttons:Ie||[],$grid:d,$gantt:m,$table:se}))),Ie&&Ie.forEach((de,Te)=>{const{dropdowns:Ke,buttonRender:Ye}=de;if(de.visible!==!1){const Qe=Ye?Bp.get(Ye.name):null;if(Ye&&Qe&&Qe.renderToolbarButton){const lt=Qe.toolbarButtonClassName,et={$grid:d,$gantt:m,$table:se,button:de};te.push(o("span",{key:`br${de.code||Te}`,class:["vxe-button--item",lt?n.isFunction(lt)?lt(et):lt:""]},Po(Qe.renderToolbarButton(Ye,et))))}else r&&te.push(o(r,Object.assign(Object.assign({key:`bd${de.code||Te}`},Object.assign({},de,{content:de.content||de.name,options:void 0})),{onClick:lt=>Y(lt,de)}),Ke&&Ke.length?{dropdowns:()=>ce(de,!0)}:{}))}}),B&&te.push(...Po(B({buttons:Ie||[],$grid:d,$gantt:m,$table:se}))),te},me=()=>{const{tools:Ie}=e,{connectTable:ne}=h,se=ne,F=l.toolPrefix||l["tool-prefix"],B=l.toolSuffix||l["tool-suffix"],te=[];return F&&te.push(...Po(F({tools:Ie||[],$grid:d,$gantt:m,$table:se}))),Ie&&Ie.forEach((de,Te)=>{const{dropdowns:Ke,toolRender:Ye}=de;if(de.visible!==!1){const Qe=Ye?Ye.name:null,lt=Ye?Bp.get(Qe):null;if(Ye&&lt&&lt.renderToolbarTool){const et=lt.toolbarToolClassName,ht={$grid:d,$gantt:m,$table:se,tool:de};te.push(o("span",{key:Qe,class:["vxe-tool--item",et?n.isFunction(et)?et(ht):et:""]},Po(lt.renderToolbarTool(Ye,ht))))}else r&&te.push(o(r,Object.assign(Object.assign({key:Te},Object.assign({},de,{content:de.content||de.name,options:void 0})),{onClick:et=>Oe(et,de)}),Ke&&Ke.length?{dropdowns:()=>ce(de,!1)}:{}))}}),B&&te.push(...Po(B({tools:Ie||[],$grid:d,$gantt:m,$table:se}))),te},be=()=>{const Ie=x.value;return r?o(r,{key:"import",circle:!0,icon:Ie.icon||js().TOOLBAR_TOOLS_IMPORT,title:qa("vxe.toolbar.import"),onClick:ge}):zn()},Se=()=>{const Ie=k.value;return r?o(r,{key:"export",circle:!0,icon:Ie.icon||js().TOOLBAR_TOOLS_EXPORT,title:qa("vxe.toolbar.export"),onClick:ve}):zn()},pe=()=>{const Ie=R.value;return r?o(r,{key:"print",circle:!0,icon:Ie.icon||js().TOOLBAR_TOOLS_PRINT,title:qa("vxe.toolbar.print"),onClick:Ee}):zn()},Ae=()=>{const Ie=i.value;return r?o(r,{key:"refresh",circle:!0,icon:C.isRefresh?Ie.iconLoading||js().TOOLBAR_TOOLS_REFRESH_LOADING:Ie.icon||js().TOOLBAR_TOOLS_REFRESH,title:qa("vxe.toolbar.refresh"),onClick:J}):zn()},_e=()=>{const Ie=O.value;return p&&r?o(r,{key:"zoom",circle:!0,icon:p.isMaximized()?Ie.iconOut||js().TOOLBAR_TOOLS_MINIMIZE:Ie.iconIn||js().TOOLBAR_TOOLS_FULLSCREEN,title:qa(`vxe.toolbar.zoom${p.isMaximized()?"Out":"In"}`),onClick:W}):zn()},ae=()=>{const Ie=$.value,ne=M.value,se={};return ne==="manual"||(ne==="hover"?(se.onMouseenter=z,se.onMouseleave=Z):se.onClick=_),r?o(r,Object.assign({key:"custom",circle:!0,icon:Ie.icon||js().TOOLBAR_TOOLS_CUSTOM,title:qa("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},se)):zn()},Re=()=>{const{perfect:Ie,loading:ne,refresh:se,zoom:F,custom:B,className:te}=e,{connectTable:de}=h,Te=D.value,Ke=l.tools,Ye=l.buttons,Qe=de;return o("div",{ref:S,class:["vxe-toolbar",te?n.isFunction(te)?te({$toolbar:V}):te:"",{[`size--${Te}`]:Te,"is--perfect":Ie,"is--loading":ne}]},[o("div",{class:"vxe-buttons--wrapper"},Ye?Ye({$grid:d,$gantt:m,$table:Qe}):ue()),o("div",{class:"vxe-tools--wrapper"},Ke?Ke({$grid:d,$gantt:m,$table:Qe}):me()),o("div",{class:"vxe-tools--operate"},[e.import?be():zn(),e.export?Se():zn(),e.print?pe():zn(),se?Ae():zn(),F&&p?_e():zn(),B?ae():zn()])])};return V.renderVN=Re,ke(()=>{const Ie=i.value,ne=Ie.queryMethod||Ie.query;e.refresh&&!p&&!ne&&cn("vxe.error.notFunc",["[toolbar] queryMethod"]),n.isPlainObject(e.custom)&&cn("vxe.error.delProp",["[toolbar] custom={...}","custom=boolean & custom-options={...}"]),n.isPlainObject(e.print)&&cn("vxe.error.delProp",["[toolbar] print={...}","print=boolean & print-options={...}"]),n.isPlainObject(e.export)&&cn("vxe.error.delProp",["[toolbar] export={...}","export=boolean & export-options={...}"]),n.isPlainObject(e.import)&&cn("vxe.error.delProp",["[toolbar] import={...}","import=boolean & import-options={...}"]),n.isPlainObject(e.refresh)&&cn("vxe.error.delProp",["[toolbar] refresh={...}","refresh=boolean & refresh-options={...}"]),n.isPlainObject(e.refresh)&&cn("vxe.error.delProp",["[toolbar] zoom={...}","zoom=boolean & zoom-options={...}"]);const se=$.value;se.isFooter&&cn("vxe.error.delProp",["[toolbar] toolbar.custom.isFooter","table.custom-config.showFooter"]),se.showFooter&&cn("vxe.error.delProp",["[toolbar] toolbar.custom.showFooter","table.custom-config.showFooter"]),se.immediate&&cn("vxe.error.delProp",["[toolbar] toolbar.custom.immediate","table.custom-config.immediate"]),se.trigger&&cn("vxe.error.delProp",["[toolbar] toolbar.custom.trigger","table.custom-config.trigger"]),(e.refresh||e.import||e.export||e.print||e.zoom)&&(r||en("vxe.error.reqComp",["vxe-button"]))}),jn(()=>{n.assign(h,Hp())}),V},render(){return this.renderVN()}}),{getConfig:ga,getI18n:Ua,commands:FC,hooks:VC,useFns:AC,createEvent:$C,globalEvents:sd,GLOBAL_EVENT_KEYS:NC,renderEmptyElement:Zl}=We,LC=Object.keys(Zc),_p=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","setRow","createData","createRow","revertData","clearData","isRemoveByRow","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getFullColumns","getData","getCheckboxRecords","getParentRow","getTreeRowChildren","getTreeRowLevel","getTreeParentRow","getRowSeq","getRowById","getRowid","getTableData","getFullData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","recalcRowHeight","setRowHeightConf","getRowHeightConf","setRowHeight","getRowHeight","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","setCheckboxRowKey","isCheckedByCheckboxRow","isCheckedByCheckboxRowKey","isIndeterminateByCheckboxRow","isIndeterminateByCheckboxRowKey","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","isCheckedByRadioRowKey","setRadioRow","setRadioRowKey","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","hasPendingByRow","isPendingByRow","getPendingRecords","clearPendingRow","setFilterByEvent","sort","setSort","setSortByEvent","clearSort","clearSortByEvent","isSort","getSortColumns","closeFilter","isFilter","clearFilterByEvent","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","getScrollData","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","setMergeHeaderCells","removeMergeHeaderCells","getMergeHeaderCells","clearMergeHeaderCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","getCustomStoreData","setRowGroupExpand","setRowGroupExpandByField","setAllRowGroupExpand","clearRowGroupExpand","isRowGroupExpandByRow","isRowGroupRecord","isAggregateRecord","isAggregateExpandByRow","getAggregateContentByRow","getAggregateRowChildren","setRowGroups","clearRowGroups","openTooltip","moveColumnTo","moveRowTo","getCellLabel","getCellElement","focus","blur","connect","connectToolbar"];function jp(){return{}}const ur=Il({name:"VxeGrid",props:ky,emits:Py,setup(e,t){var l;const{slots:a,emit:u}=t,r=n.uniqueId(),d=We.getComponent("VxeForm"),m=We.getComponent("VxePager"),p=[["Form"],["Toolbar","Top","Table","Bottom","Pager"]],{computeSize:D}=AC.useSize(e),C=ln({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:((l=ga().pager)===null||l===void 0?void 0:l.pageSize)||10,currentPage:1}}),h=jp(),S=st(),w=st(),V=st(),g=st(),i=st(),x=st(),k=st(),R=st(),O=st(),$=st(),A=st(),M=P=>{const q={};return P.forEach(Pe=>{q[Pe]=(...qe)=>{const Ze=w.value;if(Ze&&Ze[Pe])return Ze[Pe](...qe)}}),q},T=M(_p);_p.forEach(P=>{T[P]=(...q)=>{const Pe=w.value;if(Pe&&Pe[P])return Pe&&Pe[P](...q)}});const _=j(()=>n.merge({},n.clone(ga().grid.proxyConfig,!0),e.proxyConfig)),z=j(()=>{const P=_.value;return!!(n.isBoolean(P.message)?P.message:P.showResponseMsg)}),Z=j(()=>{const P=_.value;return n.isBoolean(P.showActionMsg)?P.showActionMsg:!!P.showActiveMsg}),J=j(()=>Object.assign({},ga().grid.pagerConfig,e.pagerConfig)),W=j(()=>Object.assign({},ga().grid.formConfig,e.formConfig)),Q=j(()=>Object.assign({},ga().grid.toolbarConfig,e.toolbarConfig)),ge=j(()=>Object.assign({},ga().grid.zoomConfig,e.zoomConfig)),fe=j(()=>{const{height:P,maxHeight:q}=e,{isZMax:Pe,tZindex:qe}=C,Ze={};return Pe?Ze.zIndex=qe:(P&&(Ze.height=P==="auto"||P==="100%"?"100%":Js(P)),q&&(Ze.maxHeight=q==="auto"||q==="100%"?"100%":Js(q))),Ze}),ve=j(()=>{const P={};return LC.forEach(q=>{P[q]=e[q]}),P}),oe=j(()=>{const{seqConfig:P,pagerConfig:q,editConfig:Pe,proxyConfig:qe}=e,{isZMax:Ze,tablePage:K}=C,xe=ve.value,Ne=_.value,Ge=J.value,ot=ce.value,it=Object.assign({},xe);return Ze&&(xe.maxHeight?it.maxHeight="100%":it.height="100%"),qe&&En(Ne)&&(it.loading=ot,q&&Ne.seq&&En(Ge)&&(it.seqConfig=Object.assign({},P,{startIndex:(K.currentPage-1)*K.pageSize}))),Pe&&(it.editConfig=Object.assign({},Pe)),it}),Ee=j(()=>{const{layouts:P}=e;let q=[];P&&P.length?q=P:q=ga().grid.layouts||p;let Pe=[],qe=[],Ze=[];return q.length&&(n.isArray(q[0])?(Pe=q[0],qe=q[1]||[],Ze=q[2]||[]):qe=q),{headKeys:Pe,bodyKeys:qe,footKeys:Ze}}),re=j(()=>J.value.currentPage),Y=j(()=>J.value.pageSize),Oe=j(()=>J.value.total),ze=j(()=>{const{tablePage:P}=C;return Math.max(Math.ceil(P.total/P.pageSize),1)}),ce=j(()=>{const{loading:P,proxyConfig:q}=e,{tableLoading:Pe}=C,qe=_.value,{showLoading:Ze}=qe;return P||Pe&&Ze&&q&&En(qe)}),ue={refElem:S,refTable:w,refForm:V,refToolbar:g,refPager:i,refPopupContainerElem:x},me={computeProxyOpts:_,computePagerOpts:J,computeFormOpts:W,computeToolbarOpts:Q,computeZoomOpts:ge},be={xID:r,props:e,context:t,reactData:C,internalData:h,getRefMaps:()=>ue,getComputeMaps:()=>me},Se=()=>{const P=Q.value;e.toolbarConfig&&En(P)&&ke(()=>{const q=w.value,Pe=g.value;q&&Pe&&q.connectToolbar(Pe)})},pe=()=>{const{proxyConfig:P}=e,{formData:q}=C,Pe=_.value,qe=W.value;return P&&En(Pe)&&Pe.form?q:qe.data},Ae=P=>{const{tablePage:q}=C,{pagerConfig:Pe}=e,qe=J.value;if(Pe&&En(qe))if(P)qe[P]&&(q[P]=n.toNumber(qe[P]));else{const{currentPage:Ze,pageSize:K,total:xe}=qe;Ze&&(q.currentPage=Ze),K&&(q.pageSize=K),xe&&(q.total=xe)}},_e=P=>{const q=Z.value,Pe=w.value,qe=Pe?Pe.getCheckboxRecords():[];qe.length?(Pe&&Pe.togglePendingRow(qe),be.clearCheckboxRow()):q&&We.modal&&We.modal.message({id:P,content:Ua("vxe.grid.selectOneRecord"),status:"warning"})},ae=(P,q)=>{const Pe=_.value,Ze=(Pe.response||Pe.props||{}).message,K=w.value;let xe;return P&&Ze&&(xe=n.isFunction(Ze)?Ze({data:P,$table:K,$grid:be,$gantt:null}):n.get(P,Ze)),xe||Ua(q)},Re=(P,q,Pe)=>{const qe=Z.value,Ze=be.getCheckboxRecords();if(qe)if(Ze.length){if(We.modal)return We.modal.confirm({id:`cfm_${P}`,content:Ua(q),escClosable:!0}).then(K=>{if(K==="confirm")return Pe()})}else We.modal&&We.modal.message({id:`msg_${P}`,content:Ua("vxe.grid.selectOneRecord"),status:"warning"});else Ze.length&&Pe();return Promise.resolve()},Ie=P=>{const{proxyConfig:q}=e,{tablePage:Pe}=C,{$event:qe,currentPage:Ze,pageSize:K}=P,xe=_.value;Pe.currentPage=Ze,Pe.pageSize=K,be.dispatchEvent("page-change",P,qe),q&&En(xe)&&be.commitProxy("query").then(Ne=>{be.dispatchEvent("proxy-query",Ne,qe)})},ne=P=>{const q=w.value,{proxyConfig:Pe}=e;if(!q)return;const{computeSortOpts:qe}=q.getComputeMaps(),Ze=_.value;qe.value.remote&&(C.sortData=P.sortList,Pe&&En(Ze)&&(C.tablePage.currentPage=1,be.commitProxy("query").then(xe=>{be.dispatchEvent("proxy-query",xe,P.$event)})))},se=P=>{ne(P),be.dispatchEvent("sort-change",P,P.$event)},F=P=>{ne(P),be.dispatchEvent("clear-all-sort",P,P.$event)},B=P=>{const q=w.value,{proxyConfig:Pe}=e;if(!q)return;const{computeFilterOpts:qe}=q.getComputeMaps(),Ze=_.value;qe.value.remote&&(C.filterData=P.filterList,Pe&&En(Ze)&&(C.tablePage.currentPage=1,be.commitProxy("query").then(xe=>{be.dispatchEvent("proxy-query",xe,P.$event)})))},te=P=>{B(P),be.dispatchEvent("filter-change",P,P.$event)},de=P=>{B(P),be.dispatchEvent("clear-all-filter",P,P.$event)},Te=P=>{const{proxyConfig:q}=e,Pe=_.value;C.tableLoading||(q&&En(Pe)&&be.commitProxy("reload").then(qe=>{be.dispatchEvent("proxy-query",Object.assign(Object.assign({},qe),{isReload:!0}),P.$event)}),be.dispatchEvent("form-submit",P,P.$event))},Ke=P=>{const q=w.value,{proxyConfig:Pe}=e,{$event:qe}=P,Ze=_.value;Pe&&En(Ze)&&(q&&q.clearScroll(),be.commitProxy("reload").then(K=>{be.dispatchEvent("proxy-query",Object.assign(Object.assign({},K),{isReload:!0}),qe)})),be.dispatchEvent("form-reset",P,qe)},Ye=P=>{be.dispatchEvent("form-submit-invalid",P,P.$event)},Qe=P=>{const{$event:q}=P;be.dispatchEvent("form-toggle-collapse",P,q),be.dispatchEvent("form-collapse",P,q)},lt=P=>{const{isZMax:q}=C;return(P?!q:q)&&(C.isZMax=!q,C.tZindex<Zg()&&(C.tZindex=Xg())),ke().then(()=>be.recalculate(!0)).then(()=>(setTimeout(()=>be.recalculate(!0),15),C.isZMax))},et=(P,q)=>{const Pe=P[q];if(Pe)if(n.isString(Pe)){if(a[Pe])return a[Pe];en("vxe.error.notSlot",[`[grid] ${Pe}`])}else return Pe;return null},ht=P=>{const q={};return n.objectMap(P,(Pe,qe)=>{Pe&&(n.isString(Pe)?a[Pe]?q[qe]=a[Pe]:en("vxe.error.notSlot",[`[grid] ${Pe}`]):q[qe]=Pe)}),q},Ot=()=>{const{formConfig:P,proxyConfig:q}=e,{formData:Pe}=C,qe=_.value,Ze=W.value;if(P&&En(Ze)||a.form){let K=[];if(a.form)K=a.form({$grid:be,$gantt:null});else if(Ze.items){const xe={};if(!Ze.inited){Ze.inited=!0;const Ne=qe.beforeItem;qe&&Ne&&Ze.items.forEach(Ge=>{Ne({$grid:be,$gantt:null,item:Ge})})}Ze.items.forEach(Ne=>{n.each(Ne.slots,Ge=>{n.isFunction(Ge)||a[Ge]&&(xe[Ge]=a[Ge])})}),d&&K.push(o(d,Object.assign(Object.assign({ref:V},Object.assign({},Ze,{data:q&&En(qe)&&qe.form?Pe:Ze.data})),{onSubmit:Te,onReset:Ke,onSubmitInvalid:Ye,onCollapse:Qe}),xe))}return o("div",{ref:k,key:"form",class:"vxe-grid--form-wrapper"},K)}return Zl(be)},ut=()=>{const{toolbarConfig:P}=e,q=Q.value,Pe=a.toolbar;if(P&&En(q)||Pe){let qe=[];if(Pe)qe=Pe({$grid:be,$gantt:null});else{const Ze=q.slots,K={};if(Ze){const xe=et(Ze,"buttons"),Ne=et(Ze,"buttonPrefix"),Ge=et(Ze,"buttonSuffix"),ot=et(Ze,"tools"),it=et(Ze,"toolPrefix"),Tt=et(Ze,"toolSuffix");xe&&(K.buttons=xe),Ne&&(K.buttonPrefix=Ne),Ge&&(K.buttonSuffix=Ge),ot&&(K.tools=ot),it&&(K.toolPrefix=it),Tt&&(K.toolSuffix=Tt)}qe.push(o(Sa,Object.assign(Object.assign({ref:g},q),{slots:void 0}),K))}return o("div",{ref:R,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},qe)}return Zl(be)},wt=()=>{const P=a.top;return P?o("div",{ref:O,key:"top",class:"vxe-grid--top-wrapper"},P({$grid:be,$gantt:null})):Zl(be)},mt=()=>{const P=a.left;return P?o("div",{class:"vxe-grid--left-wrapper"},P({$grid:be,$gantt:null})):Zl(be)},Rt=()=>{const P=a.right;return P?o("div",{class:"vxe-grid--right-wrapper"},P({$grid:be,$gantt:null})):Zl(be)},Vt=()=>{const{proxyConfig:P}=e,q=oe.value,Pe=_.value,qe=Object.assign({},vt),Ze=a.empty,K=a.loading,xe=a.rowDragIcon||a["row-drag-icon"],Ne=a.columnDragIcon||a["column-drag-icon"],Ge=a.headerTooltip||a["header-tooltip"],ot=a.tooltip,it=a.footerTooltip||a["footer-tooltip"];P&&En(Pe)&&(Pe.sort&&(qe.onSortChange=se,qe.onClearAllSort=F),Pe.filter&&(qe.onFilterChange=te,qe.onClearAllFilter=de));const Tt={};return Ze&&(Tt.empty=Ze),K&&(Tt.loading=K),xe&&(Tt.rowDragIcon=xe),Ne&&(Tt.columnDragIcon=Ne),Ge&&(Tt.headerTooltip=Ge),ot&&(Tt.tooltip=ot),it&&(Tt.footerTooltip=it),o("div",{class:"vxe-grid--table-wrapper"},[o(Ea,Object.assign(Object.assign({ref:w},q),qe),Tt)])},he=()=>a.bottom?o("div",{ref:$,key:"bottom",class:"vxe-grid--bottom-wrapper"},a.bottom({$grid:be,$gantt:null})):Zl(be),$e=()=>{const{proxyConfig:P,pagerConfig:q}=e,Pe=_.value,qe=J.value,Ze=a.pager;return q&&En(qe)||a.pager?o("div",{ref:A,key:"pager",class:"vxe-grid--pager-wrapper"},Ze?Ze({$grid:be,$gantt:null}):[m?o(m,Object.assign(Object.assign(Object.assign({ref:i},qe),P&&En(Pe)?C.tablePage:{}),{onPageChange:Ie}),ht(qe.slots)):Zl(be)]):Zl(be)},nt=P=>{const q=[];return P.forEach(Pe=>{switch(Pe){case"Form":q.push(Ot());break;case"Toolbar":q.push(ut());break;case"Top":q.push(wt());break;case"Table":q.push(o("div",{key:"table",class:"vxe-grid--table-container"},[mt(),Vt(),Rt()]));break;case"Bottom":q.push(he());break;case"Pager":q.push($e());break;default:en("vxe.error.notProp",[`[grid] layouts -> ${Pe}`]);break}}),q},ft=()=>{const P=Ee.value,{headKeys:q,bodyKeys:Pe,footKeys:qe}=P,Ze=a.asideLeft||a["aside-left"],K=a.asideRight||a["aside-right"];return[o("div",{class:"vxe-grid--layout-header-wrapper"},nt(q)),o("div",{class:"vxe-grid--layout-body-wrapper"},[Ze?o("div",{class:"vxe-grid--layout-aside-left-wrapper"},Ze({})):Zl(be),o("div",{class:"vxe-grid--layout-body-content-wrapper"},nt(Pe)),K?o("div",{class:"vxe-grid--layout-aside-right-wrapper"},K({})):Zl(be)]),o("div",{class:"vxe-grid--layout-footer-wrapper"},nt(qe)),o("div",{ref:x})]},vt={};zd.forEach(P=>{const q=n.camelCase(`on-${P}`);vt[q]=(...Pe)=>u(P,...Pe)});const v=()=>{const P=W.value;if(P.items){const q={};return P.items.forEach(Pe=>{const{field:qe,itemRender:Ze}=Pe;if(qe){let K=null;if(Ze){const{startField:xe,endField:Ne,defaultValue:Ge}=Ze;n.isFunction(Ge)?K=Ge({item:Pe}):n.isUndefined(Ge)||(K=Ge),xe&&Ne&&(n.set(q,xe,null),n.set(q,Ne,null))}q[qe]=K}}),q}return{}},L=()=>{const{proxyConfig:P,formConfig:q}=e,{proxyInited:Pe}=C,qe=_.value,Ze=W.value;P&&En(qe)&&(q&&En(Ze)&&qe.form&&Ze.items&&(C.formData=v()),Pe||(C.proxyInited=!0,qe.autoLoad!==!1&&ke().then(()=>be.commitProxy("initial")).then(K=>{ie("proxy-query",Object.assign(Object.assign({},K),{isInited:!0}),new Event("initial"))})))},N=P=>{const q=ge.value;sd.hasKey(P,NC.ESCAPE)&&C.isZMax&&q.escRestore!==!1&&be.triggerZoomEvent(P)},ie=(P,q,Pe)=>{u(P,$C(Pe,{$grid:be,$gantt:null},q))},Me={dispatchEvent:ie,getEl(){return S.value},commitProxy(P,...q){const{proxyConfig:Pe,toolbarConfig:qe,pagerConfig:Ze,editRules:K,validConfig:xe}=e,{tablePage:Ne}=C,Ge=Z.value,ot=z.value,it=_.value,Tt=J.value,zt=Q.value,{beforeQuery:_t,afterQuery:Fe,beforeDelete:X,afterDelete:Ce,beforeSave:at,afterSave:gt,ajax:St={}}=it,bt=it.response||it.props||{},yt=w.value;if(!yt)return ke();let xt=pe(),Ct=null,$t=null;if(n.isString(P)){const{buttons:tn}=zt,Qt=qe&&En(zt)&&tn?n.findTree(tn,vn=>vn.code===P,{children:"dropdowns"}):null;Ct=Qt?Qt.item:null,$t=P}else Ct=P,$t=Ct.code;const on=Ct?Ct.params:null;switch($t){case"insert":return yt.insert({});case"insert_edit":return yt.insert({}).then(({row:tn})=>yt.setEditRow(tn,!0));case"insert_actived":return yt.insert({}).then(({row:tn})=>yt.setEditRow(tn,!0));case"mark_cancel":_e($t);break;case"remove":return Re($t,"vxe.grid.removeSelectRecord",()=>yt.removeCheckboxRow());case"import":yt.importData(on);break;case"open_import":yt.openImport(on);break;case"export":yt.exportData(on);break;case"open_export":yt.openExport(on);break;case"reset_custom":return yt.resetCustom(!0);case"initial":case"reload":case"query":{const tn=St.query,Qt=St.querySuccess,vn=St.queryError;if(tn){const Xn=$t==="initial",Zn=$t==="reload";if(!Xn&&C.tableLoading)return ke();let Co=null,Wn=[],ro=[],po={};if(Ze&&((Xn||Zn)&&(Ne.currentPage=1),En(Tt)&&(po=Object.assign({},Ne))),Xn){if(Pe&&En(it)&&it.form&&(xt=v(),C.formData=xt),yt){const Jn=yt.internalData,{tableFullColumn:_n,fullColumnFieldData:io}=Jn,{computeSortOpts:Ro}=yt.getComputeMaps();let Eo=Ro.value.defaultSort;_n.forEach(Nn=>{Nn.order=null}),Eo&&(n.isArray(Eo)||(Eo=[Eo]),Wn=Eo.map(Nn=>{const{field:Mn,order:ll}=Nn,vl=io[Mn];if(vl){const sl=vl.column;sl&&(sl.order=ll)}return{field:Mn,property:Mn,order:ll}})),ro=yt.getCheckedFilters()}}else yt&&(Zn?Co=yt.clearAll():(Wn=yt.getSortColumns(),ro=yt.getCheckedFilters()));const wo={$table:yt,$grid:be,$gantt:null,code:$t,button:Ct,isInited:Xn,isReload:Zn,page:po,sort:Wn.length?Wn[0]:{},sorts:Wn,filters:ro,form:xt,options:tn};return C.sortData=Wn,C.filterData=ro,C.tableLoading=!0,Promise.all([Promise.resolve((_t||tn)(wo,...q)),Co]).then(([Jn])=>{let _n=[];if(C.tableLoading=!1,Jn)if(Ze&&En(Tt)){const io=bt.total,Ro=(n.isFunction(io)?io({data:Jn,$table:yt,$grid:be,$gantt:null}):n.get(Jn,io||"page.total"))||0;Ne.total=n.toNumber(Ro);const Vo=bt.result;_n=(n.isFunction(Vo)?Vo({data:Jn,$table:yt,$grid:be,$gantt:null}):n.get(Jn,Vo||"result"))||[];const Eo=Math.max(Math.ceil(Ro/Ne.pageSize),1);Ne.currentPage>Eo&&(Ne.currentPage=Eo)}else{const io=bt.list;_n=(io?n.isFunction(io)?io({data:Jn,$table:yt,$grid:be,$gantt:null}):n.get(Jn,io):Jn)||[]}return yt?yt.loadData(_n):ke(()=>{const io=w.value;io&&io.loadData(_n)}),Fe&&Fe(wo,...q),Qt&&Qt(Object.assign(Object.assign({},wo),{response:Jn})),{status:!0}}).catch(Jn=>(C.tableLoading=!1,vn&&vn(Object.assign(Object.assign({},wo),{response:Jn})),{status:!1}))}else en("vxe.error.notFunc",["[grid] proxy-config.ajax.query"]);break}case"delete":{const tn=St.delete,Qt=St.deleteSuccess,vn=St.deleteError;if(tn){const Xn=be.getCheckboxRecords(),Zn=Xn.filter(ro=>!yt.isInsertByRow(ro)),Wn={$table:yt,$grid:be,$gantt:null,code:$t,button:Ct,body:{removeRecords:Zn},form:xt,options:tn};if(Xn.length)return Re($t,"vxe.grid.deleteSelectRecord",()=>Zn.length?(C.tableLoading=!0,Promise.resolve((X||tn)(Wn,...q)).then(ro=>(C.tableLoading=!1,yt.setPendingRow(Zn,!1),ot&&We.modal&&We.modal.message({content:ae(ro,"vxe.grid.delSuccess"),status:"success"}),Ce?Ce(Wn,...q):be.commitProxy("query"),Qt&&Qt(Object.assign(Object.assign({},Wn),{response:ro})),{status:!0})).catch(ro=>(C.tableLoading=!1,ot&&We.modal&&We.modal.message({id:$t,content:ae(ro,"vxe.grid.operError"),status:"error"}),vn&&vn(Object.assign(Object.assign({},Wn),{response:ro})),{status:!1}))):yt.remove(Xn));Ge&&We.modal&&We.modal.message({id:$t,content:Ua("vxe.grid.selectOneRecord"),status:"warning"})}else en("vxe.error.notFunc",["[grid] proxy-config.ajax.delete"]);break}case"save":{const tn=St.save,Qt=St.saveSuccess,vn=St.saveError;if(tn){const Xn=yt.getRecordset(),{insertRecords:Zn,removeRecords:Co,updateRecords:Wn,pendingRecords:ro}=Xn,po={$table:yt,$grid:be,$gantt:null,code:$t,button:Ct,body:Xn,form:xt,options:tn};Zn.length&&(Xn.pendingRecords=ro.filter(Jn=>yt.findRowIndexOf(Zn,Jn)===-1)),ro.length&&(Xn.insertRecords=Zn.filter(Jn=>yt.findRowIndexOf(ro,Jn)===-1));let wo=Promise.resolve();return K&&(wo=yt[xe&&xe.msgMode==="full"?"fullValidate":"validate"](Xn.insertRecords.concat(Wn))),wo.then(Jn=>{if(!Jn){if(Xn.insertRecords.length||Co.length||Wn.length||Xn.pendingRecords.length)return C.tableLoading=!0,Promise.resolve((at||tn)(po,...q)).then(_n=>(C.tableLoading=!1,yt.clearPendingRow(),ot&&We.modal&&We.modal.message({content:ae(_n,"vxe.grid.saveSuccess"),status:"success"}),gt?gt(po,...q):be.commitProxy("query"),Qt&&Qt(Object.assign(Object.assign({},po),{response:_n})),{status:!0})).catch(_n=>(C.tableLoading=!1,ot&&We.modal&&We.modal.message({id:$t,content:ae(_n,"vxe.grid.operError"),status:"error"}),vn&&vn(Object.assign(Object.assign({},po),{response:_n})),{status:!1}));Ge&&We.modal&&We.modal.message({id:$t,content:Ua("vxe.grid.dataUnchanged"),status:"info"})}})}else en("vxe.error.notFunc",["[grid] proxy-config.ajax.save"]);break}default:{const tn=FC.get($t);if(tn){const Qt=tn.tableCommandMethod||tn.commandMethod;Qt?Qt({code:$t,button:Ct,$grid:be,$table:yt,$gantt:null},...q):en("vxe.error.notCommands",[`[grid] ${$t}`])}}}return ke()},getParams(){return e.params},zoom(){return C.isZMax?be.revert():be.maximize()},isMaximized(){return C.isZMax},maximize(){return lt(!0)},revert(){return lt()},getFormData:pe,getFormItems(P){const q=W.value,{formConfig:Pe}=e,{items:qe}=q,Ze=[];return n.eachTree(Pe&&En(q)&&qe?qe:[],K=>{Ze.push(K)},{children:"children"}),n.isUndefined(P)?Ze:Ze[P]},resetForm(){const P=V.value;return P?P.reset():ke()},validateForm(){const P=V.value;return P?P.validate():ke()},validateFormField(P){const q=V.value;return q?q.validateField(P):ke()},clearFormValidate(P){const q=V.value;return q?q.clearValidate(P):ke()},homePage(){const{tablePage:P}=C;return P.currentPage=1,ke()},homePageByEvent(P){const q=i.value;q&&q.homePageByEvent(P)},endPage(){const{tablePage:P}=C,q=ze.value;return P.currentPage=q,ke()},endPageByEvent(P){const q=i.value;q&&q.endPageByEvent(P)},getCurrentPage(){const{tablePage:P}=C;return P.currentPage},setCurrentPage(P){const{tablePage:q}=C,Pe=ze.value;return q.currentPage=Math.min(Pe,Math.max(1,n.toNumber(P))),ke()},setCurrentPageByEvent(P,q){const Pe=i.value;Pe&&Pe.setCurrentPageByEvent(P,q)},getPageSize(){const{tablePage:P}=C;return P.pageSize},setPageSize(P){const{tablePage:q}=C;return q.pageSize=Math.max(1,n.toNumber(P)),ke()},setPageSizeByEvent(P,q){const Pe=i.value;Pe&&Pe.setPageSizeByEvent(P,q)},getProxyInfo(){const P=w.value;if(e.proxyConfig){const{sortData:q}=C;return{data:P?P.getFullData():[],filter:C.filterData,form:pe(),sort:q.length?q[0]:{},sorts:q,pager:C.tablePage,pendingRecords:P?P.getPendingRecords():[]}}return null}},He={extendTableMethods:M,callSlot(P,q){return P&&(n.isString(P)&&(P=a[P]||null),n.isFunction(P))?Po(P(q)):[]},getExcludeHeight(){const{height:P}=e,{isZMax:q}=C,Pe=S.value;if(Pe){const qe=k.value,Ze=R.value,K=O.value,xe=$.value,Ne=A.value,Ge=Pe.parentElement;let ot=0;return Ge&&(P==="100%"||P==="auto")&&(ot=q?0:gd(Ge)),ot+gd(Pe)+Vr(qe)+Vr(Ze)+Vr(K)+Vr(xe)+Vr(Ne)}return 0},getParentHeight(){const P=S.value;if(P){const q=P.parentElement;return(C.isZMax?ru().visibleHeight:q?n.toNumber(getComputedStyle(q).height):0)-He.getExcludeHeight()}return 0},triggerToolbarCommitEvent(P,q){const{code:Pe}=P;return be.commitProxy(P,q).then(qe=>{Pe&&qe&&qe.status&&["query","reload","delete","save"].includes(Pe)&&be.dispatchEvent(Pe==="delete"||Pe==="save"?`proxy-${Pe}`:"proxy-query",Object.assign(Object.assign({},qe),{isReload:Pe==="reload"}),q)})},triggerToolbarBtnEvent(P,q){be.triggerToolbarCommitEvent(P,q),be.dispatchEvent("toolbar-button-click",{code:P.code,button:P},q)},triggerToolbarTolEvent(P,q){be.triggerToolbarCommitEvent(P,q),be.dispatchEvent("toolbar-tool-click",{code:P.code,tool:P},q)},triggerZoomEvent(P){be.zoom(),be.dispatchEvent("zoom",{type:C.isZMax?"max":"revert"},P)}};Object.assign(be,T,Me,He,{loadColumn(P){const q=w.value;return n.eachTree(P,Pe=>{Pe.slots&&n.each(Pe.slots,qe=>{n.isFunction(qe)||a[qe]||en("vxe.error.notSlot",[`[grid] ${qe}`])})}),q?q.loadColumn(P):ke()},reloadColumn(P){return be.clearAll(),be.loadColumn(P)}});const Ve=()=>{const P=D.value,q=fe.value,Pe=ce.value;return o("div",{ref:S,class:["vxe-grid",{[`size--${P}`]:P,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":C.isZMax,"is--loading":Pe}],style:q},ft())},ye=st(0);return Dt(()=>e.columns?e.columns.length:-1,()=>{ye.value++}),Dt(()=>e.columns,()=>{ye.value++}),Dt(ye,()=>{ke(()=>be.loadColumn(e.columns||[]))}),Dt(()=>e.toolbarConfig,()=>{Se()}),Dt(re,()=>{Ae("currentPage")}),Dt(Y,()=>{Ae("pageSize")}),Dt(Oe,()=>{Ae("total")}),Dt(()=>e.proxyConfig,()=>{L()}),VC.forEach(P=>{const{setupGrid:q}=P;if(q){const Pe=q(be);Pe&&n.isObject(Pe)&&Object.assign(be,Pe)}}),Ae(),Ln(()=>{ke(()=>{const{columns:P}=e,q=_.value;e.formConfig&&(d||en("vxe.error.reqComp",["vxe-form"])),e.pagerConfig&&(m||en("vxe.error.reqComp",["vxe-pager"])),q.props&&cn("vxe.error.delProp",["[grid] proxy-config.props","proxy-config.response"]),P&&P.length&&be.loadColumn(P),Se(),L()}),sd.on(be,"keydown",N)}),jn(()=>{sd.off(be,"keydown"),n.assign(h,jp())}),be.renderVN=Ve,An("$xeGrid",be),An("$xeGantt",null),be},render(){return this.renderVN()}}),BC=Object.assign({},ur,{install(e){e.component(ur.name,ur)}});We.dynamicApp&&We.dynamicApp.component(ur.name,ur);We.component(ur);function zC(e){const t=j(()=>{const{renderParams:r}=e;return r.column}),l=j(()=>{const{renderParams:r}=e;return r.row}),a=j(()=>{const{renderOpts:r}=e;return r.props||{}}),u=j({get(){const{renderParams:r}=e,{row:d,column:m}=r;return n.get(d,m.field)},set(r){const{renderParams:d}=e,{row:m,column:p}=d;return n.set(m,p.field,r)}});return{currColumn:t,currRow:l,cellModel:u,cellOptions:a}}const HC=Object.assign({},Ea,{install(e){e.component(Ea.name,Ea)}}),_C={useCellView:zC};We.dynamicApp&&We.dynamicApp.component(Ea.name,Ea);We.component(Ea);We.tableHandle=_C;const jC=Object.assign({},Sa,{install(e){e.component(Sa.name,Sa)}});We.dynamicApp&&We.dynamicApp.component(Sa.name,Sa);We.component(Sa);const WC={vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择",comma:"，",fullStop:"。"},loading:{text:"加载中..."},error:{downErr:"下载失败",errLargeData:"当绑定的数据量过大时，应该请使用 {0}，否则可能会出现卡顿",groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',modelConflicts:'绑定的字段值 "{0}" 与 "{1}" 存在冲突，将会出现错误',notSupportProp:'当启用参数 "{0}" 时不支持 "{1}"，应该为 "{2}"，否则将会出现错误',reqSupportProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会出现错误',notConflictProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会存在功能冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqComp:'缺少 "{0}" 组件，请检查是否正确安装。 https://vxeui.com/#/start/useGlobal',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',noGroup:'数据分组后不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',uniField:'字段名 "{0}" 重复定义，这可能会出现错误',repeatKey:'主键重复 {0}="{1}"，这可能会出现错误',repeatProp:'参数重复 {0}="{1}"，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入",treeCrossDrag:"只能拖拽第一层级",treeDragChild:"父级不能拖拽到自己的子级中",reqPlugin:'扩展插件未安装 "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:"超过支持的最大数据量 {0} 行，这可能会导致出现错误",useNew:"不建议使用 {0}，请使用 {1}",errorVersion:"版本不匹配，当前版本 {0}，最低支持版本为 {1}"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"序号",actionTitle:"操作",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expError:"导出失败",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customClose:"关闭",customCancel:"取消",customRestore:"恢复默认",maxFixedCol:"最大冻结列的数量不能超过 {0} 个",maxGroupCol:"最大分组字段的数量不能超过 {0} 个",dragTip:"移动：{0}",resizeColTip:"宽：{0} 像素",resizeRowTip:"高：{0} 像素",rowGroupContentTotal:"{0}（{1}）"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{clear:"清除",allChecked:"全选",total:"{0} / {1}",search:"搜索",loadingText:"加载中",emptyText:"暂无数据",maxSize:"最大可选择的数量不能超过 {0} 个",overSizeErr:"已超出最大可选数量 {0} 个，超出部分将被忽略！",searchEmpty:"未匹配到数据！"},tree:{searchEmpty:"未匹配到数据！"},treeSelect:{clearChecked:"清除",allChecked:"全选",allExpand:"全部展开",clearExpand:"全部收起",total:"已选 {0}",search:"搜索",emptyText:"暂无数据"},pager:{goto:"前往",gotoTitle:"页数",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消",clear:"清除"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整顺序",colTitle:"列标题",colResizable:"列宽（像素）",colVisible:"是否显示",colFixed:"冻结列",colFixedMax:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖方式（直接覆盖表格数据）",insert:"底部追加（在表格的底部追加新数据）",insertTop:"顶部追加（在表格的顶部追加新数据）",insertBottom:"底部追加（在表格的底部追加新数据）"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impMode:"导入模式",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"空数据",current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expOptTitle:"列标题",expTitleTitle:"是否为列标题，否则显示为列的字段名",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开树",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{errTitle:"错误提示",zoomMin:"最小化",zoomIn:"最大化",zoomOut:"还原",close:"关闭",miniMaxSize:"最小化窗口的数量不能超过 {0} 个",footPropErr:"show-footer 仅用于启用表尾，需配合 show-confirm-button | show-cancel-button | 插槽使用"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},datePicker:{yearTitle:"{0} 年"},dateRangePicker:{pleaseRange:"请选择开始日期与结束日期"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},numberInput:{currencySymbol:"¥"},imagePreview:{popupTitle:"预览",operBtn:{zoomOut:"缩小",zoomIn:"放大",pctFull:"等比例缩放",pct11:"显示原始尺寸",rotateLeft:"向左旋转",rotateRight:"向右旋转",print:"点击打印图片",download:"点击下载图片"}},upload:{fileBtnText:"点击或拖拽上传",imgBtnText:"点击或拖拽上传",dragPlaceholder:"请把文件拖放到这个区域即可上传",imgSizeHint:"单张{0}",imgCountHint:"最多{0}张",fileTypeHint:"支持 {0} 文件类型",fileSizeHint:"单个文件大小不超过{0}",fileCountHint:"最多可上传{0}个文件",uploadTypeErr:"文件类型不匹配！",overCountErr:"最多只能选择{0}个文件！",overCountExtraErr:"已超出最大数量{0}个，超出的{1}个文件将被忽略！",overSizeErr:"文件大小最大不能超过{0}！",manualUpload:"点击上传",reUpload:"重新上传",uploadProgress:"上传中 {0}%",uploadErr:"上传失败",uploadSuccess:"上传成功",moreBtnText:"更多（{0}）",viewItemTitle:"点击查看",morePopup:{readTitle:"查看列表",imageTitle:"上传图片",fileTitle:"上传文件"}},empty:{defText:"暂无数据"},colorPicker:{clear:"清除",confirm:"确认",copySuccess:"已复制到剪贴板：{0}",hex:"十六进制"},formDesign:{formName:"表单名称",defFormTitle:"未命名的表单",widgetPropTab:"控件属性",widgetFormTab:"表单属性",error:{wdFormUni:"该类型的控件在表单中只允许添加一个",wdSubUni:"该类型的控件在子表中只允许添加一个"},styleSetting:{btn:"样式设置",title:"表单的样式设置",layoutTitle:"控件布局",verticalLayout:"上下布局",horizontalLayout:"横向布局",styleTitle:"标题样式",boldTitle:"标题加粗",fontBold:"加粗",fontNormal:"常规",colonTitle:"显示冒号",colonVisible:"显示",colonHidden:"隐藏",alignTitle:"对齐方式",widthTitle:"标题宽度",alignLeft:"居左",alignRight:"居右",unitPx:"像素",unitPct:"百分比"},widget:{group:{base:"基础控件",layout:"布局控件",system:"系统控件",module:"模块控件",chart:"图表控件",advanced:"高级控件"},copyTitle:"副本_{0}",component:{input:"输入框",textarea:"文本域",select:"下拉选择",row:"一行多列",title:"标题",text:"文本",subtable:"子表",VxeSwitch:"是/否",VxeInput:"输入框",VxeNumberInput:"数字",VxeDatePicker:"日期",VxeTextarea:"文本域",VxeSelect:"下拉选择",VxeTreeSelect:"树形选择",VxeRadioGroup:"单选框",VxeCheckboxGroup:"复选框",VxeUploadFile:"文件",VxeUploadImage:"图片",VxeRate:"评分",VxeSlider:"滑块"}},widgetProp:{name:"控件名称",placeholder:"提示语",required:"必填校验",multiple:"允许多选",displaySetting:{name:"显示设置",pc:"电脑端",mobile:"手机端",visible:"显示",hidden:"隐藏"},dataSource:{name:"数据源",defValue:"选项{0}",addOption:"添加选项",batchEditOption:"批量编辑",batchEditTip:"每行对应一个选项，支持从表格、Excel、WPS 中直接复制粘贴。",batchEditSubTip:"每行对应一个选项，如果是分组，子项可以是空格或制表键开头，支持从表格、Excel、WPS 中直接复制粘贴。",buildOption:"生成选项"},rowProp:{colSize:"列数",col2:"两列",col3:"三列",col4:"四列",col6:"六列",layout:"布局"},textProp:{name:"内容",alignTitle:"对齐方式",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",colorTitle:"字体颜色",sizeTitle:"字体大小",boldTitle:"字体加粗",fontNormal:"常规",fontBold:"加粗"},subtableProp:{seqTitle:"序号",showSeq:"显示序号",showCheckbox:"允许多选",errSubDrag:"子表不支持该控件，请使用其他控件",colPlace:"将控件拖拽进来"},uploadProp:{limitFileCount:"文件数量限制",limitFileSize:"文件大小限制",multiFile:"允许上传多个文件",limitImgCount:"图片数量限制",limitImgSize:"图片大小限制",multiImg:"允许上传多张图片"}}},listDesign:{fieldSettingTab:"字段设置",listSettingTab:"参数设置",searchTitle:"查询条件",listTitle:"列表字段",searchField:"查询字段",listField:"列表字段",activeBtn:{ActionButtonUpdate:"编辑",ActionButtonDelete:"删除"},search:{addBtn:"编辑",emptyText:"未配置查询条件",editPopupTitle:"编辑查询字段"},searchPopup:{colTitle:"标题",saveBtn:"保存"}},text:{copySuccess:"已复制到剪贴板",copyError:"当前环境不支持该操作"},countdown:{formats:{yyyy:"年",MM:"月",dd:"天",HH:"时",mm:"分",ss:"秒"}},gantt:{tFullFormat:{year:"{yy}年",quarter:"{yy}年第{q}季度",month:"{yy}年{M}月",week:"{yy}年第{W}周",day:"{yy}年{M}月{E}日",date:"{yy}年{M}月{d}日",hour:"{yy}年 {M}月{d}日{H}时",minute:"{yy}年{M}月{d}日{H}时{m}分"},tSimpleFormat:{year:"{yy}年",quarter:"{q}季度",month:"{M}月",week:"{W}周",day:"{d}",date:"{d}",hour:"{H}时",minute:"{m}分"},dayss:{w0:"日",w1:"一",w2:"二",w3:"三",w4:"四",w5:"五",w6:"六"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",selectErr:"无法操作指定区域的单元格",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},body:{row:"行：{0}",col:"列：{0}"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},extendPivotTable:{aggregation:{grouping:"分组",values:"值",groupPlaceholder:"拖至此处进行分组",valuesPlaceholder:"拖至此处进行聚合",dragExistCol:"该列已存在",sortHelpTip:"点击并拖动图标可以调整顺序"},aggFuncs:{sum:"求和",count:"计数",avg:"平均值",min:"最小值",max:"最大值",first:"首个值",last:"末尾值"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结到左侧",fixedRight:"冻结到右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}};if(!We.hasLanguage("zh-CN")){const e="zh-CN";We.setI18n(e,WC),We.setLanguage(e)}We.setTheme("light");var ad={},Wp;function GC(){return Wp||(Wp=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.VXETablePluginElement=void 0;var t=Th(),l=u(fh()),a=u(Mh());function u(F){return F&&F.__esModule?F:{default:F}}function r(F){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},r(F)}function d(F,B){var te=Object.keys(F);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(F);B&&(de=de.filter(function(Te){return Object.getOwnPropertyDescriptor(F,Te).enumerable})),te.push.apply(te,de)}return te}function m(F){for(var B=1;B<arguments.length;B++){var te=arguments[B]!=null?arguments[B]:{};B%2?d(Object(te),!0).forEach(function(de){p(F,de,te[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(te)):d(Object(te)).forEach(function(de){Object.defineProperty(F,de,Object.getOwnPropertyDescriptor(te,de))})}return F}function p(F,B,te){return(B=D(B))in F?Object.defineProperty(F,B,{value:te,enumerable:!0,configurable:!0,writable:!0}):F[B]=te,F}function D(F){var B=C(F,"string");return r(B)=="symbol"?B:B+""}function C(F,B){if(r(F)!="object"||!F)return F;var te=F[Symbol.toPrimitive];if(te!==void 0){var de=te.call(F,B);if(r(de)!="object")return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(F)}var h;function S(F){return F==null||F===""}function w(F){return"on"+F.substring(0,1).toLocaleUpperCase()+F.substring(1)}function V(F){return"modelValue"}function g(F){return"update:modelValue"}function i(F){var B="change";switch(F.name){case"ElAutocomplete":B="select";break;case"ElInput":case"ElInputNumber":B="input";break}return B}function x(F,B){return(0,a.default)(F,B).date}function k(F,B){return(0,a.default)(F).format(B)}function R(F,B){return F&&B.valueFormat?x(F,B.valueFormat):F}function O(F,B,te){return F&&k(R(F,B),B.format||te)}function $(F,B,te,de){return l.default.map(F,function(Te){return O(Te,B,de)}).join(te)}function A(F,B,te,de){return F=O(F,te,de),F>=O(B[0],te,de)&&F<=O(B[1],te,de)}function M(F,B,te,de){return l.default.assign({},de,F.props,p({},V(),te))}function T(F,B,te,de){return l.default.assign({},de,F.props,p({},V(),te))}function _(F){return""+(S(F)?"":F)}function z(F,B,te){var de=F.placeholder;return[(0,t.h)("span",{class:"vxe-cell--label"},de&&S(te)?[(0,t.h)("span",{class:"vxe-cell--placeholder"},_(h._t(de)))]:_(te))]}function Z(F,B,te,de){var Te=F.events,Ke=g(),Ye=i(F),Qe=Ye===Ke,lt={};return l.default.objectEach(Te,function(et,ht){lt[w(ht)]=function(){for(var Ot=arguments.length,ut=new Array(Ot),wt=0;wt<Ot;wt++)ut[wt]=arguments[wt];et.apply(void 0,[B].concat(ut))}}),te&&(lt[w(Ke)]=function(et){te(et),Te&&Te[Ke]&&Te[Ke](B,et),Qe&&de&&de(et)}),!Qe&&de&&(lt[w(Ye)]=function(){for(var et=arguments.length,ht=new Array(et),Ot=0;Ot<et;Ot++)ht[Ot]=arguments[Ot];de.apply(void 0,ht),Te&&Te[Ye]&&Te[Ye].apply(Te,[B].concat(ht))}),lt}function J(F,B){var te=B.$table,de=B.row,Te=B.column;return Z(F,B,function(Ke){l.default.set(de,Te.field,Ke)},function(){te.updateStatus(B)})}function W(F,B,te,de){return Z(F,B,function(Te){te.data=Te},de)}function Q(F,B){var te=B.$form,de=B.data,Te=B.field;return Z(F,B,function(Ke){l.default.set(de,Te,Ke)},function(){te.updateStatus(B)})}function ge(F,B,te,de){var Te=te[F];B&&te.length>F&&l.default.each(B,function(Ke){Ke.value===Te&&(de.push(Ke.label),ge(++F,Ke.children,te,de))})}function fe(F,B){var te=F.options,de=te===void 0?[]:te,Te=F.optionGroups,Ke=F.props,Ye=Ke===void 0?{}:Ke,Qe=F.optionProps,lt=Qe===void 0?{}:Qe,et=F.optionGroupProps,ht=et===void 0?{}:et,Ot=B.$table,ut=B.rowid,wt=B.row,mt=B.column,Rt=Ye.filterable,Vt=Ye.multiple,he=lt.label||"label",$e=lt.value||"value",nt=ht.options||"options",ft=l.default.get(wt,mt.field),vt=mt.id,v;if(Rt){var L=Ot.internalData,N=L.fullAllDataRowIdData,ie=N[ut];if(ie&&(v=ie.cellData,v||(v=ie.cellData={})),ie&&v[vt]&&v[vt].value===ft)return v[vt].label}if(!S(ft)){var Me=l.default.map(Vt?ft:[ft],Te?function(He){for(var Ve,ye=0;ye<Te.length&&(Ve=l.default.find(Te[ye][nt],function(P){return P[$e]===He}),!Ve);ye++);return Ve?Ve[he]:He}:function(He){var Ve=l.default.find(de,function(ye){return ye[$e]===He});return Ve?Ve[he]:He}).join(", ");return v&&de&&de.length&&(v[vt]={value:ft,label:Me}),Me}return""}function ve(F,B){var te=F.props,de=te===void 0?{}:te,Te=B.row,Ke=B.column,Ye=l.default.get(Te,Ke.field),Qe=Ye||[],lt=[];return ge(0,de.options,Qe,lt),(de.showAllLevels===!1?lt.slice(lt.length-1,lt.length):lt).join(" ".concat(de.separator||"/"," "))}function oe(F,B){var te=F.props,de=te===void 0?{}:te,Te=B.row,Ke=B.column,Ye=de.rangeSeparator,Qe=Ye===void 0?"-":Ye,lt=l.default.get(Te,Ke.field);switch(de.type){case"week":lt=O(lt,de,"YYYYwWW");break;case"month":lt=O(lt,de,"YYYY-MM");break;case"year":lt=O(lt,de,"YYYY");break;case"dates":lt=$(lt,de,", ","YYYY-MM-DD");break;case"daterange":lt=$(lt,de," ".concat(Qe," "),"YYYY-MM-DD");break;case"datetimerange":lt=$(lt,de," ".concat(Qe," "),"YYYY-MM-DD HH:ss:mm");break;case"monthrange":lt=$(lt,de," ".concat(Qe," "),"YYYY-MM");break;default:lt=O(lt,de,"YYYY-MM-DD")}return lt}function Ee(F,B){var te=F.props,de=te===void 0?{}:te,Te=B.row,Ke=B.column,Ye=de.isRange,Qe=de.format,lt=Qe===void 0?"hh:mm:ss":Qe,et=de.rangeSeparator,ht=et===void 0?"-":et,Ot=l.default.get(Te,Ke.field);return Ot&&Ye&&(Ot=l.default.map(Ot,function(ut){return k(R(ut,de),lt)}).join(" ".concat(ht," "))),k(R(Ot,de),lt)}function re(F){return function(B,te){var de=te.row,Te=te.column,Ke=B.name,Ye=B.attrs,Qe=l.default.get(de,Te.field);return[(0,t.h)((0,t.resolveComponent)(Ke),m(m(m({},Ye),M(B,te,Qe,F)),J(B,te)))]}}function Y(F,B){var te=F.attrs;return[(0,t.h)((0,t.resolveComponent)("el-button"),m(m(m({},te),M(F,B,null)),Z(F,B)),Se(F.content))]}function Oe(F,B){var te=F.children;return te?te.map(function(de){return Y(de,B)[0]}):[]}function ze(F){return function(B,te){var de=te.column,Te=B.name,Ke=B.attrs;return[(0,t.h)("div",{class:"vxe-table--filter-element-wrapper"},de.filters.map(function(Ye,Qe){var lt=Ye.data;return(0,t.h)((0,t.resolveComponent)(Te),m(m(m({key:Qe},Ke),M(B,te,lt,F)),W(B,te,Ye,function(){ce(te,!!Ye.data,Ye)})))}))]}}function ce(F,B,te){var de=F.$panel;de.changeOption(null,B,te)}function ue(F){var B=F.option,te=F.row,de=F.column,Te=B.data,Ke=l.default.get(te,de.field);return l.default.toValueString(Ke).indexOf(Te)>-1}function me(F){var B=F.option,te=F.row,de=F.column,Te=B.data,Ke=l.default.get(te,de.field);return Ke===Te}function be(F,B){var te=B.label||"label",de=B.value||"value";return l.default.map(F,function(Te,Ke){return(0,t.h)((0,t.resolveComponent)("el-option"),{key:Ke,value:Te[de],label:Te[te],disabled:Te.disabled})})}function Se(F){return[_(F)]}function pe(F){return function(B,te){var de=te.data,Te=te.field,Ke=B.name,Ye=B.attrs,Qe=l.default.get(de,Te);return[(0,t.h)((0,t.resolveComponent)(Ke),m(m(m({},Ye),T(B,te,Qe,F)),Q(B,te)))]}}function Ae(F,B){var te=F.attrs,de=T(F,B,null);return[(0,t.h)((0,t.resolveComponent)("el-button"),m(m(m({},te),de),Z(F,B)),{default:function(){return Se(F.content||de.content)}})]}function _e(F,B){var te=F.children;return te?te.map(function(de){return Ae(de,B)[0]}):[]}function ae(F){return function(B){var te=B.row,de=B.column,Te=B.options;return Te&&Te.original?l.default.get(te,de.field):F(de.editRender||de.cellRender,B)}}function Re(){return function(F,B){var te=F.name,de=F.options,Te=de===void 0?[]:de,Ke=F.optionProps,Ye=Ke===void 0?{}:Ke,Qe=F.attrs,lt=B.data,et=B.field,ht=Ye.label||"label",Ot=Ye.value||"value",ut=l.default.get(lt,et);return[(0,t.h)((0,t.resolveComponent)("".concat(te,"Group")),m(m(m({},Qe),T(F,B,ut)),Q(F,B)),{default:function(){return Te.map(function(mt,Rt){return(0,t.h)((0,t.resolveComponent)(te),{key:Rt,label:mt[Ot],disabled:mt.disabled},{default:function(){return Se(mt[ht])}})})}})]}}function Ie(F,B,te){for(var de,Te=F.target;Te&&Te.nodeType&&Te!==document;){if(te&&Te.className&&Te.className.split&&Te.className.split(" ").indexOf(te)>-1)de=Te;else if(Te===B)return{flag:te?!!de:!0,container:B,targetElem:de};Te=Te.parentNode}return{flag:!1}}function ne(F){var B=F.$event,te=document.body;if(Ie(B,te,"el-autocomplete-suggestion").flag||Ie(B,te,"el-select-dropdown").flag||Ie(B,te,"el-cascader__dropdown").flag||Ie(B,te,"el-cascader-menus").flag||Ie(B,te,"el-time-panel").flag||Ie(B,te,"el-picker-panel").flag||Ie(B,te,"el-color-dropdown").flag)return!1}var se=e.VXETablePluginElement={install:function(B){!/^(4)\./.test(B.version)&&!/v4/i.test(B.v)&&console.error("[vxe-table-plugin-element 4.x] Version vxe-table 4.x is required"),B.renderer.mixin({ElAutocomplete:{autofocus:"input.el-input__inner",renderDefault:re(),renderEdit:re(),renderFilter:ze(),defaultFilterMethod:me,renderItemContent:pe()},ElInput:{autofocus:"input.el-input__inner",renderDefault:re(),renderEdit:re(),renderFilter:ze(),defaultFilterMethod:ue,renderItemContent:pe()},ElInputNumber:{autofocus:"input.el-input__inner",renderDefault:re(),renderEdit:re(),renderFilter:ze(),defaultFilterMethod:ue,renderItemContent:pe()},ElSelect:{renderEdit:function(de,Te){var Ke=de.options,Ye=Ke===void 0?[]:Ke,Qe=de.optionGroups,lt=de.optionProps,et=lt===void 0?{}:lt,ht=de.optionGroupProps,Ot=ht===void 0?{}:ht,ut=Te.row,wt=Te.column,mt=de.attrs,Rt=l.default.get(ut,wt.field),Vt=M(de,Te,Rt),he=J(de,Te);if(Qe){var $e=Ot.options||"options",nt=Ot.label||"label";return[(0,t.h)((0,t.resolveComponent)("el-select"),m(m(m({},mt),Vt),he),{default:function(){return l.default.map(Qe,function(vt,v){return(0,t.h)((0,t.resolveComponent)("el-option-group"),{key:v,label:vt[nt]},{default:function(){return be(vt[$e],et)}})})}})]}return[(0,t.h)((0,t.resolveComponent)("el-select"),m(m(m({},Vt),mt),he),{default:function(){return be(Ye,et)}})]},renderCell:function(de,Te){return z(de,Te,fe(de,Te))},renderFilter:function(de,Te){var Ke=de.options,Ye=Ke===void 0?[]:Ke,Qe=de.optionGroups,lt=de.optionProps,et=lt===void 0?{}:lt,ht=de.optionGroupProps,Ot=ht===void 0?{}:ht,ut=Ot.options||"options",wt=Ot.label||"label",mt=Te.column,Rt=de.attrs;return[(0,t.h)("div",{class:"vxe-table--filter-element-wrapper"},Qe?mt.filters.map(function(Vt,he){var $e=Vt.data,nt=M(de,Te,$e);return(0,t.h)((0,t.resolveComponent)("el-select"),m(m(m({key:he},Rt),nt),W(de,Te,Vt,function(){ce(Te,nt.multiple?Vt.data&&Vt.data.length>0:!l.default.eqNull(Vt.data),Vt)})),{default:function(){return l.default.map(Qe,function(vt,v){return(0,t.h)((0,t.resolveComponent)("el-option-group"),{key:v,label:vt[wt]},{default:function(){return be(vt[ut],et)}})})}})}):mt.filters.map(function(Vt,he){var $e=Vt.data,nt=M(de,Te,$e);return(0,t.h)((0,t.resolveComponent)("el-select"),m(m(m({key:he},Rt),nt),W(de,Te,Vt,function(){ce(Te,nt.multiple?Vt.data&&Vt.data.length>0:!l.default.eqNull(Vt.data),Vt)})),{default:function(){return be(Ye,et)}})}))]},defaultFilterMethod:function(de){var Te=de.option,Ke=de.row,Ye=de.column,Qe=Te.data,lt=Ye.field,et=Ye.filterRender,ht=et.props,Ot=ht===void 0?{}:ht,ut=l.default.get(Ke,lt);return Ot.multiple?l.default.isArray(ut)?l.default.includeArrays(ut,Qe):Qe.indexOf(ut)>-1:ut==Qe},renderItemContent:function(de,Te){var Ke=de.options,Ye=Ke===void 0?[]:Ke,Qe=de.optionGroups,lt=de.optionProps,et=lt===void 0?{}:lt,ht=de.optionGroupProps,Ot=ht===void 0?{}:ht,ut=Te.data,wt=Te.field,mt=de.attrs,Rt=l.default.get(ut,wt),Vt=T(de,Te,Rt),he=Q(de,Te);if(Qe){var $e=Ot.options||"options",nt=Ot.label||"label";return[(0,t.h)((0,t.resolveComponent)("el-select"),m(m(m({},mt),Vt),he),{default:function(){return l.default.map(Qe,function(vt,v){return(0,t.h)((0,t.resolveComponent)("el-option-group"),{label:vt[nt],key:v},{default:function(){return be(vt[$e],et)}})})}})]}return[(0,t.h)((0,t.resolveComponent)("el-select"),m(m(m({},mt),Vt),he),{default:function(){return be(Ye,et)}})]},exportMethod:ae(fe)},ElCascader:{renderEdit:re(),renderCell:function(de,Te){return z(de,Te,ve(de,Te))},renderItemContent:pe(),exportMethod:ae(ve)},ElDatePicker:{renderEdit:re(),renderCell:function(de,Te){return z(de,Te,oe(de,Te))},renderFilter:function(de,Te){var Ke=Te.column,Ye=de.name,Qe=de.attrs;return[(0,t.h)("div",{class:"vxe-table--filter-element-wrapper"},Ke.filters.map(function(lt,et){var ht=lt.data;return(0,t.h)((0,t.resolveComponent)(Ye),m(m(m({key:et},Qe),M(de,Te,ht)),W(de,Te,lt,function(){ce(Te,!!lt.data,lt)})))}))]},defaultFilterMethod:function(de){var Te=de.option,Ke=de.row,Ye=de.column,Qe=Te.data,lt=Ye.filterRender,et=lt.props,ht=et===void 0?{}:et,Ot=l.default.get(Ke,Ye.field);if(Qe)switch(ht.type){case"daterange":return A(Ot,Qe,ht,"YYYY-MM-DD");case"datetimerange":return A(Ot,Qe,ht,"YYYY-MM-DD HH:ss:mm");case"monthrange":return A(Ot,Qe,ht,"YYYY-MM");default:return Ot===Qe}return!1},renderItemContent:pe(),exportMethod:ae(oe)},ElTimePicker:{renderEdit:re(),renderCell:function(de,Te){return z(de,Te,Ee(de,Te))},renderItemContent:pe(),exportMethod:ae(Ee)},ElTimeSelect:{renderEdit:re(),renderItemContent:pe()},ElRate:{renderDefault:re(),renderEdit:re(),renderFilter:ze(),defaultFilterMethod:me,renderItemContent:pe()},ElSwitch:{renderDefault:re(),renderEdit:re(),renderFilter:function(de,Te){var Ke=Te.column,Ye=de.name,Qe=de.attrs;return[(0,t.h)("div",{class:"vxe-table--filter-element-wrapper"},Ke.filters.map(function(lt,et){var ht=lt.data;return(0,t.h)((0,t.resolveComponent)(Ye),m(m(m({key:et},Qe),M(de,Te,ht)),W(de,Te,lt,function(){ce(Te,l.default.isBoolean(lt.data),lt)})))}))]},defaultFilterMethod:me,renderItemContent:pe()},ElSlider:{renderDefault:re(),renderEdit:re(),renderFilter:ze(),defaultFilterMethod:me,renderItemContent:pe()},ElRadio:{renderItemContent:Re()},ElCheckbox:{renderItemContent:Re()},ElButton:{renderDefault:Y,renderItemContent:Ae},ElButtons:{renderDefault:Oe,renderItemContent:_e}}),B.interceptor.add("event.clearFilter",ne),B.interceptor.add("event.clearEdit",ne),B.interceptor.add("event.clearAreas",ne),B.interceptor.add("event.clearActived",ne)}};typeof window<"u"&&window.VXETable&&window.VXETable.use&&window.VXETable.use(se),e.default=se}(ad)),ad}var YC=GC();const qC=vh(YC);var Ka;We.use(qC);if(Ul!==null&&Ul!==void 0&&(Ka=Ul.config)!==null&&Ka!==void 0&&(Ka=Ka.globalProperties)!==null&&Ka!==void 0&&Ka.$start){We.setConfig({i18n:Ul.config.globalProperties.$t}),Ul.use(Ng),Ul.use(HC),Ul.use(Iy),Ul.use(Ry),Ul.use(BC),Ul.use(jC);const e=ph();Dt(()=>e.isDark,t=>{We.setTheme(t?"dark":"light")},{immediate:!0})}const UC=tu({name:"Pagination",props:{options:{type:Object,required:!0}},setup(e){const t=gh(),l=j(()=>{var p,D;return!((p=e.options)!=null&&p.noAutoLayout)&&t.isMobile?"prev, pager, next":(D=e.options)==null?void 0:D.layout}),a=j(()=>{var p,D;return!((p=e.options)!=null&&p.noAutoLayout)&&t.isMobile?5:(D=e.options)==null?void 0:D.pagerCount}),u=st(1);Dt(()=>{var p;return(p=e.options)==null?void 0:p.currentPage},p=>{u.value=p},{immediate:!0});const r=p=>{var D;u.value=p,(D=e.options)==null||D.change(u.value,d.value)},d=st(10);return Dt(()=>{var p;return(p=e.options)==null?void 0:p.pageSize},p=>{d.value=p},{immediate:!0}),{pageLayout:l,pagerCount:a,currentPage:u,pageSize:d,setPage:r,setSize:p=>{var D;d.value=p,(D=e.options)==null||D.change(u.value,d.value)}}}});function KC(e,t,l,a,u,r){const d=uh;return rl(),Jl(d,Kp(e.options,{"current-page":e.currentPage,"page-size":e.pageSize,layout:e.pageLayout,"pager-count":e.pagerCount,"onUpdate:currentPage":e.setPage,"onUpdate:pageSize":e.setSize}),null,16,["current-page","page-size","layout","pager-count","onUpdate:currentPage","onUpdate:pageSize"])}const XC=qp(UC,[["render",KC]]),Mm=new WeakMap,Gp=new ResizeObserver(e=>{for(const t of e){const l=Mm.get(t.target);l&&l({width:t.borderBoxSize[0].inlineSize,height:t.borderBoxSize[0].blockSize})}}),ZC={mounted(e,t){Mm.set(e,t.value),Gp.observe(e)},unmounted(e){Gp.unobserve(e)}},Yp=e=>{const t=e.offsetHeight,l=window.getComputedStyle(e).marginTop.replace("px",""),a=window.getComputedStyle(e).marginBottom.replace("px","");return t+ +l+ +a},JC={meClass:[String,Array],name:{type:String,default:"meVxeTable"},exportMenu:{type:Array,default:()=>[{label:"csv",handle:"csv"},{label:"html",handle:"html"},{label:"xml",handle:"xml"},{label:"txt",handle:"txt"}]},print:{type:[Object,Boolean],default:()=>({})},customColumn:{type:Boolean,default:!0},defaultShowSearch:{type:Boolean,default:!1},toolbar:{type:Boolean,default:!0},quickSearch:String,quickSearchPlaceholder:{type:[String,Function],default:()=>e=>e("快捷搜索")},paginationOptions:Object,autoHeight:{type:Boolean,default:!0}},QC=["quickSearch","refresh","add","update:quickSearch"],ew=tu({name:"MeVxeTable",components:{pagination:XC},directives:{resize:ZC},inheritAttrs:!1,props:JC,emits:QC,setup(e,{expose:t}){var S;const l=Ru("vxeTableRef"),a=Ru("meVxeToolbarRef"),u=Ru("mePaginationRef"),r=st(e.defaultShowSearch),d=st([]),m=st([]),p=mh(()=>{var w;(w=l.value)==null||w.refreshColumn()},500),D=(w,V)=>{w.visible=V,p()};Ln(async()=>{await ke(),await ke();const{collectColumn:w,fullColumn:V}=l.value.getTableColumn();d.value=w,m.value=V.reduce((g,i)=>(i.visible&&g.push(i.id),g),[])}),t({vxeTableRef:l});const C=st();return{elTreeProps:{label:w=>w.type==="seq"?"#":w.title,children:"children"},vxeTableRef:l,collectColumn:d,defaultChecked:m,checkChange:D,handleExport:(w,V)=>{typeof w=="string"?l.value.exportData({type:w,filename:V,data:l.value.getCheckboxRecords().length?l.value.getCheckboxRecords():void 0}):w(l.value,V)},printTable:()=>{l.value.print(Object.assign({sheetName:e.name,data:l.value.getCheckboxRecords().length?l.value.getCheckboxRecords():void 0},e.print===!0?{}:e.print))},showSearch:r,getTableHeight:w=>{var V,g;if(e.autoHeight){const i=a.value?Yp(a.value):0,x=(V=u.value)!=null&&V.$el?Yp((g=u.value)==null?void 0:g.$el):0;C.value=w.height-i-x}},tableHeight:C,meVxeToolbarRef:a,mePaginationRef:u,vnodeProps:(S=bh())==null?void 0:S.vnode.props}}}),tw={key:0,ref:"meVxeToolbarRef",class:"me-vxe-toolbar"},nw={key:0,class:"me-vxe-toolbar-search"},ow={class:"me-vxe-toolbar-menu"},lw={class:"me-vxe-toolbar-buttons"},sw={class:"me-vxe-toolbar-tools"},aw={class:"el-dropdown-menu"},rw=["onClick"],iw={class:"me-vxe-body"};function cw(e,t,l,a,u,r){var k,R,O;const d=Uo("mel-icon-refresh"),m=kh,p=Uo("mel-icon-plus"),D=Fh,C=Rh,h=Ih,S=Oh,w=Ph,V=Uo("mel-icon-search"),g=Uo("vxe-table"),i=dh,x=xh("resize");return ff((rl(),Tr("div",{class:Dh(["me-vxe-table",e.meClass])},[e.toolbar?(rl(),Tr("div",tw,[e.$slots.search?ff((rl(),Tr("div",nw,[ua(e.$slots,"search",{},void 0,!0)],512)),[[yh,e.showSearch]]):zn("",!0),Mr("div",ow,[Mr("div",lw,[(k=e.vnodeProps)!=null&&k.onRefresh?(rl(),Jl(m,{key:0,onClick:t[0]||(t[0]=$=>e.$emit("refresh"))},{default:Fl(()=>[Ls(d)]),_:1})):zn("",!0),(R=e.vnodeProps)!=null&&R.onAdd?(rl(),Jl(m,{key:1,type:"primary",onClick:t[1]||(t[1]=$=>e.$emit("add"))},{default:Fl(()=>[Ls(p)]),_:1})):zn("",!0),ua(e.$slots,"buttons",{},void 0,!0)]),Mr("div",sw,[e.quickSearch!==void 0?(rl(),Jl(D,{key:0,"model-value":e.quickSearch,placeholder:typeof e.quickSearchPlaceholder=="function"?e.quickSearchPlaceholder(e.$t):e.quickSearchPlaceholder,"prefix-icon":"mel-icon-search","onUpdate:modelValue":t[2]||(t[2]=$=>e.$emit("update:quickSearch",$)),onChange:t[3]||(t[3]=$=>e.$emit("quickSearch",$))},null,8,["model-value","placeholder"])):zn("",!0),e.customColumn||(O=e.exportMenu)!=null&&O.length||e.print?(rl(),Jl(w,{key:1},{default:Fl(()=>{var $;return[e.customColumn?(rl(),Jl(S,{key:0,teleported:!1,placement:"bottom",trigger:"click",width:"auto"},{reference:Fl(()=>[Ls(m,{icon:"mel-icon-grid",title:e.$t("自定义列")},null,8,["title"])]),default:Fl(()=>[Ls(h,{"max-height":"300px",class:"popover-scrollbar-y"},{default:Fl(()=>[Ls(C,{"node-key":"id","default-checked-keys":e.defaultChecked,data:e.collectColumn,"default-expand-all":"",props:e.elTreeProps,"show-checkbox":"",onCheckChange:e.checkChange},null,8,["default-checked-keys","data","props","onCheckChange"])]),_:1})]),_:1})):zn("",!0),($=e.exportMenu)!=null&&$.length?(rl(),Jl(S,{key:1,pure:"",placement:"bottom",trigger:"click","popper-class":"me-vxe-exportmenu-popover el-dropdown__popper"},{reference:Fl(()=>[Ls(m,{icon:"mel-icon-download",title:e.$t("导出")},null,8,["title"])]),default:Fl(()=>[Mr("ul",aw,[(rl(!0),Tr(Ch,null,wh(e.exportMenu,A=>(rl(),Tr("li",{key:A.label,class:"el-dropdown-menu__item",onClick:M=>e.handleExport(A.handle,A.filename??e.name)},Eh(A.label),9,rw))),128))])]),_:1})):zn("",!0),e.print?(rl(),Jl(m,{key:2,icon:"mel-icon-printer",title:e.$t("打印"),onClick:t[4]||(t[4]=A=>e.printTable())},null,8,["title"])):zn("",!0),ua(e.$slots,"tools",{},void 0,!0)]}),_:3})):zn("",!0),e.$slots.search?(rl(),Jl(m,{key:2,title:e.$t("更多筛选"),onClick:t[5]||(t[5]=$=>e.showSearch=!e.showSearch)},{default:Fl(()=>[Ls(V)]),_:1},8,["title"])):zn("",!0),ua(e.$slots,"toolsButton",{},void 0,!0)])])],512)):zn("",!0),Mr("div",iw,[Ls(g,Kp({ref:"vxeTableRef","max-height":e.tableHeight},e.$attrs),Sh({default:Fl(()=>[ua(e.$slots,"default",{},void 0,!0)]),_:2},[e.$slots.loading?{name:"loading",fn:Fl(()=>[ua(e.$slots,"loading",{},void 0,!0)]),key:"0"}:void 0,e.$slots.empty?{name:"empty",fn:Fl(()=>[ua(e.$slots,"empty",{},void 0,!0)]),key:"1"}:void 0]),1040,["max-height"])]),e.paginationOptions?(rl(),Jl(i,{key:1,ref:"mePaginationRef",options:e.paginationOptions,class:"pagination me-vxe-footer"},null,8,["options"])):zn("",!0)],2)),[[x,e.getTableHeight]])}const ww=qp(ew,[["render",cw],["__scopeId","data-v-bee58b00"]]);export{ww as _};
