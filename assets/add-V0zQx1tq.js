import{aO as a,a9 as c,a as H,r as N,s as O,_ as M}from"./index-gAuTWnPj.js";import{_ as T}from"./index-mENWpJ4g.js";import"./mock-DBzxB1z9.js";import{E as h,a as P}from"./index-hqSl7NKM.js";import{E as S}from"./index-CXi-HPtR.js";import{E as w,a as L}from"./index-BK-tAmL-.js";import{E as q}from"./index-BUHB6SMc.js";import{E as U}from"./index-DEe-wAkk.js";import{d as x,r as g,A as W,W as k,o as b,u as e,w as u,k as r,c as G,as as J,T as K,j,t as A}from"./core-C4-oPvXL.js";class Q{constructor(){a(this,"page",1),a(this,"size",10)}}class I{constructor(){a(this,"id",void 0),a(this,"name",""),a(this,"type","1"),a(this,"bookName",""),a(this,"price",0),a(this,"section",0),a(this,"createTime",void 0)}}class pe extends Q{constructor(...i){super(...i),a(this,"name",""),a(this,"type",void 0),a(this,"bookName",""),a(this,"priceStart",void 0),a(this,"priceEnd",void 0),a(this,"sectionStart",void 0),a(this,"sectionEnd",void 0),a(this,"createTime",void 0)}}function ce(n={noLoading:!0}){return c(i=>({url:"demo",method:"get",params:i}),n)}function X(n=!0){return c(i=>({url:"demo",method:"post",data:i}),{noLoading:n})}function Y(n=!0){return c((i,t)=>({url:"demo/{id}".replace("{id}",String(i)),method:"put",data:t}),{noLoading:n})}function _e(n=!0){return c(i=>({url:"demo/{id}".replace("{id}",String(i)),method:"delete"}),{noLoading:n})}const Z={1:"纸质",2:"电脑",3:"手机",4:"电纸书"},ee=x({setup:!0,name:"Add",langImport:[n=>N(Object.assign({"../lang/en.json":()=>O(()=>import("./en-N-8T238L.js"),[])}),`../lang/${n}.json`,3),"demo"],getComponents:()=>[S,h,L,w,q,P,U,T]}),te=x({...ee,__name:"add",props:{data:{},modelValue:{type:Boolean}},emits:["update:modelValue","success"],setup(n,{emit:i}){let{t}=H({},[d=>N(Object.assign({"../lang/en.json":()=>O(()=>import("./en-N-8T238L.js"),[])}),`../lang/${d}.json`,3),"demo"]);const l=g(new I),B=n,p=i;W(()=>B.data,d=>{l.value=d??new I},{immediate:!0});const C={name:{required:!0,message:t("请填写")+t("姓名"),trigger:"blur"},bookName:{required:!0,message:t("请填写")+t("书名"),trigger:"blur"},type:{required:!0,message:t("请选择")+t("类型"),trigger:"blur"},price:{required:!0,message:t("请填写")+t("价格"),trigger:"blur"},section:{required:!0,message:t("请填写")+t("章节"),trigger:"blur"}},_=g(),f=g(!1),$=async()=>{f.value=!0,_.value.validate(async(d,o)=>{d?(l.value.id?await Y().runAsync(l.value.id,l.value):await X().runAsync(l.value),p("update:modelValue",!1),p("success")):_.value.scrollToField(Object.keys(o)[0]),f.value=!1})};return(d,o)=>{const v=S,m=h,D=L,F=w,V=q,R=P,E=U,z=T;return b(),k(z,{title:e(t)(e(l).id?"编辑":"新增"),"model-value":d.modelValue,"close-on-click-modal":!1,class:"add-dialog","onUpdate:modelValue":o[7]||(o[7]=s=>p("update:modelValue",s))},{footer:u(()=>[r(E,{type:"primary",loading:e(f),onClick:o[5]||(o[5]=s=>$())},{default:u(()=>[j(A(e(t)("提交")),1)]),_:1},8,["loading"]),r(E,{onClick:o[6]||(o[6]=s=>p("update:modelValue",!1))},{default:u(()=>[j(A(e(t)("取消")),1)]),_:1})]),default:u(()=>[r(R,{ref_key:"formEl",ref:_,model:e(l),rules:C,class:"add"},{default:u(()=>[r(m,{label:e(t)("姓名"),prop:"name"},{default:u(()=>[r(v,{modelValue:e(l).name,"onUpdate:modelValue":o[0]||(o[0]=s=>e(l).name=s)},null,8,["modelValue"])]),_:1},8,["label"]),r(m,{label:e(t)("书名"),prop:"bookName"},{default:u(()=>[r(v,{modelValue:e(l).bookName,"onUpdate:modelValue":o[1]||(o[1]=s=>e(l).bookName=s)},null,8,["modelValue"])]),_:1},8,["label"]),r(m,{label:e(t)("类型"),prop:"type"},{default:u(()=>[r(F,{modelValue:e(l).type,"onUpdate:modelValue":o[2]||(o[2]=s=>e(l).type=s)},{default:u(()=>[(b(!0),G(K,null,J(e(Z),(s,y)=>(b(),k(D,{key:y,value:y,label:s},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),r(m,{label:e(t)("价格"),prop:"price"},{default:u(()=>[r(V,{modelValue:e(l).price,"onUpdate:modelValue":o[3]||(o[3]=s=>e(l).price=s),min:0,precision:2},null,8,["modelValue"])]),_:1},8,["label"]),r(m,{label:e(t)("章节"),prop:"section"},{default:u(()=>[r(V,{modelValue:e(l).section,"onUpdate:modelValue":o[4]||(o[4]=s=>e(l).section=s),min:0,precision:0},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["title","model-value"])}}}),oe=M(te,[["__scopeId","data-v-a665b199"]]),fe=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"}));export{pe as L,oe as a,Z as b,fe as c,_e as d,ce as l};
