import{g as x,d as L,a4 as N,p as c,A as b,c as O,o as k,a as m,t as R,u as s}from"./core-C4-oPvXL.js";import{aG as T,aH as F}from"./index-gAuTWnPj.js";var v={exports:{}},p;function w(){if(p)return v.exports;p=1,v.exports=g,v.exports.default=g;function g(e){if(e=e||{},e.negativeType=e.negativeType||(e.negative==="R"?"right":"left"),typeof e.negativeLeftSymbol!="string")switch(e.negativeType){case"left":e.negativeLeftSymbol="-";break;case"brackets":e.negativeLeftSymbol="(";break;default:e.negativeLeftSymbol=""}if(typeof e.negativeRightSymbol!="string")switch(e.negativeType){case"right":e.negativeRightSymbol="-";break;case"brackets":e.negativeRightSymbol=")";break;default:e.negativeRightSymbol=""}typeof e.negativeLeftOut!="boolean"&&(e.negativeLeftOut=e.negativeOut!==!1),typeof e.negativeRightOut!="boolean"&&(e.negativeRightOut=e.negativeOut!==!1),e.prefix=e.prefix||"",e.suffix=e.suffix||"",typeof e.integerSeparator!="string"&&(e.integerSeparator=typeof e.separator=="string"?e.separator:","),e.decimalsSeparator=typeof e.decimalsSeparator=="string"?e.decimalsSeparator:"",e.decimal=e.decimal||".",e.padLeft=e.padLeft||-1,e.padRight=e.padRight||-1;function t(a,f){if(f=f||{},a||a===0)a=""+a;else return"";var i=[],h=a.charAt(0)==="-";return a=a.replace(/^\-/g,""),!e.negativeLeftOut&&!f.noUnits&&i.push(e.prefix),h&&i.push(e.negativeLeftSymbol),e.negativeLeftOut&&!f.noUnits&&i.push(e.prefix),a=a.split("."),e.round!=null&&S(a,e.round),e.truncate!=null&&(a[1]=y(a[1],e.truncate)),e.padLeft>0&&(a[0]=d(a[0],e.padLeft)),e.padRight>0&&(a[1]=l(a[1],e.padRight)),!f.noSeparator&&a[1]&&(a[1]=u(a[1],e.decimalsSeparator)),!f.noSeparator&&a[0]&&(a[0]=n(a[0],e.integerSeparator)),i.push(a[0]),a[1]&&(i.push(e.decimal),i.push(a[1])),e.negativeRightOut&&!f.noUnits&&i.push(e.suffix),h&&i.push(e.negativeRightSymbol),!e.negativeRightOut&&!f.noUnits&&i.push(e.suffix),i.join("")}t.negative=e.negative,t.negativeOut=e.negativeOut,t.negativeType=e.negativeType,t.negativeLeftOut=e.negativeLeftOut,t.negativeLeftSymbol=e.negativeLeftSymbol,t.negativeRightOut=e.negativeRightOut,t.negativeRightSymbol=e.negativeRightSymbol,t.prefix=e.prefix,t.suffix=e.suffix,t.separate=e.separate,t.integerSeparator=e.integerSeparator,t.decimalsSeparator=e.decimalsSeparator,t.decimal=e.decimal,t.padLeft=e.padLeft,t.padRight=e.padRight,t.truncate=e.truncate,t.round=e.round;function r(a,f){f=f||[],e.allowedSeparators&&e.allowedSeparators.forEach(function(_){f.push(_)}),f.push(e.integerSeparator),f.push(e.decimalsSeparator),a=a.replace(e.prefix,""),a=a.replace(e.suffix,"");var i=a;do{a=i;for(var h=0;h<f.length;h++)i=i.replace(f[h],"")}while(i!=a);return a}return t.unformat=r,t}function n(e,t){if(e+="",!t)return e;for(var r=/(\d+)(\d{3})/;r.test(e);)e=e.replace(r,"$1"+t+"$2");return e}function u(e,t){if(e+="",!t)return e;for(var r=/(\d{3})(\d+)/;r.test(e);)e=e.replace(r,"$1"+t+"$2");return e}function d(e,t){e=e+"";for(var r=[];r.length+e.length<t;)r.push("0");return r.join("")+e}function l(e,t){e?e+="":e="";for(var r=[];r.length+e.length<t;)r.push("0");return e+r.join("")}function y(e,t){return e&&(e+=""),e&&e.length>t?e.substr(0,t):e}function S(e,t){if(e[1]&&t>=0&&e[1].length>t){var r=e[1].slice(0,t);if(+e[1].substr(t,1)>=5){for(var a="";r.charAt(0)==="0";)a=a+"0",r=r.substr(1);r=+r+1+"",r=a+r,r.length>t&&(e[0]=+e[0]+ +r.charAt(0)+"",r=r.substring(1))}e[1]=r}return e}return v.exports}var j=w();const A=x(j),E={class:"prefix"},$={class:"output"},B={class:"suffix"},U=L({setup:!0}),q=L({...U,__name:"meNumber",props:{start:{type:Number,default:0},end:[Number,Array],delay:{type:Number,default:0},disabled:{type:Boolean,default:!1},duration:{type:Number,default:1e3},transition:{type:[Function,String],default:"easeOutExpo"},format:{type:Function,default:(g,n)=>A({truncate:n,padRight:n})(g)}},emits:["finished","started"],setup(g,{emit:n}){const u=g,d=n,l=N({number:u.start,prefix:"",suffix:"",decimals:0}),y=T(c(()=>l.number),{delay:c(()=>u.delay),disabled:c(()=>u.disabled),duration:c(()=>u.duration),onFinished:()=>d("finished"),onStarted:()=>d("started"),transition:c(()=>typeof u.transition=="string"?F[u.transition]:u.transition)}),S=e=>{var t,r;return typeof e=="number"?{prefix:"",number:e,suffix:"",decimals:((t=(e+"").split(".")[1])==null?void 0:t.length)??0}:{prefix:e[1]??"",number:e[0],suffix:e[2]??"",decimals:((r=(e[0]+"").split(".")[1])==null?void 0:r.length)??0}};return b(()=>u.end,e=>Object.assign(l,S(e??u.start)),{immediate:!0,deep:!0}),(e,t)=>(k(),O("span",null,[m("span",E,R(s(l).prefix),1),m("span",$,R(g.format(s(y),s(l).decimals)),1),m("span",B,R(s(l).suffix),1)]))}});export{q as _};
