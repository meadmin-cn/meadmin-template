import{d as le,ab as M,aj as ae,f as ie,g as se,h as re,aJ as pe,l as me,T as de,w as ue,_ as ce,ap as fe,q as _e,r as ye}from"./index-pAeQZ1-G.js";import{E as ge}from"./index-UP_DcBR1.js";import{d as w,r as h,p as U,W as y,o as c,w as a,L as V,X as z,a as D,Q as $,u as e,j as b,P as ve,aa as be,t as x,k as t,M as Ee,c as F,aA as Te,a4 as Ve,i as N,T as Be,ar as ke}from"./core-DgTHnQpx.js";import{_ as Se}from"./index-Dw83nXmd.js";import{_ as Ce}from"./meSearchForm-Cd_KGyEG.js";import{L as $e,l as he,d as xe,b as O,A as we}from"./add-B1LQO3Xm.js";import"./mock-h91I9qF-.js";import{u as Pe}from"./hooks-Db0yzRKz.js";import{u as Ae}from"./actionModel-BYzJxhKJ.js";import{e as q,E as L}from"./index-yTwIwyY4.js";import{B as Ie}from"./elIcon-DHXrp9ew.js";import{E as Ue}from"./index-BVaSujfL.js";import{E as De}from"./index-BqQg0EVn.js";import{E as Ne,a as ze}from"./index-6UX7B9cc.js";import{E as Le}from"./index-Cu8ks7sa.js";import{E as je}from"./index-Co5Oq1AN.js";import"./pagination-JlVISjBV.js";import"./index-DCjaOx1S.js";import"./index-Fxq-ji8x.js";import"./dropdown-ehv5OB2i.js";import"./index-DjgP1kfQ.js";import"./index-C673HT9H.js";import"./index-BEhH5FRK.js";import"./event-BB_Ol6Sd.js";import"./jquery-D8qrIbGF.js";import"./index-BpGA6qFj.js";import"./index-CdVB_pP8.js";import"./index-COYC1Rw2.js";import"./scroll-C-BcuyVu.js";import"./refs-vhJOtpGo.js";import"./castArray-B4jZf3Od.js";import"./strings-SjbtM2e1.js";import"./index-D32QnYWd.js";const Re=le({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:q,default:"primary"},cancelButtonType:{type:String,values:q,default:"text"},icon:{type:ae,default:()=>Ie},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:M.teleported,persistent:M.persistent,width:{type:[String,Number],default:150}}),Me={confirm:r=>r instanceof MouseEvent,cancel:r=>r instanceof MouseEvent},Oe=w({name:"ElPopconfirm"}),qe=w({...Oe,props:Re,emits:Me,setup(r,{emit:g}){const m=r,{t:B}=se(),i=re("popconfirm"),k=h(),l=()=>{var n,v;(v=(n=k.value)==null?void 0:n.onClose)==null||v.call(n)},P=U(()=>({width:pe(m.width)})),E=n=>{g("confirm",n),l()},S=n=>{g("cancel",n),l()},d=U(()=>m.confirmButtonText||B("el.popconfirm.confirmButtonText")),A=U(()=>m.cancelButtonText||B("el.popconfirm.cancelButtonText"));return(n,v)=>(c(),y(e(de),Ee({ref_key:"tooltipRef",ref:k,trigger:"click",effect:"light"},n.$attrs,{"popper-class":`${e(i).namespace.value}-popover`,"popper-style":e(P),teleported:n.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":n.hideAfter,persistent:n.persistent}),{content:a(()=>[D("div",{class:$(e(i).b())},[D("div",{class:$(e(i).e("main"))},[!n.hideIcon&&n.icon?(c(),y(e(me),{key:0,class:$(e(i).e("icon")),style:ve({color:n.iconColor})},{default:a(()=>[(c(),y(be(n.icon)))]),_:1},8,["class","style"])):z("v-if",!0),b(" "+x(n.title),1)],2),D("div",{class:$(e(i).e("action"))},[V(n.$slots,"actions",{confirm:E,cancel:S},()=>[t(e(L),{size:"small",type:n.cancelButtonType==="text"?"":n.cancelButtonType,text:n.cancelButtonType==="text",onClick:S},{default:a(()=>[b(x(e(A)),1)]),_:1},8,["type","text"]),t(e(L),{size:"small",type:n.confirmButtonType==="text"?"":n.confirmButtonType,text:n.confirmButtonType==="text",onClick:E},{default:a(()=>[b(x(e(d)),1)]),_:1},8,["type","text"])])],2)],2)]),default:a(()=>[n.$slots.reference?V(n.$slots,"reference",{key:0}):z("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var Fe=ie(qe,[["__file","popconfirm.vue"]]);const Ye=ue(Fe),Qe={},He={class:"page page-100 page-padding"};function Je(r,g){const m=ge;return c(),F("div",He,[r.$slots.searchForm?(c(),y(m,{key:0,class:"seach-header"},{default:a(()=>[V(r.$slots,"searchForm",{},void 0,!0)]),_:3})):z("",!0),t(m,{class:"content-body","body-style":"height:100%"},{default:a(()=>[V(r.$slots,"default",{},void 0,!0)]),_:3}),V(r.$slots,"extend",{},void 0,!0)])}const We=ce(Qe,[["render",Je],["__scopeId","data-v-1e1233a6"]]),Xe=w({setup:!0,name:"Demo"}),wt=w({...Xe,__name:"demo",async setup(r){let g,m;const{open:B}=Ae(we),{t:i,loadRes:k}=Pe({},[u=>_e(Object.assign({"./lang/en.json":()=>ye(()=>import("./en-N-8T238L.js"),[])}),`./lang/${u}.json`,3),"demo"]);[g,m]=Te(()=>k),await g,m();const l=Ve(new $e),{loading:P,data:E,runAsync:S}=he(),d=(u=l.page,o=l.size)=>S(Object.assign(l,{page:u,size:o}));d(1);const{runAsync:A,loading:n}=xe(),v=h(),Y=async u=>{v.value=u,await A(u),d(1)},Q=h(!1),I=h(),j=u=>{I.value=fe(u),Q.value=!0,B({data:I.value,onSuccess:()=>d(I.value?l.page:1)})};return(u,o)=>{const H=De,_=Ue,J=ze,W=Ne,C=Le,X=je,G=Ce,f=N("vxe-column"),K=N("mel-icon-edit"),R=L,Z=N("mel-icon-delete"),ee=Ye,te=Se,oe=We;return c(),y(oe,null,{searchForm:a(()=>[t(G,{model:e(l),"default-all":!0,class:"search-form",onSearch:o[7]||(o[7]=s=>d(1))},{default:a(()=>[t(_,{label:e(i)("姓名"),prop:"name"},{default:a(()=>[t(H,{modelValue:e(l).name,"onUpdate:modelValue":o[0]||(o[0]=s=>e(l).name=s)},null,8,["modelValue"])]),_:1},8,["label"]),t(_,{label:e(i)("类型"),prop:"type"},{default:a(()=>[t(W,{modelValue:e(l).type,"onUpdate:modelValue":o[1]||(o[1]=s=>e(l).type=s)},{default:a(()=>[(c(!0),F(Be,null,ke(e(O),(s,T)=>(c(),y(J,{key:T,value:T,label:s},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(_,{label:e(i)("价格"),prop:"priceStart"},{default:a(()=>[t(C,{modelValue:e(l).priceStart,"onUpdate:modelValue":o[2]||(o[2]=s=>e(l).priceStart=s),min:0,precision:2},null,8,["modelValue"]),o[12]||(o[12]=b("   -  ")),t(_,{prop:"priceEnd"},{default:a(()=>[t(C,{modelValue:e(l).priceEnd,"onUpdate:modelValue":o[3]||(o[3]=s=>e(l).priceEnd=s),min:0,precision:2},null,8,["modelValue"])]),_:1})]),_:1},8,["label"]),t(_,{label:e(i)("章节"),prop:"sectionStart"},{default:a(()=>[t(C,{modelValue:e(l).sectionStart,"onUpdate:modelValue":o[4]||(o[4]=s=>e(l).sectionStart=s),min:0,precision:0},null,8,["modelValue"]),o[13]||(o[13]=b("   -  ")),t(_,{prop:"sectionEnd"},{default:a(()=>[t(C,{modelValue:e(l).sectionEnd,"onUpdate:modelValue":o[5]||(o[5]=s=>e(l).sectionEnd=s),min:0,precision:0},null,8,["modelValue"])]),_:1})]),_:1},8,["label"]),t(_,{label:e(i)("创建时间"),prop:"createTime"},{default:a(()=>[t(X,{modelValue:e(l).createTime,"onUpdate:modelValue":o[6]||(o[6]=s=>e(l).createTime=s),type:"daterange","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),default:a(()=>{var s,T;return[t(te,{"quick-search":e(l).name,"onUpdate:quickSearch":o[8]||(o[8]=p=>e(l).name=p),loading:e(P),data:(s=e(E))==null?void 0:s.list,"pagination-options":{currentPage:e(l).page,pageSize:e(l).size,total:((T=e(E))==null?void 0:T.total)??0,layout:"sizes, prev, pager, next, jumper, ->, total",change:d},align:"center",border:"",onRefresh:o[9]||(o[9]=p=>d(1)),onAdd:o[10]||(o[10]=p=>j()),onQuickSearch:o[11]||(o[11]=p=>d(1))},{default:a(()=>[t(f,{field:"id",title:e(i)("ID"),"min-width":"100px"},null,8,["title"]),t(f,{field:"name",title:e(i)("姓名"),"min-width":"100px"},null,8,["title"]),t(f,{field:"bookName",title:e(i)("书名"),"min-width":"150px"},null,8,["title"]),t(f,{field:"type",title:e(i)("类型"),"min-width":"150px"},{default:a(({row:p})=>[b(x(e(O)[p.type]),1)]),_:1},8,["title"]),t(f,{field:"price",title:e(i)("价格"),"min-width":"100px"},null,8,["title"]),t(f,{field:"section",title:e(i)("章节"),"min-width":"100px"},null,8,["title"]),t(f,{field:"createTime",title:e(i)("创建时间"),"min-width":"150px"},null,8,["title"]),t(f,{title:e(i)("操作"),fixed:"right","min-width":"150px"},{default:a(({row:p})=>[t(R,{onClick:ne=>j(p)},{default:a(()=>[t(K)]),_:2},1032,["onClick"]),t(ee,{title:e(i)("确认删除？"),placement:"left",onConfirm:ne=>Y(p.id)},{reference:a(()=>[(c(),y(R,{key:p.id,loading:e(n)&&e(v)===p.id,type:"danger"},{default:a(()=>[t(Z)]),_:2},1032,["loading"]))]),_:2},1032,["title","onConfirm"])]),_:1},8,["title"])]),_:1},8,["quick-search","loading","data","pagination-options"])]}),_:1})}}});export{wt as default};
