import{aO as a,a9 as k,aP as F,q as R,r as U,_ as z}from"./index-pAeQZ1-G.js";import{_ as D}from"./index-BpGA6qFj.js";import{E as H}from"./index-yTwIwyY4.js";import{d as E,r as y,aD as W,W as A,o as V,M as G,u as e,as as J,ar as j,l as K,w as u,L as Q,az as X,aN as Y,aO as I,aA as Z,aP as ee,C as te,k as i,c as oe,T as ae,j as x,t as O}from"./core-DgTHnQpx.js";import"./mock-h91I9qF-.js";import{u as le}from"./hooks-Db0yzRKz.js";import{a as se,E as ne}from"./index-BVaSujfL.js";import{E as re}from"./index-BqQg0EVn.js";import{E as ie,a as ue}from"./index-6UX7B9cc.js";import{E as de}from"./index-Cu8ks7sa.js";class me{constructor(){a(this,"page",1),a(this,"size",10)}}class T{constructor(){a(this,"id",void 0),a(this,"name",""),a(this,"type","1"),a(this,"bookName",""),a(this,"price",0),a(this,"section",0),a(this,"createTime",void 0)}}class Ie extends me{constructor(...n){super(...n),a(this,"name",""),a(this,"type",void 0),a(this,"bookName",""),a(this,"priceStart",void 0),a(this,"priceEnd",void 0),a(this,"sectionStart",void 0),a(this,"sectionEnd",void 0),a(this,"createTime",void 0)}}function xe(l={noLoading:!0}){return k(n=>({url:"demo",method:"get",params:n}),l)}function pe(l=!0){return k(n=>({url:"demo",method:"post",data:n}),{noLoading:l})}function ce(l=!0){return k((n,d)=>({url:"demo/{id}".replace("{id}",String(n)),method:"put",data:d}),{noLoading:l})}function Oe(l=!0){return k(n=>({url:"demo/{id}".replace("{id}",String(n)),method:"delete"}),{noLoading:l})}const _e={1:"纸质",2:"电脑",3:"手机",4:"电纸书"},fe=E({setup:!0,name:"MeButton"}),ge=E({...fe,inheritAttrs:!1,__name:"meButton",setup(l,{expose:n}){const d=y(!1),p=W();async function t(m){var c;d.value=!0;try{await((c=p.onClick)==null?void 0:c.call(p,m))}finally{d.value=!1}}const b=K();function o(m){b&&(b.exposed=m)}return n({}),(m,c)=>{const h=H;return V(),A(h,G(e(F)(e(p),"onClick","loading"),{ref:o,loading:e(d),onClick:t}),J({_:2},[j(m.$slots,(P,_)=>({name:_,fn:u(g=>[Q(m.$slots,_,X(Y(g||{})))])}))]),1040,["loading"])}}}),ve=E({setup:!0,name:"Add"}),be=E({...ve,__name:"add",props:I({data:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:I(["success"],["update:modelValue"]),async setup(l,{emit:n}){let d,p;const{t,loadRes:b}=le({},[f=>R(Object.assign({"../lang/en.json":()=>U(()=>import("./en-N-8T238L.js"),[])}),`../lang/${f}.json`,3),"demo"]);[d,p]=Z(()=>b),await d,p();const o=y(new T),m=l,c=ee(l,"modelValue"),h=n;te(()=>m.data,f=>{o.value=f??new T},{immediate:!0});const P={name:{required:!0,message:t("请填写")+t("姓名"),trigger:"blur"},bookName:{required:!0,message:t("请填写")+t("书名"),trigger:"blur"},type:{required:!0,message:t("请选择")+t("类型"),trigger:"blur"},price:{required:!0,message:t("请填写")+t("价格"),trigger:"blur"},section:{required:!0,message:t("请填写")+t("章节"),trigger:"blur"}},_=y(),g=y(!1),q=async()=>{g.value=!0;try{await _.value.validate()}catch(f){return g.value=!1,_.value.scrollToField(Object.keys(f)[0])}o.value.id?await ce().runAsync(o.value.id,o.value):await pe().runAsync(o.value),h("success"),g.value=!1,c.value=!1};return(f,s)=>{const w=re,v=ne,B=ue,L=ie,C=de,$=se,N=ge,M=D;return V(),A(M,{title:e(t)(e(o).id?"编辑":"新增"),"model-value":c.value,"close-on-click-modal":!1,class:"add-dialog"},{footer:u(()=>[i(N,{type:"primary",onClick:s[5]||(s[5]=r=>q())},{default:u(()=>[x(O(e(t)("提交")),1)]),_:1}),i(N,{onClick:s[6]||(s[6]=r=>c.value=!1)},{default:u(()=>[x(O(e(t)("取消")),1)]),_:1})]),default:u(()=>[i($,{ref_key:"formEl",ref:_,model:e(o),rules:P,class:"add"},{default:u(()=>[i(v,{label:e(t)("姓名"),prop:"name"},{default:u(()=>[i(w,{modelValue:e(o).name,"onUpdate:modelValue":s[0]||(s[0]=r=>e(o).name=r)},null,8,["modelValue"])]),_:1},8,["label"]),i(v,{label:e(t)("书名"),prop:"bookName"},{default:u(()=>[i(w,{modelValue:e(o).bookName,"onUpdate:modelValue":s[1]||(s[1]=r=>e(o).bookName=r)},null,8,["modelValue"])]),_:1},8,["label"]),i(v,{label:e(t)("类型"),prop:"type"},{default:u(()=>[i(L,{modelValue:e(o).type,"onUpdate:modelValue":s[2]||(s[2]=r=>e(o).type=r)},{default:u(()=>[(V(!0),oe(ae,null,j(e(_e),(r,S)=>(V(),A(B,{key:S,value:S,label:r},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),i(v,{label:e(t)("价格"),prop:"price"},{default:u(()=>[i(C,{modelValue:e(o).price,"onUpdate:modelValue":s[3]||(s[3]=r=>e(o).price=r),min:0,precision:2},null,8,["modelValue"])]),_:1},8,["label"]),i(v,{label:e(t)("章节"),prop:"section"},{default:u(()=>[i(C,{modelValue:e(o).section,"onUpdate:modelValue":s[4]||(s[4]=r=>e(o).section=r),min:0,precision:0},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["title","model-value"])}}}),ye=z(be,[["__scopeId","data-v-098637d0"]]),Te=Object.freeze(Object.defineProperty({__proto__:null,default:ye},Symbol.toStringTag,{value:"Module"}));export{ye as A,Ie as L,Te as a,_e as b,Oe as d,xe as l};
