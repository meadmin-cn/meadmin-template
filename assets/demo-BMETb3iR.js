import{e as ce,ab as z,aj as fe,g as _e,h as ge,j as ye,aJ as ve,n as be,T as Ee,w as Te,_ as Ve,a as Be,ap as ke,r as F,s as M}from"./index-gAuTWnPj.js";import{E as Se}from"./index-D2q9NvWK.js";import{d as h,r as P,p as D,W as g,o as u,w as a,L as B,X as L,a as A,Q as x,u as e,j as b,P as $e,aa as Ce,t as w,k as o,M as xe,c as q,a4 as Pe,i as E,F as we,T as Ie,as as he}from"./core-C4-oPvXL.js";import{_ as Y}from"./index-DPlHoWsj.js";import{_ as Q}from"./meSearchForm-dJsk6txP.js";import{L as Ue,l as je,d as De,b as O,a as H}from"./add-V0zQx1tq.js";import"./mock-DBzxB1z9.js";import{e as R,E as I}from"./index-DEe-wAkk.js";import{B as Ae}from"./elIcon-CvLeSQbC.js";import{E as J}from"./index-hqSl7NKM.js";import{E as W}from"./index-CXi-HPtR.js";import{E as X,a as G}from"./index-BK-tAmL-.js";import{E as K}from"./index-BUHB6SMc.js";import{E as Z}from"./index-C7RhAm97.js";import"./pagination-BmVlXqXF.js";import"./index-BZ4rUAOC.js";import"./index-QECcLlNb.js";import"./dropdown-Dxc3fwJq.js";import"./index-CSbSf2hP.js";import"./index-YdNnni6d.js";import"./index-DlNmoOEa.js";import"./event-BB_Ol6Sd.js";import"./jquery-B0sf-q38.js";import"./index-mENWpJ4g.js";import"./index-BRJ7oqSm.js";import"./index-CMAgUPwQ.js";import"./scroll-CkTYXBUz.js";import"./refs-BScKkwek.js";import"./castArray-DUEINfxs.js";import"./strings-wN4GZIAz.js";import"./index-Cyirvej5.js";const Le=ce({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:R,default:"primary"},cancelButtonType:{type:String,values:R,default:"text"},icon:{type:fe,default:()=>Ae},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:z.teleported,persistent:z.persistent,width:{type:[String,Number],default:150}}),Ne={confirm:p=>p instanceof MouseEvent,cancel:p=>p instanceof MouseEvent},ze=h({name:"ElPopconfirm"}),Oe=h({...ze,props:Le,emits:Ne,setup(p,{emit:s}){const n=p,{t:k}=ge(),c=ye("popconfirm"),S=P(),m=()=>{var l,v;(v=(l=S.value)==null?void 0:l.onClose)==null||v.call(l)},U=D(()=>({width:ve(n.width)})),$=l=>{s("confirm",l),m()},T=l=>{s("cancel",l),m()},j=D(()=>n.confirmButtonText||k("el.popconfirm.confirmButtonText")),y=D(()=>n.cancelButtonText||k("el.popconfirm.cancelButtonText"));return(l,v)=>(u(),g(e(Ee),xe({ref_key:"tooltipRef",ref:S,trigger:"click",effect:"light"},l.$attrs,{"popper-class":`${e(c).namespace.value}-popover`,"popper-style":e(U),teleported:l.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":l.hideAfter,persistent:l.persistent}),{content:a(()=>[A("div",{class:x(e(c).b())},[A("div",{class:x(e(c).e("main"))},[!l.hideIcon&&l.icon?(u(),g(e(be),{key:0,class:x(e(c).e("icon")),style:$e({color:l.iconColor})},{default:a(()=>[(u(),g(Ce(l.icon)))]),_:1},8,["class","style"])):L("v-if",!0),b(" "+w(l.title),1)],2),A("div",{class:x(e(c).e("action"))},[B(l.$slots,"actions",{confirm:$,cancel:T},()=>[o(e(I),{size:"small",type:l.cancelButtonType==="text"?"":l.cancelButtonType,text:l.cancelButtonType==="text",onClick:T},{default:a(()=>[b(w(e(y)),1)]),_:1},8,["type","text"]),o(e(I),{size:"small",type:l.confirmButtonType==="text"?"":l.confirmButtonType,text:l.confirmButtonType==="text",onClick:$},{default:a(()=>[b(w(e(j)),1)]),_:1},8,["type","text"])])],2)],2)]),default:a(()=>[l.$slots.reference?B(l.$slots,"reference",{key:0}):L("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var Re=_e(Oe,[["__file","popconfirm.vue"]]);const ee=Te(Re),Fe={},Me={class:"page page-100 page-padding"};function qe(p,s){const n=Se;return u(),q("div",Me,[p.$slots.searchForm?(u(),g(n,{key:0,class:"seach-header"},{default:a(()=>[B(p.$slots,"searchForm",{},void 0,!0)]),_:3})):L("",!0),o(n,{class:"content-body","body-style":"height:100%"},{default:a(()=>[B(p.$slots,"default",{},void 0,!0)]),_:3}),B(p.$slots,"extend",{},void 0,!0)])}const te=Ve(Fe,[["render",qe],["__scopeId","data-v-1e1233a6"]]),Ye=h({setup:!0,name:"Demo",langImport:[p=>F(Object.assign({"./lang/en.json":()=>M(()=>import("./en-N-8T238L.js"),[])}),`./lang/${p}.json`,3),"demo"],getComponents:()=>[W,J,G,X,K,Z,Q,E("vxe-column"),E("mel-icon-edit"),I,E("mel-icon-delete"),ee,Y,H,te]}),Bt=h({...Ye,__name:"demo",setup(p){let{t:s}=Be({},[d=>F(Object.assign({"./lang/en.json":()=>M(()=>import("./en-N-8T238L.js"),[])}),`./lang/${d}.json`,3),"demo"]);const n=Pe(new Ue),{loading:k,data:c,runAsync:S}=je(),m=(d=n.page,t=n.size)=>S(Object.assign(n,{page:d,size:t}));m(1);const{runAsync:U,loading:$}=De(),T=P(),j=async d=>{T.value=d,await U(d),m(1)},y=P(!1),l=P(),v=d=>{l.value=ke(d),y.value=!0};return(d,t)=>{const oe=W,_=J,ne=G,le=X,C=K,ae=Z,ie=Q,f=E("vxe-column"),se=E("mel-icon-edit"),N=I,re=E("mel-icon-delete"),pe=ee,me=Y,de=te;return u(),g(de,null,{searchForm:a(()=>[o(ie,{model:e(n),"default-all":!0,class:"search-form",onSearch:t[7]||(t[7]=i=>m(1))},{default:a(()=>[o(_,{label:e(s)("姓名"),prop:"name"},{default:a(()=>[o(oe,{modelValue:e(n).name,"onUpdate:modelValue":t[0]||(t[0]=i=>e(n).name=i)},null,8,["modelValue"])]),_:1},8,["label"]),o(_,{label:e(s)("类型"),prop:"type"},{default:a(()=>[o(le,{modelValue:e(n).type,"onUpdate:modelValue":t[1]||(t[1]=i=>e(n).type=i)},{default:a(()=>[(u(!0),q(Ie,null,he(e(O),(i,V)=>(u(),g(ne,{key:V,value:V,label:i},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),o(_,{label:e(s)("价格"),prop:"priceStart"},{default:a(()=>[o(C,{modelValue:e(n).priceStart,"onUpdate:modelValue":t[2]||(t[2]=i=>e(n).priceStart=i),min:0,precision:2},null,8,["modelValue"]),t[14]||(t[14]=b("   -  ")),o(_,{prop:"priceEnd"},{default:a(()=>[o(C,{modelValue:e(n).priceEnd,"onUpdate:modelValue":t[3]||(t[3]=i=>e(n).priceEnd=i),min:0,precision:2},null,8,["modelValue"])]),_:1})]),_:1},8,["label"]),o(_,{label:e(s)("章节"),prop:"sectionStart"},{default:a(()=>[o(C,{modelValue:e(n).sectionStart,"onUpdate:modelValue":t[4]||(t[4]=i=>e(n).sectionStart=i),min:0,precision:0},null,8,["modelValue"]),t[15]||(t[15]=b("   -  ")),o(_,{prop:"sectionEnd"},{default:a(()=>[o(C,{modelValue:e(n).sectionEnd,"onUpdate:modelValue":t[5]||(t[5]=i=>e(n).sectionEnd=i),min:0,precision:0},null,8,["modelValue"])]),_:1})]),_:1},8,["label"]),o(_,{label:e(s)("创建时间"),prop:"createTime"},{default:a(()=>[o(ae,{modelValue:e(n).createTime,"onUpdate:modelValue":t[6]||(t[6]=i=>e(n).createTime=i),type:"daterange","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),default:a(()=>{var i,V;return[o(me,{"quick-search":e(n).name,"onUpdate:quickSearch":t[8]||(t[8]=r=>e(n).name=r),loading:e(k),data:(i=e(c))==null?void 0:i.list,"pagination-options":{currentPage:e(n).page,pageSize:e(n).size,total:((V=e(c))==null?void 0:V.total)??0,layout:"sizes, prev, pager, next, jumper, ->, total",change:m},align:"center",border:"",onRefresh:t[9]||(t[9]=r=>m(1)),onAdd:t[10]||(t[10]=r=>v()),onQuickSearch:t[11]||(t[11]=r=>m(1))},{default:a(()=>[o(f,{field:"id",title:e(s)("ID"),"min-width":"100px"},null,8,["title"]),o(f,{field:"name",title:e(s)("姓名"),"min-width":"100px"},null,8,["title"]),o(f,{field:"bookName",title:e(s)("书名"),"min-width":"150px"},null,8,["title"]),o(f,{field:"type",title:e(s)("类型"),"min-width":"150px"},{default:a(({row:r})=>[b(w(e(O)[r.type]),1)]),_:1},8,["title"]),o(f,{field:"price",title:e(s)("价格"),"min-width":"100px"},null,8,["title"]),o(f,{field:"section",title:e(s)("章节"),"min-width":"100px"},null,8,["title"]),o(f,{field:"createTime",title:e(s)("创建时间"),"min-width":"150px"},null,8,["title"]),o(f,{title:e(s)("操作"),fixed:"right","min-width":"150px"},{default:a(({row:r})=>[o(N,{onClick:ue=>v(r)},{default:a(()=>[o(se)]),_:2},1032,["onClick"]),o(pe,{title:e(s)("确认删除？"),placement:"left",onConfirm:ue=>j(r.id)},{reference:a(()=>[(u(),g(N,{key:r.id,loading:e($)&&e(T)===r.id,type:"danger"},{default:a(()=>[o(re)]),_:2},1032,["loading"]))]),_:2},1032,["title","onConfirm"])]),_:1},8,["title"])]),_:1},8,["quick-search","loading","data","pagination-options"]),o(H,{modelValue:e(y),"onUpdate:modelValue":t[12]||(t[12]=r=>we(y)?y.value=r:null),data:e(l),onSuccess:t[13]||(t[13]=r=>m(e(l)?e(n).page:1))},null,8,["modelValue","data"])]}),_:1})}}});export{Bt as default};
